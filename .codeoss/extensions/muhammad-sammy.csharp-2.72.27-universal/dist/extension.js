"use strict";var s8e=Object.create;var i2=Object.defineProperty;var a8e=Object.getOwnPropertyDescriptor;var c8e=Object.getOwnPropertyNames;var u8e=Object.getPrototypeOf,l8e=Object.prototype.hasOwnProperty;var Ti=(r,e)=>()=>(r&&(e=r(r=0)),e);var C=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Qk=(r,e)=>{for(var t in e)i2(r,t,{get:e[t],enumerable:!0})},Bme=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of c8e(e))!l8e.call(r,i)&&i!==t&&i2(r,i,{get:()=>e[i],enumerable:!(n=a8e(e,i))||n.enumerable});return r};var ye=(r,e,t)=>(t=r!=null?s8e(u8e(r)):{},Bme(e||!r||!r.__esModule?i2(t,"default",{value:r,enumerable:!0}):t,r)),GC=r=>Bme(i2({},"__esModule",{value:!0}),r);var r1=C((A$t,Zme)=>{var d8e="2.0.0",f8e=Number.MAX_SAFE_INTEGER||9007199254740991,h8e=16,p8e=250,m8e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Zme.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:h8e,MAX_SAFE_BUILD_LENGTH:p8e,MAX_SAFE_INTEGER:f8e,RELEASE_TYPES:m8e,SEMVER_SPEC_VERSION:d8e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var n1=C((L$t,ege)=>{var g8e=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};ege.exports=g8e});var DR=C((Hw,tge)=>{var{MAX_SAFE_COMPONENT_LENGTH:u8,MAX_SAFE_BUILD_LENGTH:v8e,MAX_LENGTH:y8e}=r1(),_8e=n1();Hw=tge.exports={};var b8e=Hw.re=[],w8e=Hw.safeRe=[],pn=Hw.src=[],mn=Hw.t={},S8e=0,l8="[a-zA-Z0-9-]",C8e=[["\\s",1],["\\d",y8e],[l8,v8e]],T8e=r=>{for(let[e,t]of C8e)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},Zi=(r,e,t)=>{let n=T8e(e),i=S8e++;_8e(r,i,e),mn[r]=i,pn[i]=e,b8e[i]=new RegExp(e,t?"g":void 0),w8e[i]=new RegExp(n,t?"g":void 0)};Zi("NUMERICIDENTIFIER","0|[1-9]\\d*");Zi("NUMERICIDENTIFIERLOOSE","\\d+");Zi("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${l8}*`);Zi("MAINVERSION",`(${pn[mn.NUMERICIDENTIFIER]})\\.(${pn[mn.NUMERICIDENTIFIER]})\\.(${pn[mn.NUMERICIDENTIFIER]})`);Zi("MAINVERSIONLOOSE",`(${pn[mn.NUMERICIDENTIFIERLOOSE]})\\.(${pn[mn.NUMERICIDENTIFIERLOOSE]})\\.(${pn[mn.NUMERICIDENTIFIERLOOSE]})`);Zi("PRERELEASEIDENTIFIER",`(?:${pn[mn.NUMERICIDENTIFIER]}|${pn[mn.NONNUMERICIDENTIFIER]})`);Zi("PRERELEASEIDENTIFIERLOOSE",`(?:${pn[mn.NUMERICIDENTIFIERLOOSE]}|${pn[mn.NONNUMERICIDENTIFIER]})`);Zi("PRERELEASE",`(?:-(${pn[mn.PRERELEASEIDENTIFIER]}(?:\\.${pn[mn.PRERELEASEIDENTIFIER]})*))`);Zi("PRERELEASELOOSE",`(?:-?(${pn[mn.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${pn[mn.PRERELEASEIDENTIFIERLOOSE]})*))`);Zi("BUILDIDENTIFIER",`${l8}+`);Zi("BUILD",`(?:\\+(${pn[mn.BUILDIDENTIFIER]}(?:\\.${pn[mn.BUILDIDENTIFIER]})*))`);Zi("FULLPLAIN",`v?${pn[mn.MAINVERSION]}${pn[mn.PRERELEASE]}?${pn[mn.BUILD]}?`);Zi("FULL",`^${pn[mn.FULLPLAIN]}$`);Zi("LOOSEPLAIN",`[v=\\s]*${pn[mn.MAINVERSIONLOOSE]}${pn[mn.PRERELEASELOOSE]}?${pn[mn.BUILD]}?`);Zi("LOOSE",`^${pn[mn.LOOSEPLAIN]}$`);Zi("GTLT","((?:<|>)?=?)");Zi("XRANGEIDENTIFIERLOOSE",`${pn[mn.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Zi("XRANGEIDENTIFIER",`${pn[mn.NUMERICIDENTIFIER]}|x|X|\\*`);Zi("XRANGEPLAIN",`[v=\\s]*(${pn[mn.XRANGEIDENTIFIER]})(?:\\.(${pn[mn.XRANGEIDENTIFIER]})(?:\\.(${pn[mn.XRANGEIDENTIFIER]})(?:${pn[mn.PRERELEASE]})?${pn[mn.BUILD]}?)?)?`);Zi("XRANGEPLAINLOOSE",`[v=\\s]*(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:${pn[mn.PRERELEASELOOSE]})?${pn[mn.BUILD]}?)?)?`);Zi("XRANGE",`^${pn[mn.GTLT]}\\s*${pn[mn.XRANGEPLAIN]}$`);Zi("XRANGELOOSE",`^${pn[mn.GTLT]}\\s*${pn[mn.XRANGEPLAINLOOSE]}$`);Zi("COERCE",`(^|[^\\d])(\\d{1,${u8}})(?:\\.(\\d{1,${u8}}))?(?:\\.(\\d{1,${u8}}))?(?:$|[^\\d])`);Zi("COERCERTL",pn[mn.COERCE],!0);Zi("LONETILDE","(?:~>?)");Zi("TILDETRIM",`(\\s*)${pn[mn.LONETILDE]}\\s+`,!0);Hw.tildeTrimReplace="$1~";Zi("TILDE",`^${pn[mn.LONETILDE]}${pn[mn.XRANGEPLAIN]}$`);Zi("TILDELOOSE",`^${pn[mn.LONETILDE]}${pn[mn.XRANGEPLAINLOOSE]}$`);Zi("LONECARET","(?:\\^)");Zi("CARETTRIM",`(\\s*)${pn[mn.LONECARET]}\\s+`,!0);Hw.caretTrimReplace="$1^";Zi("CARET",`^${pn[mn.LONECARET]}${pn[mn.XRANGEPLAIN]}$`);Zi("CARETLOOSE",`^${pn[mn.LONECARET]}${pn[mn.XRANGEPLAINLOOSE]}$`);Zi("COMPARATORLOOSE",`^${pn[mn.GTLT]}\\s*(${pn[mn.LOOSEPLAIN]})$|^$`);Zi("COMPARATOR",`^${pn[mn.GTLT]}\\s*(${pn[mn.FULLPLAIN]})$|^$`);Zi("COMPARATORTRIM",`(\\s*)${pn[mn.GTLT]}\\s*(${pn[mn.LOOSEPLAIN]}|${pn[mn.XRANGEPLAIN]})`,!0);Hw.comparatorTrimReplace="$1$2$3";Zi("HYPHENRANGE",`^\\s*(${pn[mn.XRANGEPLAIN]})\\s+-\\s+(${pn[mn.XRANGEPLAIN]})\\s*$`);Zi("HYPHENRANGELOOSE",`^\\s*(${pn[mn.XRANGEPLAINLOOSE]})\\s+-\\s+(${pn[mn.XRANGEPLAINLOOSE]})\\s*$`);Zi("STAR","(<|>)?=?\\s*\\*");Zi("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Zi("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var s2=C((N$t,rge)=>{var D8e=Object.freeze({loose:!0}),E8e=Object.freeze({}),R8e=r=>r?typeof r!="object"?D8e:r:E8e;rge.exports=R8e});var d8=C((M$t,oge)=>{var nge=/^[0-9]+$/,ige=(r,e)=>{let t=nge.test(r),n=nge.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},P8e=(r,e)=>ige(e,r);oge.exports={compareIdentifiers:ige,rcompareIdentifiers:P8e}});var Kf=C((F$t,uge)=>{var a2=n1(),{MAX_LENGTH:sge,MAX_SAFE_INTEGER:c2}=r1(),{safeRe:age,t:cge}=DR(),x8e=s2(),{compareIdentifiers:ER}=d8(),f8=class r{constructor(e,t){if(t=x8e(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>sge)throw new TypeError(`version is longer than ${sge} characters`);a2("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?age[cge.LOOSE]:age[cge.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>c2||this.major<0)throw new TypeError("Invalid major version");if(this.minor>c2||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>c2||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<c2)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(a2("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),ER(this.major,e.major)||ER(this.minor,e.minor)||ER(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(a2("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return ER(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(a2("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return ER(n,i)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),ER(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};uge.exports=f8});var XC=C((q$t,dge)=>{var lge=Kf(),O8e=(r,e,t=!1)=>{if(r instanceof lge)return r;try{return new lge(r,e)}catch(n){if(!t)return null;throw n}};dge.exports=O8e});var hge=C((j$t,fge)=>{var I8e=XC(),k8e=(r,e)=>{let t=I8e(r,e);return t?t.version:null};fge.exports=k8e});var mge=C((z$t,pge)=>{var A8e=XC(),L8e=(r,e)=>{let t=A8e(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};pge.exports=L8e});var yge=C((U$t,vge)=>{var gge=Kf(),N8e=(r,e,t,n,i)=>{typeof t=="string"&&(i=n,n=t,t=void 0);try{return new gge(r instanceof gge?r.version:r,t).inc(e,n,i).version}catch{return null}};vge.exports=N8e});var wge=C((H$t,bge)=>{var _ge=XC(),M8e=(r,e)=>{let t=_ge(r,null,!0),n=_ge(e,null,!0),i=t.compare(n);if(i===0)return null;let o=i>0,s=o?t:n,a=o?n:t,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let l=c?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":"prerelease"};bge.exports=M8e});var Cge=C((B$t,Sge)=>{var F8e=Kf(),q8e=(r,e)=>new F8e(r,e).major;Sge.exports=q8e});var Dge=C((W$t,Tge)=>{var j8e=Kf(),z8e=(r,e)=>new j8e(r,e).minor;Tge.exports=z8e});var Rge=C(($$t,Ege)=>{var U8e=Kf(),H8e=(r,e)=>new U8e(r,e).patch;Ege.exports=H8e});var xge=C((V$t,Pge)=>{var B8e=XC(),W8e=(r,e)=>{let t=B8e(r,e);return t&&t.prerelease.length?t.prerelease:null};Pge.exports=W8e});var Rv=C((G$t,Ige)=>{var Oge=Kf(),$8e=(r,e,t)=>new Oge(r,t).compare(new Oge(e,t));Ige.exports=$8e});var Age=C((K$t,kge)=>{var V8e=Rv(),G8e=(r,e,t)=>V8e(e,r,t);kge.exports=G8e});var Nge=C((Y$t,Lge)=>{var K8e=Rv(),Y8e=(r,e)=>K8e(r,e,!0);Lge.exports=Y8e});var u2=C((J$t,Fge)=>{var Mge=Kf(),J8e=(r,e,t)=>{let n=new Mge(r,t),i=new Mge(e,t);return n.compare(i)||n.compareBuild(i)};Fge.exports=J8e});var jge=C((X$t,qge)=>{var X8e=u2(),Q8e=(r,e)=>r.sort((t,n)=>X8e(t,n,e));qge.exports=Q8e});var Uge=C((Q$t,zge)=>{var Z8e=u2(),eKe=(r,e)=>r.sort((t,n)=>Z8e(n,t,e));zge.exports=eKe});var i1=C((Z$t,Hge)=>{var tKe=Rv(),rKe=(r,e,t)=>tKe(r,e,t)>0;Hge.exports=rKe});var l2=C((e3t,Bge)=>{var nKe=Rv(),iKe=(r,e,t)=>nKe(r,e,t)<0;Bge.exports=iKe});var h8=C((t3t,Wge)=>{var oKe=Rv(),sKe=(r,e,t)=>oKe(r,e,t)===0;Wge.exports=sKe});var p8=C((r3t,$ge)=>{var aKe=Rv(),cKe=(r,e,t)=>aKe(r,e,t)!==0;$ge.exports=cKe});var d2=C((n3t,Vge)=>{var uKe=Rv(),lKe=(r,e,t)=>uKe(r,e,t)>=0;Vge.exports=lKe});var f2=C((i3t,Gge)=>{var dKe=Rv(),fKe=(r,e,t)=>dKe(r,e,t)<=0;Gge.exports=fKe});var m8=C((o3t,Kge)=>{var hKe=h8(),pKe=p8(),mKe=i1(),gKe=d2(),vKe=l2(),yKe=f2(),_Ke=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return hKe(r,t,n);case"!=":return pKe(r,t,n);case">":return mKe(r,t,n);case">=":return gKe(r,t,n);case"<":return vKe(r,t,n);case"<=":return yKe(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Kge.exports=_Ke});var Jge=C((s3t,Yge)=>{var bKe=Kf(),wKe=XC(),{safeRe:h2,t:p2}=DR(),SKe=(r,e)=>{if(r instanceof bKe)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(h2[p2.COERCE]);else{let n;for(;(n=h2[p2.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),h2[p2.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;h2[p2.COERCERTL].lastIndex=-1}return t===null?null:wKe(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};Yge.exports=SKe});var Qge=C((a3t,Xge)=>{"use strict";Xge.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var m2=C((c3t,Zge)=>{"use strict";Zge.exports=cs;cs.Node=l0;cs.create=cs;function cs(r){var e=this;if(e instanceof cs||(e=new cs),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}cs.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};cs.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};cs.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};cs.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)TKe(this,arguments[r]);return this.length};cs.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)DKe(this,arguments[r]);return this.length};cs.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};cs.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};cs.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};cs.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};cs.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};cs.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};cs.prototype.map=function(r,e){e=e||this;for(var t=new cs,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};cs.prototype.mapReverse=function(r,e){e=e||this;for(var t=new cs,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};cs.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)t=r(t,n.value,i),n=n.next;return t};cs.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)t=r(t,n.value,i),n=n.prev;return t};cs.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};cs.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};cs.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new cs;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)t.push(i.value);return t};cs.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new cs;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>r;n--,i=i.prev)t.push(i.value);return t};cs.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<t.length;n++)i=CKe(this,i,t[n]);return o};cs.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function CKe(r,e,t){var n=e===r.head?new l0(t,null,e,r):new l0(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function TKe(r,e){r.tail=new l0(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function DKe(r,e){r.head=new l0(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function l0(r,e,t,n){if(!(this instanceof l0))return new l0(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Qge()(cs)}catch{}});var ive=C((u3t,nve)=>{"use strict";var EKe=m2(),d0=Symbol("max"),Ww=Symbol("length"),RR=Symbol("lengthCalculator"),s1=Symbol("allowStale"),f0=Symbol("maxAge"),Bw=Symbol("dispose"),eve=Symbol("noDisposeOnSet"),hd=Symbol("lruList"),zy=Symbol("cache"),rve=Symbol("updateAgeOnGet"),g8=()=>1,y8=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[d0]=e.max||1/0,n=e.length||g8;if(this[RR]=typeof n!="function"?g8:n,this[s1]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[f0]=e.maxAge||0,this[Bw]=e.dispose,this[eve]=e.noDisposeOnSet||!1,this[rve]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[d0]=e||1/0,o1(this)}get max(){return this[d0]}set allowStale(e){this[s1]=!!e}get allowStale(){return this[s1]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[f0]=e,o1(this)}get maxAge(){return this[f0]}set lengthCalculator(e){typeof e!="function"&&(e=g8),e!==this[RR]&&(this[RR]=e,this[Ww]=0,this[hd].forEach(t=>{t.length=this[RR](t.value,t.key),this[Ww]+=t.length})),o1(this)}get lengthCalculator(){return this[RR]}get length(){return this[Ww]}get itemCount(){return this[hd].length}rforEach(e,t){t=t||this;for(let n=this[hd].tail;n!==null;){let i=n.prev;tve(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[hd].head;n!==null;){let i=n.next;tve(this,e,n,t),n=i}}keys(){return this[hd].toArray().map(e=>e.key)}values(){return this[hd].toArray().map(e=>e.value)}reset(){this[Bw]&&this[hd]&&this[hd].length&&this[hd].forEach(e=>this[Bw](e.key,e.value)),this[zy]=new Map,this[hd]=new EKe,this[Ww]=0}dump(){return this[hd].map(e=>g2(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[hd]}set(e,t,n){if(n=n||this[f0],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[RR](t,e);if(this[zy].has(e)){if(o>this[d0])return PR(this,this[zy].get(e)),!1;let c=this[zy].get(e).value;return this[Bw]&&(this[eve]||this[Bw](e,c.value)),c.now=i,c.maxAge=n,c.value=t,this[Ww]+=o-c.length,c.length=o,this.get(e),o1(this),!0}let s=new _8(e,t,o,i,n);return s.length>this[d0]?(this[Bw]&&this[Bw](e,t),!1):(this[Ww]+=s.length,this[hd].unshift(s),this[zy].set(e,this[hd].head),o1(this),!0)}has(e){if(!this[zy].has(e))return!1;let t=this[zy].get(e).value;return!g2(this,t)}get(e){return v8(this,e,!0)}peek(e){return v8(this,e,!1)}pop(){let e=this[hd].tail;return e?(PR(this,e),e.value):null}del(e){PR(this,this[zy].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-t;s>0&&this.set(i.k,i.v,s)}}}prune(){this[zy].forEach((e,t)=>v8(this,t,!1))}},v8=(r,e,t)=>{let n=r[zy].get(e);if(n){let i=n.value;if(g2(r,i)){if(PR(r,n),!r[s1])return}else t&&(r[rve]&&(n.value.now=Date.now()),r[hd].unshiftNode(n));return i.value}},g2=(r,e)=>{if(!e||!e.maxAge&&!r[f0])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[f0]&&t>r[f0]},o1=r=>{if(r[Ww]>r[d0])for(let e=r[hd].tail;r[Ww]>r[d0]&&e!==null;){let t=e.prev;PR(r,e),e=t}},PR=(r,e)=>{if(e){let t=e.value;r[Bw]&&r[Bw](t.key,t.value),r[Ww]-=t.length,r[zy].delete(t.key),r[hd].removeNode(e)}},_8=class{constructor(e,t,n,i,o){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=o||0}},tve=(r,e,t,n)=>{let i=t.value;g2(r,i)&&(PR(r,t),r[s1]||(i=void 0)),i&&e.call(n,i.value,i.key,r)};nve.exports=y8});var Pv=C((l3t,cve)=>{var b8=class r{constructor(e,t){if(t=PKe(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof w8)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!sve(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&NKe(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&AKe)|(this.options.loose&&LKe))+":"+e,i=ove.get(n);if(i)return i;let o=this.options.loose,s=o?om[rp.HYPHENRANGELOOSE]:om[rp.HYPHENRANGE];e=e.replace(s,$Ke(this.options.includePrerelease)),za("hyphen replace",e),e=e.replace(om[rp.COMPARATORTRIM],OKe),za("comparator trim",e),e=e.replace(om[rp.TILDETRIM],IKe),za("tilde trim",e),e=e.replace(om[rp.CARETTRIM],kKe),za("caret trim",e);let a=e.split(" ").map(d=>MKe(d,this.options)).join(" ").split(/\s+/).map(d=>WKe(d,this.options));o&&(a=a.filter(d=>(za("loose invalid filter",d,this.options),!!d.match(om[rp.COMPARATORLOOSE])))),za("range list",a);let c=new Map,u=a.map(d=>new w8(d,this.options));for(let d of u){if(sve(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return ove.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>ave(n,t)&&e.set.some(i=>ave(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new xKe(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(VKe(this.set[t],e,this.options))return!0;return!1}};cve.exports=b8;var RKe=ive(),ove=new RKe({max:1e3}),PKe=s2(),w8=a1(),za=n1(),xKe=Kf(),{safeRe:om,t:rp,comparatorTrimReplace:OKe,tildeTrimReplace:IKe,caretTrimReplace:kKe}=DR(),{FLAG_INCLUDE_PRERELEASE:AKe,FLAG_LOOSE:LKe}=r1(),sve=r=>r.value==="<0.0.0-0",NKe=r=>r.value==="",ave=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},MKe=(r,e)=>(za("comp",r,e),r=jKe(r,e),za("caret",r),r=FKe(r,e),za("tildes",r),r=UKe(r,e),za("xrange",r),r=BKe(r,e),za("stars",r),r),np=r=>!r||r.toLowerCase()==="x"||r==="*",FKe=(r,e)=>r.trim().split(/\s+/).map(t=>qKe(t,e)).join(" "),qKe=(r,e)=>{let t=e.loose?om[rp.TILDELOOSE]:om[rp.TILDE];return r.replace(t,(n,i,o,s,a)=>{za("tilde",r,n,i,o,s,a);let c;return np(i)?c="":np(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:np(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(za("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,za("tilde return",c),c})},jKe=(r,e)=>r.trim().split(/\s+/).map(t=>zKe(t,e)).join(" "),zKe=(r,e)=>{za("caret",r,e);let t=e.loose?om[rp.CARETLOOSE]:om[rp.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{za("caret",r,i,o,s,a,c);let u;return np(o)?u="":np(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:np(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(za("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(za("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),za("caret return",u),u})},UKe=(r,e)=>(za("replaceXRanges",r,e),r.split(/\s+/).map(t=>HKe(t,e)).join(" ")),HKe=(r,e)=>{r=r.trim();let t=e.loose?om[rp.XRANGELOOSE]:om[rp.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{za("xRange",r,n,i,o,s,a,c);let u=np(o),l=u||np(s),d=l||np(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),za("xRange return",n),n})},BKe=(r,e)=>(za("replaceStars",r,e),r.trim().replace(om[rp.STAR],"")),WKe=(r,e)=>(za("replaceGTE0",r,e),r.trim().replace(om[e.includePrerelease?rp.GTE0PRE:rp.GTE0],"")),$Ke=r=>(e,t,n,i,o,s,a,c,u,l,d,f,p)=>(np(n)?t="":np(i)?t=`>=${n}.0.0${r?"-0":""}`:np(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,np(u)?c="":np(l)?c=`<${+u+1}.0.0-0`:np(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),VKe=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(za(r[n].semver),r[n].semver!==w8.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var a1=C((d3t,pve)=>{var c1=Symbol("SemVer ANY"),T8=class r{static get ANY(){return c1}constructor(e,t){if(t=uve(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),C8("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===c1?this.value="":this.value=this.operator+this.semver.version,C8("comp",this)}parse(e){let t=this.options.loose?lve[dve.COMPARATORLOOSE]:lve[dve.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new fve(n[2],this.options.loose):this.semver=c1}toString(){return this.value}test(e){if(C8("Comparator.test",e,this.options.loose),this.semver===c1||e===c1)return!0;if(typeof e=="string")try{e=new fve(e,this.options)}catch{return!1}return S8(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new hve(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new hve(this.value,t).test(e.semver):(t=uve(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||S8(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||S8(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};pve.exports=T8;var uve=s2(),{safeRe:lve,t:dve}=DR(),S8=m8(),C8=n1(),fve=Kf(),hve=Pv()});var xR=C((f3t,mve)=>{var GKe=Pv(),KKe=(r,e,t)=>{try{e=new GKe(e,t)}catch{return!1}return e.test(r)};mve.exports=KKe});var vve=C((h3t,gve)=>{var YKe=Pv(),JKe=(r,e)=>new YKe(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));gve.exports=JKe});var _ve=C((p3t,yve)=>{var XKe=Kf(),QKe=Pv(),ZKe=(r,e,t)=>{let n=null,i=null,o=null;try{o=new QKe(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new XKe(n,t))}),n};yve.exports=ZKe});var wve=C((m3t,bve)=>{var e9e=Kf(),t9e=Pv(),r9e=(r,e,t)=>{let n=null,i=null,o=null;try{o=new t9e(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new e9e(n,t))}),n};bve.exports=r9e});var Tve=C((g3t,Cve)=>{var D8=Kf(),n9e=Pv(),Sve=i1(),i9e=(r,e)=>{r=new n9e(r,e);let t=new D8("0.0.0");if(r.test(t)||(t=new D8("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let i=r.set[n],o=null;i.forEach(s=>{let a=new D8(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||Sve(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!t||Sve(t,o))&&(t=o)}return t&&r.test(t)?t:null};Cve.exports=i9e});var Eve=C((v3t,Dve)=>{var o9e=Pv(),s9e=(r,e)=>{try{return new o9e(r,e).range||"*"}catch{return null}};Dve.exports=s9e});var v2=C((y3t,Ove)=>{var a9e=Kf(),xve=a1(),{ANY:c9e}=xve,u9e=Pv(),l9e=xR(),Rve=i1(),Pve=l2(),d9e=f2(),f9e=d2(),h9e=(r,e,t,n)=>{r=new a9e(r,n),e=new u9e(e,n);let i,o,s,a,c;switch(t){case">":i=Rve,o=d9e,s=Pve,a=">",c=">=";break;case"<":i=Pve,o=f9e,s=Rve,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(l9e(r,e,n))return!1;for(let u=0;u<e.set.length;++u){let l=e.set[u],d=null,f=null;if(l.forEach(p=>{p.semver===c9e&&(p=new xve(">=0.0.0")),d=d||p,f=f||p,i(p.semver,d.semver,n)?d=p:s(p.semver,f.semver,n)&&(f=p)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(r,f.semver))return!1;if(f.operator===c&&s(r,f.semver))return!1}return!0};Ove.exports=h9e});var kve=C((_3t,Ive)=>{var p9e=v2(),m9e=(r,e,t)=>p9e(r,e,">",t);Ive.exports=m9e});var Lve=C((b3t,Ave)=>{var g9e=v2(),v9e=(r,e,t)=>g9e(r,e,"<",t);Ave.exports=v9e});var Fve=C((w3t,Mve)=>{var Nve=Pv(),y9e=(r,e,t)=>(r=new Nve(r,t),e=new Nve(e,t),r.intersects(e,t));Mve.exports=y9e});var jve=C((S3t,qve)=>{var _9e=xR(),b9e=Rv();qve.exports=(r,e,t)=>{let n=[],i=null,o=null,s=r.sort((l,d)=>b9e(l,d,t));for(let l of s)_9e(l,e,t)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,d]of n)l===d?a.push(l):!d&&l===s[0]?a.push("*"):d?l===s[0]?a.push(`<=${d}`):a.push(`${l} - ${d}`):a.push(`>=${l}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var $ve=C((C3t,Wve)=>{var zve=Pv(),R8=a1(),{ANY:E8}=R8,u1=xR(),P8=Rv(),w9e=(r,e,t={})=>{if(r===e)return!0;r=new zve(r,t),e=new zve(e,t);let n=!1;e:for(let i of r.set){for(let o of e.set){let s=C9e(i,o,t);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},S9e=[new R8(">=0.0.0-0")],Uve=[new R8(">=0.0.0")],C9e=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===E8){if(e.length===1&&e[0].semver===E8)return!0;t.includePrerelease?r=S9e:r=Uve}if(e.length===1&&e[0].semver===E8){if(t.includePrerelease)return!0;e=Uve}let n=new Set,i,o;for(let p of r)p.operator===">"||p.operator===">="?i=Hve(i,p,t):p.operator==="<"||p.operator==="<="?o=Bve(o,p,t):n.add(p.semver);if(n.size>1)return null;let s;if(i&&o){if(s=P8(i.semver,o.semver,t),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(i&&!u1(p,String(i),t)||o&&!u1(p,String(o),t))return null;for(let _ of e)if(!u1(p,String(_),t))return!1;return!0}let a,c,u,l,d=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,f=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(l=l||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(a=Hve(i,p,t),a===p&&a!==i)return!1}else if(i.operator===">="&&!u1(i.semver,String(p),t))return!1}if(o){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(c=Bve(o,p,t),c===p&&c!==o)return!1}else if(o.operator==="<="&&!u1(o.semver,String(p),t))return!1}if(!p.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&l&&!i&&s!==0||f||d)},Hve=(r,e,t)=>{if(!r)return e;let n=P8(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},Bve=(r,e,t)=>{if(!r)return e;let n=P8(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};Wve.exports=w9e});var QC=C((T3t,Kve)=>{var x8=DR(),Vve=r1(),T9e=Kf(),Gve=d8(),D9e=XC(),E9e=hge(),R9e=mge(),P9e=yge(),x9e=wge(),O9e=Cge(),I9e=Dge(),k9e=Rge(),A9e=xge(),L9e=Rv(),N9e=Age(),M9e=Nge(),F9e=u2(),q9e=jge(),j9e=Uge(),z9e=i1(),U9e=l2(),H9e=h8(),B9e=p8(),W9e=d2(),$9e=f2(),V9e=m8(),G9e=Jge(),K9e=a1(),Y9e=Pv(),J9e=xR(),X9e=vve(),Q9e=_ve(),Z9e=wve(),e7e=Tve(),t7e=Eve(),r7e=v2(),n7e=kve(),i7e=Lve(),o7e=Fve(),s7e=jve(),a7e=$ve();Kve.exports={parse:D9e,valid:E9e,clean:R9e,inc:P9e,diff:x9e,major:O9e,minor:I9e,patch:k9e,prerelease:A9e,compare:L9e,rcompare:N9e,compareLoose:M9e,compareBuild:F9e,sort:q9e,rsort:j9e,gt:z9e,lt:U9e,eq:H9e,neq:B9e,gte:W9e,lte:$9e,cmp:V9e,coerce:G9e,Comparator:K9e,Range:Y9e,satisfies:J9e,toComparators:X9e,maxSatisfying:Q9e,minSatisfying:Z9e,minVersion:e7e,validRange:t7e,outside:r7e,gtr:n7e,ltr:i7e,intersects:o7e,simplifyRange:s7e,subset:a7e,SemVer:T9e,re:x8.re,src:x8.src,tokens:x8.t,SEMVER_SPEC_VERSION:Vve.SEMVER_SPEC_VERSION,RELEASE_TYPES:Vve.RELEASE_TYPES,compareIdentifiers:Gve.compareIdentifiers,rcompareIdentifiers:Gve.rcompareIdentifiers}});var am=C(A8=>{"use strict";A8.fromCallback=function(r){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")r.apply(this,e);else return new Promise((t,n)=>{r.call(this,...e,(i,o)=>i!=null?n(i):t(o))})},"name",{value:r.name})};A8.fromPromise=function(r){return Object.defineProperty(function(...e){let t=e[e.length-1];if(typeof t!="function")return r.apply(this,e);r.apply(this,e.slice(0,-1)).then(n=>t(null,n),t)},"name",{value:r.name})}});var iye=C((U3t,nye)=>{var rT=require("constants"),m7e=process.cwd,x2=null,g7e=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return x2||(x2=m7e.call(process)),x2};try{process.cwd()}catch{}typeof process.chdir=="function"&&(L8=process.chdir,process.chdir=function(r){x2=null,L8.call(process,r)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,L8));var L8;nye.exports=v7e;function v7e(r){rT.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(r),r.lutimes||t(r),r.chown=o(r.chown),r.fchown=o(r.fchown),r.lchown=o(r.lchown),r.chmod=n(r.chmod),r.fchmod=n(r.fchmod),r.lchmod=n(r.lchmod),r.chownSync=s(r.chownSync),r.fchownSync=s(r.fchownSync),r.lchownSync=s(r.lchownSync),r.chmodSync=i(r.chmodSync),r.fchmodSync=i(r.fchmodSync),r.lchmodSync=i(r.lchmodSync),r.stat=a(r.stat),r.fstat=a(r.fstat),r.lstat=a(r.lstat),r.statSync=c(r.statSync),r.fstatSync=c(r.fstatSync),r.lstatSync=c(r.lstatSync),r.chmod&&!r.lchmod&&(r.lchmod=function(l,d,f){f&&process.nextTick(f)},r.lchmodSync=function(){}),r.chown&&!r.lchown&&(r.lchown=function(l,d,f,p){p&&process.nextTick(p)},r.lchownSync=function(){}),g7e==="win32"&&(r.rename=typeof r.rename!="function"?r.rename:function(l){function d(f,p,_){var D=Date.now(),x=0;l(f,p,function N(A){if(A&&(A.code==="EACCES"||A.code==="EPERM"||A.code==="EBUSY")&&Date.now()-D<6e4){setTimeout(function(){r.stat(p,function(U,ee){U&&U.code==="ENOENT"?l(f,p,N):_(A)})},x),x<100&&(x+=10);return}_&&_(A)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.rename)),r.read=typeof r.read!="function"?r.read:function(l){function d(f,p,_,D,x,N){var A;if(N&&typeof N=="function"){var U=0;A=function(ee,he,we){if(ee&&ee.code==="EAGAIN"&&U<10)return U++,l.call(r,f,p,_,D,x,A);N.apply(this,arguments)}}return l.call(r,f,p,_,D,x,A)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.read),r.readSync=typeof r.readSync!="function"?r.readSync:function(l){return function(d,f,p,_,D){for(var x=0;;)try{return l.call(r,d,f,p,_,D)}catch(N){if(N.code==="EAGAIN"&&x<10){x++;continue}throw N}}}(r.readSync);function e(l){l.lchmod=function(d,f,p){l.open(d,rT.O_WRONLY|rT.O_SYMLINK,f,function(_,D){if(_){p&&p(_);return}l.fchmod(D,f,function(x){l.close(D,function(N){p&&p(x||N)})})})},l.lchmodSync=function(d,f){var p=l.openSync(d,rT.O_WRONLY|rT.O_SYMLINK,f),_=!0,D;try{D=l.fchmodSync(p,f),_=!1}finally{if(_)try{l.closeSync(p)}catch{}else l.closeSync(p)}return D}}function t(l){rT.hasOwnProperty("O_SYMLINK")&&l.futimes?(l.lutimes=function(d,f,p,_){l.open(d,rT.O_SYMLINK,function(D,x){if(D){_&&_(D);return}l.futimes(x,f,p,function(N){l.close(x,function(A){_&&_(N||A)})})})},l.lutimesSync=function(d,f,p){var _=l.openSync(d,rT.O_SYMLINK),D,x=!0;try{D=l.futimesSync(_,f,p),x=!1}finally{if(x)try{l.closeSync(_)}catch{}else l.closeSync(_)}return D}):l.futimes&&(l.lutimes=function(d,f,p,_){_&&process.nextTick(_)},l.lutimesSync=function(){})}function n(l){return l&&function(d,f,p){return l.call(r,d,f,function(_){u(_)&&(_=null),p&&p.apply(this,arguments)})}}function i(l){return l&&function(d,f){try{return l.call(r,d,f)}catch(p){if(!u(p))throw p}}}function o(l){return l&&function(d,f,p,_){return l.call(r,d,f,p,function(D){u(D)&&(D=null),_&&_.apply(this,arguments)})}}function s(l){return l&&function(d,f,p){try{return l.call(r,d,f,p)}catch(_){if(!u(_))throw _}}}function a(l){return l&&function(d,f,p){typeof f=="function"&&(p=f,f=null);function _(D,x){x&&(x.uid<0&&(x.uid+=4294967296),x.gid<0&&(x.gid+=4294967296)),p&&p.apply(this,arguments)}return f?l.call(r,d,f,_):l.call(r,d,_)}}function c(l){return l&&function(d,f){var p=f?l.call(r,d,f):l.call(r,d);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function u(l){if(!l||l.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(l.code==="EINVAL"||l.code==="EPERM"))}}});var aye=C((H3t,sye)=>{var oye=require("stream").Stream;sye.exports=y7e;function y7e(r){return{ReadStream:e,WriteStream:t};function e(n,i){if(!(this instanceof e))return new e(n,i);oye.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}r.open(this.path,this.flags,this.mode,function(l,d){if(l){o.emit("error",l),o.readable=!1;return}o.fd=d,o.emit("open",d),o._read()})}function t(n,i){if(!(this instanceof t))return new t(n,i);oye.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=r.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var uye=C((B3t,cye)=>{"use strict";cye.exports=b7e;var _7e=Object.getPrototypeOf||function(r){return r.__proto__};function b7e(r){if(r===null||typeof r!="object")return r;if(r instanceof Object)var e={__proto__:_7e(r)};else var e=Object.create(null);return Object.getOwnPropertyNames(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}});var Yf=C((W3t,F8)=>{var jc=require("fs"),w7e=iye(),S7e=aye(),C7e=uye(),O2=require("util"),af,k2;typeof Symbol=="function"&&typeof Symbol.for=="function"?(af=Symbol.for("graceful-fs.queue"),k2=Symbol.for("graceful-fs.previous")):(af="___graceful-fs.queue",k2="___graceful-fs.previous");function T7e(){}function fye(r,e){Object.defineProperty(r,af,{get:function(){return e}})}var y0=T7e;O2.debuglog?y0=O2.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(y0=function(){var r=O2.format.apply(O2,arguments);r="GFS4: "+r.split(/\n/).join(`
GFS4: `),console.error(r)});jc[af]||(lye=global[af]||[],fye(jc,lye),jc.close=function(r){function e(t,n){return r.call(jc,t,function(i){i||dye(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,k2,{value:r}),e}(jc.close),jc.closeSync=function(r){function e(t){r.apply(jc,arguments),dye()}return Object.defineProperty(e,k2,{value:r}),e}(jc.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){y0(jc[af]),require("assert").equal(jc[af].length,0)}));var lye;global[af]||fye(global,jc[af]);F8.exports=N8(C7e(jc));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!jc.__patched&&(F8.exports=N8(jc),jc.__patched=!0);function N8(r){w7e(r),r.gracefulify=N8,r.createReadStream=he,r.createWriteStream=we;var e=r.readFile;r.readFile=t;function t(te,De,ae){return typeof De=="function"&&(ae=De,De=null),ue(te,De,ae);function ue(qe,Me,ce,Ce){return e(qe,Me,function(be){be&&(be.code==="EMFILE"||be.code==="ENFILE")?MR([ue,[qe,Me,ce],be,Ce||Date.now(),Date.now()]):typeof ce=="function"&&ce.apply(this,arguments)})}}var n=r.writeFile;r.writeFile=i;function i(te,De,ae,ue){return typeof ae=="function"&&(ue=ae,ae=null),qe(te,De,ae,ue);function qe(Me,ce,Ce,be,xe){return n(Me,ce,Ce,function(Ne){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?MR([qe,[Me,ce,Ce,be],Ne,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var o=r.appendFile;o&&(r.appendFile=s);function s(te,De,ae,ue){return typeof ae=="function"&&(ue=ae,ae=null),qe(te,De,ae,ue);function qe(Me,ce,Ce,be,xe){return o(Me,ce,Ce,function(Ne){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?MR([qe,[Me,ce,Ce,be],Ne,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var a=r.copyFile;a&&(r.copyFile=c);function c(te,De,ae,ue){return typeof ae=="function"&&(ue=ae,ae=0),qe(te,De,ae,ue);function qe(Me,ce,Ce,be,xe){return a(Me,ce,Ce,function(Ne){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?MR([qe,[Me,ce,Ce,be],Ne,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var u=r.readdir;r.readdir=d;var l=/^v[0-5]\./;function d(te,De,ae){typeof De=="function"&&(ae=De,De=null);var ue=l.test(process.version)?function(ce,Ce,be,xe){return u(ce,qe(ce,Ce,be,xe))}:function(ce,Ce,be,xe){return u(ce,Ce,qe(ce,Ce,be,xe))};return ue(te,De,ae);function qe(Me,ce,Ce,be){return function(xe,Ne){xe&&(xe.code==="EMFILE"||xe.code==="ENFILE")?MR([ue,[Me,ce,Ce],xe,be||Date.now(),Date.now()]):(Ne&&Ne.sort&&Ne.sort(),typeof Ce=="function"&&Ce.call(this,xe,Ne))}}}if(process.version.substr(0,4)==="v0.8"){var f=S7e(r);N=f.ReadStream,U=f.WriteStream}var p=r.ReadStream;p&&(N.prototype=Object.create(p.prototype),N.prototype.open=A);var _=r.WriteStream;_&&(U.prototype=Object.create(_.prototype),U.prototype.open=ee),Object.defineProperty(r,"ReadStream",{get:function(){return N},set:function(te){N=te},enumerable:!0,configurable:!0}),Object.defineProperty(r,"WriteStream",{get:function(){return U},set:function(te){U=te},enumerable:!0,configurable:!0});var D=N;Object.defineProperty(r,"FileReadStream",{get:function(){return D},set:function(te){D=te},enumerable:!0,configurable:!0});var x=U;Object.defineProperty(r,"FileWriteStream",{get:function(){return x},set:function(te){x=te},enumerable:!0,configurable:!0});function N(te,De){return this instanceof N?(p.apply(this,arguments),this):N.apply(Object.create(N.prototype),arguments)}function A(){var te=this;W(te.path,te.flags,te.mode,function(De,ae){De?(te.autoClose&&te.destroy(),te.emit("error",De)):(te.fd=ae,te.emit("open",ae),te.read())})}function U(te,De){return this instanceof U?(_.apply(this,arguments),this):U.apply(Object.create(U.prototype),arguments)}function ee(){var te=this;W(te.path,te.flags,te.mode,function(De,ae){De?(te.destroy(),te.emit("error",De)):(te.fd=ae,te.emit("open",ae))})}function he(te,De){return new r.ReadStream(te,De)}function we(te,De){return new r.WriteStream(te,De)}var V=r.open;r.open=W;function W(te,De,ae,ue){return typeof ae=="function"&&(ue=ae,ae=null),qe(te,De,ae,ue);function qe(Me,ce,Ce,be,xe){return V(Me,ce,Ce,function(Ne,$e){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?MR([qe,[Me,ce,Ce,be],Ne,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}return r}function MR(r){y0("ENQUEUE",r[0].name,r[1]),jc[af].push(r),M8()}var I2;function dye(){for(var r=Date.now(),e=0;e<jc[af].length;++e)jc[af][e].length>2&&(jc[af][e][3]=r,jc[af][e][4]=r);M8()}function M8(){if(clearTimeout(I2),I2=void 0,jc[af].length!==0){var r=jc[af].shift(),e=r[0],t=r[1],n=r[2],i=r[3],o=r[4];if(i===void 0)y0("RETRY",e.name,t),e.apply(null,t);else if(Date.now()-i>=6e4){y0("TIMEOUT",e.name,t);var s=t.pop();typeof s=="function"&&s.call(null,n)}else{var a=Date.now()-o,c=Math.max(o-i,1),u=Math.min(c*1.2,100);a>=u?(y0("RETRY",e.name,t),e.apply(null,t.concat([i]))):jc[af].push(r)}I2===void 0&&(I2=setTimeout(M8,0))}}});var f1=C(nT=>{"use strict";var hye=am().fromCallback,ip=Yf(),D7e=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(r=>typeof ip[r]=="function");Object.keys(ip).forEach(r=>{r!=="promises"&&(nT[r]=ip[r])});D7e.forEach(r=>{nT[r]=hye(ip[r])});nT.exists=function(r,e){return typeof e=="function"?ip.exists(r,e):new Promise(t=>ip.exists(r,t))};nT.read=function(r,e,t,n,i,o){return typeof o=="function"?ip.read(r,e,t,n,i,o):new Promise((s,a)=>{ip.read(r,e,t,n,i,(c,u,l)=>{if(c)return a(c);s({bytesRead:u,buffer:l})})})};nT.write=function(r,e,...t){return typeof t[t.length-1]=="function"?ip.write(r,e,...t):new Promise((n,i)=>{ip.write(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffer:a})})})};typeof ip.writev=="function"&&(nT.writev=function(r,e,...t){return typeof t[t.length-1]=="function"?ip.writev(r,e,...t):new Promise((n,i)=>{ip.writev(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffers:a})})})});typeof ip.realpath.native=="function"&&(nT.realpath.native=hye(ip.realpath.native))});var q8=C((V3t,pye)=>{pye.exports=r=>{let e=process.versions.node.split(".").map(t=>parseInt(t,10));return r=r.split(".").map(t=>parseInt(t,10)),e[0]>r[0]||e[0]===r[0]&&(e[1]>r[1]||e[1]===r[1]&&e[2]>=r[2])}});var _ye=C((G3t,j8)=>{"use strict";var FR=f1(),$w=require("path"),E7e=q8(),mye=E7e("10.12.0"),gye=r=>{if(process.platform==="win32"&&/[<>:"|?*]/.test(r.replace($w.parse(r).root,""))){let t=new Error(`Path contains invalid characters: ${r}`);throw t.code="EINVAL",t}},vye=r=>{let e={mode:511};return typeof r=="number"&&(r={mode:r}),{...e,...r}},yye=r=>{let e=new Error(`operation not permitted, mkdir '${r}'`);return e.code="EPERM",e.errno=-4048,e.path=r,e.syscall="mkdir",e};j8.exports.makeDir=async(r,e)=>{if(gye(r),e=vye(e),mye){let n=$w.resolve(r);return FR.mkdir(n,{mode:e.mode,recursive:!0})}let t=async n=>{try{await FR.mkdir(n,e.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if($w.dirname(n)===n)throw yye(n);if(i.message.includes("null bytes"))throw i;return await t($w.dirname(n)),t(n)}try{if(!(await FR.stat(n)).isDirectory())throw new Error("The path is not a directory")}catch{throw i}}};return t($w.resolve(r))};j8.exports.makeDirSync=(r,e)=>{if(gye(r),e=vye(e),mye){let n=$w.resolve(r);return FR.mkdirSync(n,{mode:e.mode,recursive:!0})}let t=n=>{try{FR.mkdirSync(n,e.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if($w.dirname(n)===n)throw yye(n);if(i.message.includes("null bytes"))throw i;return t($w.dirname(n)),t(n)}try{if(!FR.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch{throw i}}};return t($w.resolve(r))}});var Uy=C((K3t,bye)=>{"use strict";var R7e=am().fromPromise,{makeDir:P7e,makeDirSync:z8}=_ye(),U8=R7e(P7e);bye.exports={mkdirs:U8,mkdirsSync:z8,mkdirp:U8,mkdirpSync:z8,ensureDir:U8,ensureDirSync:z8}});var H8=C((Y3t,wye)=>{"use strict";var qR=Yf();function x7e(r,e,t,n){qR.open(r,"r+",(i,o)=>{if(i)return n(i);qR.futimes(o,e,t,s=>{qR.close(o,a=>{n&&n(s||a)})})})}function O7e(r,e,t){let n=qR.openSync(r,"r+");return qR.futimesSync(n,e,t),qR.closeSync(n)}wye.exports={utimesMillis:x7e,utimesMillisSync:O7e}});var h1=C((J3t,Dye)=>{"use strict";var jR=f1(),cm=require("path"),I7e=require("util"),k7e=q8(),A2=k7e("10.5.0"),Sye=r=>A2?jR.stat(r,{bigint:!0}):jR.stat(r),B8=r=>A2?jR.statSync(r,{bigint:!0}):jR.statSync(r);function A7e(r,e){return Promise.all([Sye(r),Sye(e).catch(t=>{if(t.code==="ENOENT")return null;throw t})]).then(([t,n])=>({srcStat:t,destStat:n}))}function L7e(r,e){let t,n=B8(r);try{t=B8(e)}catch(i){if(i.code==="ENOENT")return{srcStat:n,destStat:null};throw i}return{srcStat:n,destStat:t}}function N7e(r,e,t,n){I7e.callbackify(A7e)(r,e,(i,o)=>{if(i)return n(i);let{srcStat:s,destStat:a}=o;return a&&L2(s,a)?n(new Error("Source and destination must not be the same.")):s.isDirectory()&&W8(r,e)?n(new Error(N2(r,e,t))):n(null,{srcStat:s,destStat:a})})}function M7e(r,e,t){let{srcStat:n,destStat:i}=L7e(r,e);if(i&&L2(n,i))throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&W8(r,e))throw new Error(N2(r,e,t));return{srcStat:n,destStat:i}}function Cye(r,e,t,n,i){let o=cm.resolve(cm.dirname(r)),s=cm.resolve(cm.dirname(t));if(s===o||s===cm.parse(s).root)return i();let a=(c,u)=>c?c.code==="ENOENT"?i():i(c):L2(e,u)?i(new Error(N2(r,t,n))):Cye(r,e,s,n,i);A2?jR.stat(s,{bigint:!0},a):jR.stat(s,a)}function Tye(r,e,t,n){let i=cm.resolve(cm.dirname(r)),o=cm.resolve(cm.dirname(t));if(o===i||o===cm.parse(o).root)return;let s;try{s=B8(o)}catch(a){if(a.code==="ENOENT")return;throw a}if(L2(e,s))throw new Error(N2(r,t,n));return Tye(r,e,o,n)}function L2(r,e){return!!(e.ino&&e.dev&&e.ino===r.ino&&e.dev===r.dev&&(A2||e.ino<Number.MAX_SAFE_INTEGER||e.size===r.size&&e.mode===r.mode&&e.nlink===r.nlink&&e.atimeMs===r.atimeMs&&e.mtimeMs===r.mtimeMs&&e.ctimeMs===r.ctimeMs&&e.birthtimeMs===r.birthtimeMs))}function W8(r,e){let t=cm.resolve(r).split(cm.sep).filter(i=>i),n=cm.resolve(e).split(cm.sep).filter(i=>i);return t.reduce((i,o,s)=>i&&n[s]===o,!0)}function N2(r,e,t){return`Cannot ${t} '${r}' to a subdirectory of itself, '${e}'.`}Dye.exports={checkPaths:N7e,checkPathsSync:M7e,checkParentPaths:Cye,checkParentPathsSync:Tye,isSrcSubdir:W8}});var Oye=C((X3t,xye)=>{"use strict";var Jf=Yf(),p1=require("path"),F7e=Uy().mkdirsSync,q7e=H8().utimesMillisSync,m1=h1();function j7e(r,e,t){typeof t=="function"&&(t={filter:t}),t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);let{srcStat:n,destStat:i}=m1.checkPathsSync(r,e,"copy");return m1.checkParentPathsSync(r,n,e,"copy"),z7e(i,r,e,t)}function z7e(r,e,t,n){if(n.filter&&!n.filter(e,t))return;let i=p1.dirname(t);return Jf.existsSync(i)||F7e(i),Eye(r,e,t,n)}function Eye(r,e,t,n){if(!(n.filter&&!n.filter(e,t)))return U7e(r,e,t,n)}function U7e(r,e,t,n){let o=(n.dereference?Jf.statSync:Jf.lstatSync)(e);if(o.isDirectory())return K7e(o,r,e,t,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return H7e(o,r,e,t,n);if(o.isSymbolicLink())return X7e(r,e,t,n)}function H7e(r,e,t,n,i){return e?B7e(r,t,n,i):Rye(r,t,n,i)}function B7e(r,e,t,n){if(n.overwrite)return Jf.unlinkSync(t),Rye(r,e,t,n);if(n.errorOnExist)throw new Error(`'${t}' already exists`)}function Rye(r,e,t,n){return Jf.copyFileSync(e,t),n.preserveTimestamps&&W7e(r.mode,e,t),$8(t,r.mode)}function W7e(r,e,t){return $7e(r)&&V7e(t,r),G7e(e,t)}function $7e(r){return(r&128)===0}function V7e(r,e){return $8(r,e|128)}function $8(r,e){return Jf.chmodSync(r,e)}function G7e(r,e){let t=Jf.statSync(r);return q7e(e,t.atime,t.mtime)}function K7e(r,e,t,n,i){if(!e)return Y7e(r.mode,t,n,i);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory '${n}' with directory '${t}'.`);return Pye(t,n,i)}function Y7e(r,e,t,n){return Jf.mkdirSync(t),Pye(e,t,n),$8(t,r)}function Pye(r,e,t){Jf.readdirSync(r).forEach(n=>J7e(n,r,e,t))}function J7e(r,e,t,n){let i=p1.join(e,r),o=p1.join(t,r),{destStat:s}=m1.checkPathsSync(i,o,"copy");return Eye(s,i,o,n)}function X7e(r,e,t,n){let i=Jf.readlinkSync(e);if(n.dereference&&(i=p1.resolve(process.cwd(),i)),r){let o;try{o=Jf.readlinkSync(t)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return Jf.symlinkSync(i,t);throw s}if(n.dereference&&(o=p1.resolve(process.cwd(),o)),m1.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(Jf.statSync(t).isDirectory()&&m1.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return Q7e(i,t)}else return Jf.symlinkSync(i,t)}function Q7e(r,e){return Jf.unlinkSync(e),Jf.symlinkSync(r,e)}xye.exports=j7e});var V8=C((Q3t,Iye)=>{"use strict";Iye.exports={copySync:Oye()}});var iT=C((Z3t,Aye)=>{"use strict";var Z7e=am().fromPromise,kye=f1();function eYe(r){return kye.access(r).then(()=>!0).catch(()=>!1)}Aye.exports={pathExists:Z7e(eYe),pathExistsSync:kye.existsSync}});var Hye=C((eVt,Uye)=>{"use strict";var um=Yf(),g1=require("path"),tYe=Uy().mkdirs,rYe=iT().pathExists,nYe=H8().utimesMillis,v1=h1();function iYe(r,e,t,n){typeof t=="function"&&!n?(n=t,t={}):typeof t=="function"&&(t={filter:t}),n=n||function(){},t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),v1.checkPaths(r,e,"copy",(i,o)=>{if(i)return n(i);let{srcStat:s,destStat:a}=o;v1.checkParentPaths(r,s,e,"copy",c=>c?n(c):t.filter?Fye(Lye,a,r,e,t,n):Lye(a,r,e,t,n))})}function Lye(r,e,t,n,i){let o=g1.dirname(t);rYe(o,(s,a)=>{if(s)return i(s);if(a)return G8(r,e,t,n,i);tYe(o,c=>c?i(c):G8(r,e,t,n,i))})}function Fye(r,e,t,n,i,o){Promise.resolve(i.filter(t,n)).then(s=>s?r(e,t,n,i,o):o(),s=>o(s))}function G8(r,e,t,n,i){return n.filter?Fye(Nye,r,e,t,n,i):Nye(r,e,t,n,i)}function Nye(r,e,t,n,i){(n.dereference?um.stat:um.lstat)(e,(s,a)=>{if(s)return i(s);if(a.isDirectory())return dYe(a,r,e,t,n,i);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return oYe(a,r,e,t,n,i);if(a.isSymbolicLink())return pYe(r,e,t,n,i)})}function oYe(r,e,t,n,i,o){return e?sYe(r,t,n,i,o):qye(r,t,n,i,o)}function sYe(r,e,t,n,i){if(n.overwrite)um.unlink(t,o=>o?i(o):qye(r,e,t,n,i));else return n.errorOnExist?i(new Error(`'${t}' already exists`)):i()}function qye(r,e,t,n,i){um.copyFile(e,t,o=>o?i(o):n.preserveTimestamps?aYe(r.mode,e,t,i):M2(t,r.mode,i))}function aYe(r,e,t,n){return cYe(r)?uYe(t,r,i=>i?n(i):Mye(r,e,t,n)):Mye(r,e,t,n)}function cYe(r){return(r&128)===0}function uYe(r,e,t){return M2(r,e|128,t)}function Mye(r,e,t,n){lYe(e,t,i=>i?n(i):M2(t,r,n))}function M2(r,e,t){return um.chmod(r,e,t)}function lYe(r,e,t){um.stat(r,(n,i)=>n?t(n):nYe(e,i.atime,i.mtime,t))}function dYe(r,e,t,n,i,o){return e?e&&!e.isDirectory()?o(new Error(`Cannot overwrite non-directory '${n}' with directory '${t}'.`)):jye(t,n,i,o):fYe(r.mode,t,n,i,o)}function fYe(r,e,t,n,i){um.mkdir(t,o=>{if(o)return i(o);jye(e,t,n,s=>s?i(s):M2(t,r,i))})}function jye(r,e,t,n){um.readdir(r,(i,o)=>i?n(i):zye(o,r,e,t,n))}function zye(r,e,t,n,i){let o=r.pop();return o?hYe(r,o,e,t,n,i):i()}function hYe(r,e,t,n,i,o){let s=g1.join(t,e),a=g1.join(n,e);v1.checkPaths(s,a,"copy",(c,u)=>{if(c)return o(c);let{destStat:l}=u;G8(l,s,a,i,d=>d?o(d):zye(r,t,n,i,o))})}function pYe(r,e,t,n,i){um.readlink(e,(o,s)=>{if(o)return i(o);if(n.dereference&&(s=g1.resolve(process.cwd(),s)),r)um.readlink(t,(a,c)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?um.symlink(s,t,i):i(a):(n.dereference&&(c=g1.resolve(process.cwd(),c)),v1.isSrcSubdir(s,c)?i(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${c}'.`)):r.isDirectory()&&v1.isSrcSubdir(c,s)?i(new Error(`Cannot overwrite '${c}' with '${s}'.`)):mYe(s,t,i)));else return um.symlink(s,t,i)})}function mYe(r,e,t){um.unlink(e,n=>n?t(n):um.symlink(r,e,t))}Uye.exports=iYe});var K8=C((tVt,Bye)=>{"use strict";var gYe=am().fromCallback;Bye.exports={copy:gYe(Hye())}});var Qye=C((rVt,Xye)=>{"use strict";var Wye=Yf(),Kye=require("path"),ha=require("assert"),y1=process.platform==="win32";function Yye(r){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{r[t]=r[t]||Wye[t],t=t+"Sync",r[t]=r[t]||Wye[t]}),r.maxBusyTries=r.maxBusyTries||3}function Y8(r,e,t){let n=0;typeof e=="function"&&(t=e,e={}),ha(r,"rimraf: missing path"),ha.strictEqual(typeof r,"string","rimraf: path should be a string"),ha.strictEqual(typeof t,"function","rimraf: callback function required"),ha(e,"rimraf: invalid options argument provided"),ha.strictEqual(typeof e,"object","rimraf: options should be object"),Yye(e),$ye(r,e,function i(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&n<e.maxBusyTries){n++;let s=n*100;return setTimeout(()=>$ye(r,e,i),s)}o.code==="ENOENT"&&(o=null)}t(o)})}function $ye(r,e,t){ha(r),ha(e),ha(typeof t=="function"),e.lstat(r,(n,i)=>{if(n&&n.code==="ENOENT")return t(null);if(n&&n.code==="EPERM"&&y1)return Vye(r,e,n,t);if(i&&i.isDirectory())return F2(r,e,n,t);e.unlink(r,o=>{if(o){if(o.code==="ENOENT")return t(null);if(o.code==="EPERM")return y1?Vye(r,e,o,t):F2(r,e,o,t);if(o.code==="EISDIR")return F2(r,e,o,t)}return t(o)})})}function Vye(r,e,t,n){ha(r),ha(e),ha(typeof n=="function"),e.chmod(r,438,i=>{i?n(i.code==="ENOENT"?null:t):e.stat(r,(o,s)=>{o?n(o.code==="ENOENT"?null:t):s.isDirectory()?F2(r,e,t,n):e.unlink(r,n)})})}function Gye(r,e,t){let n;ha(r),ha(e);try{e.chmodSync(r,438)}catch(i){if(i.code==="ENOENT")return;throw t}try{n=e.statSync(r)}catch(i){if(i.code==="ENOENT")return;throw t}n.isDirectory()?q2(r,e,t):e.unlinkSync(r)}function F2(r,e,t,n){ha(r),ha(e),ha(typeof n=="function"),e.rmdir(r,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?vYe(r,e,n):i&&i.code==="ENOTDIR"?n(t):n(i)})}function vYe(r,e,t){ha(r),ha(e),ha(typeof t=="function"),e.readdir(r,(n,i)=>{if(n)return t(n);let o=i.length,s;if(o===0)return e.rmdir(r,t);i.forEach(a=>{Y8(Kye.join(r,a),e,c=>{if(!s){if(c)return t(s=c);--o===0&&e.rmdir(r,t)}})})})}function Jye(r,e){let t;e=e||{},Yye(e),ha(r,"rimraf: missing path"),ha.strictEqual(typeof r,"string","rimraf: path should be a string"),ha(e,"rimraf: missing options"),ha.strictEqual(typeof e,"object","rimraf: options should be object");try{t=e.lstatSync(r)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&y1&&Gye(r,e,n)}try{t&&t.isDirectory()?q2(r,e,null):e.unlinkSync(r)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return y1?Gye(r,e,n):q2(r,e,n);if(n.code!=="EISDIR")throw n;q2(r,e,n)}}function q2(r,e,t){ha(r),ha(e);try{e.rmdirSync(r)}catch(n){if(n.code==="ENOTDIR")throw t;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")yYe(r,e);else if(n.code!=="ENOENT")throw n}}function yYe(r,e){if(ha(r),ha(e),e.readdirSync(r).forEach(t=>Jye(Kye.join(r,t),e)),y1){let t=Date.now();do try{return e.rmdirSync(r,e)}catch{}while(Date.now()-t<500)}else return e.rmdirSync(r,e)}Xye.exports=Y8;Y8.sync=Jye});var _1=C((nVt,e_e)=>{"use strict";var _Ye=am().fromCallback,Zye=Qye();e_e.exports={remove:_Ye(Zye),removeSync:Zye.sync}});var c_e=C((iVt,a_e)=>{"use strict";var bYe=am().fromCallback,n_e=Yf(),i_e=require("path"),o_e=Uy(),s_e=_1(),t_e=bYe(function(e,t){t=t||function(){},n_e.readdir(e,(n,i)=>{if(n)return o_e.mkdirs(e,t);i=i.map(s=>i_e.join(e,s)),o();function o(){let s=i.pop();if(!s)return t();s_e.remove(s,a=>{if(a)return t(a);o()})}})});function r_e(r){let e;try{e=n_e.readdirSync(r)}catch{return o_e.mkdirsSync(r)}e.forEach(t=>{t=i_e.join(r,t),s_e.removeSync(t)})}a_e.exports={emptyDirSync:r_e,emptydirSync:r_e,emptyDir:t_e,emptydir:t_e}});var f_e=C((oVt,d_e)=>{"use strict";var wYe=am().fromCallback,u_e=require("path"),oT=Yf(),l_e=Uy();function SYe(r,e){function t(){oT.writeFile(r,"",n=>{if(n)return e(n);e()})}oT.stat(r,(n,i)=>{if(!n&&i.isFile())return e();let o=u_e.dirname(r);oT.stat(o,(s,a)=>{if(s)return s.code==="ENOENT"?l_e.mkdirs(o,c=>{if(c)return e(c);t()}):e(s);a.isDirectory()?t():oT.readdir(o,c=>{if(c)return e(c)})})})}function CYe(r){let e;try{e=oT.statSync(r)}catch{}if(e&&e.isFile())return;let t=u_e.dirname(r);try{oT.statSync(t).isDirectory()||oT.readdirSync(t)}catch(n){if(n&&n.code==="ENOENT")l_e.mkdirsSync(t);else throw n}oT.writeFileSync(r,"")}d_e.exports={createFile:wYe(SYe),createFileSync:CYe}});var v_e=C((sVt,g_e)=>{"use strict";var TYe=am().fromCallback,p_e=require("path"),_0=Yf(),m_e=Uy(),h_e=iT().pathExists;function DYe(r,e,t){function n(i,o){_0.link(i,o,s=>{if(s)return t(s);t(null)})}h_e(e,(i,o)=>{if(i)return t(i);if(o)return t(null);_0.lstat(r,s=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),t(s);let a=p_e.dirname(e);h_e(a,(c,u)=>{if(c)return t(c);if(u)return n(r,e);m_e.mkdirs(a,l=>{if(l)return t(l);n(r,e)})})})})}function EYe(r,e){if(_0.existsSync(e))return;try{_0.lstatSync(r)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let n=p_e.dirname(e);return _0.existsSync(n)||m_e.mkdirsSync(n),_0.linkSync(r,e)}g_e.exports={createLink:TYe(DYe),createLinkSync:EYe}});var b_e=C((aVt,y_e)=>{"use strict";var sT=require("path"),b1=Yf(),RYe=iT().pathExists;function PYe(r,e,t){if(sT.isAbsolute(r))return b1.lstat(r,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),t(n)):t(null,{toCwd:r,toDst:r}));{let n=sT.dirname(e),i=sT.join(n,r);return RYe(i,(o,s)=>o?t(o):s?t(null,{toCwd:i,toDst:r}):b1.lstat(r,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),t(a)):t(null,{toCwd:r,toDst:sT.relative(n,r)})))}}function xYe(r,e){let t;if(sT.isAbsolute(r)){if(t=b1.existsSync(r),!t)throw new Error("absolute srcpath does not exist");return{toCwd:r,toDst:r}}else{let n=sT.dirname(e),i=sT.join(n,r);if(t=b1.existsSync(i),t)return{toCwd:i,toDst:r};if(t=b1.existsSync(r),!t)throw new Error("relative srcpath does not exist");return{toCwd:r,toDst:sT.relative(n,r)}}}y_e.exports={symlinkPaths:PYe,symlinkPathsSync:xYe}});var C_e=C((cVt,S_e)=>{"use strict";var w_e=Yf();function OYe(r,e,t){if(t=typeof e=="function"?e:t,e=typeof e=="function"?!1:e,e)return t(null,e);w_e.lstat(r,(n,i)=>{if(n)return t(null,"file");e=i&&i.isDirectory()?"dir":"file",t(null,e)})}function IYe(r,e){let t;if(e)return e;try{t=w_e.lstatSync(r)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}S_e.exports={symlinkType:OYe,symlinkTypeSync:IYe}});var O_e=C((uVt,x_e)=>{"use strict";var kYe=am().fromCallback,D_e=require("path"),zR=Yf(),E_e=Uy(),AYe=E_e.mkdirs,LYe=E_e.mkdirsSync,R_e=b_e(),NYe=R_e.symlinkPaths,MYe=R_e.symlinkPathsSync,P_e=C_e(),FYe=P_e.symlinkType,qYe=P_e.symlinkTypeSync,T_e=iT().pathExists;function jYe(r,e,t,n){n=typeof t=="function"?t:n,t=typeof t=="function"?!1:t,T_e(e,(i,o)=>{if(i)return n(i);if(o)return n(null);NYe(r,e,(s,a)=>{if(s)return n(s);r=a.toDst,FYe(a.toCwd,t,(c,u)=>{if(c)return n(c);let l=D_e.dirname(e);T_e(l,(d,f)=>{if(d)return n(d);if(f)return zR.symlink(r,e,u,n);AYe(l,p=>{if(p)return n(p);zR.symlink(r,e,u,n)})})})})})}function zYe(r,e,t){if(zR.existsSync(e))return;let i=MYe(r,e);r=i.toDst,t=qYe(i.toCwd,t);let o=D_e.dirname(e);return zR.existsSync(o)||LYe(o),zR.symlinkSync(r,e,t)}x_e.exports={createSymlink:kYe(jYe),createSymlinkSync:zYe}});var k_e=C((lVt,I_e)=>{"use strict";var j2=f_e(),z2=v_e(),U2=O_e();I_e.exports={createFile:j2.createFile,createFileSync:j2.createFileSync,ensureFile:j2.createFile,ensureFileSync:j2.createFileSync,createLink:z2.createLink,createLinkSync:z2.createLinkSync,ensureLink:z2.createLink,ensureLinkSync:z2.createLinkSync,createSymlink:U2.createSymlink,createSymlinkSync:U2.createSymlinkSync,ensureSymlink:U2.createSymlink,ensureSymlinkSync:U2.createSymlinkSync}});var H2=C((dVt,A_e)=>{function UYe(r,{EOL:e=`
`,finalEOL:t=!0,replacer:n=null,spaces:i}={}){let o=t?e:"";return JSON.stringify(r,n,i).replace(/\n/g,e)+o}function HYe(r){return Buffer.isBuffer(r)&&(r=r.toString("utf8")),r.replace(/^\uFEFF/,"")}A_e.exports={stringify:UYe,stripBom:HYe}});var F_e=C((fVt,M_e)=>{var UR;try{UR=Yf()}catch{UR=require("fs")}var B2=am(),{stringify:L_e,stripBom:N_e}=H2();async function BYe(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||UR,n="throws"in e?e.throws:!0,i=await B2.fromCallback(t.readFile)(r,e);i=N_e(i);let o;try{o=JSON.parse(i,e?e.reviver:null)}catch(s){if(n)throw s.message=`${r}: ${s.message}`,s;return null}return o}var WYe=B2.fromPromise(BYe);function $Ye(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||UR,n="throws"in e?e.throws:!0;try{let i=t.readFileSync(r,e);return i=N_e(i),JSON.parse(i,e.reviver)}catch(i){if(n)throw i.message=`${r}: ${i.message}`,i;return null}}async function VYe(r,e,t={}){let n=t.fs||UR,i=L_e(e,t);await B2.fromCallback(n.writeFile)(r,i,t)}var GYe=B2.fromPromise(VYe);function KYe(r,e,t={}){let n=t.fs||UR,i=L_e(e,t);return n.writeFileSync(r,i,t)}var YYe={readFile:WYe,readFileSync:$Ye,writeFile:GYe,writeFileSync:KYe};M_e.exports=YYe});var j_e=C((hVt,q_e)=>{"use strict";var W2=F_e();q_e.exports={readJson:W2.readFile,readJsonSync:W2.readFileSync,writeJson:W2.writeFile,writeJsonSync:W2.writeFileSync}});var $2=C((pVt,H_e)=>{"use strict";var JYe=am().fromCallback,w1=Yf(),z_e=require("path"),U_e=Uy(),XYe=iT().pathExists;function QYe(r,e,t,n){typeof t=="function"&&(n=t,t="utf8");let i=z_e.dirname(r);XYe(i,(o,s)=>{if(o)return n(o);if(s)return w1.writeFile(r,e,t,n);U_e.mkdirs(i,a=>{if(a)return n(a);w1.writeFile(r,e,t,n)})})}function ZYe(r,...e){let t=z_e.dirname(r);if(w1.existsSync(t))return w1.writeFileSync(r,...e);U_e.mkdirsSync(t),w1.writeFileSync(r,...e)}H_e.exports={outputFile:JYe(QYe),outputFileSync:ZYe}});var W_e=C((mVt,B_e)=>{"use strict";var{stringify:eJe}=H2(),{outputFile:tJe}=$2();async function rJe(r,e,t={}){let n=eJe(e,t);await tJe(r,n,t)}B_e.exports=rJe});var V_e=C((gVt,$_e)=>{"use strict";var{stringify:nJe}=H2(),{outputFileSync:iJe}=$2();function oJe(r,e,t){let n=nJe(e,t);iJe(r,n,t)}$_e.exports=oJe});var K_e=C((vVt,G_e)=>{"use strict";var sJe=am().fromPromise,op=j_e();op.outputJson=sJe(W_e());op.outputJsonSync=V_e();op.outputJSON=op.outputJson;op.outputJSONSync=op.outputJsonSync;op.writeJSON=op.writeJson;op.writeJSONSync=op.writeJsonSync;op.readJSON=op.readJson;op.readJSONSync=op.readJsonSync;G_e.exports=op});var ebe=C((yVt,Z_e)=>{"use strict";var X_e=Yf(),aJe=require("path"),cJe=V8().copySync,Q_e=_1().removeSync,uJe=Uy().mkdirpSync,Y_e=h1();function lJe(r,e,t){t=t||{};let n=t.overwrite||t.clobber||!1,{srcStat:i}=Y_e.checkPathsSync(r,e,"move");return Y_e.checkParentPathsSync(r,i,e,"move"),uJe(aJe.dirname(e)),dJe(r,e,n)}function dJe(r,e,t){if(t)return Q_e(e),J_e(r,e,t);if(X_e.existsSync(e))throw new Error("dest already exists.");return J_e(r,e,t)}function J_e(r,e,t){try{X_e.renameSync(r,e)}catch(n){if(n.code!=="EXDEV")throw n;return fJe(r,e,t)}}function fJe(r,e,t){return cJe(r,e,{overwrite:t,errorOnExist:!0}),Q_e(r)}Z_e.exports=lJe});var rbe=C((_Vt,tbe)=>{"use strict";tbe.exports={moveSync:ebe()}});var abe=C((bVt,sbe)=>{"use strict";var hJe=Yf(),pJe=require("path"),mJe=K8().copy,obe=_1().remove,gJe=Uy().mkdirp,vJe=iT().pathExists,nbe=h1();function yJe(r,e,t,n){typeof t=="function"&&(n=t,t={});let i=t.overwrite||t.clobber||!1;nbe.checkPaths(r,e,"move",(o,s)=>{if(o)return n(o);let{srcStat:a}=s;nbe.checkParentPaths(r,a,e,"move",c=>{if(c)return n(c);gJe(pJe.dirname(e),u=>u?n(u):_Je(r,e,i,n))})})}function _Je(r,e,t,n){if(t)return obe(e,i=>i?n(i):ibe(r,e,t,n));vJe(e,(i,o)=>i?n(i):o?n(new Error("dest already exists.")):ibe(r,e,t,n))}function ibe(r,e,t,n){hJe.rename(r,e,i=>i?i.code!=="EXDEV"?n(i):bJe(r,e,t,n):n())}function bJe(r,e,t,n){mJe(r,e,{overwrite:t,errorOnExist:!0},o=>o?n(o):obe(r,n))}sbe.exports=yJe});var ube=C((wVt,cbe)=>{"use strict";var wJe=am().fromCallback;cbe.exports={move:wJe(abe())}});var aT=C((SVt,J8)=>{"use strict";J8.exports={...f1(),...V8(),...K8(),...c_e(),...k_e(),...K_e(),...Uy(),...rbe(),...ube(),...$2(),...iT(),..._1()};var lbe=require("fs");Object.getOwnPropertyDescriptor(lbe,"promises")&&Object.defineProperty(J8.exports,"promises",{get(){return lbe.promises}})});var BR=C(sK=>{"use strict";Object.defineProperty(sK,"__esModule",{value:!0});function TJe(r){return typeof r=="function"}sK.isFunction=TJe});var T1=C(cK=>{"use strict";Object.defineProperty(cK,"__esModule",{value:!0});var aK=!1;cK.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var e=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+e.stack)}else aK&&console.log("RxJS: Back to a better error behavior. Thank you. <3");aK=r},get useDeprecatedSynchronousErrorHandling(){return aK}}});var J2=C(uK=>{"use strict";Object.defineProperty(uK,"__esModule",{value:!0});function DJe(r){setTimeout(function(){throw r},0)}uK.hostReportError=DJe});var dK=C(lK=>{"use strict";Object.defineProperty(lK,"__esModule",{value:!0});var EJe=T1(),RJe=J2();lK.empty={closed:!0,next:function(r){},error:function(r){if(EJe.config.useDeprecatedSynchronousErrorHandling)throw r;RJe.hostReportError(r)},complete:function(){}}});var ap=C(fK=>{"use strict";Object.defineProperty(fK,"__esModule",{value:!0});fK.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()});var X2=C(hK=>{"use strict";Object.defineProperty(hK,"__esModule",{value:!0});function PJe(r){return r!==null&&typeof r=="object"}hK.isObject=PJe});var mK=C(pK=>{"use strict";Object.defineProperty(pK,"__esModule",{value:!0});var xJe=function(){function r(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return r.prototype=Object.create(Error.prototype),r}();pK.UnsubscriptionError=xJe});var Il=C(gK=>{"use strict";Object.defineProperty(gK,"__esModule",{value:!0});var OJe=ap(),IJe=X2(),kJe=BR(),Q2=mK(),AJe=function(){function r(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return r.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,n=t._parentOrParents,i=t._ctorUnsubscribe,o=t._unsubscribe,s=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(kJe.isFunction(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(d){e=d instanceof Q2.UnsubscriptionError?pbe(d.errors):[d]}}if(OJe.isArray(s))for(var a=-1,u=s.length;++a<u;){var l=s[a];if(IJe.isObject(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof Q2.UnsubscriptionError?e=e.concat(pbe(f.errors)):e.push(f)}}if(e)throw new Q2.UnsubscriptionError(e)}},r.prototype.add=function(e){var t=e;if(!e)return r.EMPTY;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;t=new r,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=t._parentOrParents;if(i===null)t._parentOrParents=this;else if(i instanceof r){if(i===this)return t;t._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return t;var o=this._subscriptions;return o===null?this._subscriptions=[t]:o.push(t),t},r.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},r.EMPTY=function(e){return e.closed=!0,e}(new r),r}();gK.Subscription=AJe;function pbe(r){return r.reduce(function(e,t){return e.concat(t instanceof Q2.UnsubscriptionError?t.errors:t)},[])}});var Z2=C(D1=>{"use strict";Object.defineProperty(D1,"__esModule",{value:!0});D1.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();D1.$$rxSubscriber=D1.rxSubscriber});var gi=C($R=>{"use strict";var gbe=$R&&$R.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($R,"__esModule",{value:!0});var mbe=BR(),vK=dK(),LJe=Il(),NJe=Z2(),WR=T1(),ej=J2(),vbe=function(r){gbe(e,r);function e(t,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=vK.empty;break;case 1:if(!t){o.destination=vK.empty;break}if(typeof t=="object"){t instanceof e?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(o)):(o.syncErrorThrowable=!0,o.destination=new yK(o,t));break}default:o.syncErrorThrowable=!0,o.destination=new yK(o,t,n,i);break}return o}return e.prototype[NJe.rxSubscriber]=function(){return this},e.create=function(t,n,i){var o=new e(t,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(LJe.Subscription);$R.Subscriber=vbe;var yK=function(r){gbe(e,r);function e(t,n,i,o){var s=r.call(this)||this;s._parentSubscriber=t;var a,c=s;return mbe.isFunction(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==vK.empty&&(c=Object.create(n),mbe.isFunction(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!WR.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},e.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,i=WR.config.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=t,n.syncErrorThrown=!0):ej.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;ej.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};!WR.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(i){if(this.unsubscribe(),WR.config.useDeprecatedSynchronousErrorHandling)throw i;ej.hostReportError(i)}},e.prototype.__tryOrSetError=function(t,n,i){if(!WR.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return WR.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(ej.hostReportError(o),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(vbe);$R.SafeSubscriber=yK});var tj=C(_K=>{"use strict";Object.defineProperty(_K,"__esModule",{value:!0});var MJe=gi();function FJe(r){for(;r;){var e=r,t=e.closed,n=e.destination,i=e.isStopped;if(t||i)return!1;n&&n instanceof MJe.Subscriber?r=n:r=null}return!0}_K.canReportError=FJe});var _be=C(wK=>{"use strict";Object.defineProperty(wK,"__esModule",{value:!0});var bK=gi(),ybe=Z2(),qJe=dK();function jJe(r,e,t){if(r){if(r instanceof bK.Subscriber)return r;if(r[ybe.rxSubscriber])return r[ybe.rxSubscriber]()}return!r&&!e&&!t?new bK.Subscriber(qJe.empty):new bK.Subscriber(r,e,t)}wK.toSubscriber=jJe});var w0=C(SK=>{"use strict";Object.defineProperty(SK,"__esModule",{value:!0});SK.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var lT=C(CK=>{"use strict";Object.defineProperty(CK,"__esModule",{value:!0});function zJe(r){return r}CK.identity=zJe});var nj=C(rj=>{"use strict";Object.defineProperty(rj,"__esModule",{value:!0});var UJe=lT();function HJe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return bbe(r)}rj.pipe=HJe;function bbe(r){return r.length===0?UJe.identity:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}rj.pipeFromArray=bbe});var zo=C(TK=>{"use strict";Object.defineProperty(TK,"__esModule",{value:!0});var BJe=tj(),WJe=_be(),$Je=w0(),VJe=nj(),ij=T1(),GJe=function(){function r(e){this._isScalar=!1,e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this.operator,o=WJe.toSubscriber(e,t,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||ij.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),ij.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){ij.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),BJe.canReportError(e)?e.error(t):console.warn(t)}},r.prototype.forEach=function(e,t){var n=this;return t=wbe(t),new t(function(i,o){var s;s=n.subscribe(function(a){try{e(a)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})},r.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},r.prototype[$Je.observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?this:VJe.pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=wbe(e),new e(function(n,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},r.create=function(e){return new r(e)},r}();TK.Observable=GJe;function wbe(r){if(r||(r=ij.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}});var E1=C(DK=>{"use strict";Object.defineProperty(DK,"__esModule",{value:!0});var KJe=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}();DK.ObjectUnsubscribedError=KJe});var EK=C(R1=>{"use strict";var YJe=R1&&R1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(R1,"__esModule",{value:!0});var JJe=Il(),XJe=function(r){YJe(e,r);function e(t,n){var i=r.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(JJe.Subscription);R1.SubjectSubscription=XJe});var Xf=C(S0=>{"use strict";var xK=S0&&S0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(S0,"__esModule",{value:!0});var Sbe=zo(),QJe=gi(),RK=Il(),P1=E1(),ZJe=EK(),eXe=Z2(),Cbe=function(r){xK(e,r);function e(t){var n=r.call(this,t)||this;return n.destination=t,n}return e}(QJe.Subscriber);S0.SubjectSubscriber=Cbe;var Tbe=function(r){xK(e,r);function e(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype[eXe.rxSubscriber]=function(){return new Cbe(this)},e.prototype.lift=function(t){var n=new PK(this,this);return n.operator=t,n},e.prototype.next=function(t){if(this.closed)throw new P1.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(t)},e.prototype.error=function(t){if(this.closed)throw new P1.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new P1.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(t){if(this.closed)throw new P1.ObjectUnsubscribedError;return r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){if(this.closed)throw new P1.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),RK.Subscription.EMPTY):this.isStopped?(t.complete(),RK.Subscription.EMPTY):(this.observers.push(t),new ZJe.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new Sbe.Observable;return t.source=this,t},e.create=function(t,n){return new PK(t,n)},e}(Sbe.Observable);S0.Subject=Tbe;var PK=function(r){xK(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},e.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):RK.Subscription.EMPTY},e}(Tbe);S0.AnonymousSubject=PK});var oj=C(x1=>{"use strict";var tXe=x1&&x1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(x1,"__esModule",{value:!0});var rXe=gi();function nXe(){return function(e){return e.lift(new iXe(e))}}x1.refCount=nXe;var iXe=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new oXe(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),oXe=function(r){tXe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(rXe.Subscriber)});var IK=C(VR=>{"use strict";var OK=VR&&VR.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(VR,"__esModule",{value:!0});var sXe=Xf(),aXe=zo(),cXe=gi(),Dbe=Il(),uXe=oj(),Ebe=function(r){OK(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Dbe.Subscription,t.add(this.source.subscribe(new lXe(this.getSubject(),this))),t.closed&&(this._connection=null,t=Dbe.Subscription.EMPTY)),t},e.prototype.refCount=function(){return uXe.refCount()(this)},e}(aXe.Observable);VR.ConnectableObservable=Ebe;VR.connectableObservableDescriptor=function(){var r=Ebe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}();var lXe=function(r){OK(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._error=function(t){this._unsubscribe(),r.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},e}(sXe.SubjectSubscriber),GVt=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new dXe(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),dXe=function(r){OK(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(cXe.Subscriber)});var AK=C(GR=>{"use strict";var sj=GR&&GR.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(GR,"__esModule",{value:!0});var Rbe=gi(),Pbe=Il(),fXe=zo(),hXe=Xf();function pXe(r,e,t,n){return function(i){return i.lift(new mXe(r,e,t,n))}}GR.groupBy=pXe;var mXe=function(){function r(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return r.prototype.call=function(e,t){return t.subscribe(new gXe(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),gXe=function(r){sj(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(t){var n;try{n=this.keySelector(t)}catch(i){this.error(i);return}this._group(t,n)},e.prototype._group=function(t,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),s;if(this.elementSelector)try{s=this.elementSelector(t)}catch(u){this.error(u)}else s=t;if(!o){o=this.subjectSelector?this.subjectSelector():new hXe.Subject,i.set(n,o);var a=new kK(n,o,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new kK(n,o))}catch(u){this.error(u);return}this.add(c.subscribe(new vXe(n,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(t){var n=this.groups;n&&(n.forEach(function(i,o){i.error(t)}),n.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(n,i){n.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},e}(Rbe.Subscriber),vXe=function(r){sj(e,r);function e(t,n,i){var o=r.call(this,n)||this;return o.key=t,o.group=n,o.parent=i,o}return e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,n=t.parent,i=t.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(Rbe.Subscriber),kK=function(r){sj(e,r);function e(t,n,i){var o=r.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(t){var n=new Pbe.Subscription,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&n.add(new yXe(o)),n.add(s.subscribe(t)),n},e}(fXe.Observable);GR.GroupedObservable=kK;var yXe=function(r){sj(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,t.count++,n}return e.prototype.unsubscribe=function(){var t=this.parent;!t.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),t.count-=1,t.count===0&&t.attemptedToUnsubscribe&&t.unsubscribe())},e}(Pbe.Subscription)});var LK=C(O1=>{"use strict";var _Xe=O1&&O1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(O1,"__esModule",{value:!0});var bXe=Xf(),wXe=E1(),SXe=function(r){_Xe(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new wXe.ObjectUnsubscribedError;return this._value},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(bXe.Subject);O1.BehaviorSubject=SXe});var xbe=C(I1=>{"use strict";var CXe=I1&&I1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(I1,"__esModule",{value:!0});var TXe=Il(),DXe=function(r){CXe(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},e}(TXe.Subscription);I1.Action=DXe});var KR=C(k1=>{"use strict";var EXe=k1&&k1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(k1,"__esModule",{value:!0});var RXe=xbe(),PXe=function(r){EXe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),this.closed)return this;this.state=t;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,o=void 0;try{this.work(t)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},e}(RXe.Action);k1.AsyncAction=PXe});var Obe=C(A1=>{"use strict";var xXe=A1&&A1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(A1,"__esModule",{value:!0});var OXe=KR(),IXe=function(r){xXe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,n){return n>0||this.closed?r.prototype.execute.call(this,t,n):this._execute(t,n)},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},e}(OXe.AsyncAction);A1.QueueAction=IXe});var MK=C(NK=>{"use strict";Object.defineProperty(NK,"__esModule",{value:!0});var kXe=function(){function r(e,t){t===void 0&&(t=r.now),this.SchedulerAction=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},r.now=function(){return Date.now()},r}();NK.Scheduler=kXe});var YR=C(L1=>{"use strict";var AXe=L1&&L1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(L1,"__esModule",{value:!0});var Ibe=MK(),LXe=function(r){AXe(e,r);function e(t,n){n===void 0&&(n=Ibe.Scheduler.now);var i=r.call(this,t,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(t,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,i):r.prototype.schedule.call(this,t,n,i)},e.prototype.flush=function(t){var n=this.actions;if(this.active){n.push(t);return}var i;this.active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(Ibe.Scheduler);L1.AsyncScheduler=LXe});var kbe=C(N1=>{"use strict";var NXe=N1&&N1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(N1,"__esModule",{value:!0});var MXe=YR(),FXe=function(r){NXe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(MXe.AsyncScheduler);N1.QueueScheduler=FXe});var FK=C(M1=>{"use strict";Object.defineProperty(M1,"__esModule",{value:!0});var qXe=Obe(),jXe=kbe();M1.queueScheduler=new jXe.QueueScheduler(qXe.QueueAction);M1.queue=M1.queueScheduler});var Hy=C(F1=>{"use strict";Object.defineProperty(F1,"__esModule",{value:!0});var Abe=zo();F1.EMPTY=new Abe.Observable(function(r){return r.complete()});function zXe(r){return r?UXe(r):F1.EMPTY}F1.empty=zXe;function UXe(r){return new Abe.Observable(function(e){return r.schedule(function(){return e.complete()})})}});var By=C(qK=>{"use strict";Object.defineProperty(qK,"__esModule",{value:!0});function HXe(r){return r&&typeof r.schedule=="function"}qK.isScheduler=HXe});var zK=C(jK=>{"use strict";Object.defineProperty(jK,"__esModule",{value:!0});jK.subscribeToArray=function(r){return function(e){for(var t=0,n=r.length;t<n&&!e.closed;t++)e.next(r[t]);e.complete()}}});var aj=C(UK=>{"use strict";Object.defineProperty(UK,"__esModule",{value:!0});var BXe=zo(),WXe=Il();function $Xe(r,e){return new BXe.Observable(function(t){var n=new WXe.Subscription,i=0;return n.add(e.schedule(function(){if(i===r.length){t.complete();return}t.next(r[i++]),t.closed||n.add(this.schedule())})),n})}UK.scheduleArray=$Xe});var JR=C(HK=>{"use strict";Object.defineProperty(HK,"__esModule",{value:!0});var VXe=zo(),GXe=zK(),KXe=aj();function YXe(r,e){return e?KXe.scheduleArray(r,e):new VXe.Observable(GXe.subscribeToArray(r))}HK.fromArray=YXe});var q1=C(BK=>{"use strict";Object.defineProperty(BK,"__esModule",{value:!0});var JXe=By(),XXe=JR(),QXe=aj();function ZXe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return JXe.isScheduler(t)?(r.pop(),QXe.scheduleArray(r,t)):XXe.fromArray(r)}BK.of=ZXe});var cj=C(WK=>{"use strict";Object.defineProperty(WK,"__esModule",{value:!0});var Lbe=zo();function eQe(r,e){return e?new Lbe.Observable(function(t){return e.schedule(tQe,0,{error:r,subscriber:t})}):new Lbe.Observable(function(t){return t.error(r)})}WK.throwError=eQe;function tQe(r){var e=r.error,t=r.subscriber;t.error(e)}});var z1=C(j1=>{"use strict";Object.defineProperty(j1,"__esModule",{value:!0});var rQe=Hy(),nQe=q1(),iQe=cj(),oQe;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(oQe=j1.NotificationKind||(j1.NotificationKind={}));var sQe=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},r.prototype.do=function(e,t,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},r.prototype.accept=function(e,t,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return nQe.of(this.value);case"E":return iQe.throwError(this.error);case"C":return rQe.empty()}throw new Error("unexpected notification kind value")},r.createNext=function(e){return typeof e<"u"?new r("N",e):r.undefinedValueNotification},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();j1.Notification=sQe});var VK=C(dT=>{"use strict";var aQe=dT&&dT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dT,"__esModule",{value:!0});var cQe=gi(),$K=z1();function uQe(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Nbe(r,e))}}dT.observeOn=uQe;var Nbe=function(){function r(e,t){t===void 0&&(t=0),this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return t.subscribe(new Mbe(e,this.scheduler,this.delay))},r}();dT.ObserveOnOperator=Nbe;var Mbe=function(r){aQe(e,r);function e(t,n,i){i===void 0&&(i=0);var o=r.call(this,t)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(t){var n=t.notification,i=t.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Fbe(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage($K.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage($K.Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage($K.Notification.createComplete()),this.unsubscribe()},e}(cQe.Subscriber);dT.ObserveOnSubscriber=Mbe;var Fbe=function(){function r(e,t){this.notification=e,this.destination=t}return r}();dT.ObserveOnMessage=Fbe});var uj=C(U1=>{"use strict";var lQe=U1&&U1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(U1,"__esModule",{value:!0});var dQe=Xf(),fQe=FK(),hQe=Il(),pQe=VK(),mQe=E1(),gQe=EK(),vQe=function(r){lQe(e,r);function e(t,n,i){t===void 0&&(t=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,t)},e.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new yQe(this._getNow(),t)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new mQe.ObjectUnsubscribedError;if(this.isStopped||this.hasError?a=hQe.Subscription.EMPTY:(this.observers.push(t),a=new gQe.SubjectSubscription(this,t)),o&&t.add(t=new pQe.ObserveOnSubscriber(t,o)),n)for(var c=0;c<s&&!t.closed;c++)t.next(i[c]);else for(var c=0;c<s&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a},e.prototype._getNow=function(){return(this.scheduler||fQe.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(t-o[a].time<i);)a++;return s>n&&(a=Math.max(a,s-n)),a>0&&o.splice(0,a),o},e}(dQe.Subject);U1.ReplaySubject=vQe;var yQe=function(){function r(e,t){this.time=e,this.value=t}return r}()});var B1=C(H1=>{"use strict";var _Qe=H1&&H1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(H1,"__esModule",{value:!0});var bQe=Xf(),qbe=Il(),wQe=function(r){_Qe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return e.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),qbe.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),qbe.Subscription.EMPTY):r.prototype._subscribe.call(this,t)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(t){this.hasCompleted||r.prototype.error.call(this,t)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},e}(bQe.Subject);H1.AsyncSubject=wQe});var zbe=C(dj=>{"use strict";Object.defineProperty(dj,"__esModule",{value:!0});var SQe=1,CQe=function(){return Promise.resolve()}(),lj={};function jbe(r){return r in lj?(delete lj[r],!0):!1}dj.Immediate={setImmediate:function(r){var e=SQe++;return lj[e]=!0,CQe.then(function(){return jbe(e)&&r()}),e},clearImmediate:function(r){jbe(r)}};dj.TestTools={pending:function(){return Object.keys(lj).length}}});var Hbe=C(W1=>{"use strict";var TQe=W1&&W1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(W1,"__esModule",{value:!0});var Ube=zbe(),DQe=KR(),EQe=function(r){TQe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=Ube.Immediate.setImmediate(t.flush.bind(t,null))))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(Ube.Immediate.clearImmediate(n),t.scheduled=void 0)},e}(DQe.AsyncAction);W1.AsapAction=EQe});var Bbe=C($1=>{"use strict";var RQe=$1&&$1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($1,"__esModule",{value:!0});var PQe=YR(),xQe=function(r){RQe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(PQe.AsyncScheduler);$1.AsapScheduler=xQe});var GK=C(V1=>{"use strict";Object.defineProperty(V1,"__esModule",{value:!0});var OQe=Hbe(),IQe=Bbe();V1.asapScheduler=new IQe.AsapScheduler(OQe.AsapAction);V1.asap=V1.asapScheduler});var cp=C(G1=>{"use strict";Object.defineProperty(G1,"__esModule",{value:!0});var kQe=KR(),AQe=YR();G1.asyncScheduler=new AQe.AsyncScheduler(kQe.AsyncAction);G1.async=G1.asyncScheduler});var Wbe=C(K1=>{"use strict";var LQe=K1&&K1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(K1,"__esModule",{value:!0});var NQe=KR(),MQe=function(r){LQe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(cancelAnimationFrame(n),t.scheduled=void 0)},e}(NQe.AsyncAction);K1.AnimationFrameAction=MQe});var $be=C(Y1=>{"use strict";var FQe=Y1&&Y1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Y1,"__esModule",{value:!0});var qQe=YR(),jQe=function(r){FQe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(qQe.AsyncScheduler);Y1.AnimationFrameScheduler=jQe});var Vbe=C(J1=>{"use strict";Object.defineProperty(J1,"__esModule",{value:!0});var zQe=Wbe(),UQe=$be();J1.animationFrameScheduler=new UQe.AnimationFrameScheduler(zQe.AnimationFrameAction);J1.animationFrame=J1.animationFrameScheduler});var Ybe=C(XR=>{"use strict";var Gbe=XR&&XR.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(XR,"__esModule",{value:!0});var HQe=KR(),BQe=YR(),WQe=function(r){Gbe(e,r);function e(t,n){t===void 0&&(t=Kbe),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(BQe.AsyncScheduler);XR.VirtualTimeScheduler=WQe;var Kbe=function(r){Gbe(e,r);function e(t,n,i){i===void 0&&(i=t.index+=1);var o=r.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=i,o.active=!0,o.index=t.index=i,o}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,t,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,n)},e.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,n,i){i===void 0&&(i=0)},e.prototype._execute=function(t,n){if(this.active===!0)return r.prototype._execute.call(this,t,n)},e.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},e}(HQe.AsyncAction);XR.VirtualAction=Kbe});var fj=C(KK=>{"use strict";Object.defineProperty(KK,"__esModule",{value:!0});function $Qe(){}KK.noop=$Qe});var Jbe=C(YK=>{"use strict";Object.defineProperty(YK,"__esModule",{value:!0});var VQe=zo();function GQe(r){return!!r&&(r instanceof VQe.Observable||typeof r.lift=="function"&&typeof r.subscribe=="function")}YK.isObservable=GQe});var QR=C(JK=>{"use strict";Object.defineProperty(JK,"__esModule",{value:!0});var KQe=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}();JK.ArgumentOutOfRangeError=KQe});var ZR=C(XK=>{"use strict";Object.defineProperty(XK,"__esModule",{value:!0});var YQe=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}();XK.EmptyError=YQe});var ZK=C(QK=>{"use strict";Object.defineProperty(QK,"__esModule",{value:!0});var JQe=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();QK.TimeoutError=JQe});var vg=C(eP=>{"use strict";var XQe=eP&&eP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(eP,"__esModule",{value:!0});var QQe=gi();function ZQe(r,e){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Xbe(r,e))}}eP.map=ZQe;var Xbe=function(){function r(e,t){this.project=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new eZe(e,this.project,this.thisArg))},r}();eP.MapOperator=Xbe;var eZe=function(r){XQe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(QQe.Subscriber)});var ewe=C(e9=>{"use strict";Object.defineProperty(e9,"__esModule",{value:!0});var tZe=zo(),Qbe=B1(),rZe=vg(),nZe=tj(),iZe=ap(),oZe=By();function Zbe(r,e,t){if(e)if(oZe.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Zbe(r,t).apply(void 0,n).pipe(rZe.map(function(o){return iZe.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:r,scheduler:t};return new tZe.Observable(function(c){if(t){var l={args:n,subscriber:c,params:a};return t.schedule(sZe,0,l)}else{if(!s){s=new Qbe.AsyncSubject;var u=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];s.next(d.length<=1?d[0]:d),s.complete()};try{r.apply(o,n.concat([u]))}catch(d){nZe.canReportError(s)?s.error(d):console.warn(d)}}return s.subscribe(c)}})}}e9.bindCallback=Zbe;function sZe(r){var e=this,t=this,n=r.args,i=r.subscriber,o=r.params,s=o.callbackFunc,a=o.context,c=o.scheduler,u=o.subject;if(!u){u=o.subject=new Qbe.AsyncSubject;var l=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var p=d.length<=1?d[0]:d;e.add(c.schedule(aZe,0,{value:p,subject:u}))};try{s.apply(a,n.concat([l]))}catch(d){u.error(d)}}this.add(u.subscribe(i))}function aZe(r){var e=r.value,t=r.subject;t.next(e),t.complete()}});var iwe=C(t9=>{"use strict";Object.defineProperty(t9,"__esModule",{value:!0});var cZe=zo(),rwe=B1(),uZe=vg(),lZe=tj(),dZe=By(),fZe=ap();function nwe(r,e,t){if(e)if(dZe.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return nwe(r,t).apply(void 0,n).pipe(uZe.map(function(o){return fZe.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:r,scheduler:t,context:this};return new cZe.Observable(function(s){var a=o.context,c=o.subject;if(t)return t.schedule(hZe,0,{params:o,subscriber:s,context:a});if(!c){c=o.subject=new rwe.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{r.apply(a,n.concat([u]))}catch(l){lZe.canReportError(c)?c.error(l):console.warn(l)}}return c.subscribe(s)})}}t9.bindNodeCallback=nwe;function hZe(r){var e=this,t=r.params,n=r.subscriber,i=r.context,o=t.callbackFunc,s=t.args,a=t.scheduler,c=t.subject;if(!c){c=t.subject=new rwe.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f)e.add(a.schedule(twe,0,{err:f,subject:c}));else{var p=l.length<=1?l[0]:l;e.add(a.schedule(pZe,0,{value:p,subject:c}))}};try{o.apply(i,s.concat([u]))}catch(l){this.add(a.schedule(twe,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function pZe(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function twe(r){var e=r.err,t=r.subject;t.error(e)}});var fT=C(X1=>{"use strict";var mZe=X1&&X1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(X1,"__esModule",{value:!0});var gZe=gi(),vZe=function(r){mZe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(n)},e.prototype.notifyError=function(t,n){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(gZe.Subscriber);X1.OuterSubscriber=vZe});var owe=C(Q1=>{"use strict";var yZe=Q1&&Q1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Q1,"__esModule",{value:!0});var _Ze=gi(),bZe=function(r){yZe(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(_Ze.Subscriber);Q1.InnerSubscriber=bZe});var swe=C(r9=>{"use strict";Object.defineProperty(r9,"__esModule",{value:!0});var wZe=J2();r9.subscribeToPromise=function(r){return function(e){return r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,wZe.hostReportError),e}}});var rP=C(tP=>{"use strict";Object.defineProperty(tP,"__esModule",{value:!0});function awe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}tP.getSymbolIterator=awe;tP.iterator=awe();tP.$$iterator=tP.iterator});var cwe=C(n9=>{"use strict";Object.defineProperty(n9,"__esModule",{value:!0});var SZe=rP();n9.subscribeToIterable=function(r){return function(e){var t=r[SZe.iterator]();do{var n=void 0;try{n=t.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof t.return=="function"&&e.add(function(){t.return&&t.return()}),e}}});var uwe=C(i9=>{"use strict";Object.defineProperty(i9,"__esModule",{value:!0});var CZe=w0();i9.subscribeToObservable=function(r){return function(e){var t=r[CZe.observable]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}}});var s9=C(o9=>{"use strict";Object.defineProperty(o9,"__esModule",{value:!0});o9.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var c9=C(a9=>{"use strict";Object.defineProperty(a9,"__esModule",{value:!0});function TZe(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}a9.isPromise=TZe});var Z1=C(u9=>{"use strict";Object.defineProperty(u9,"__esModule",{value:!0});var DZe=zK(),EZe=swe(),RZe=cwe(),PZe=uwe(),xZe=s9(),OZe=c9(),IZe=X2(),kZe=rP(),AZe=w0();u9.subscribeTo=function(r){if(r&&typeof r[AZe.observable]=="function")return PZe.subscribeToObservable(r);if(xZe.isArrayLike(r))return DZe.subscribeToArray(r);if(OZe.isPromise(r))return EZe.subscribeToPromise(r);if(r&&typeof r[kZe.iterator]=="function")return RZe.subscribeToIterable(r);var e=IZe.isObject(r)?"an invalid object":"'"+r+"'",t="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)}});var hT=C(l9=>{"use strict";Object.defineProperty(l9,"__esModule",{value:!0});var LZe=owe(),NZe=Z1(),MZe=zo();function FZe(r,e,t,n,i){if(i===void 0&&(i=new LZe.InnerSubscriber(r,t,n)),!i.closed)return e instanceof MZe.Observable?e.subscribe(i):NZe.subscribeTo(e)(i)}l9.subscribeToResult=FZe});var hj=C(C0=>{"use strict";var qZe=C0&&C0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(C0,"__esModule",{value:!0});var jZe=By(),zZe=ap(),UZe=fT(),HZe=hT(),BZe=JR(),lwe={};function WZe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0,n=void 0;return jZe.isScheduler(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&zZe.isArray(r[0])&&(r=r[0]),BZe.fromArray(r,n).lift(new dwe(t))}C0.combineLatest=WZe;var dwe=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new fwe(e,this.resultSelector))},r}();C0.CombineLatestOperator=dwe;var fwe=function(r){qZe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(t){this.values.push(lwe),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=t[i];this.add(HZe.subscribeToResult(this,o,void 0,i))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,n,i){var o=this.values,s=o[i],a=this.toRespond?s===lwe?--this.toRespond:this.toRespond:0;o[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(UZe.OuterSubscriber);C0.CombineLatestSubscriber=fwe});var hwe=C(d9=>{"use strict";Object.defineProperty(d9,"__esModule",{value:!0});var $Ze=zo(),VZe=Il(),GZe=w0();function KZe(r,e){return new $Ze.Observable(function(t){var n=new VZe.Subscription;return n.add(e.schedule(function(){var i=r[GZe.observable]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return t.next(o)}))},error:function(o){n.add(e.schedule(function(){return t.error(o)}))},complete:function(){n.add(e.schedule(function(){return t.complete()}))}}))})),n})}d9.scheduleObservable=KZe});var pwe=C(f9=>{"use strict";Object.defineProperty(f9,"__esModule",{value:!0});var YZe=zo(),JZe=Il();function XZe(r,e){return new YZe.Observable(function(t){var n=new JZe.Subscription;return n.add(e.schedule(function(){return r.then(function(i){n.add(e.schedule(function(){t.next(i),n.add(e.schedule(function(){return t.complete()}))}))},function(i){n.add(e.schedule(function(){return t.error(i)}))})})),n})}f9.schedulePromise=XZe});var mwe=C(h9=>{"use strict";Object.defineProperty(h9,"__esModule",{value:!0});var QZe=zo(),ZZe=Il(),eet=rP();function tet(r,e){if(!r)throw new Error("Iterable cannot be null");return new QZe.Observable(function(t){var n=new ZZe.Subscription,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=r[eet.iterator](),n.add(e.schedule(function(){if(!t.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(c){t.error(c);return}s?t.complete():(t.next(o),this.schedule())}}))})),n})}h9.scheduleIterable=tet});var gwe=C(p9=>{"use strict";Object.defineProperty(p9,"__esModule",{value:!0});var ret=w0();function net(r){return r&&typeof r[ret.observable]=="function"}p9.isInteropObservable=net});var vwe=C(m9=>{"use strict";Object.defineProperty(m9,"__esModule",{value:!0});var iet=rP();function oet(r){return r&&typeof r[iet.iterator]=="function"}m9.isIterable=oet});var v9=C(g9=>{"use strict";Object.defineProperty(g9,"__esModule",{value:!0});var set=hwe(),aet=pwe(),cet=aj(),uet=mwe(),det=gwe(),fet=c9(),het=s9(),pet=vwe();function met(r,e){if(r!=null){if(det.isInteropObservable(r))return set.scheduleObservable(r,e);if(fet.isPromise(r))return aet.schedulePromise(r,e);if(het.isArrayLike(r))return cet.scheduleArray(r,e);if(pet.isIterable(r)||typeof r=="string")return uet.scheduleIterable(r,e)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}g9.scheduled=met});var Wy=C(y9=>{"use strict";Object.defineProperty(y9,"__esModule",{value:!0});var ywe=zo(),get=Z1(),vet=v9();function yet(r,e){return e?vet.scheduled(r,e):r instanceof ywe.Observable?r:new ywe.Observable(get.subscribeTo(r))}y9.from=yet});var zc=C(Vw=>{"use strict";var pj=Vw&&Vw.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Vw,"__esModule",{value:!0});var mj=gi(),_et=zo(),bet=Z1(),wet=function(r){pj(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,n}return e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(mj.Subscriber);Vw.SimpleInnerSubscriber=wet;var Cet=function(r){pj(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(mj.Subscriber);Vw.ComplexInnerSubscriber=Cet;var Tet=function(r){pj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(mj.Subscriber);Vw.SimpleOuterSubscriber=Tet;var Det=function(r){pj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o){this.destination.next(n)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(mj.Subscriber);Vw.ComplexOuterSubscriber=Det;function Eet(r,e){if(!e.closed){if(r instanceof _et.Observable)return r.subscribe(e);var t;try{t=bet.subscribeTo(r)(e)}catch(n){e.error(n)}return t}}Vw.innerSubscribe=Eet});var eA=C(pT=>{"use strict";var Ret=pT&&pT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pT,"__esModule",{value:!0});var Pet=vg(),xet=Wy(),_9=zc();function b9(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(b9(function(i,o){return xet.from(r(i,o)).pipe(Pet.map(function(s,a){return e(i,s,o,a)}))},t))}:(typeof e=="number"&&(t=e),function(n){return n.lift(new _we(r,t))})}pT.mergeMap=b9;var _we=function(){function r(e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return r.prototype.call=function(e,t){return t.subscribe(new bwe(e,this.project,this.concurrent))},r}();pT.MergeMapOperator=_we;var bwe=function(r){Ret(e,r);function e(t,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=r.call(this,t)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new _9.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=_9.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(_9.SimpleOuterSubscriber);pT.MergeMapSubscriber=bwe;pT.flatMap=b9});var gj=C(w9=>{"use strict";Object.defineProperty(w9,"__esModule",{value:!0});var Oet=eA(),Iet=lT();function ket(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),Oet.mergeMap(Iet.identity,r)}w9.mergeAll=ket});var C9=C(S9=>{"use strict";Object.defineProperty(S9,"__esModule",{value:!0});var Aet=gj();function Let(){return Aet.mergeAll(1)}S9.concatAll=Let});var tA=C(T9=>{"use strict";Object.defineProperty(T9,"__esModule",{value:!0});var Net=q1(),Met=C9();function Fet(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Met.concatAll()(Net.of.apply(void 0,r))}T9.concat=Fet});var vj=C(D9=>{"use strict";Object.defineProperty(D9,"__esModule",{value:!0});var qet=zo(),jet=Wy(),zet=Hy();function Uet(r){return new qet.Observable(function(e){var t;try{t=r()}catch(i){e.error(i);return}var n=t?jet.from(t):zet.empty();return n.subscribe(e)})}D9.defer=Uet});var Swe=C(E9=>{"use strict";Object.defineProperty(E9,"__esModule",{value:!0});var Het=zo(),wwe=ap(),Bet=vg(),Wet=X2(),$et=Wy();function Vet(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1){var t=r[0];if(wwe.isArray(t))return yj(t,null);if(Wet.isObject(t)&&Object.getPrototypeOf(t)===Object.prototype){var n=Object.keys(t);return yj(n.map(function(o){return t[o]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&wwe.isArray(r[0])?r[0]:r,yj(r,null).pipe(Bet.map(function(o){return i.apply(void 0,o)}))}return yj(r,null)}E9.forkJoin=Vet;function yj(r,e){return new Het.Observable(function(t){var n=r.length;if(n===0){t.complete();return}for(var i=new Array(n),o=0,s=0,a=function(u){var l=$et.from(r[u]),d=!1;t.add(l.subscribe({next:function(f){d||(d=!0,s++),i[u]=f},error:function(f){return t.error(f)},complete:function(){o++,(o===n||!d)&&(s===n&&t.next(e?e.reduce(function(f,p,_){return f[p]=i[_],f},{}):i),t.complete())}}))},c=0;c<n;c++)a(c)})}});var Dwe=C(R9=>{"use strict";Object.defineProperty(R9,"__esModule",{value:!0});var Get=zo(),Ket=ap(),Yet=BR(),Jet=vg();function Cwe(r,e,t,n){return Yet.isFunction(t)&&(n=t,t=void 0),n?Cwe(r,e,t).pipe(Jet.map(function(i){return Ket.isArray(i)?n.apply(void 0,i):n(i)})):new Get.Observable(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}Twe(r,e,o,i,t)})}R9.fromEvent=Cwe;function Twe(r,e,t,n,i){var o;if(Zet(r)){var s=r;r.addEventListener(e,t,i),o=function(){return s.removeEventListener(e,t,i)}}else if(Qet(r)){var a=r;r.on(e,t),o=function(){return a.off(e,t)}}else if(Xet(r)){var c=r;r.addListener(e,t),o=function(){return c.removeListener(e,t)}}else if(r&&r.length)for(var u=0,l=r.length;u<l;u++)Twe(r[u],e,t,n,i);else throw new TypeError("Invalid event target");n.add(o)}function Xet(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function Qet(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function Zet(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}});var Rwe=C(P9=>{"use strict";Object.defineProperty(P9,"__esModule",{value:!0});var ett=zo(),ttt=ap(),rtt=BR(),ntt=vg();function Ewe(r,e,t){return t?Ewe(r,e).pipe(ntt.map(function(n){return ttt.isArray(n)?t.apply(void 0,n):t(n)})):new ett.Observable(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o;try{o=r(i)}catch(s){n.error(s);return}if(rtt.isFunction(e))return function(){return e(i,o)}})}P9.fromEventPattern=Ewe});var xwe=C(x9=>{"use strict";Object.defineProperty(x9,"__esModule",{value:!0});var itt=zo(),Pwe=lT(),ott=By();function stt(r,e,t,n,i){var o,s;if(arguments.length==1){var a=r;s=a.initialState,e=a.condition,t=a.iterate,o=a.resultSelector||Pwe.identity,i=a.scheduler}else n===void 0||ott.isScheduler(n)?(s=r,o=Pwe.identity,i=n):(s=r,o=n);return new itt.Observable(function(c){var u=s;if(i)return i.schedule(att,0,{subscriber:c,iterate:t,condition:e,resultSelector:o,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var d=void 0;try{d=o(u)}catch(f){c.error(f);return}if(c.next(d),c.closed)break;try{u=t(u)}catch(f){c.error(f);return}}while(!0)})}x9.generate=stt;function att(r){var e=r.subscriber,t=r.condition;if(!e.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(o){e.error(o);return}else r.needIterate=!0;if(t){var n=void 0;try{n=t(r.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=r.resultSelector(r.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(r)}}});var Iwe=C(O9=>{"use strict";Object.defineProperty(O9,"__esModule",{value:!0});var ctt=vj(),Owe=Hy();function utt(r,e,t){return e===void 0&&(e=Owe.EMPTY),t===void 0&&(t=Owe.EMPTY),ctt.defer(function(){return r()?e:t})}O9.iif=utt});var rA=C(I9=>{"use strict";Object.defineProperty(I9,"__esModule",{value:!0});var ltt=ap();function dtt(r){return!ltt.isArray(r)&&r-parseFloat(r)+1>=0}I9.isNumeric=dtt});var Awe=C(k9=>{"use strict";Object.defineProperty(k9,"__esModule",{value:!0});var ftt=zo(),kwe=cp(),htt=rA();function ptt(r,e){return r===void 0&&(r=0),e===void 0&&(e=kwe.async),(!htt.isNumeric(r)||r<0)&&(r=0),(!e||typeof e.schedule!="function")&&(e=kwe.async),new ftt.Observable(function(t){return t.add(e.schedule(mtt,r,{subscriber:t,counter:0,period:r})),t})}k9.interval=ptt;function mtt(r){var e=r.subscriber,t=r.counter,n=r.period;e.next(t),this.schedule({subscriber:e,counter:t+1,period:n},n)}});var L9=C(A9=>{"use strict";Object.defineProperty(A9,"__esModule",{value:!0});var gtt=zo(),vtt=By(),ytt=gj(),_tt=JR();function btt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Number.POSITIVE_INFINITY,n=null,i=r[r.length-1];return vtt.isScheduler(i)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(t=r.pop())):typeof i=="number"&&(t=r.pop()),n===null&&r.length===1&&r[0]instanceof gtt.Observable?r[0]:ytt.mergeAll(t)(_tt.fromArray(r,n))}A9.merge=btt});var N9=C(nA=>{"use strict";Object.defineProperty(nA,"__esModule",{value:!0});var wtt=zo(),Stt=fj();nA.NEVER=new wtt.Observable(Stt.noop);function Ctt(){return nA.NEVER}nA.never=Ctt});var Lwe=C(F9=>{"use strict";Object.defineProperty(F9,"__esModule",{value:!0});var Ttt=zo(),Dtt=Wy(),Ett=ap(),Rtt=Hy();function M9(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===0)return Rtt.EMPTY;var t=r[0],n=r.slice(1);return r.length===1&&Ett.isArray(t)?M9.apply(void 0,t):new Ttt.Observable(function(i){var o=function(){return i.add(M9.apply(void 0,n).subscribe(i))};return Dtt.from(t).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}F9.onErrorResumeNext=M9});var Fwe=C(_j=>{"use strict";Object.defineProperty(_j,"__esModule",{value:!0});var Nwe=zo(),Ptt=Il();function xtt(r,e){return e?new Nwe.Observable(function(t){var n=Object.keys(r),i=new Ptt.Subscription;return i.add(e.schedule(Mwe,0,{keys:n,index:0,subscriber:t,subscription:i,obj:r})),i}):new Nwe.Observable(function(t){for(var n=Object.keys(r),i=0;i<n.length&&!t.closed;i++){var o=n[i];r.hasOwnProperty(o)&&t.next([o,r[o]])}t.complete()})}_j.pairs=xtt;function Mwe(r){var e=r.keys,t=r.index,n=r.subscriber,i=r.subscription,o=r.obj;if(!n.closed)if(t<e.length){var s=e[t];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:t+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}_j.dispatch=Mwe});var j9=C(q9=>{"use strict";Object.defineProperty(q9,"__esModule",{value:!0});function Ott(r,e){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=r,t.thisArg=e,t}q9.not=Ott});var T0=C(iA=>{"use strict";var Itt=iA&&iA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iA,"__esModule",{value:!0});var ktt=gi();function Att(r,e){return function(n){return n.lift(new Ltt(r,e))}}iA.filter=Att;var Ltt=function(){function r(e,t){this.predicate=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new Ntt(e,this.predicate,this.thisArg))},r}(),Ntt=function(r){Itt(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(t)},e}(ktt.Subscriber)});var Uwe=C(z9=>{"use strict";Object.defineProperty(z9,"__esModule",{value:!0});var Mtt=j9(),qwe=Z1(),jwe=T0(),zwe=zo();function Ftt(r,e,t){return[jwe.filter(e,t)(new zwe.Observable(qwe.subscribeTo(r))),jwe.filter(Mtt.not(e,t))(new zwe.Observable(qwe.subscribeTo(r)))]}z9.partition=Ftt});var U9=C(D0=>{"use strict";var qtt=D0&&D0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(D0,"__esModule",{value:!0});var jtt=ap(),ztt=JR(),Utt=fT(),Htt=hT();function Btt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1)if(jtt.isArray(r[0]))r=r[0];else return r[0];return ztt.fromArray(r,void 0).lift(new Hwe)}D0.race=Btt;var Hwe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new Bwe(e))},r}();D0.RaceOperator=Hwe;var Bwe=function(r){qtt(e,r);function e(t){var n=r.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=t[i],s=Htt.subscribeToResult(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(t,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(n)},e}(Utt.OuterSubscriber);D0.RaceSubscriber=Bwe});var $we=C(bj=>{"use strict";Object.defineProperty(bj,"__esModule",{value:!0});var Wtt=zo();function $tt(r,e,t){return r===void 0&&(r=0),new Wtt.Observable(function(n){e===void 0&&(e=r,r=0);var i=0,o=r;if(t)return t.schedule(Wwe,0,{index:i,count:e,start:r,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}bj.range=$tt;function Wwe(r){var e=r.start,t=r.index,n=r.count,i=r.subscriber;if(t>=n){i.complete();return}i.next(e),!i.closed&&(r.index=t+1,r.start=e+1,this.schedule(r))}bj.dispatch=Wwe});var B9=C(H9=>{"use strict";Object.defineProperty(H9,"__esModule",{value:!0});var Vtt=zo(),Gtt=cp(),Vwe=rA(),Gwe=By();function Ktt(r,e,t){r===void 0&&(r=0);var n=-1;return Vwe.isNumeric(e)?n=Number(e)<1&&1||Number(e):Gwe.isScheduler(e)&&(t=e),Gwe.isScheduler(t)||(t=Gtt.async),new Vtt.Observable(function(i){var o=Vwe.isNumeric(r)?r:+r-t.now();return t.schedule(Ytt,o,{index:0,period:n,subscriber:i})})}H9.timer=Ktt;function Ytt(r){var e=r.index,t=r.period,n=r.subscriber;if(n.next(e),!n.closed){if(t===-1)return n.complete();r.index=e+1,this.schedule(r,t)}}});var Kwe=C(W9=>{"use strict";Object.defineProperty(W9,"__esModule",{value:!0});var Jtt=zo(),Xtt=Wy(),Qtt=Hy();function Ztt(r,e){return new Jtt.Observable(function(t){var n;try{n=r()}catch(a){t.error(a);return}var i;try{i=e(n)}catch(a){t.error(a);return}var o=i?Xtt.from(i):Qtt.EMPTY,s=o.subscribe(t);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}W9.using=Ztt});var Sj=C(E0=>{"use strict";var Ywe=E0&&E0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(E0,"__esModule",{value:!0});var ert=JR(),trt=ap(),rrt=gi(),wj=rP(),$9=zc();function nrt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return typeof t=="function"&&r.pop(),ert.fromArray(r,void 0).lift(new Jwe(t))}E0.zip=nrt;var Jwe=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Xwe(e,this.resultSelector))},r}();E0.ZipOperator=Jwe;var Xwe=function(r){Ywe(e,r);function e(t,n,i){i===void 0&&(i=Object.create(null));var o=r.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(t){var n=this.iterators;trt.isArray(t)?n.push(new ort(t)):typeof t[wj.iterator]=="function"?n.push(new irt(t[wj.iterator]())):n.push(new srt(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,n=t.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=t[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,n=t.length,i=this.destination,o=0;o<n;o++){var s=t[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,c=[],o=0;o<n;o++){var s=t[o],u=s.next();if(s.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(rrt.Subscriber);E0.ZipSubscriber=Xwe;var irt=function(){function r(e){this.iterator=e,this.nextResult=e.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},r.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},r}(),ort=function(){function r(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return r.prototype[wj.iterator]=function(){return this},r.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),srt=function(r){Ywe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[wj.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return t.length===0&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return $9.innerSubscribe(this.observable,new $9.SimpleInnerSubscriber(this))},e}($9.SimpleOuterSubscriber)});var mT=C(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var art=zo();gn.Observable=art.Observable;var crt=IK();gn.ConnectableObservable=crt.ConnectableObservable;var urt=AK();gn.GroupedObservable=urt.GroupedObservable;var lrt=w0();gn.observable=lrt.observable;var drt=Xf();gn.Subject=drt.Subject;var frt=LK();gn.BehaviorSubject=frt.BehaviorSubject;var hrt=uj();gn.ReplaySubject=hrt.ReplaySubject;var prt=B1();gn.AsyncSubject=prt.AsyncSubject;var Qwe=GK();gn.asap=Qwe.asap;gn.asapScheduler=Qwe.asapScheduler;var Zwe=cp();gn.async=Zwe.async;gn.asyncScheduler=Zwe.asyncScheduler;var eSe=FK();gn.queue=eSe.queue;gn.queueScheduler=eSe.queueScheduler;var tSe=Vbe();gn.animationFrame=tSe.animationFrame;gn.animationFrameScheduler=tSe.animationFrameScheduler;var rSe=Ybe();gn.VirtualTimeScheduler=rSe.VirtualTimeScheduler;gn.VirtualAction=rSe.VirtualAction;var mrt=MK();gn.Scheduler=mrt.Scheduler;var grt=Il();gn.Subscription=grt.Subscription;var vrt=gi();gn.Subscriber=vrt.Subscriber;var nSe=z1();gn.Notification=nSe.Notification;gn.NotificationKind=nSe.NotificationKind;var yrt=nj();gn.pipe=yrt.pipe;var _rt=fj();gn.noop=_rt.noop;var brt=lT();gn.identity=brt.identity;var wrt=Jbe();gn.isObservable=wrt.isObservable;var Srt=QR();gn.ArgumentOutOfRangeError=Srt.ArgumentOutOfRangeError;var Crt=ZR();gn.EmptyError=Crt.EmptyError;var Trt=E1();gn.ObjectUnsubscribedError=Trt.ObjectUnsubscribedError;var Drt=mK();gn.UnsubscriptionError=Drt.UnsubscriptionError;var Ert=ZK();gn.TimeoutError=Ert.TimeoutError;var Rrt=ewe();gn.bindCallback=Rrt.bindCallback;var Prt=iwe();gn.bindNodeCallback=Prt.bindNodeCallback;var xrt=hj();gn.combineLatest=xrt.combineLatest;var Ort=tA();gn.concat=Ort.concat;var Irt=vj();gn.defer=Irt.defer;var krt=Hy();gn.empty=krt.empty;var Art=Swe();gn.forkJoin=Art.forkJoin;var Lrt=Wy();gn.from=Lrt.from;var Nrt=Dwe();gn.fromEvent=Nrt.fromEvent;var Mrt=Rwe();gn.fromEventPattern=Mrt.fromEventPattern;var Frt=xwe();gn.generate=Frt.generate;var qrt=Iwe();gn.iif=qrt.iif;var jrt=Awe();gn.interval=jrt.interval;var zrt=L9();gn.merge=zrt.merge;var Urt=N9();gn.never=Urt.never;var Hrt=q1();gn.of=Hrt.of;var Brt=Lwe();gn.onErrorResumeNext=Brt.onErrorResumeNext;var Wrt=Fwe();gn.pairs=Wrt.pairs;var $rt=Uwe();gn.partition=$rt.partition;var Vrt=U9();gn.race=Vrt.race;var Grt=$we();gn.range=Grt.range;var Krt=cj();gn.throwError=Krt.throwError;var Yrt=B9();gn.timer=Yrt.timer;var Jrt=Kwe();gn.using=Jrt.using;var Xrt=Sj();gn.zip=Xrt.zip;var Qrt=v9();gn.scheduled=Qrt.scheduled;var Zrt=Hy();gn.EMPTY=Zrt.EMPTY;var ent=N9();gn.NEVER=ent.NEVER;var tnt=T1();gn.config=tnt.config});var SSe=C(Oj=>{"use strict";Object.defineProperty(Oj,"__esModule",{value:!0});Oj.BaseTelemetryReporter=void 0;var t7=class{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendRawTelemetryEvent(e,t,n){let i={...t};for(let o of Object.keys(i??{})){let s=i[o];typeof o=="string"&&s!==void 0&&(i[o]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(e,i,n)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}};Oj.BaseTelemetryReporter=t7});var CSe=C(Ij=>{"use strict";Object.defineProperty(Ij,"__esModule",{value:!0});Ij.BaseTelemetrySender=void 0;var Kw;(function(r){r[r.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",r[r.INSTANTIATING=1]="INSTANTIATING",r[r.INSTANTIATED=2]="INSTANTIATED"})(Kw||(Kw={}));var r7=class{constructor(e,t){this._instantiationStatus=Kw.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==Kw.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==Kw.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}let n={stack:e.stack,message:e.message,name:e.name};t?t.properties={...t.properties,...n}:t={properties:n},this._telemetryClient.logEvent("unhandlederror",t)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===Kw.NOT_INSTANTIATED&&(this._instantiationStatus=Kw.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=Kw.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=Kw.INSTANTIATED}))}};Ij.BaseTelemetrySender=r7});var i7=C(kj=>{"use strict";Object.defineProperty(kj,"__esModule",{value:!0});kj.TelemetryUtil=void 0;var n7=class r{static applyReplacements(e,t){for(let n of Object.keys(e))for(let i of t)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.0"}}static getInstance(){return r._instance||(r._instance=new r),r._instance}};kj.TelemetryUtil=n7});var DSe=C((Aj,TSe)=>{(function(r,e){typeof Aj=="object"&&typeof TSe<"u"?e(Aj):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(Aj,function(r){"use strict";var e="function",t="object",n="undefined",i="prototype",o=Object,s=o[i],a=void 0,c=null,u="",l="boolean",d="function",f="number",p="object",_="prototype",D="__proto__",x="string",N="undefined",A="constructor",U="Symbol",ee="_polyfill",he="indexOf",we="length",V="done",W="value",te="name",De="slice",ae=Object,ue=ae[_],qe=String,Me=qe[_],ce=Math,Ce=Array,be=Ce[_];function xe(m,b){var I=b;try{I=m()}catch{}return I}var Ne=[x,f,l,N,"symbol","bigint"];function $e(m){return function(b){return typeof b===m}}function Ct(m){var b="[object "+m+"]";return function(I){return!!(I&&ze(I)===b)}}function ze(m){return ue.toString.call(m)}function st(m,b){return typeof m===b}function at(m){return typeof m===N||m===N}function tt(m){return m===c||at(m)}function fr(m){return m===c||!Lr(m)}function Lr(m){return!!m||m!==a}var zr=function(m){return m!==p&&Ne.indexOf(m)!==-1},cr=$e(x),xt=$e(d);function hr(m){return!m&&tt(m)?!1:!!m&&typeof m===p}var Nt=Ce.isArray,on=Ct("Date"),ln=$e(f),On=$e(l),Or=Ct("Error");function Hn(m){return!!m&&xt(m.then)}function $r(m){return!m||!xe(function(){return m&&0+m},m)}function dn(m){return!(!m||xe(function(){return!(m&&0+m)},!m))}var ii=ae.getOwnPropertyDescriptor;function Vr(m,b){return m&&ue.hasOwnProperty.call(m,b)}var An=ae.hasOwn||Pi;function Pi(m,b){return Vr(m,b)||!!ii(m,b)}function Gr(m,b,I){if(m&&hr(m)){for(var j in m)if(An(m,j)&&b.call(I||m,j,m[j])===-1)break}}function Ji(m,b,I,j){var $={};return Gr(m,function(ie,ge){$[ie]=b?ge:ie,$[ge]=I?ge:ie}),j($)}function oi(m){throw new Error(m)}function fn(m){throw new TypeError(m)}var Oe=ae.freeze,oe=function(m){return m},Q=function(m){return m[D]||c},_e=ae.assign;function Je(m){return(!hr(m)||m===c)&&fn("objKeys called on non-object"),ae.keys(m)}function ft(m){return Oe&&Gr(m,function(b,I){(Nt(I)||hr(I))&&Oe(I)}),Yt(m)}var Yt=Oe||oe,rr=ae.seal||oe,Jt=ae.getPrototypeOf||Q;function $t(m){return Ji(m,1,0,ft)}function kt(m){return Ji(m,0,0,ft)}var K=kt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Fe=qe,Ht="__tsUtils$gblCfg",Dr;function He(){var m;return typeof globalThis!==N&&(m=globalThis),!m&&typeof self!==N&&(m=self),!m&&typeof window!==N&&(m=window),!m&&typeof global!==N&&(m=global),m}function ne(){if(!Dr){var m=He()||{};Dr=m[Ht]=m[Ht]||{}}return Dr}function Pe(m,b){var I=u;if(Or(m))I="{ stack: '"+m.stack+"', message: '"+m.message+"', name: '"+m.name+"'";else try{I=JSON.stringify(m,c,b?ln(b)?b:4:a)}catch(j){I=" - "+Pe(j,b)}return ze(m)+": "+I}var je=be[De],fe=function(m,b){fn("'"+Fe(m)+"' not defined for "+Pe(b))},S=function(m){return function(b){return b[m].apply(b,je.call(arguments,1))}},de=function(m,b){var I=b&&b[m];return function(j){var $=j&&j[m]||I;if($)return $.apply(j,je.call(arguments,1));fe(m,j)}},Ye=function(m,b,I){var j=b&&b[m];return function($){var ie=$&&$[m]||j;if(ie||I){var ge=arguments;return(ie||I).apply($,ie?je.call(ge,1):ge)}fe(m,$)}};function Tr(m){return function(b){return b[m]}}var Wr=ce.max,Xr=de(De,Me),qn=de("substring",Me),xi=Ye("substr",Me,As);function As(m,b,I){return tt(m)&&fn("'polyStrSubstr called with invalid "+Pe(m)),I<0?u:(b=b||0,b<0&&(b=Wr(b+m[we],0)),at(I)?Xr(m,b):Xr(m,b,b+I))}function Sn(m,b){return qn(m,0,b)}var es=Ye("startsWith",Me,Ws);function Ws(m,b,I){cr(m)||fn("'"+Pe(m)+"' is not a string");var j=cr(b)?b:Fe(b),$=j[we],ie=I>0?I:0;return qn(m,ie,ie+$)===j}var na="_urid",Fo;function Eo(){if(!Fo){var m=ne();Fo=m.gblSym=m.gblSym||{k:{},s:{}}}return Fo}var H={};function Ue(m){var b={description:Fe(m),toString:function(){return U+"("+m+")"}};return b[ee]=!0,b}function vt(m){var b=Eo();if(!An(b.k,m)){var I=Ue(m),j=Je(b.s).length;I[na]=function(){return j+"_"+I.toString()},b.k[m]=I,b.s[I[na]()]=Fe(m)}return b.k[m]}function Fr(m){var b,I=K[m];return I&&(b=H[I]=H[I]||Ue(U+"."+I)),b}var so={e:"enumerable",c:"configurable",v:W,w:"writable",g:"get",s:"set"};function Bi(m){var b={};if(b[so.c]=!0,b[so.e]=!0,m.l){b.get=function(){return m.l.v};var I=ii(m.l,"v");I&&I.set&&(b.set=function(j){m.l.v=j})}return Gr(m,function(j,$){b[so[j]]=at($)?b[so[j]]:$}),b}var M=ae.defineProperty;function Le(m,b,I,j,$,ie){var ge={e:ie,c:$};return I&&(ge.g=I),j&&(ge.s=j),M(m,b,Bi(ge))}function rt(m,b,I){return M(m,b,Bi(I))}var zt,Ln=function(){zt=ne(),Ln=c};function Cn(m){var b={};return Ln&&Ln(),b.b=zt.lzy,M(b,"v",{configurable:!0,get:function(){var I=m();return zt.lzy||(M(b,"v",{value:I}),b.b&&delete b.b),zt.lzy&&b.b!==zt.lzy&&(b.b=zt.lzy),I}}),b}function Mn(m,b){return Cn(function(){return xe(m,b)})}var ao="window",ji,Ro,$i,Jn,_u,ts,yo=function(m){return Mn(function(){return Ni(m)||a},a)},pl=function(m){return(!ji||m===!1||zt&&zt.lzy&&!ji.b)&&(ji=Mn(He,c)),ji.v},Ni=function(m,b){var I=!ji||b===!1?pl(b):ji.v;return I&&I[m]?I[m]:m===ao&&Ro?Ro.v:c},ec=function(){return!!tc()},tc=function(){return(!$i||zt&&zt.lzy&&!$i.b)&&($i=yo("document")),$i.v},ma=function(){return!!ml()},ml=function(){return(!Ro||zt&&zt.lzy&&!Ro.b)&&(Ro=yo(ao)),Ro.v},Rh=function(){return!!Rc()},Rc=function(){return(!Jn||zt&&zt.lzy&&!Jn.b)&&(Jn=yo("navigator")),Jn.v},ia=function(){return!!bu()},bu=function(){return(!_u||zt&&zt.lzy&&!_u.b)&&(_u=yo("history")),_u.v},Ph=function(){return!ts&&(ts=Mn(function(){return!!(process&&(process.versions||{}).node)},!1)),ts.v},Uo,$s,Dn;function Vs(m){return Mn(function(){return Uo.v?Uo.v[m]:a},a)}function wu(){return!!si()}function si(){var m=!Uo||zt&&zt.lzy&&!Uo.b;return m&&(Uo=yo(U)),(!$s||m)&&($s=Vs("for")),(!Dn||m)&&(Dn=Vs("keyFor")),Uo.v}function Pa(m,b){var I=K[m];return(!Uo||zt.lzy&&!Uo.b)&&si(),Uo.v?Uo.v[I||m]:b?a:Fr(m)}function ru(m,b){return(!Uo||zt.lzy&&!Uo.b)&&si(),Uo.v?Uo.v(m):b?c:Ue(m)}function xh(m){return(!$s||zt.lzy&&!Uo.b)&&si(),($s.v||vt)(m)}function _f(m){return!!m&&xt(m.next)}function Cp(m){return!fr(m)&&xt(m[Pa(3)])}var bf;function Tp(m,b,I){if(m&&(_f(m)||(!bf&&(bf=Cn(function(){return Pa(3)})),m=m[bf.v]?m[bf.v]():null),_f(m))){var j=void 0,$=void 0;try{for(var ie=0;!($=m.next())[V]&&b.call(I||m,$[W],ie,m)!==-1;)ie++}catch(ge){j={e:ge},m.throw&&($=null,m.throw(j))}finally{try{$&&!$[V]&&m.return&&m.return($)}finally{if(j)throw j.e}}}}var wf=S("apply");function zl(m,b){return!at(b)&&m&&(Nt(b)?wf(m.push,m,b):_f(b)||Cp(b)?Tp(b,function(I){m.push(I)}):m.push(b)),m}function Xn(m,b,I){if(m)for(var j=m[we]>>>0,$=0;$<j&&!($ in m&&b.call(I||m,m[$],$,m)===-1);$++);}var Gs=de(he,be),Ul=de("map",be),co=de(De,be),Oh=S("call");function Ih(m,b,I){return Gs(m,b,I)!==-1}var Ks=Ye("includes",be,Ih),Su=de("reduce",be),kh=ae.create,Od=kh||Cs;function Cs(m){if(!m)return{};var b=typeof m;if(b!==p&&b!==d)throw new TypeError("Prototype must be an Object or function: "+Pe(m));function I(){}return I[_]=m,new I}var Hl;function nu(m,b){var I=ae.setPrototypeOf||function(j,$){!Hl&&(Hl=Cn(function(){var ie;return ie={},ie[D]=[],ie instanceof Array})),Hl.v?j[D]=$:Gr($,function(ie,ge){return j[ie]=ge})};return I(m,b)}var Lm=function(m,b,I){Sf(b,m),b=nu(b,I);function j(){this.constructor=b,Sf(this,m)}return b[_]=I===c?Od(I):(j[_]=I[_],new j),b},Id=function(m,b){try{b&&(m[te]=b)}catch{}},Sf=function(m,b){try{rt(m,te,{v:b,c:!0,e:!1})}catch{}};function Cf(m,b,I){var j=I||Error,$=j[_][te],ie=Error.captureStackTrace;return Lm(m,function(){var ge=this;try{Id(j,m);var Ie=wf(j,ge,co(arguments))||ge;if(Ie!==ge){var Be=Jt(ge);Be!==Jt(Ie)&&nu(Ie,Be)}return ie&&ie(Ie,ge[A]),b&&b(Ie,arguments),Ie}finally{Id(j,$)}},j)}function Pc(){return(Date.now||_o)()}function _o(){return new Date().getTime()}function Dp(m){return function(I){return tt(I)&&fn("strTrim called ["+Pe(I)+"]"),I&&I.replace&&(I=I.replace(m,u)),I}}var Tf=Dp(/^\s+|(?=\s)\s+$/g),oa=Ye("trim",Me,Tf),gl,Cu,dy;function sa(m){if(!m||typeof m!==p)return!1;dy||(dy=ma()?ml():!0);var b=!1;if(m!==dy){Cu||(gl=Function[_].toString,Cu=Oh(gl,ae));try{var I=Jt(m);b=!I,b||(Vr(I,A)&&(I=I[A]),b=I&&typeof I===d&&gl.call(I)===Cu)}catch{}}return b}var P_=function(m){return m.value&&Wl(m),!0},Wu=[Ad,Wl,Ep,Lh];function kd(m,b,I,j){var $;return Xn(m,function(ie){if(ie.k===b)return $=ie,-1}),$||($={k:b,v:b},m.push($),j($)),$.v}function Ho(m,b,I,j){var $=I.handler,ie=I.path?j?I.path.concat(j):I.path:[],ge={handler:I.handler,src:I.src,path:ie},Ie=typeof b,Be=!1,et=!1;b&&Ie===p?Be=sa(b):et=b===c||zr(Ie);var Ve={type:Ie,isPrim:et,isPlain:Be,value:b,result:b,path:ie,origin:I.src,copy:function(wt,ot){return Ho(m,wt,ot?ge:I,ot)},copyTo:function(wt,ot){return Bl(m,wt,ot,ge)}};return Ve.isPrim?$&&Oh($,I,Ve)?Ve.result:b:kd(m,b,ie,function(wt){rt(Ve,"result",{g:function(){return wt.v},s:function(it){wt.v=it}});for(var ot=0,_t=$;!Oh(_t||(ot<Wu.length?Wu[ot++]:P_),I,Ve);)_t=c})}function Bl(m,b,I,j){if(!tt(I))for(var $ in I)b[$]=Ho(m,I[$],j,$);return b}function Ah(m,b,I){var j={handler:I,src:b,path:[]};return Bl([],m,b,j)}function Vg(m,b){var I={handler:b,src:m};return Ho([],m,I)}function Ad(m){var b=m.value;if(Nt(b)){var I=m.result=[];return I.length=b.length,m.copyTo(I,b),!0}return!1}function Lh(m){var b=m.value;return on(b)?(m.result=new Date(b.getTime()),!0):!1}function Ep(m){return m.type===d}function Wl(m){var b=m.value;if(b&&m.isPlain){var I=m.result={};return m.copyTo(I,b),!0}return!1}function Rp(m,b){return Xn(b,function(I){Ah(m,I)}),m}function $u(m,b,I,j,$,ie,ge){return Rp(Vg(m)||{},co(arguments))}var Nh=Tr(we),Tu;function Df(){return(!Tu||!Tu.b&&zt&&zt.lzy)&&(Tu=yo("performance")),Tu.v}function Ld(){var m=Df();return m&&m.now?m.now():Pc()}var Ef=Ye("endsWith",Me,Nd);function Nd(m,b,I){cr(m)||fn("'"+Pe(m)+"' is not a string");var j=cr(b)?b:Fe(b),$=j[we],ie=m[we],ge=!at(I)&&I<ie?I:ie;return qn(m,ge-$,ge)===j}var Ys=de(he,Me),xa="ref",Po="un"+xa,iu="hasRef",rc="enabled";function Gg(m,b,I){var j,$=!0,ie=m?b(c):c,ge,Ie=function(){return $=!1,ie&&ie[Po]&&ie[Po](),ge},Be=function(){return $=!0,ie&&ie[xa]&&ie[xa](),ge},et=function(){return ie&&ie[iu]?ie[iu]():$},Ve=function(){return ie=b(ie),$||Ie(),ge},wt=function(){ie&&I(ie),ie=c},ot=function(_t){!_t&&ie&&wt(),_t&&!ie&&Ve()};return ge=(j={cancel:wt,refresh:Ve},j[iu]=et,j[xa]=Be,j[Po]=Ie,j[rc]=!1,j),M(ge,rc,{get:function(){return!!ie},set:ot}),{h:ge,dn:function(){ie=c}}}function Vu(m,b,I,j){var $=Nt(I),ie=$?I.length:0,ge=(ie>0?I[0]:$?a:I)||setTimeout,Ie=(ie>1?I[1]:a)||clearTimeout,Be=j[0];j[0]=function(){et.dn(),wf(Be,m,co(arguments))};var et=Gg(b,function(Ve){if(Ve){if(Ve.refresh)return Ve.refresh(),Ve;wf(Ie,m,[Ve])}return wf(ge,m,j)},function(Ve){wf(Ie,m,[Ve])});return et.h}function Js(m,b){return Vu(this,!0,a,co(arguments))}function $l(m,b){return Vu(this,!1,a,co(arguments))}(pl()||{}).Symbol,(pl()||{}).Reflect;var Pp="hasOwnProperty",Du=function(m,b){return Du=o.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,j){I.__proto__=j}||function(I,j){for(var $ in j)j[Pp]($)&&(I[$]=j[$])},Du(m,b)};function vl(m,b){typeof b!==e&&b!==null&&fn("Class extends value "+String(b)+" is not a constructor or null"),Du(m,b);function I(){this.constructor=m}m[i]=b===null?Od(b):(I[i]=b[i],new I)}function Mh(m,b){for(var I=0,j=b.length,$=m.length;I<j;I++,$++)m[$]=b[I];return m}var xc,Gu="constructor",Ts="prototype",ou="function",Ku="_dynInstFuncs",Yu="_isDynProxy",aa="_dynClass",Kg="_dynCls$",nc="_dynInstChk",yl=nc,Bo="_dfOpts",Wo="_unknown_",Rf="__proto__",Ju="_dyn"+Rf,Pf="__dynProto$Gbl",qo="_dynInstProto",Vl="useBaseInst",xf="setInstFuncs",ga=Object,Eu=ga.getPrototypeOf,ca=ga.getOwnPropertyNames,Ls=pl(),Gl=Ls[Pf]||(Ls[Pf]={o:(xc={},xc[xf]=!0,xc[Vl]=!0,xc),n:1e3});function fy(m){return m&&(m===ga[Ts]||m===Array[Ts])}function ms(m){return fy(m)||m===Function[Ts]}function su(m){var b;if(m){if(Eu)return Eu(m);var I=m[Rf]||m[Ts]||(m[Gu]?m[Gu][Ts]:null);b=m[Ju]||I,Vr(m,Ju)||(delete m[qo],b=m[Ju]=m[qo]||m[Ju],m[qo]=I)}return b}function _l(m,b){var I=[];if(ca)I=ca(m);else for(var j in m)typeof j=="string"&&Vr(m,j)&&I.push(j);if(I&&I.length>0)for(var $=0;$<I.length;$++)b(I[$])}function Fh(m,b,I){return b!==Gu&&typeof m[b]===ou&&(I||Vr(m,b))}function Md(m){fn("DynamicProto: "+m)}function xp(m){var b={};return _l(m,function(I){!b[I]&&Fh(m,I,!1)&&(b[I]=m[I])}),b}function ic(m,b){for(var I=m.length-1;I>=0;I--)if(m[I]===b)return!0;return!1}function Nm(m,b,I,j){function $(Be,et,Ve){var wt=et[Ve];if(wt[Yu]&&j){var ot=Be[Ku]||{};ot[yl]!==!1&&(wt=(ot[et[aa]]||{})[Ve]||wt)}return function(){return wt.apply(Be,arguments)}}var ie={};_l(I,function(Be){ie[Be]=$(b,I,Be)});for(var ge=su(m),Ie=[];ge&&!ms(ge)&&!ic(Ie,ge);)_l(ge,function(Be){!ie[Be]&&Fh(ge,Be,!Eu)&&(ie[Be]=$(b,ge,Be))}),Ie.push(ge),ge=su(ge);return ie}function zi(m,b,I,j){var $=null;if(m&&Vr(I,aa)){var ie=m[Ku]||{};if($=(ie[I[aa]]||{})[b],$||Md("Missing ["+b+"] "+ou),!$[nc]&&ie[yl]!==!1){for(var ge=!Vr(m,b),Ie=su(m),Be=[];ge&&Ie&&!ms(Ie)&&!ic(Be,Ie);){var et=Ie[b];if(et){ge=et===j;break}Be.push(Ie),Ie=su(Ie)}try{ge&&(m[b]=$),$[nc]=1}catch{ie[yl]=!1}}}return $}function rs(m,b,I){var j=b[m];return j===I&&(j=su(b)[m]),typeof j!==ou&&Md("["+m+"] is not a "+ou),j}function Xu(m,b,I,j,$){function ie(Be,et){var Ve=function(){var wt=zi(this,et,Be,Ve)||rs(et,Be,Ve);return wt.apply(this,arguments)};return Ve[Yu]=1,Ve}if(!fy(m)){var ge=I[Ku]=I[Ku]||{},Ie=ge[b]=ge[b]||{};ge[yl]!==!1&&(ge[yl]=!!$),_l(I,function(Be){Fh(I,Be,!1)&&I[Be]!==j[Be]&&(Ie[Be]=I[Be],delete I[Be],(!Vr(m,Be)||m[Be]&&!m[Be][Yu])&&(m[Be]=ie(m,Be)))})}}function Oc(m,b){if(Eu){for(var I=[],j=su(b);j&&!ms(j)&&!ic(I,j);){if(j===m)return!0;I.push(j),j=su(j)}return!1}return!0}function Ic(m,b){return Vr(m,Ts)?m.name||b||Wo:((m||{})[Gu]||{}).name||b||Wo}function ua(m,b,I,j){Vr(m,Ts)||Md("theClass is an invalid class definition.");var $=m[Ts];Oc($,b)||Md("["+Ic(m)+"] not in hierarchy of ["+Ic(b)+"]");var ie=null;Vr($,aa)?ie=$[aa]:(ie=Kg+Ic(m,"_")+"$"+Gl.n,Gl.n++,$[aa]=ie);var ge=ua[Bo],Ie=!!ge[Vl];Ie&&j&&j[Vl]!==void 0&&(Ie=!!j[Vl]);var Be=xp(b),et=Nm($,b,Be,Ie);I(b,et);var Ve=!!Eu&&!!ge[xf];Ve&&j&&(Ve=!!j[xf]),Xu($,ie,b,Be,Ve!==!1)}ua[Bo]=Gl.o;var bl=100,Vi=$t,Of=Vi({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),wi="toLowerCase",Oa="blkVal",Bn="length",Fd="rdOnly",Kl="notify",kc="warnToConsole",$o="throwInternal",oc="setDf",la="watch",uo="logger",Ru="apply",Fn="push",au="splice",xo="hdlr",ai="cancel",Yl="initialize",Ia="identifier",va="isInitialized",da="getPlugin",Jl="pollInternalLogs",sc="name",qd="time",Ds="processNext",cu="getProcessTelContext",wl="getNotifyMgr",Xl="addNotificationListener",jd="removeNotificationListener",g="enabled",v="stopPollingInternalLogs",R="unload",O="onComplete",F="version",J="loggingLevelConsole",Z="createNew",pe="teardown",ke="messageId",Qe="message",ht="isAsync",Ut="diagLog",Sr="_doTeardown",sn="update",jr="getNext",Wn="setNextPlugin",Xs="userAgent",ac="split",Pu="nodeType",Op="replace",Mm="logInternalMessage",ka="type",Ip="handler",qh="isChildEvt",zd="getCtx",xu="setCtx",Yg="complete",x_="traceId",kp="spanId",Ap="traceFlags",O_;function I_(m,b){O_||(O_=Cf("AggregationError",function(j,$){$[Bn]>1&&(j.errors=$[1])}));var I=m||"One or more errors occurred.";throw Xn(b,function(j,$){I+=`
`.concat($," > ").concat(Pe(j))}),new O_(I,b||[])}function k_(m,b){return lw(m,function(I){b&&b({value:I,rejected:!1})},function(I){b&&b({rejected:!0,reason:I})})}function lw(m,b,I,j){var $=m;return Hn(m)?(b||I)&&($=m.then(b,I)):b&&b(m),j&&($=Fm($,j)),$}function Fm(m,b){var I=m;return b&&(Hn(m)?m.finally?I=m.finally(b):I=m.then(function(j){return b(),j},function(j){throw b(),j}):b()),I}var hy=["pending","resolving","resolved","rejected"],A_="dispatchEvent",L_;function qm(m,b,I,j){var $=tc();!L_&&(L_=Mn(function(){var Be;return $&&$.createEvent&&(Be=$.createEvent("Event")),!!Be&&Be.initEvent},null));var ie=L_.v?$.createEvent("Event"):j?new Event(b):{};if(I&&I(ie),L_.v&&ie.initEvent(b,!1,!0),ie&&m[A_])m[A_](ie);else{var ge=m["on"+b];if(ge)ge(ie);else{var Ie=Ni("console");Ie&&(Ie.error||Ie.log)(b,Pe(ie))}}}var Lp="Promise",dw="unhandledRejection",N_=dw.toLowerCase(),Np=10,py;function Ud(m){return xt(m)?m.toString():Pe(m)}function Xi(m,b,I){var j=co(arguments,3),$=0,ie=!1,ge,Ie=[],Be=!1,et=null,Ve;!py&&(py=yo(Lp+"RejectionEvent"));var wt=function(Ir,Nn){try{Be=!0,et&&et.cancel(),et=null;var Oi=m(function(Io,Ge){Ie.push(function(){try{var At=$===2?Ir:Nn,Zt=at(At)?ge:xt(At)?At(ge):At;Hn(Zt)?Zt.then(Io,Ge):At?Io(Zt):$===3?Ge(Zt):Io(Zt)}catch(lr){Ge(lr)}}),ie&&Qt()},j);return Oi}finally{}},ot=function(Ir){return wt(void 0,Ir)},_t=function(Ir){var Nn=Ir,Oi=Ir;return xt(Ir)&&(Nn=function(Io){return Ir&&Ir(),Io},Oi=function(Io){throw Ir&&Ir(),Io}),wt(Nn,Oi)},it=function(){return hy[$]},Qt=function(){if(Ie.length>0){var Ir=Ie.slice();Ie=[],Be=!0,b(Ir),et&&et.cancel(),et=null}},Vt=function(Ir,Nn){return function(Oi){if($===Nn){if(Ir===2&&Hn(Oi)){$=1,Oi.then(Vt(2,1),Vt(3,1));return}$=Ir,ie=!0,ge=Oi,Qt(),!Be&&Ir===3&&!et&&(et=Js(_r,Np))}}},_r=function(){if(!Be)if(Ph())process.emit(dw,ge,Ve);else{var Ir=ml()||pl();qm(Ir,N_,function(Nn){return rt(Nn,"promise",{g:function(){return Ve}}),Nn.reason=ge,Nn},!!py.v)}};Ve={then:wt,catch:ot,finally:_t},M(Ve,"state",{get:it}),wu()&&(Ve[Pa(11)]="IPromise");var Pr=function(){return"IPromise "+it()+(ie?" - "+Ud(ge):"")};return Ve.toString=Pr,function(){xt(I)||fn(Lp+": executor is not a function - "+Ud(I));var Nn=Vt(3,0);try{I.call(Ve,Vt(2,0),Nn)}catch(Oi){Nn(Oi)}}(),Ve}function jm(m){return function(b){var I=co(arguments,1);return m(function(j,$){try{var ie=[],ge=1;Xn(b,function(Ie,Be){Ie&&(ge++,lw(Ie,function(et){ie[Be]=et,--ge===0&&j(ie)},$))}),ge--,ge===0&&j(ie)}catch(Ie){$(Ie)}},I)}}var lo=function(m){Xn(m,function(b){try{b()}catch{}})};function M_(m){var b=ln(m)?m:0;return function(I){Js(function(){lo(I)},b)}}function my(m,b){return Xi(my,M_(b),m,b)}var Hd;function Mp(m,b){!Hd&&(Hd=yo(Lp));var I=Hd.v;if(!I)return my(m);xt(m)||fn(Lp+": executor is not a function - "+Pe(m));var j=0;function $(){return hy[j]}var ie=new I(function(ge,Ie){function Be(Ve){j=2,ge(Ve)}function et(Ve){j=3,Ie(Ve)}m(Be,et)});return M(ie,"state",{get:$}),ie}var uu;function Bd(m,b){return!uu&&(uu=Cn(function(){return Mp})),uu.v.call(this,m,b)}var Wd=jm(Bd),Ns=void 0,fi="",Ou="channels",ns="core",$d="createPerfMgr",zm="disabled",Fp="extensionConfig",qp="extensions",If="processTelemetry",F_="priority",Um="eventsSent",Hm="eventsDiscarded",Aa="eventsSendRequest",Vd="perfEvent",Ac="getPerfMgr",Iu="domain",Bm="path",Sl="Not dynamic - ",Wm=/-([a-z])/g,Jg=/([^\w\d_$])/g,jp=/^(\d+[\w\d_$])/;function En(m){return!tt(m)}function Gd(m){var b=m;return b&&cr(b)&&(b=b[Op](Wm,function(I,j){return j.toUpperCase()}),b=b[Op](Jg,"_"),b=b[Op](jp,function(I,j){return"_"+j})),b}function Ms(m,b){return m&&b?Ys(m,b)!==-1:!1}function kf(m){return m&&m.toISOString()||""}function gy(m){return Or(m)?m[sc]:fi}function cc(m,b,I,j,$){var ie=I;return m&&(ie=m[b],ie!==I&&(!$||$(ie))&&(!j||j(I))&&(ie=I,m[b]=ie)),ie}function Kd(m,b,I){var j;return m?(j=m[b],!j&&tt(j)&&(j=at(I)?{}:I,m[b]=j)):j=at(I)?{}:I,j}function zp(m,b){var I=null,j=null;return xt(m)?I=m:j=m,function(){var $=arguments;if(I&&(j=I()),j)return j[b][Ru](j,$)}}function vy(m,b,I){if(m&&b&&hr(m)&&hr(b)){var j=function(ie){if(cr(ie)){var ge=b[ie];xt(ge)?(!I||I(ie,!0,b,m))&&(m[ie]=zp(b,ie)):(!I||I(ie,!1,b,m))&&(An(m,ie)&&delete m[ie],rt(m,ie,{g:function(){return b[ie]},s:function(Ie){b[ie]=Ie}}))}};for(var $ in b)j($)}return m}function Cl(m,b,I,j,$){m&&b&&I&&($!==!1||at(m[b]))&&(m[b]=zp(I,j))}function Xg(m,b,I,j){return m&&b&&hr(m)&&Nt(I)&&Xn(I,function($){cr($)&&Cl(m,$,b,$,j)}),m}function $m(m){return m&&_e&&(m=o(_e({},m))),m}var yy="documentMode",Qg="location",Yd="console",Af="JSON",Vm="crypto",Up="msCrypto",Zg="ReactNative",lu="msie",uc="trident/",Lf="XMLHttpRequest",Qu=null,ku=null,jh=!1,Jd=null,ev=null;function Hp(m,b){var I=!1;if(m){try{if(I=b in m,!I){var j=m[i];j&&(I=b in j)}}catch{}if(!I)try{var $=new m;I=!at($[b])}catch{}}return I}function Bp(m){jh=m}function zh(m){if(m&&jh){var b=Ni("__mockLocation");if(b)return b}return typeof location===t&&location?location:Ni(Qg)}function Xd(){return typeof console!==n?console:Ni(Yd)}function Gm(){return!!(typeof JSON===t&&JSON||Ni(Af)!==null)}function Wp(){return Gm()?JSON||Ni(Af):null}function Km(){return Ni(Vm)}function Nf(){return Ni(Up)}function Uh(){var m=Rc();return m&&m.product?m.product===Zg:!1}function Ym(){var m=Rc();if(m&&(m[Xs]!==ku||Qu===null)){ku=m[Xs];var b=(ku||fi)[wi]();Qu=Ms(b,lu)||Ms(b,uc)}return Qu}function fw(m){if(m===void 0&&(m=null),!m){var b=Rc()||{};m=b?(b.userAgent||fi)[wi]():fi}var I=(m||fi)[wi]();if(Ms(I,lu)){var j=tc()||{};return Math.max(parseInt(I[ac](lu)[1]),j[yy]||0)}else if(Ms(I,uc)){var $=parseInt(I[ac](uc)[1]);if($)return $+4}return null}function lc(m){return(ev===null||m===!1)&&(ev=Rh()&&!!Rc().sendBeacon),ev}function _y(m){var b=!1;try{b=!!Ni("fetch");var I=Ni("Request");b&&m&&I&&(b=Hp(I,"keepalive"))}catch{}return b}function Qd(){return Jd===null&&(Jd=typeof XDomainRequest!==n,Jd&&tv()&&(Jd=Jd&&!Hp(Ni(Lf),"withCredentials"))),Jd}function tv(){var m=!1;try{var b=Ni(Lf);m=!!b}catch{}return m}function Zd(m,b){if(m)for(var I=0;I<m[Bn];I++){var j=m[I];if(j[sc]&&j[sc]===b)return j}return{}}function Mf(m){var b=tc();return b&&m?Zd(b.querySelectorAll("meta"),m).content:null}function Jm(m){var b,I=Df();if(I){var j=I.getEntriesByType("navigation")||[];b=Zd((j[Bn]>0?j[0]:{}).serverTiming,m).description}return b}var rv=4294967296,Lc=4294967295,Tl=123456789,nv=987654321,by=!1,ef=Tl,$p=nv;function Hh(m){m<0&&(m>>>=0),ef=Tl+m&Lc,$p=nv-m&Lc,by=!0}function hw(){try{var m=Pc()&2147483647;Hh((Math.random()*rv^m)+m)}catch{}}function xC(m){return m>0?Math.floor(tf()/Lc*(m+1))>>>0:0}function tf(m){var b=0,I=Km()||Nf();return I&&I.getRandomValues&&(b=I.getRandomValues(new Uint32Array(1))[0]&Lc),b===0&&Ym()&&(by||hw(),b=wy()&Lc),b===0&&(b=Math.floor(rv*Math.random()|0)),m||(b>>>=0),b}function wy(m){$p=36969*($p&65535)+($p>>16)&Lc,ef=18e3*(ef&65535)+(ef>>16)&Lc;var b=($p<<16)+(ef&65535)>>>0&Lc|0;return m||(b>>>=0),b}function Sy(m){m===void 0&&(m=22);for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=tf()>>>0,j=0,$=fi;$[Bn]<m;)j++,$+=b.charAt(I&63),I>>>=6,j===5&&(I=(tf()<<2&4294967295|I&3)>>>0,j=0);return $}var Cy="3.0.5",iv="."+Sy(6),UD=0;function ov(m){return m[Pu]===1||m[Pu]===9||!+m[Pu]}function HD(m,b){var I=b[m.id];if(!I){I={};try{ov(b)&&rt(b,m.id,{e:!1,v:I})}catch{}}return I}function Ql(m,b){return b===void 0&&(b=!1),Gd(m+UD+++(b?"."+Cy:fi)+iv)}function Bh(m){var b={id:Ql("_aiData-"+(m||fi)+"."+Cy),accept:function(I){return ov(I)},get:function(I,j,$,ie){var ge=I[b.id];return ge?ge[Gd(j)]:(ie&&(ge=HD(b,I),ge[Gd(j)]=$),$)},kill:function(I,j){if(I&&I[j])try{delete I[j]}catch{}}};return b}function Xm(m){return m&&hr(m)&&(m.isVal||m.fb||An(m,"v")||An(m,"mrg")||An(m,"ref")||m.set)}function q_(m,b,I){var j,$=I.dfVal||Lr;if(b&&I.fb){var ie=I.fb;Nt(ie)||(ie=[ie]);for(var ge=0;ge<ie[Bn];ge++){var Ie=ie[ge],Be=b[Ie];if($(Be)?j=Be:m&&(Be=m.cfg[Ie],$(Be)&&(j=Be),m.set(m.cfg,Fe(Ie),Be)),$(j))break}}return!$(j)&&$(I.v)&&(j=I.v),j}function Qm(m,b,I){var j=I;if(I&&Xm(I)&&(j=q_(m,b,I)),j){Xm(j)&&(j=Qm(m,b,j));var $;Nt(j)?($=[],$[Bn]=j[Bn]):sa(j)&&($={}),$&&(Gr(j,function(ie,ge){ge&&Xm(ge)&&(ge=Qm(m,b,ge)),$[ie]=ge}),j=$)}return j}function Zl(m,b,I,j){var $,ie,ge,Ie=j,Be,et,Ve,wt;Xm(Ie)?($=Ie.isVal,ie=Ie.set,Ve=Ie[Fd],wt=Ie[Oa],Be=Ie.mrg,et=Ie.ref,!et&&at(et)&&(et=!!Be),ge=q_(m,b,Ie)):ge=j,wt&&m[Oa](b,I);var ot,_t=!0,it=b[I];(it||!tt(it))&&(ot=it,_t=!1,$&&ot!==ge&&!$(ot)&&(ot=ge,_t=!0),ie&&(ot=ie(ot,ge,b),_t=ot===ge)),_t?ge?ot=Qm(m,b,ge):ot=ge:(sa(ot)||Nt(ge))&&Be&&ge&&(sa(ge)||Nt(ge))&&Gr(ge,function(Qt,Vt){Zl(m,ot,Qt,Vt)}),m.set(b,I,ot),et&&m.ref(b,I),Ve&&m[Fd](b,I)}var Dl=xh("[[ai_dynCfg_1]]"),Ff=xh("[[ai_blkDynCfg_1]]"),qf=xh("[[ai_frcDynCfg_1]]");function Ty(m){if(m){var b;if(Nt(m)?(b=[],b[Bn]=m[Bn]):sa(m)&&(b={}),b)return Gr(m,function(I,j){b[I]=Ty(j)}),b}return m}function Vp(m){if(m){var b=m[Dl]||m;if(b.cfg&&(b.cfg===m||b.cfg[Dl]===b))return b}return null}function La(m){if(m&&(sa(m)||Nt(m)))try{m[Ff]=!0}catch{}return m}function Wh(m){if(m)try{m[qf]=!0}catch{}return m}function $h(m,b,I){var j=!1;return I&&!m[b.blkVal]&&(j=I[qf],!j&&!I[Ff]&&(j=sa(I)||Nt(I))),j}function j_(m){fn("InvalidAccess:"+m)}var OC=["push","pop","shift","unshift","splice"],Vh=function(m,b,I,j){m&&m[$o](3,108,"".concat(I," [").concat(b,"] failed - ")+Pe(j))};function IC(m,b,I){Nt(b)&&Xn(OC,function(j){var $=b[j];b[j]=function(){for(var ie=[],ge=0;ge<arguments.length;ge++)ie[ge]=arguments[ge];var Ie=$[Ru](this,ie);return Gp(m,b,I,"Patching"),Ie}})}function Zm(m,b){var I=ii(m,b);return I&&I.get}function Gh(m,b,I,j){var $={n:I,h:[],trk:function(et){et&&et.fn&&(Gs($.h,et)===-1&&$.h[Fn](et),m.trk(et,$))},clr:function(et){var Ve=Gs($.h,et);Ve!==-1&&$.h[au](Ve,1)}},ie=!0,ge=!1;function Ie(){ie&&(ge=ge||$h(Ie,m,j),j&&!j[Dl]&&ge&&(j=Gp(m,j,I,"Converting")),ie=!1);var et=m.act;return et&&$.trk(et),j}Ie[m.prop]={chng:function(){m.add($)}};function Be(et){if(j!==et){Ie[m.ro]&&!m.upd&&j_("["+I+"] is read-only:"+Pe(b)),ie&&(ge=ge||$h(Ie,m,j),ie=!1);var Ve=ge&&Ie[m.rf];if(ge)if(Ve){Gr(j,function(ot){j[ot]=et?et[ot]:Ns});try{Gr(et,function(ot,_t){ed(m,j,ot,_t)}),et=j}catch(ot){Vh((m.hdlr||{})[uo],I,"Assigning",ot),ge=!1}}else j&&j[Dl]&&Gr(j,function(ot){var _t=Zm(j,ot);if(_t){var it=_t[m.prop];it&&it.chng()}});if(et!==j){var wt=et&&$h(Ie,m,et);!Ve&&wt&&(et=Gp(m,et,I,"Converting")),j=et,ge=wt}m.add($)}}rt(b,$.n,{g:Ie,s:Be})}function ed(m,b,I,j){if(b){var $=Zm(b,I),ie=$&&!!$[m.prop];ie?b[I]=j:Gh(m,b,I,j)}return b}function sv(m,b,I,j){if(b){var $=Zm(b,I),ie=$&&!!$[m.prop],ge=j&&j[0],Ie=j&&j[1],Be=j&&j[2];if(!ie){if(Be)try{La(b)}catch(et){Vh((m.hdlr||{})[uo],I,"Blocking",et)}try{ed(m,b,I,b[I]),$=Zm(b,I)}catch(et){Vh((m.hdlr||{})[uo],I,"State",et)}}ge&&($[m.rf]=ge),Ie&&($[m.ro]=Ie),Be&&($[m.blkVal]=!0)}return b}function Gp(m,b,I,j){try{Gr(b,function($,ie){ed(m,b,$,ie)}),b[Dl]||(M(b,Dl,{get:function(){return m[xo]}}),IC(m,b,I))}catch($){Vh((m.hdlr||{})[uo],I,j,$)}return b}var eg="[[ai_",av="]]";function pw(m){var b,I=ru(eg+"get"+m.uid+av),j=ru(eg+"ro"+m.uid+av),$=ru(eg+"rf"+m.uid+av),ie=ru(eg+"blkVal"+m.uid+av),ge=ru(eg+"dtl"+m.uid+av),Ie=null,Be=null,et;function Ve(it,Qt){var Vt=et.act;try{et.act=it,it&&it[ge]&&(Xn(it[ge],function(Pr){Pr.clr(it)}),it[ge]=[]),Qt({cfg:m.cfg,set:m.set.bind(m),setDf:m[oc].bind(m),ref:m.ref.bind(m),rdOnly:m[Fd].bind(m)})}catch(Pr){var _r=m[uo];throw _r&&_r[$o](1,107,Pe(Pr)),Pr}finally{et.act=Vt||null}}function wt(){if(Ie){var it=Ie;Ie=null,Be&&Be[ai](),Be=null;var Qt=[];if(Xn(it,function(Vt){if(Vt&&(Vt[ge]&&(Xn(Vt[ge],function(_r){_r.clr(Vt)}),Vt[ge]=null),Vt.fn))try{Ve(Vt,Vt.fn)}catch(_r){Qt[Fn](_r)}}),Ie)try{wt()}catch(Vt){Qt[Fn](Vt)}Qt[Bn]>0&&I_("Watcher error(s): ",Qt)}}function ot(it){if(it&&it.h[Bn]>0){Ie||(Ie=[]),Be||(Be=Js(function(){Be=null,wt()},0));for(var Qt=0;Qt<it.h[Bn];Qt++){var Vt=it.h[Qt];Vt&&Gs(Ie,Vt)===-1&&Ie[Fn](Vt)}}}function _t(it,Qt){if(it){var Vt=it[ge]=it[ge]||[];Gs(Vt,Qt)===-1&&Vt[Fn](Qt)}}return et=(b={prop:I,ro:j,rf:$},b[Oa]=ie,b[xo]=m,b.add=ot,b[Kl]=wt,b.use=Ve,b.trk=_t,b),et}function BD(m,b){var I={fn:b,rm:function(){I.fn=null,m=null,b=null}};return m.use(I,b),I}function tg(m,b,I){var j,$=Vp(b);if($)return $;var ie=Ql("dyncfg",!0),ge=b&&I!==!1?b:Ty(b),Ie;function Be(){Ie[Kl]()}function et(_r,Pr,Ir){try{_r=ed(Ie,_r,Pr,Ir)}catch(Nn){Vh(m,Pr,"Setting value",Nn)}return _r[Pr]}function Ve(_r){return BD(Ie,_r)}function wt(_r,Pr){Ie.use(null,function(Ir){var Nn=Ie.upd;try{at(Pr)||(Ie.upd=Pr),_r(Ir)}finally{Ie.upd=Nn}})}function ot(_r,Pr){var Ir;return sv(Ie,_r,Pr,(Ir={},Ir[0]=!0,Ir))[Pr]}function _t(_r,Pr){var Ir;return sv(Ie,_r,Pr,(Ir={},Ir[1]=!0,Ir))[Pr]}function it(_r,Pr){var Ir;return sv(Ie,_r,Pr,(Ir={},Ir[2]=!0,Ir))[Pr]}function Qt(_r,Pr){return Pr&&Gr(Pr,function(Ir,Nn){Zl(Vt,_r,Ir,Nn)}),_r}var Vt=(j={uid:null,cfg:ge},j[uo]=m,j[Kl]=Be,j.set=et,j[oc]=Qt,j[la]=Ve,j.ref=ot,j[Fd]=_t,j[Oa]=it,j._block=wt,j);return rt(Vt,"uid",{c:!1,e:!1,w:!1,v:ie}),Ie=pw(Vt),Gp(Ie,ge,"config","Creating"),Vt}function kC(m,b){m?(m[kc](b),m[$o](2,108,b)):j_(b)}function dc(m,b,I,j){var $=tg(I,m||{},j);return b&&$[oc]($.cfg,b),$}function rg(m,b,I){var j=m[Dl]||m;return j.cfg&&(j.cfg===m||j.cfg[Dl]===j)?j[la](b):(kC(I,Sl+Pe(m)),dc(m,null,I)[la](b))}function ng(m,b){if(m&&m[R])return m[R](b)}function AC(m,b,I){var j;return I||(j=Bd(function($){I=$})),m&&Nh(m)>0?k_(ng(m[0],b),function(){AC(co(m,1),b,I)}):I(),j}var WD=500;function td(m){return{mrg:!0,v:m}}var fc=[Um,Hm,Aa,Vd],rd=null,ig;function cv(m,b){return function(){var I=arguments,j=bn(b);if(j){var $=j.listener;$&&$[m]&&$[m][Ru]($,I)}}}function z_(){var m=Ni("Microsoft");return m&&(rd=m.ApplicationInsights),rd}function bn(m){var b=rd;return!b&&m.disableDbgExt!==!0&&(b=rd||z_()),b?b.ChromeDbgExt:null}function Dy(m){if(!ig){ig={};for(var b=0;b<fc[Bn];b++)ig[fc[b]]=cv(fc[b],m)}return ig}var Kp,jf="warnToConsole",og="AI (Internal): ",Na="AI: ",U_="AITR_",uv={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},H_=(Kp={},Kp[0]=null,Kp[1]="errorToConsole",Kp[2]=jf,Kp[3]="debugToConsole",Kp);function nd(m){return m?'"'+m[Op](/\"/g,fi)+'"':fi}function sg(m,b){var I=Xd();if(I){var j="log";I[m]&&(j=m),xt(I[j])&&I[j](b)}}var Kh=function(){function m(b,I,j,$){j===void 0&&(j=!1);var ie=this;ie[ke]=b,ie[Qe]=(j?Na:og)+b;var ge=fi;Gm()&&(ge=Wp().stringify($));var Ie=(I?" message:"+nd(I):fi)+($?" props:"+nd(ge):fi);ie[Qe]+=Ie}return m.dataType="MessageData",m}();function lv(m,b){return(m||{})[uo]||new ag(b)}var ag=function(){function m(b){this.identifier="DiagnosticLogger",this.queue=[];var I=0,j={},$,ie,ge,Ie,Be;ua(m,this,function(et){Be=wt(b||{}),et.consoleLoggingLevel=function(){return $},et[$o]=function(it,Qt,Vt,_r,Pr){Pr===void 0&&(Pr=!1);var Ir=new Kh(Qt,Vt,Pr,_r);if(Ie)throw Pe(Ir);var Nn=H_[it]||jf;if(at(Ir[Qe]))_t("throw"+(it===1?"Critical":"Warning"),Ir);else{if(Pr){var Oi=+Ir[ke];!j[Oi]&&$>=it&&(et[Nn](Ir[Qe]),j[Oi]=!0)}else $>=it&&et[Nn](Ir[Qe]);Ve(it,Ir)}},et.debugToConsole=function(it){sg("debug",it),_t("warning",it)},et[kc]=function(it){sg("warn",it),_t("warning",it)},et.errorToConsole=function(it){sg("error",it),_t("error",it)},et.resetInternalMessageCount=function(){I=0,j={}},et[Mm]=Ve,et[R]=function(it){Be&&Be.rm(),Be=null};function Ve(it,Qt){if(!ot()){var Vt=!0,_r=U_+Qt[ke];if(j[_r]?Vt=!1:j[_r]=!0,Vt&&(it<=ie&&(et.queue[Fn](Qt),I++,_t(it===1?"error":"warn",Qt)),I===ge)){var Pr="Internal events throttle limit per PageView reached for this app.",Ir=new Kh(23,Pr,!1);et.queue[Fn](Ir),it===1?et.errorToConsole(Pr):et[kc](Pr)}}}function wt(it){return rg(dc(it,uv,et).cfg,function(Qt){var Vt=Qt.cfg;$=Vt[J],ie=Vt.loggingLevelTelemetry,ge=Vt.maxMessageLimit,Ie=Vt.enableDebug})}function ot(){return I>=ge}function _t(it,Qt){var Vt=bn(b||{});Vt&&Vt[Ut]&&Vt[Ut](it,Qt)}})}return m.__ieDyn=1,m}();function Au(m){return m||new ag}function rf(m,b,I,j,$,ie){ie===void 0&&(ie=!1),Au(m)[$o](b,I,j,$,ie)}function mw(m,b){Au(m)[kc](b)}function id(m,b,I){Au(m)[Mm](b,I)}var Ey,od,gw="toGMTString",Ry="toUTCString",sd="cookie",vw="expires",yw="isCookieUseDisabled",B_="disableCookiesUsage",zf="_ckMgr",cg=null,_w=null,Uf=null,hc,Vo={},El={},dv=(Ey={cookieCfg:td((od={},od[Iu]={fb:"cookieDomain",dfVal:En},od.path={fb:"cookiePath",dfVal:En},od.enabled=Ns,od.ignoreCookies=Ns,od.blockedCookies=Ns,od)),cookieDomain:Ns,cookiePath:Ns},Ey[B_]=Ns,Ey);function ad(){!hc&&(hc=Cn(function(){return tc()}))}function Hf(m,b){var I=Yp[zf]||El[zf];return I||(I=Yp[zf]=Yp(m,b),El[zf]=I),I}function Lu(m){return m?m.isEnabled():!0}function fv(m,b){return b&&m&&Nt(m.ignoreCookies)?Gs(m.ignoreCookies,b)!==-1:!1}function Py(m,b){return b&&m&&Nt(m.blockedCookies)&&Gs(m.blockedCookies,b)!==-1?!0:fv(m,b)}function bw(m,b){var I=b[g];if(tt(I)){var j=void 0;at(m[yw])||(j=!m[yw]),at(m[B_])||(j=!m[B_]),I=j}return I}function W_(m,b){var I;if(m)I=m.getCookieMgr();else if(b){var j=b.cookieCfg;j&&j[zf]?I=j[zf]:I=Yp(b)}return I||(I=Hf(b,(m||{})[uo])),I}function Yp(m,b){var I,j,$,ie,ge,Ie,Be,et,Ve;m=dc(m||El,null,b).cfg,ge=rg(m,function(ot){ot[oc](ot.cfg,dv),j=ot.ref(ot.cfg,"cookieCfg"),$=j[Bm]||"/",ie=j[Iu],Ie=bw(m,j)!==!1,Be=j.getCookie||NC,et=j.setCookie||E,Ve=j.delCookie||E},b);var wt=(I={isEnabled:function(){var ot=bw(m,j)!==!1&&Ie&&hv(b),_t=El[zf];return ot&&_t&&wt!==_t&&(ot=Lu(_t)),ot},setEnabled:function(ot){Ie=ot!==!1,j[g]=ot},set:function(ot,_t,it,Qt,Vt){var _r=!1;if(Lu(wt)&&!Py(j,ot)){var Pr={},Ir=oa(_t||fi),Nn=Ys(Ir,";");if(Nn!==-1&&(Ir=oa(Sn(_t,Nn)),Pr=LC(qn(_t,Nn+1))),cc(Pr,Iu,Qt||ie,dn,at),!tt(it)){var Oi=Ym();if(at(Pr[vw])){var Io=Pc(),Ge=Io+it*1e3;if(Ge>0){var At=new Date;At.setTime(Ge),cc(Pr,vw,ww(At,Oi?gw:Ry)||ww(At,Oi?gw:Ry)||fi,dn)}}Oi||cc(Pr,"max-age",fi+it,null,at)}var Zt=zh();Zt&&Zt.protocol==="https:"&&(cc(Pr,"secure",null,null,at),_w===null&&(_w=!k((Rc()||{})[Xs])),_w&&cc(Pr,"SameSite","None",null,at)),cc(Pr,Bm,Vt||$,null,at),et(ot,Sw(Ir,Pr)),_r=!0}return _r},get:function(ot){var _t=fi;return Lu(wt)&&!fv(j,ot)&&(_t=Be(ot)),_t},del:function(ot,_t){var it=!1;return Lu(wt)&&(it=wt.purge(ot,_t)),it},purge:function(ot,_t){var it,Qt=!1;if(hv(b)){var Vt=(it={},it[Bm]=_t||"/",it[vw]="Thu, 01 Jan 1970 00:00:01 GMT",it);Ym()||(Vt["max-age"]="0"),Ve(ot,Sw(fi,Vt)),Qt=!0}return Qt}},I[R]=function(ot){ge&&ge.rm(),ge=null},I);return wt[zf]=wt,wt}function hv(m){if(cg===null){cg=!1,!hc&&ad();try{var b=hc.v||{};cg=b[sd]!==void 0}catch(I){rf(m,2,68,"Cannot access document.cookie - "+gy(I),{exception:Pe(I)})}}return cg}function LC(m){var b={};if(m&&m[Bn]){var I=oa(m)[ac](";");Xn(I,function(j){if(j=oa(j||fi),j){var $=Ys(j,"=");$===-1?b[j]=null:b[oa(Sn(j,$))]=oa(qn(j,$+1))}})}return b}function ww(m,b){return xt(m[b])?m[b]():null}function Sw(m,b){var I=m||fi;return Gr(b,function(j,$){I+="; "+j+(tt($)?fi:"="+$)}),I}function NC(m){var b=fi;if(!hc&&ad(),hc.v){var I=hc.v[sd]||fi;Uf!==I&&(Vo=LC(I),Uf=I),b=oa(Vo[m]||fi)}return b}function E(m,b){!hc&&ad(),hc.v&&(hc.v[sd]=m+"="+b)}function k(m){return cr(m)?!!(Ms(m,"CPU iPhone OS 12")||Ms(m,"iPad; CPU OS 12")||Ms(m,"Macintosh; Intel Mac OS X 10_14")&&Ms(m,"Version/")&&Ms(m,"Safari")||Ms(m,"Macintosh; Intel Mac OS X 10_14")&&Ef(m,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ms(m,"Chrome/5")||Ms(m,"Chrome/6")||Ms(m,"UnrealEngine")&&!Ms(m,"Chrome")||Ms(m,"UCBrowser/12")||Ms(m,"UCBrowser/11")):!1}var z={perfEvtsSendAll:!1};function Y(m,b,I,j){Xn(m,function($){if($&&$[b])if(I)Js(function(){return j($)},0);else try{j($)}catch{}})}var ve=function(){function m(b){this.listeners=[];var I,j,$=[],ie=dc(b,z);j=ie[la](function(ge){I=!!ge.cfg.perfEvtsSendAll}),ua(m,this,function(ge){rt(ge,"listeners",{g:function(){return $}}),ge[Xl]=function(Ie){$[Fn](Ie)},ge[jd]=function(Ie){for(var Be=Gs($,Ie);Be>-1;)$[au](Be,1),Be=Gs($,Ie)},ge[Um]=function(Ie){Y($,Um,!0,function(Be){Be[Um](Ie)})},ge[Hm]=function(Ie,Be){Y($,Hm,!0,function(et){et[Hm](Ie,Be)})},ge[Aa]=function(Ie,Be){Y($,Aa,Be,function(et){et[Aa](Ie,Be)})},ge[Vd]=function(Ie){Ie&&(I||!Ie[qh]())&&Y($,Vd,!1,function(Be){Ie[ht]?Js(function(){return Be[Vd](Ie)},0):Be[Vd](Ie)})},ge[R]=function(Ie){var Be=function(){j&&j.rm(),j=null,$=[]},et;if(Y($,"unload",!1,function(Ve){var wt=Ve[R](Ie);wt&&(et||(et=[]),et[Fn](wt))}),et)return Bd(function(Ve){return k_(Wd(et),function(){Be(),Ve()})});Be()}})}return m.__ieDyn=1,m}(),We="ctx",Ze="ParentContextKey",ct="ChildrenContextKey",Dt=null,Kt=function(){function m(b,I,j){var $=this;if($.start=Pc(),$[sc]=b,$[ht]=j,$[qh]=function(){return!1},xt(I)){var ie;rt($,"payload",{g:function(){return!ie&&xt(I)&&(ie=I(),I=null),ie}})}$[zd]=function(ge){return ge?ge===m[Ze]||ge===m[ct]?$[ge]:($[We]||{})[ge]:null},$[xu]=function(ge,Ie){if(ge)if(ge===m[Ze])$[ge]||($[qh]=function(){return!0}),$[ge]=Ie;else if(ge===m[ct])$[ge]=Ie;else{var Be=$[We]=$[We]||{};Be[ge]=Ie}},$[Yg]=function(){var ge=0,Ie=$[zd](m[ct]);if(Nt(Ie))for(var Be=0;Be<Ie[Bn];Be++){var et=Ie[Be];et&&(ge+=et[qd])}$[qd]=Pc()-$.start,$.exTime=$[qd]-ge,$[Yg]=function(){}}}return m.ParentContextKey="parent",m.ChildrenContextKey="childEvts",m}(),Ar=function(){function m(b){this.ctx={},ua(m,this,function(I){I.create=function(j,$,ie){return new Kt(j,$,ie)},I.fire=function(j){j&&(j[Yg](),b&&xt(b[Vd])&&b[Vd](j))},I[xu]=function(j,$){if(j){var ie=I[We]=I[We]||{};ie[j]=$}},I[zd]=function(j){return(I[We]||{})[j]}})}return m.__ieDyn=1,m}(),jn="CoreUtils.doPerf";function In(m,b,I,j,$){if(m){var ie=m;if(ie[Ac]&&(ie=ie[Ac]()),ie){var ge=void 0,Ie=ie[zd](jn);try{if(ge=ie.create(b(),j,$),ge){if(Ie&&ge[xu]&&(ge[xu](Kt[Ze],Ie),Ie[zd]&&Ie[xu])){var Be=Ie[zd](Kt[ct]);Be||(Be=[],Ie[xu](Kt[ct],Be)),Be[Fn](ge)}return ie[xu](jn,ge),I(ge)}}catch(et){ge&&ge[xu]&&ge[xu]("exception",et)}finally{ge&&ie.fire(ge),ie[xu](jn,Ie)}}}return I()}function Qn(){return Dt}function Qr(){var m=Zn();return qn(m,0,8)+"-"+qn(m,8,12)+"-"+qn(m,12,16)+"-"+qn(m,16,20)+"-"+qn(m,20)}function Zn(){for(var m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],b=fi,I,j=0;j<4;j++)I=tf(),b+=m[I&15]+m[I>>4&15]+m[I>>8&15]+m[I>>12&15]+m[I>>16&15]+m[I>>20&15]+m[I>>24&15]+m[I>>28&15];var $=m[8+(tf()&3)|0];return xi(b,0,8)+xi(b,9,4)+"4"+xi(b,13,3)+$+xi(b,16,3)+xi(b,19,12)}var br=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Si="00",$n="ff",Rn="00000000000000000000000000000000",is="0000000000000000",pc=1;function Ma(m,b,I){return m&&m[Bn]===b&&m!==I?!!m.match(/^[\da-f]*$/i):!1}function pv(m,b,I){return Ma(m,b)?m:I}function ug(m){(isNaN(m)||m<0||m>255)&&(m=1);for(var b=m.toString(16);b[Bn]<2;)b="0"+b;return b}function xy(m,b,I,j){var $;return $={},$[F]=Ma(j,2,$n)?j:Si,$[x_]=Yh(m)?m:Zn(),$[kp]=Oy(b)?b:Sn(Zn(),16),$.traceFlags=I>=0&&I<=255?I:1,$}function cd(m,b){var I;if(!m||(Nt(m)&&(m=m[0]||""),!m||!cr(m)||m[Bn]>8192))return null;if(m.indexOf(",")!==-1){var j=m[ac](",");m=j[b>0&&j[Bn]>b?b:0]}var $=br.exec(oa(m));return!$||$[1]===$n||$[2]===Rn||$[3]===is?null:(I={version:($[1]||fi)[wi](),traceId:($[2]||fi)[wi](),spanId:($[3]||fi)[wi]()},I[Ap]=parseInt($[4],16),I)}function Yh(m){return Ma(m,32,Rn)}function Oy(m){return Ma(m,16,is)}function Iy(m){return!(!m||!Ma(m[F],2,$n)||!Ma(m[x_],32,Rn)||!Ma(m[kp],16,is)||!Ma(ug(m[Ap]),2))}function or(m){return Iy(m)?(m[Ap]&pc)===pc:!1}function un(m){if(m){var b=ug(m[Ap]);Ma(b,2)||(b="01");var I=m[F]||Si;return I!=="00"&&I!=="ff"&&(I=Si),"".concat(I.toLowerCase(),"-").concat(pv(m.traceId,32,Rn).toLowerCase(),"-").concat(pv(m.spanId,16,is).toLowerCase(),"-").concat(b.toLowerCase())}return""}function hi(m){var b="traceparent",I=cd(Mf(b),m);return I||(I=cd(Jm(b),m)),I}var os=Bh("plugin");function Es(m){return os.get(m,"state",{},!0)}function Rs(m,b){for(var I=[],j=null,$=m[jr](),ie;$;){var ge=$[da]();if(ge){j&&j[Wn]&&ge[If]&&j[Wn](ge),ie=Es(ge);var Ie=!!ie[va];ge[va]&&(Ie=ge[va]()),Ie||I[Fn](ge),j=ge,$=$[jr]()}}Xn(I,function(Be){var et=m[ns]();Be[Yl](m.getCfg(),et,b,m[jr]()),ie=Es(Be),!Be[ns]&&!ie[ns]&&(ie[ns]=et),ie[va]=!0,delete ie[pe]})}function Fs(m){return m.sort(function(b,I){var j=0;if(I){var $=I[If];b[If]?j=$?b[F_]-I[F_]:1:$&&(j=-1)}else j=b?1:-1;return j})}function lg(m){var b={};return{getName:function(){return b[sc]},setName:function(I){m&&m.setName(I),b[sc]=I},getTraceId:function(){return b[x_]},setTraceId:function(I){m&&m.setTraceId(I),Yh(I)&&(b[x_]=I)},getSpanId:function(){return b[kp]},setSpanId:function(I){m&&m.setSpanId(I),Oy(I)&&(b[kp]=I)},getTraceFlags:function(){return b[Ap]},setTraceFlags:function(I){m&&m.setTraceFlags(I),b[Ap]=I}}}var Jp="TelemetryPluginChain",Xp="_hasRun",Cw="_getTelCtx",dg=0;function Jh(m,b,I){for(;m;){if(m[da]()===I)return m;m=m[jr]()}return mv([I],b.config||{},b)}function ky(m,b,I,j){var $=null,ie=[];b||(b=dc({},null,I[uo])),j!==null&&($=j?Jh(m,I,j):m);var ge={_next:Be,ctx:{core:function(){return I},diagLog:function(){return lv(I,b.cfg)},getCfg:function(){return b.cfg},getExtCfg:Ve,getConfig:wt,hasNext:function(){return!!$},getNext:function(){return $},setNext:function(_t){$=_t},iterate:ot,onComplete:Ie}};function Ie(_t,it){for(var Qt=[],Vt=2;Vt<arguments.length;Vt++)Qt[Vt-2]=arguments[Vt];_t&&ie[Fn]({func:_t,self:at(it)?ge.ctx:it,args:Qt})}function Be(){var _t=$;if($=_t?_t[jr]():null,!_t){var it=ie;it&&it[Bn]>0&&(Xn(it,function(Qt){try{Qt.func.call(Qt.self,Qt.args)}catch(Vt){rf(I[uo],2,73,"Unexpected Exception during onComplete - "+Pe(Vt))}}),ie=[])}return _t}function et(_t,it){var Qt=null,Vt=b.cfg;if(Vt&&_t){var _r=Vt[Fp];!_r&&it&&(_r={}),Vt[Fp]=_r,_r=b.ref(Vt,Fp),_r&&(Qt=_r[_t],!Qt&&it&&(Qt={}),_r[_t]=Qt,Qt=b.ref(_r,_t))}return Qt}function Ve(_t,it){var Qt=et(_t,!0);return it&&Gr(it,function(Vt,_r){if(tt(Qt[Vt])){var Pr=b.cfg[Vt];(Pr||!tt(Pr))&&(Qt[Vt]=Pr)}Zl(b,Qt,Vt,_r)}),b[oc](Qt,it)}function wt(_t,it,Qt){Qt===void 0&&(Qt=!1);var Vt,_r=et(_t,!1),Pr=b.cfg;return _r&&(_r[it]||!tt(_r[it]))?Vt=_r[it]:(Pr[it]||!tt(Pr[it]))&&(Vt=Pr[it]),Vt||!tt(Vt)?Vt:Qt}function ot(_t){for(var it;it=ge._next();){var Qt=it[da]();Qt&&_t(Qt)}}return ge}function Nu(m,b,I,j){var $=dc(b),ie=ky(m,$,I,j),ge=ie.ctx;function Ie(et){var Ve=ie._next();return Ve&&Ve[If](et,ge),!Ve}function Be(et,Ve){return et===void 0&&(et=null),Nt(et)&&(et=mv(et,$.cfg,I,Ve)),Nu(et||ge[jr](),$.cfg,I,Ve)}return ge[Ds]=Ie,ge[Z]=Be,ge}function fg(m,b,I){var j=dc(b.config),$=ky(m,j,b,I),ie=$.ctx;function ge(Be){var et=$._next();return et&&et[R](ie,Be),!et}function Ie(Be,et){return Be===void 0&&(Be=null),Nt(Be)&&(Be=mv(Be,j.cfg,b,et)),fg(Be||ie[jr](),b,et)}return ie[Ds]=ge,ie[Z]=Ie,ie}function Xh(m,b,I){var j=dc(b.config),$=ky(m,j,b,I),ie=$.ctx;function ge(Be){return ie.iterate(function(et){xt(et[sn])&&et[sn](ie,Be)})}function Ie(Be,et){return Be===void 0&&(Be=null),Nt(Be)&&(Be=mv(Be,j.cfg,b,et)),Xh(Be||ie[jr](),b,et)}return ie[Ds]=ge,ie[Z]=Ie,ie}function mv(m,b,I,j){var $=null,ie=!j;if(Nt(m)&&m[Bn]>0){var ge=null;Xn(m,function(Ie){if(!ie&&j===Ie&&(ie=!0),ie&&Ie&&xt(Ie[If])){var Be=hR(Ie,b,I);$||($=Be),ge&&ge._setNext(Be),ge=Be}})}return j&&!$?mv([j],b,I):$}function hR(m,b,I){var j=null,$=xt(m[If]),ie=xt(m[Wn]),ge;m?ge=m[Ia]+"-"+m[F_]+"-"+dg++:ge="Unknown-0-"+dg++;var Ie={getPlugin:function(){return m},getNext:function(){return j},processTelemetry:Ve,unload:wt,update:ot,_id:ge,_setNext:function(_t){j=_t}};function Be(){var _t;return m&&xt(m[Cw])&&(_t=m[Cw]()),_t||(_t=Nu(Ie,b,I)),_t}function et(_t,it,Qt,Vt,_r){var Pr=!1,Ir=m?m[Ia]:Jp,Nn=_t[Xp];return Nn||(Nn=_t[Xp]={}),_t.setNext(j),m&&In(_t[ns](),function(){return Ir+":"+Qt},function(){Nn[ge]=!0;try{var Oi=j?j._id:fi;Oi&&(Nn[Oi]=!1),Pr=it(_t)}catch(Ge){var Io=j?Nn[j._id]:!0;Io&&(Pr=!0),(!j||!Io)&&rf(_t[Ut](),1,73,"Plugin ["+Ir+"] failed during "+Qt+" - "+Pe(Ge)+", run flags: "+Pe(Nn))}},Vt,_r),Pr}function Ve(_t,it){it=it||Be();function Qt(Vt){if(!m||!$)return!1;var _r=Es(m);return _r[pe]||_r[zm]?!1:(ie&&m[Wn](j),m[If](_t,Vt),!0)}et(it,Qt,"processTelemetry",function(){return{item:_t}},!_t.sync)||it[Ds](_t)}function wt(_t,it){function Qt(){var Vt=!1;if(m){var _r=Es(m),Pr=m[ns]||_r[ns];m&&(!Pr||Pr===_t.core())&&!_r[pe]&&(_r[ns]=null,_r[pe]=!0,_r[va]=!1,m[pe]&&m[pe](_t,it)===!0&&(Vt=!0))}return Vt}et(_t,Qt,"unload",function(){},it[ht])||_t[Ds](it)}function ot(_t,it){function Qt(){var Vt=!1;if(m){var _r=Es(m),Pr=m[ns]||_r[ns];m&&(!Pr||Pr===_t.core())&&!_r[pe]&&m[sn]&&m[sn](_t,it)===!0&&(Vt=!0)}return Vt}et(_t,Qt,"update",function(){},!1)||_t[Ds](it)}return Yt(Ie)}var gv=function(){function m(b,I,j,$){var ie=this,ge=Nu(b,I,j,$);Xg(ie,ge,Je(ge))}return m}();function Zu(){var m=[];function b(j){j&&m[Fn](j)}function I(j,$){Xn(m,function(ie){try{ie(j,$)}catch(ge){rf(j[Ut](),2,73,"Unexpected error calling unload handler - "+Pe(ge))}}),m=[]}return{add:b,run:I}}function Rl(){var m=[];function b(j){var $=m;m=[],Xn($,function(ie){try{(ie.rm||ie.remove).call(ie)}catch(ge){rf(j,2,73,"Unloading:"+Pe(ge))}})}function I(j){j&&zl(m,j)}return{run:b,add:I}}var Ay,Bf="getPlugin",$D=(Ay={},Ay[Fp]={isVal:En,v:{}},Ay),MC=function(){function m(){var b=this,I,j,$,ie,ge;et(),ua(m,b,function(Ve){Ve[Yl]=function(wt,ot,_t,it){Be(wt,ot,it),I=!0},Ve[pe]=function(wt,ot){var _t,it=Ve[ns];if(!it||wt&&it!==wt[ns]())return;var Qt,Vt=!1,_r=wt||fg(null,it,$&&$[Bf]?$[Bf]():$),Pr=ot||(_t={reason:0},_t[ht]=!1,_t);function Ir(){Vt||(Vt=!0,ie.run(_r,ot),ge.run(_r[Ut]()),Qt===!0&&_r[Ds](Pr),et())}return!Ve[Sr]||Ve[Sr](_r,Pr,Ir)!==!0?Ir():Qt=!0,Qt},Ve[sn]=function(wt,ot){var _t=Ve[ns];if(!_t||wt&&_t!==wt[ns]())return;var it,Qt=!1,Vt=wt||Xh(null,_t,$&&$[Bf]?$[Bf]():$),_r=ot||{reason:0};function Pr(){Qt||(Qt=!0,Be(Vt.getCfg(),Vt.core(),Vt[jr]()))}return!Ve._doUpdate||Ve._doUpdate(Vt,_r,Pr)!==!0?Pr():it=!0,it},Cl(Ve,"_addUnloadCb",function(){return ie},"add"),Cl(Ve,"_addHook",function(){return ge},"add"),rt(Ve,"_unloadHooks",{g:function(){return ge}})}),b[Ut]=function(Ve){return Ie(Ve)[Ut]()},b[va]=function(){return I},b.setInitialized=function(Ve){I=Ve},b[Wn]=function(Ve){$=Ve},b[Ds]=function(Ve,wt){wt?wt[Ds](Ve):$&&xt($[If])&&$[If](Ve,null)},b._getTelCtx=Ie;function Ie(Ve){Ve===void 0&&(Ve=null);var wt=Ve;if(!wt){var ot=j||Nu(null,{},b[ns]);$&&$[Bf]?wt=ot[Z](null,$[Bf]):wt=ot[Z](null,$)}return wt}function Be(Ve,wt,ot){dc(Ve,$D,lv(wt)),!ot&&wt&&(ot=wt[cu]()[jr]());var _t=$;$&&$[Bf]&&(_t=$[Bf]()),b[ns]=wt,j=Nu(ot,Ve,wt,_t)}function et(){I=!1,b[ns]=null,j=null,$=null,ge=Rl(),ie=Zu()}}return m.__ieDyn=1,m}();function pR(m,b,I){var j={id:b,fn:I};zl(m,j);var $={remove:function(){Xn(m,function(ie,ge){if(ie.id===j.id)return m[au](ge,1),-1})}};return $}function mR(m,b,I){for(var j=!1,$=m[Bn],ie=0;ie<$;++ie){var ge=m[ie];if(ge)try{if(ge.fn[Ru](null,[b])===!1){j=!0;break}}catch(Ie){rf(I,2,64,"Telemetry initializer failed: "+gy(Ie),{exception:Pe(Ie)},!0)}}return!j}var FC=function(m){vl(b,m);function b(){var I=m.call(this)||this;I.identifier="TelemetryInitializerPlugin",I.priority=199;var j,$;ie(),ua(b,I,function(ge,Ie){ge.addTelemetryInitializer=function(Be){return pR($,j++,Be)},ge[If]=function(Be,et){mR($,Be,et?et[Ut]():ge[Ut]())&&ge[Ds](Be,et)},ge[Sr]=function(){ie()}});function ie(){j=0,$=[]}return I}return b.__ieDyn=1,b}(MC),Wf,VD="Plugins must provide initialize method",$_="_notificationManager",Tw="SDK is still unloading...",Dw="SDK is not initialized",Ew=ft((Wf={cookieCfg:{}},Wf[qp]={rdOnly:!0,ref:!0,v:[]},Wf[Ou]={rdOnly:!0,ref:!0,v:[]},Wf[Fp]={ref:!0,v:{}},Wf[$d]=Ns,Wf.loggingLevelConsole=0,Wf.diagnosticLogInterval=Ns,Wf));function qC(m,b){return new Ar(b)}function V_(m,b,I){var j,$=[],ie=[],ge={};return Xn(I,function(Ie){(tt(Ie)||tt(Ie[Yl]))&&oi(VD);var Be=Ie[F_],et=Ie[Ia];Ie&&Be&&(tt(ge[Be])?ge[Be]=et:mw(m,"Two extensions have same priority #"+Be+" - "+ge[Be]+", "+et)),!Be||Be<b?$[Fn](Ie):ie[Fn](Ie)}),j={},j[ns]=$,j[Ou]=ie,j}function $f(m,b){var I=!1;return Xn(b,function(j){if(j===m)return I=!0,-1}),I}function G_(m,b,I,j){I&&Gr(I,function($,ie){j&&sa(ie)&&sa(b[$])&&G_(m,b[$],ie,j),j&&sa(ie)&&sa(b[$])?G_(m,b[$],ie,j):m.set(b,$,ie)})}function Rw(m,b){var I=null,j=-1;return Xn(m,function($,ie){if($.w===b)return I=$,j=ie,-1}),{i:j,l:I}}function to(m,b){var I=Rw(m,b).l;return I||(I={w:b,rm:function(){var j=Rw(m,b);j.i!==-1&&m[au](j.i,1)}},m[Fn](I)),I}function jC(m,b,I){Xn(b,function(j){var $=rg(m,j.w,I);delete j.w,j.rm=function(){$.rm()}})}var vv=function(){function m(){var b,I,j,$,ie,ge,Ie,Be,et,Ve,wt,ot,_t,it,Qt,Vt,_r,Pr,Ir,Nn,Oi,Io,Ge,At,Zt,lr,rn,ei;ua(m,this,function(St){Ot(),St._getDbgPlgTargets=function(){return[Ge]},St[va]=function(){return I},St[Yl]=function(Wt,Kr,ui,Vn){_t&&oi(Tw),St[va]()&&oi("Core cannot be initialized more than once"),b=dc(Wt,Ew,ui||St[uo],!1),Wt=b.cfg,Nw(b[la](function(ss){Oi=ss.cfg.instrumentationKey;var Fc=ss.ref(ss.cfg,Fp);Gr(Fc,function(Mu){ss.ref(Fc,Mu)}),tt(Oi)&&oi("Please provide instrumentation key")})),ie=Vn,nf(),eb(),St[uo]=ui;var mi=Wt[qp];if(Ve=[],Ve[Fn].apply(Ve,Mh(Mh([],Kr,!1),mi)),wt=Wt[Ou],xr(null),(!ot||ot[Bn]===0)&&oi("No "+Ou+" available"),wt&&wt[Bn]>1){var jo=St[da]("TeeChannelController");(!jo||!jo.plugin)&&rf(j,1,28,"TeeChannel required")}jC(Wt,Io,j),Io=null,I=!0,St.releaseQueue(),St[Jl]()},St.getChannels=function(){var Wt=[];return ot&&Xn(ot,function(Kr){Wt[Fn](Kr)}),Yt(Wt)},St.track=function(Wt){In(St[Ac](),function(){return"AppInsightsCore:track"},function(){Wt===null&&(r0(Wt),oi("Invalid telemetry item")),!Wt[sc]&&tt(Wt[sc])&&(r0(Wt),oi("telemetry name required")),Wt.iKey=Wt.iKey||Oi,Wt[qd]=Wt[qd]||kf(new Date),Wt.ver=Wt.ver||"4.0",!_t&&St[va]()?gr()[Ds](Wt):$[Fn](Wt)},function(){return{item:Wt}},!Wt.sync)},St[cu]=gr,St[wl]=function(){return ie||(ie=new ve(b.cfg),St[$_]=ie),ie},St[Xl]=function(Wt){St[wl]()[Xl](Wt)},St[jd]=function(Wt){ie&&ie[jd](Wt)},St.getCookieMgr=function(){return Be||(Be=Yp(b.cfg,St[uo])),Be},St.setCookieMgr=function(Wt){Be!==Wt&&(ng(Be,!1),Be=Wt)},St[Ac]=function(){return!ge&&!Ie&&Nw(b[la](function(Wt){if(Wt.cfg.enablePerfMgr){var Kr=Wt.cfg[$d];xt(Kr)&&(Ie=Kr(St,St[wl]()))}})),ge||Ie||Qn()},St.setPerfMgr=function(Wt){ge=Wt},St.eventCnt=function(){return $[Bn]},St.releaseQueue=function(){if(I&&$[Bn]>0){var Wt=$;$=[],Xn(Wt,function(Kr){gr()[Ds](Kr)})}},St[Jl]=function(Wt){return Qt=Wt||null,ei=!1,lr&&lr[ai](),nt(!0)};function nt(Wt){if((!lr||!lr[g])&&!ei){var Kr=Wt||j&&j.queue[Bn]>0;Kr&&(rn||(rn=!0,Nw(b[la](function(ui){var Vn=ui.cfg.diagnosticLogInterval;(!Vn||!(Vn>0))&&(Vn=1e4);var mi=!1;lr&&(mi=lr[g],lr[ai]()),lr=$l(bo,Vn),lr.unref(),lr[g]=mi}))),lr[g]=!0)}return lr}St[v]=function(){ei=!0,lr&&lr[ai](),bo()},Xg(St,function(){return it},["addTelemetryInitializer"]),St[R]=function(Wt,Kr,ui){var Vn;Wt===void 0&&(Wt=!0),I||oi(Dw),_t&&oi(Tw);var mi=(Vn={reason:50},Vn[ht]=Wt,Vn.flushComplete=!1,Vn),jo;Wt&&!Kr&&(jo=Bd(function(Mu){Kr=Mu}));var ss=fg(ti(),St);ss[O](function(){Pr.run(St[uo]),AC([Be,ie,j],Wt,function(){Ot(),Kr&&Kr(mi)})},St);function Fc(Mu){mi.flushComplete=Mu,_t=!0,_r.run(ss,mi),St[v](),ss[Ds](mi)}return bo(),tp(Wt,Fc,6,ui),jo},St[da]=Mr,St.addPlugin=function(Wt,Kr,ui,Vn){if(!Wt){Vn&&Vn(!1),im(VD);return}var mi=Mr(Wt[Ia]);if(mi&&!Kr){Vn&&Vn(!1),im("Plugin ["+Wt[Ia]+"] is already loaded!");return}var jo={reason:16};function ss(Ev){Ve[Fn](Wt),jo.added=[Wt],xr(jo),Vn&&Vn(!0)}if(mi){var Fc=[mi.plugin],Mu={reason:2,isAsync:!!ui};Ko(Fc,Mu,function(Ev){Ev?(jo.removed=Fc,jo.reason|=32,ss()):Vn&&Vn(!1)})}else ss()},St.updateCfg=function(Wt,Kr){Kr===void 0&&(Kr=!0);var ui;if(St[va]()){ui={reason:1,cfg:b.cfg,oldCfg:$u({},b.cfg),newConfig:$u({},Wt),merge:Kr},Wt=ui.newConfig;var Vn=b.cfg;Wt[qp]=Vn[qp],Wt[Ou]=Vn[Ou]}b._block(function(mi){var jo=mi.cfg;G_(mi,jo,Wt,Kr),Kr||Gr(jo,function(ss){An(Wt,ss)||mi.set(jo,ss,Ns)}),mi[oc](jo,Ew)},!0),b[Kl](),ui&&Gf(ui)},St.evtNamespace=function(){return Vt},St.flush=tp,St.getTraceCtx=function(Wt){return Nn||(Nn=lg()),Nn},St.setTraceCtx=function(Wt){Nn=Wt||null},St.addUnloadHook=Nw,Cl(St,"addUnloadCb",function(){return _r},"add"),St.onCfgChange=function(Wt){var Kr;return I?Kr=rg(b.cfg,Wt,St[uo]):Kr=to(Io,Wt),{rm:function(){Kr.rm()}}},St.getWParam=function(){return ec()||b.cfg.enableWParam?0:-1};function Tt(){var Wt={};At=[];var Kr=function(ui){ui&&Xn(ui,function(Vn){if(Vn[Ia]&&Vn[F]&&!Wt[Vn.identifier]){var mi=Vn[Ia]+"="+Vn[F];At[Fn](mi),Wt[Vn.identifier]=Vn}})};Kr(ot),wt&&Xn(wt,function(ui){Kr(ui)}),Kr(Ve)}function Ot(){I=!1,b=dc({},Ew,St[uo]),b.cfg[J]=1,rt(St,"config",{g:function(){return b.cfg},s:function(Kr){St.updateCfg(Kr,!1)}}),rt(St,"pluginVersionStringArr",{g:function(){return At||Tt(),At}}),rt(St,"pluginVersionString",{g:function(){return Zt||(At||Tt(),Zt=At.join(";")),Zt||fi}}),rt(St,"logger",{g:function(){return j||(j=new ag(b.cfg),b[uo]=j),j},s:function(Kr){b[uo]=Kr,j!==Kr&&(ng(j,!1),j=Kr)}}),St[uo]=new ag(b.cfg),Ge=[];var Wt=St.config[qp]||[];Wt.splice(0,Wt[Bn]),zl(Wt,Ge),it=new FC,$=[],ng(ie,!1),ie=null,ge=null,Ie=null,ng(Be,!1),Be=null,et=null,Ve=[],wt=null,ot=null,_t=!1,Qt=null,Vt=Ql("AIBaseCore",!0),_r=Zu(),Nn=null,Oi=null,Pr=Rl(),Io=[],Zt=null,At=null,ei=!1}function gr(){var Wt=Nu(ti(),b.cfg,St);return Wt[O](nt),Wt}function xr(Wt){var Kr=V_(St[uo],WD,Ve);et=null,Zt=null,At=null,ot=(wt||[])[0]||[],ot=Fs(zl(ot,Kr[Ou]));var ui=zl(Fs(Kr[ns]),ot);Ge=Yt(ui);var Vn=St.config[qp]||[];Vn.splice(0,Vn[Bn]),zl(Vn,Ge);var mi=gr();ot&&ot[Bn]>0&&Rs(mi[Z](ot),ui),Rs(mi,ui),Wt&&Gf(Wt)}function Mr(Wt){var Kr=null,ui=null,Vn=[];return Xn(Ge,function(mi){if(mi[Ia]===Wt&&mi!==it)return ui=mi,-1;mi.getChannel&&Vn[Fn](mi)}),!ui&&Vn[Bn]>0&&Xn(Vn,function(mi){if(ui=mi.getChannel(Wt),!ui)return-1}),ui&&(Kr={plugin:ui,setEnabled:function(mi){Es(ui)[zm]=!mi},isEnabled:function(){var mi=Es(ui);return!mi[pe]&&!mi[zm]},remove:function(mi,jo){var ss;mi===void 0&&(mi=!0);var Fc=[ui],Mu=(ss={reason:1},ss[ht]=mi,ss);Ko(Fc,Mu,function(Ev){Ev&&xr({reason:32,removed:Fc}),jo&&jo(Ev)})}}),Kr}function ti(){if(!et){var Wt=(Ge||[]).slice();Gs(Wt,it)===-1&&Wt[Fn](it),et=mv(Fs(Wt),b.cfg,St)}return et}function Ko(Wt,Kr,ui){if(Wt&&Wt[Bn]>0){var Vn=mv(Wt,b.cfg,St),mi=fg(Vn,St);mi[O](function(){var jo=!1,ss=[];Xn(Ve,function(Mu,Ev){$f(Mu,Wt)?jo=!0:ss[Fn](Mu)}),Ve=ss,Zt=null,At=null;var Fc=[];wt&&(Xn(wt,function(Mu,Ev){var qy=[];Xn(Mu,function(yR){$f(yR,Wt)?jo=!0:qy[Fn](yR)}),Fc[Fn](qy)}),wt=Fc),ui&&ui(jo),nt()}),mi[Ds](Kr)}else ui(!1)}function bo(){if(j&&j.queue){var Wt=j.queue.slice(0);j.queue[Bn]=0,Xn(Wt,function(Kr){var ui,Vn=(ui={},ui[sc]=Qt||"InternalMessageId: "+Kr[ke],ui.iKey=Oi,ui[qd]=kf(new Date),ui.baseType=Kh.dataType,ui.baseData={message:Kr[Qe]},ui);St.track(Vn)})}}function tp(Wt,Kr,ui,Vn){var mi=1,jo=!1,ss=null;Vn=Vn||5e3;function Fc(){mi--,jo&&mi===0&&(ss&&ss[ai](),ss=null,Kr&&Kr(jo),Kr=null)}if(ot&&ot[Bn]>0){var Mu=gr()[Z](ot);Mu.iterate(function(Ev){if(Ev.flush){mi++;var qy=!1;Ev.flush(Wt,function(){qy=!0,Fc()},ui)||qy||(Wt&&ss==null?ss=Js(function(){ss=null,Fc()},Vn):Fc())}})}return jo=!0,Fc(),!0}function nf(){!ie&&St[wl](),Nw(b[la](function(Wt){var Kr=Wt.cfg.disableDbgExt;Kr===!0&&Ir&&(ie[jd](Ir),Ir=null),ie&&!Ir&&Kr!==!0&&(Ir=Dy(Wt.cfg),ie[Xl](Ir))}))}function eb(){Nw(b[la](function(Wt){var Kr=Wt.cfg.enablePerfMgr;!Kr&&Ie&&(Ie=null),Kr&&Kd(Wt.cfg,$d,qC)}))}function Gf(Wt){var Kr=Xh(ti(),St);Kr[O](nt),(!St._updateHook||St._updateHook(Kr,Wt)!==!0)&&Kr[Ds](Wt)}function im(Wt){var Kr=St[uo];Kr?(rf(Kr,2,73,Wt),nt()):oi(Wt)}function r0(Wt){var Kr=St[wl]();Kr&&Kr[Hm]([Wt],2)}function Nw(Wt){Pr.add(Wt)}})}return m.__ieDyn=1,m}(),Ly="on",gR="attachEvent",Vf="addEventListener",ud="detachEvent",zC="removeEventListener",Qh="events",yv="visibilitychange",Qp="pagehide",Pl="pageshow",Zh="unload",Zp="beforeunload",_v=Ql("aiEvtPageHide"),em=Ql("aiEvtPageShow"),Pw=/\.[\.]+/g,UC=/[\.]+$/,GD=1,K_=Bh("events"),Ny=/^([^.]*)(?:\.(.+)|)/;function bv(m){return m&&m[Op]?m[Op](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,fi):m}function My(m,b){var I;if(b){var j=fi;Nt(b)?(j=fi,Xn(b,function(ie){ie=bv(ie),ie&&(ie[0]!=="."&&(ie="."+ie),j+=ie)})):j=bv(b),j&&(j[0]!=="."&&(j="."+j),m=(m||fi)+j)}var $=Ny.exec(m||fi)||[];return I={},I[ka]=$[1],I.ns=($[2]||fi).replace(Pw,".").replace(UC,fi)[ac](".").sort().join("."),I}function xw(m,b,I){var j=[],$=K_.get(m,Qh,{},!1),ie=My(b,I);return Gr($,function(ge,Ie){Xn(Ie,function(Be){var et;(!ie[ka]||ie[ka]===Be.evtName[ka])&&(!ie.ns||ie.ns===ie.ns)&&j[Fn]((et={},et[sc]=Be.evtName[ka]+(Be.evtName.ns?"."+Be.evtName.ns:fi),et.handler=Be[Ip],et))})}),j}function wv(m,b,I){I===void 0&&(I=!0);var j=K_.get(m,Qh,{},I),$=j[b];return $||($=j[b]=[]),$}function Y_(m,b,I,j){m&&b&&b[ka]&&(m[zC]?m[zC](b[ka],I,j):m[ud]&&m[ud](Ly+b[ka],I))}function Ow(m,b,I,j){var $=!1;return m&&b&&b[ka]&&I&&(m[Vf]?(m[Vf](b[ka],I,j),$=!0):m[gR]&&(m[gR](Ly+b[ka],I),$=!0)),$}function J_(m,b,I,j){for(var $=b[Bn];$--;){var ie=b[$];ie&&(!I.ns||I.ns===ie.evtName.ns)&&(!j||j(ie))&&(Y_(m,ie.evtName,ie[Ip],ie.capture),b[au]($,1))}}function vR(m,b,I){if(b[ka])J_(m,wv(m,b[ka]),b,I);else{var j=K_.get(m,Qh,{});Gr(j,function($,ie){J_(m,ie,b,I)}),Je(j)[Bn]===0&&K_.kill(m,Qh)}}function Iw(m,b){var I;return b?(Nt(b)?I=[m].concat(b):I=[m,b],I=My("xx",I).ns[ac](".")):I=m,I}function Fa(m,b,I,j,$){var ie;$===void 0&&($=!1);var ge=!1;if(m)try{var Ie=My(b,j);if(ge=Ow(m,Ie,I,$),ge&&K_.accept(m)){var Be=(ie={guid:GD++,evtName:Ie},ie[Ip]=I,ie.capture=$,ie);wv(m,Ie.type)[Fn](Be)}}catch{}return ge}function tm(m,b,I,j,$){if($===void 0&&($=!1),m)try{var ie=My(b,j),ge=!1;vR(m,ie,function(Ie){return ie.ns&&!I||Ie[Ip]===I?(ge=!0,!0):!1}),ge||Y_(m,ie,I,$)}catch{}}function Sv(m,b,I,j){return j===void 0&&(j=!1),Fa(m,b,I,null,j)}function KD(m,b,I,j){j===void 0&&(j=!1),tm(m,b,I,null,j)}function hg(m,b,I){var j=!1,$=ml();$&&(j=Fa($,m,b,I),j=Fa($.body,m,b,I)||j);var ie=tc();return ie&&(j=Fa(ie,m,b,I)||j),j}function Cv(m,b,I){var j=ml();j&&(tm(j,m,b,I),tm(j.body,m,b,I));var $=tc();$&&tm($,m,b,I)}function X_(m,b,I,j){var $=!1;return b&&m&&m[Bn]>0&&Xn(m,function(ie){ie&&(!I||Gs(I,ie)===-1)&&($=hg(ie,b,j)||$)}),$}function kw(m,b,I,j){var $=!1;return b&&m&&Nt(m)&&($=X_(m,b,I,j),!$&&I&&I[Bn]>0&&($=X_(m,b,null,j))),$}function Tv(m,b,I){m&&Nt(m)&&Xn(m,function(j){j&&Cv(j,b,I)})}function Dv(m,b,I){return kw([Zp,Zh,Qp],m,b,I)}function YD(m,b){Tv([Zp,Zh,Qp],m,b)}function JD(m,b,I){function j(ge){var Ie=tc();m&&Ie&&Ie.visibilityState==="hidden"&&m(ge)}var $=Iw(_v,I),ie=X_([Qp],m,b,$);return(!b||Gs(b,yv)===-1)&&(ie=X_([yv],j,b,$)||ie),!ie&&b&&(ie=JD(m,null,I)),ie}function Q_(m,b){var I=Iw(_v,b);Tv([Qp],m,I),Tv([yv],null,I)}function XD(m,b,I){function j(ge){var Ie=tc();m&&Ie&&Ie.visibilityState==="visible"&&m(ge)}var $=Iw(em,I),ie=X_([Pl],m,b,$);return ie=X_([yv],j,b,$)||ie,!ie&&b&&(ie=XD(m,null,I)),ie}function Vk(m,b){var I=Iw(em,b);Tv([Pl],m,I),Tv([yv],null,I)}var Gk=Vi({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),pg="",Kk="https://browser.events.data.microsoft.com/OneCollector/1.0/",Aw="version",Fy="properties",HC="initialize",BC="logger",Lw="indexOf",mg="timings",QD="pollInternalLogs",Qs="value",ep="kind",Zs="length",ZD="processTelemetryStart",e0="handleField",t0="rmSanitizer",T="rmFieldSanitizer",L="canHandle",B,X="4.0.4",se="1DS-Web-JS-"+X,Se=s.hasOwnProperty,Te="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Xe="withCredentials",lt="timeout",gt=(B={},B[0]=0,B[2]=6,B[1]=1,B[3]=7,B[4098]=6,B[4097]=1,B[4099]=7,B),jt=null,Rr=ec(),wr=ma();function Lt(m){return!(m===pg||tt(m))}function Rt(m){if(m){var b=Ys(m,"-");if(b>-1)return Sn(m,b)}return pg}function qt(){return jt===null&&(jt=!at(Uint8Array)&&!Oo()&&!Uh()),jt}function Et(m){return!!(m&&ln(m)&&m>=1&&m<=4)}function ur(m,b,I){if(!b&&!Lt(b)||typeof m!="string")return null;var j=typeof b;if(j==="string"||j==="number"||j==="boolean"||Nt(b))b={value:b};else if(j==="object"&&!Se.call(b,"value"))b={value:I?JSON.stringify(b):b};else if(tt(b[Qs])||b[Qs]===pg||!cr(b[Qs])&&!ln(b[Qs])&&!On(b[Qs])&&!Nt(b[Qs]))return null;if(Nt(b[Qs])&&!qs(b[Qs]))return null;if(!tt(b[ep])){if(Nt(b[Qs])||!fo(b[ep]))return null;b[Qs]=b[Qs].toString()}return b}function nr(m,b,I){var j=-1;if(!at(m))if(b>0&&(b===32?j=8192:b<=13&&(j=b<<5)),Go(I))j===-1&&(j=0),j|=I;else{var $=gt[Qi(m)]||-1;j!==-1&&$!==-1?j|=$:$===6&&(j=$)}return j}function yr(m,b,I){I===void 0&&(I=!0);var j;return m&&(j=m.get(b),I&&j&&decodeURIComponent&&(j=decodeURIComponent(j))),j||pg}function hn(m){m===void 0&&(m="D");var b=Qr();return m==="B"?b="{"+b+"}":m==="P"?b="("+b+")":m==="N"&&(b=b.replace(/-/g,pg)),b}function pi(m,b,I,j,$){var ie={},ge=!1,Ie=0,Be=arguments[Zs],et=arguments;for(On(et[0])&&(ge=et[0],Ie++);Ie<Be;Ie++){var m=et[Ie];Gr(m,function(wt,ot){ge&&ot&&hr(ot)?Nt(ot)?(ie[wt]=ie[wt]||[],Xn(ot,function(_t,it){_t&&hr(_t)?ie[wt][it]=pi(!0,ie[wt][it],_t):ie[wt][it]=_t})):ie[wt]=pi(!0,ie[wt],ot):ie[wt]=ot})}return ie}var ci=Ld;function fo(m){return m===0||m>0&&m<=13||m===32}function Go(m){return m>=0&&m<=9}function Oo(){var m=Rc();if(!at(m)&&m.userAgent){var b=m.userAgent.toLowerCase();if((b[Lw]("safari")>=0||b[Lw]("firefox")>=0)&&b[Lw]("chrome")<0)return!0}return!1}function qs(m){return m[Zs]>0}function mc(m,b){var I=m;I[mg]=I[mg]||{},I[mg][ZD]=I[mg][ZD]||{},I[mg][ZD][b]=ci()}function Qi(m){var b=0;if(m!=null){var I=typeof m;I==="string"?b=1:I==="number"?b=2:I==="boolean"?b=3:I===t&&(b=4,Nt(m)?(b=4096,m[Zs]>0&&(b|=Qi(m[0]))):Se.call(m,"value")&&(b=8192|Qi(m[Qs])))}return b}function Nc(){return!!Ni("chrome")}function Mc(m,b,I,j,$,ie){j===void 0&&(j=!1),$===void 0&&($=!1);function ge(Be,et,Ve){try{Be[et]=Ve}catch{}}var Ie=new XMLHttpRequest;return j&&ge(Ie,Te,j),I&&ge(Ie,Xe,I),Ie.open(m,b,!$),I&&ge(Ie,Xe,I),!$&&ie&&ge(Ie,lt,ie),Ie}function fa(m){return m>0}var xl=ft({endpointUrl:Kk,propertyStorageOverride:{isVal:ya}});function ya(m){return m&&(!m.getProperty||!m.setProperty)&&oi("Invalid property storage override passed."),!0}var _a=function(m){vl(b,m);function b(){var I=m.call(this)||this;return ua(b,I,function(j,$){j[HC]=function(ie,ge,Ie,Be){In(j,function(){return"AppInsightsCore.initialize"},function(){try{$[HC](dc(ie,xl,Ie||j[BC],!1).cfg,ge,Ie,Be)}catch(wt){var et=j[BC],Ve=Pe(wt);Ve[Lw]("channels")!==-1&&(Ve+=`
 - Channels must be provided through config.channels only!`),rf(et,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Ve)}},function(){return{config:ie,extensions:ge,logger:Ie,notificationManager:Be}})},j.track=function(ie){In(j,function(){return"AppInsightsCore.track"},function(){var ge=ie;if(ge){ge[mg]=ge[mg]||{},ge[mg].trackStart=ci(),Et(ge.latency)||(ge.latency=1);var Ie=ge.ext=ge.ext||{};Ie.sdk=Ie.sdk||{},Ie.sdk.ver=se;var Be=ge.baseData=ge.baseData||{};Be[Fy]=Be[Fy]||{};var et=Be[Fy];et[Aw]=et[Aw]||j.pluginVersionString||pg}$.track(ge)},function(){return{item:ie}},!ie.sync)},j[QD]=function(ie){return $[QD](ie||"InternalLog")}}),I}return b.__ieDyn=1,b}(vv),Ci=Vi({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),ro=Vi({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),ld=Vi({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),Z_=Vi({Normal:1,Critical:2}),rm=Vi({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),nm=function(){function m(b){var I=this,j={},$=[],ie=[];b&&ie.push(b);function ge(Ve,wt){var ot,_t=j[Ve];if(_t&&(ot=_t[wt]),!ot&&ot!==null){if(cr(Ve)&&cr(wt))if(ie[Zs]>0){for(var it=0;it<ie[Zs];it++)if(ie[it][e0](Ve,wt)){ot={canHandle:!0,fieldHandler:ie[it]};break}}else $[Zs]===0&&(ot={canHandle:!0});if(!ot&&ot!==null){ot=null;for(var it=0;it<$[Zs];it++)if($[it][e0](Ve,wt)){ot={canHandle:!0,handler:$[it],fieldHandler:null};break}}_t||(_t=j[Ve]={}),_t[wt]=ot}return ot}I.clearCache=function(){j={}},I.addSanitizer=function(Ve){Ve&&(Ks($,Ve)||$.push(Ve),j={})},I.addFieldSanitizer=function(Ve){Ve&&(Ks(ie,Ve)||ie.push(Ve),j={})},I[t0]=function(Ve){if(Ve){var wt=Gs($,Ve);wt!==-1&&($.splice(wt,1),j={}),Xn($,function(ot){ot&&ot[t0]&&ot[t0](Ve)})}},I[T]=function(Ve){if(Ve){var wt=Gs(ie,Ve);wt!==-1&&(ie.splice(wt,1),j={}),Xn($,function(ot){ot&&ot[T]&&ot[T](Ve)})}},I.isEmpty=function(){return Nh($)+Nh(ie)===0},I[e0]=function(Ve,wt){var ot=ge(Ve,wt);return ot?ot[L]:!1},I[Qs]=function(Ve,wt,ot,_t){var it=ge(Ve,wt);if(it&&it[L]){if(!it||!it[L])return null;if(it.handler)return it.handler[Qs](Ve,wt,ot,_t);if(!cr(wt)||tt(ot)||ot===pg)return null;var Qt=null,Vt=Qi(ot);if((Vt&8192)===8192){var _r=Vt&-8193;if(Qt=ot,!Lt(Qt[Qs])||_r!==1&&_r!==2&&_r!==3&&(_r&4096)!==4096)return null}else Vt===1||Vt===2||Vt===3||(Vt&4096)===4096?Qt=Be(Ve,wt,ot):Vt===4&&(Qt=Be(Ve,wt,_t?JSON.stringify(ot):ot));if(Qt)return Ie(it,Ve,wt,Vt,Qt,_t)}return null},I.property=function(Ve,wt,ot,_t){var it=ge(Ve,wt);if(!it||!it[L]||!cr(wt)||tt(ot)||!Lt(ot[Qs]))return null;var Qt=Qi(ot[Qs]);return Qt===0?null:Ie(it,Ve,wt,Qt,ot,_t)};function Ie(Ve,wt,ot,_t,it,Qt){if(Ve.handler)return Ve.handler.property(wt,ot,it,Qt);if(!tt(it[ep])){if((_t&4096)===4096||!fo(it[ep]))return null;it[Qs]=it[Qs].toString()}return et(Ve.fieldHandler,wt,ot,_t,it)}function Be(Ve,wt,ot){return Lt(ot)?{value:ot}:null}function et(Ve,wt,ot,_t,it){if(it&&Ve){var Qt=Ve.getSanitizer(wt,ot,_t,it[ep],it.propertyType);if(Qt)if(_t===4){var Vt={},_r=it[Qs];Gr(_r,function(Ir,Nn){var Oi=wt+"."+ot;if(Lt(Nn)){var Io=Be(Oi,Ir,Nn);Io=et(Ve,Oi,Ir,Qi(Nn),Io),Io&&(Vt[Ir]=Io[Qs])}}),it[Qs]=Vt}else{var Pr={path:wt,name:ot,type:_t,prop:it,sanitizer:I};it=Qt.call(I,Pr)}}return it}}return m.getFieldType=Qi,m}();r.AppInsightsCore=_a,r.BaseTelemetryPlugin=MC,r.DiagnosticLogger=ag,r.EventLatency=ro,r.EventPersistence=Z_,r.EventPropertyType=ld,r.EventsDiscardedReason=Of,r.FullVersionString=se,r.InternalAppInsightsCore=vv,r.LoggingSeverity=Gk,r.MinChannelPriorty=bl,r.NotificationManager=ve,r.PerfEvent=Kt,r.PerfManager=Ar,r.ProcessTelemetryContext=gv,r.TraceLevel=rm,r.Undefined=n,r.ValueKind=Ci,r.ValueSanitizer=nm,r.Version=X,r._InternalLogMessage=Kh,r.__getRegisteredEvents=xw,r._logInternalMessage=id,r._throwInternal=rf,r._warnToConsole=mw,r.addEventHandler=hg,r.addEventListeners=kw,r.addPageHideEventListener=JD,r.addPageShowEventListener=XD,r.addPageUnloadEventListener=Dv,r.areCookiesSupported=hv,r.arrForEach=Xn,r.arrIndexOf=Gs,r.arrMap=Ul,r.arrReduce=Su,r.attachEvent=Sv,r.blockDynamicConversion=La,r.cookieAvailable=hv,r.createCookieMgr=Yp,r.createDynamicConfig=dc,r.createEnumStyle=Vi,r.createGuid=hn,r.createProcessTelemetryContext=Nu,r.createTraceParent=xy,r.createUniqueNamespace=Ql,r.createUnloadHandlerContainer=Zu,r.dateNow=Pc,r.detachEvent=KD,r.disallowsSameSiteNone=k,r.doPerf=In,r.dumpObj=Pe,r.eventOff=tm,r.eventOn=Fa,r.extend=pi,r.findW3cTraceParent=hi,r.forceDynamicConversion=Wh,r.formatTraceParent=un,r.generateW3CId=Zn,r.getCommonSchemaMetaData=nr,r.getConsole=Xd,r.getCookieValue=yr,r.getCrypto=Km,r.getDocument=tc,r.getDynamicConfigHandler=Vp,r.getExceptionName=gy,r.getFieldValueType=Qi,r.getGlobal=pl,r.getGlobalInst=Ni,r.getHistory=bu,r.getIEVersion=fw,r.getISOString=kf,r.getJSON=Wp,r.getLocation=zh,r.getMsCrypto=Nf,r.getNavigator=Rc,r.getPerformance=Df,r.getSetValue=Kd,r.getTenantId=Rt,r.getTime=ci,r.getWindow=ml,r.hasDocument=ec,r.hasHistory=ia,r.hasJSON=Gm,r.hasNavigator=Rh,r.hasOwnProperty=Vr,r.hasWindow=ma,r.isArray=Nt,r.isArrayValid=qs,r.isBeaconsSupported=lc,r.isBoolean=On,r.isChromium=Nc,r.isDate=on,r.isDocumentObjectAvailable=Rr,r.isError=Or,r.isFetchSupported=_y,r.isFunction=xt,r.isGreaterThanZero=fa,r.isIE=Ym,r.isLatency=Et,r.isNotTruthy=$r,r.isNullOrUndefined=tt,r.isNumber=ln,r.isObject=hr,r.isReactNative=Uh,r.isSampledFlag=or,r.isString=cr,r.isTruthy=dn,r.isTypeof=st,r.isUint8ArrayAvailable=qt,r.isUndefined=at,r.isValidSpanId=Oy,r.isValidTraceId=Yh,r.isValidTraceParent=Iy,r.isValueAssigned=Lt,r.isValueKind=fo,r.isWindowObjectAvailable=wr,r.isXhrSupported=tv,r.mergeEvtNamespace=Iw,r.newGuid=Qr,r.newId=Sy,r.normalizeJsName=Gd,r.objDefineAccessors=Le,r.objForEachKey=Gr,r.objFreeze=Yt,r.objKeys=Je,r.objSeal=rr,r.onConfigChange=rg,r.openXhr=Mc,r.optimizeObject=$m,r.parseTraceParent=cd,r.perfNow=Ld,r.proxyAssign=vy,r.proxyFunctionAs=Cl,r.proxyFunctions=Xg,r.random32=tf,r.randomValue=xC,r.removeEventHandler=Cv,r.removeEventListeners=Tv,r.removePageHideEventListener=Q_,r.removePageShowEventListener=Vk,r.removePageUnloadEventListener=YD,r.safeGetCookieMgr=W_,r.safeGetLogger=lv,r.sanitizeProperty=ur,r.setEnableEnvMocks=Bp,r.setProcessTelemetryTimings=mc,r.setValue=cc,r.strContains=Ms,r.strEndsWith=Ef,r.strFunction=e,r.strObject=t,r.strPrototype=i,r.strStartsWith=es,r.strTrim=oa,r.strUndefined=n,r.throwError=oi,r.toISOString=kf,r.useXDomainRequest=Qd})});var RSe=C((Lj,ESe)=>{(function(r,e){typeof Lj=="object"&&typeof ESe<"u"?e(Lj):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(Lj,function(r){"use strict";var e="REAL_TIME",t="NEAR_REAL_TIME",n="BEST_EFFORT",i="function",o="object",s="undefined",a="prototype",c=Object,u=c[a],l=void 0,d=null,f="",p="boolean",_="function",D="number",x="object",N="prototype",A="__proto__",U="string",ee="undefined",he="constructor",we="Symbol",V="_polyfill",W="indexOf",te="length",De="done",ae="value",ue="name",qe="slice",Me=Object,ce=Me[N],Ce=String,be=Ce[N],xe=Math,Ne=Array,$e=Ne[N];function Ct(T,L){var B=L;try{B=T()}catch{}return B}function ze(T){return function(L){return typeof L===T}}function st(T){var L="[object "+T+"]";return function(B){return!!(B&&at(B)===L)}}function at(T){return ce.toString.call(T)}function tt(T){return typeof T===ee||T===ee}function fr(T){return T===d||tt(T)}function Lr(T){return T===d||!zr(T)}function zr(T){return!!T||T!==l}var cr=ze(U),xt=ze(_);function hr(T){return!T&&fr(T)?!1:!!T&&typeof T===x}var Nt=Ne.isArray,on=ze(D),ln=ze(p),On=st("Error");function Or(T){return!!T&&xt(T.then)}var Hn=Me.getOwnPropertyDescriptor;function $r(T,L){return T&&ce.hasOwnProperty.call(T,L)}var dn=Me.hasOwn||ii;function ii(T,L){return $r(T,L)||!!Hn(T,L)}function Vr(T,L,B){if(T&&hr(T)){for(var X in T)if(dn(T,X)&&L.call(B||T,X,T[X])===-1)break}}function An(T,L,B,X){var se={};return Vr(T,function(Se,Te){se[Se]=L?Te:Se,se[Te]=B?Te:Se}),X(se)}function Pi(T){throw new TypeError(T)}var Gr=Me.freeze,Ji=function(T){return T},oi=function(T){return T[A]||d},fn=Me.assign;function Oe(T){return(!hr(T)||T===d)&&Pi("objKeys called on non-object"),Me.keys(T)}function oe(T){return Gr&&Vr(T,function(L,B){(Nt(B)||hr(B))&&Gr(B)}),Q(T)}var Q=Gr||Ji,_e=Me.getPrototypeOf||oi;function Je(T){return An(T,1,0,oe)}function ft(T){return An(T,0,0,oe)}var Yt=ft({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),rr=Ce,Jt="__tsUtils$gblCfg",$t;function kt(){var T;return typeof globalThis!==ee&&(T=globalThis),!T&&typeof self!==ee&&(T=self),!T&&typeof window!==ee&&(T=window),!T&&typeof global!==ee&&(T=global),T}function K(){if(!$t){var T=kt()||{};$t=T[Jt]=T[Jt]||{}}return $t}function Fe(T,L){var B=f;if(On(T))B="{ stack: '"+T.stack+"', message: '"+T.message+"', name: '"+T.name+"'";else try{B=JSON.stringify(T,d,L?on(L)?L:4:l)}catch(X){B=" - "+Fe(X,L)}return at(T)+": "+B}var Ht=$e[qe],Dr=function(T,L){Pi("'"+rr(T)+"' not defined for "+Fe(L))},He=function(T){return function(L){return L[T].apply(L,Ht.call(arguments,1))}},ne=function(T,L){var B=L&&L[T];return function(X){var se=X&&X[T]||B;if(se)return se.apply(X,Ht.call(arguments,1));Dr(T,X)}},Pe=function(T,L,B){var X=L&&L[T];return function(se){var Se=se&&se[T]||X;if(Se||B){var Te=arguments;return(Se||B).apply(se,Se?Ht.call(Te,1):Te)}Dr(T,se)}},je=xe.max,fe=ne(qe,be),S=ne("substring",be),de=Pe("substr",be,Ye);function Ye(T,L,B){return fr(T)&&Pi("'polyStrSubstr called with invalid "+Fe(T)),B<0?f:(L=L||0,L<0&&(L=je(L+T[te],0)),tt(B)?fe(T,L):fe(T,L,L+B))}function Tr(T,L){return S(T,0,L)}var Wr=Pe("startsWith",be,Xr);function Xr(T,L,B){cr(T)||Pi("'"+Fe(T)+"' is not a string");var X=cr(L)?L:rr(L),se=X[te],Se=B>0?B:0;return S(T,Se,Se+se)===X}var qn="_urid",xi;function As(){if(!xi){var T=K();xi=T.gblSym=T.gblSym||{k:{},s:{}}}return xi}var Sn={};function es(T){var L={description:rr(T),toString:function(){return we+"("+T+")"}};return L[V]=!0,L}function Ws(T){var L=As();if(!dn(L.k,T)){var B=es(T),X=Oe(L.s).length;B[qn]=function(){return X+"_"+B.toString()},L.k[T]=B,L.s[B[qn]()]=rr(T)}return L.k[T]}function na(T){var L,B=Yt[T];return B&&(L=Sn[B]=Sn[B]||es(we+"."+B)),L}var Fo={e:"enumerable",c:"configurable",v:ae,w:"writable",g:"get",s:"set"};function Eo(T){var L={};if(L[Fo.c]=!0,L[Fo.e]=!0,T.l){L.get=function(){return T.l.v};var B=Hn(T.l,"v");B&&B.set&&(L.set=function(X){T.l.v=X})}return Vr(T,function(X,se){L[Fo[X]]=tt(se)?L[Fo[X]]:se}),L}var H=Me.defineProperty;function Ue(T,L,B){return H(T,L,Eo(B))}var vt,Fr=function(){vt=K(),Fr=d};function so(T){var L={};return Fr&&Fr(),L.b=vt.lzy,H(L,"v",{configurable:!0,get:function(){var B=T();return vt.lzy||(H(L,"v",{value:B}),L.b&&delete L.b),vt.lzy&&L.b!==vt.lzy&&(L.b=vt.lzy),B}}),L}function Bi(T,L){return so(function(){return Ct(T,L)})}var M="window",Le,rt,zt,Ln,Cn,Mn=function(T){return Bi(function(){return ji(T)||l},l)},ao=function(T){return(!Le||T===!1||vt&&vt.lzy&&!Le.b)&&(Le=Bi(kt,d)),Le.v},ji=function(T,L){var B=!Le||L===!1?ao(L):Le.v;return B&&B[T]?B[T]:T===M&&rt?rt.v:d},Ro=function(){return!!$i()},$i=function(){return(!zt||vt&&vt.lzy&&!zt.b)&&(zt=Mn("document")),zt.v},Jn=function(){return!!_u()},_u=function(){return(!rt||vt&&vt.lzy&&!rt.b)&&(rt=Mn(M)),rt.v},ts=function(){return!!yo()},yo=function(){return(!Ln||vt&&vt.lzy&&!Ln.b)&&(Ln=Mn("navigator")),Ln.v},pl=function(){return!Cn&&(Cn=Bi(function(){return!!(process&&(process.versions||{}).node)},!1)),Cn.v},Ni,ec,tc;function ma(T){return Bi(function(){return Ni.v?Ni.v[T]:l},l)}function ml(){return!!Rh()}function Rh(){var T=!Ni||vt&&vt.lzy&&!Ni.b;return T&&(Ni=Mn(we)),(!ec||T)&&(ec=ma("for")),(!tc||T)&&(tc=ma("keyFor")),Ni.v}function Rc(T,L){var B=Yt[T];return(!Ni||vt.lzy&&!Ni.b)&&Rh(),Ni.v?Ni.v[B||T]:L?l:na(T)}function ia(T,L){return(!Ni||vt.lzy&&!Ni.b)&&Rh(),Ni.v?Ni.v(T):L?d:es(T)}function bu(T){return(!ec||vt.lzy&&!Ni.b)&&Rh(),(ec.v||Ws)(T)}function Ph(T){return!!T&&xt(T.next)}function Uo(T){return!Lr(T)&&xt(T[Rc(3)])}var $s;function Dn(T,L,B){if(T&&(Ph(T)||(!$s&&($s=so(function(){return Rc(3)})),T=T[$s.v]?T[$s.v]():null),Ph(T))){var X=void 0,se=void 0;try{for(var Se=0;!(se=T.next())[De]&&L.call(B||T,se[ae],Se,T)!==-1;)Se++}catch(Te){X={e:Te},T.throw&&(se=null,T.throw(X))}finally{try{se&&!se[De]&&T.return&&T.return(se)}finally{if(X)throw X.e}}}}var Vs=He("apply");function wu(T,L){return!tt(L)&&T&&(Nt(L)?Vs(T.push,T,L):Ph(L)||Uo(L)?Dn(L,function(B){T.push(B)}):T.push(L)),T}function si(T,L,B){if(T)for(var X=T[te]>>>0,se=0;se<X&&!(se in T&&L.call(B||T,T[se],se,T)===-1);se++);}var Pa=ne(W,$e),ru=ne(qe,$e),xh=He("call"),_f=Me.create,Cp=_f||bf;function bf(T){if(!T)return{};var L=typeof T;if(L!==x&&L!==_)throw new TypeError("Prototype must be an Object or function: "+Fe(T));function B(){}return B[N]=T,new B}var Tp;function wf(T,L){var B=Me.setPrototypeOf||function(X,se){!Tp&&(Tp=so(function(){var Se;return Se={},Se[A]=[],Se instanceof Array})),Tp.v?X[A]=se:Vr(se,function(Se,Te){return X[Se]=Te})};return B(T,L)}var zl=function(T,L,B){Gs(L,T),L=wf(L,B);function X(){this.constructor=L,Gs(this,T)}return L[N]=B===d?Cp(B):(X[N]=B[N],new X),L},Xn=function(T,L){try{L&&(T[ue]=L)}catch{}},Gs=function(T,L){try{Ue(T,ue,{v:L,c:!0,e:!1})}catch{}};function Ul(T,L,B){var X=B||Error,se=X[N][ue],Se=Error.captureStackTrace;return zl(T,function(){var Te=this;try{Xn(X,T);var Xe=Vs(X,Te,ru(arguments))||Te;if(Xe!==Te){var lt=_e(Te);lt!==_e(Xe)&&wf(Xe,lt)}return Se&&Se(Xe,Te[he]),L&&L(Xe,arguments),Xe}finally{Xn(X,se)}},X)}function co(){return(Date.now||Oh)()}function Oh(){return new Date().getTime()}function Ih(T){return function(B){return fr(B)&&Pi("strTrim called ["+Fe(B)+"]"),B&&B.replace&&(B=B.replace(T,f)),B}}var Ks=Ih(/^\s+|(?=\s)\s+$/g),Su=Pe("trim",be,Ks),kh,Od,Cs;function Hl(T){if(!T||typeof T!==x)return!1;Cs||(Cs=Jn()?_u():!0);var L=!1;if(T!==Cs){Od||(kh=Function[N].toString,Od=xh(kh,Me));try{var B=_e(T);L=!B,L||($r(B,he)&&(B=B[he]),L=B&&typeof B===_&&kh.call(B)===Od)}catch{}}return L}var nu;function Lm(){return(!nu||!nu.b&&vt&&vt.lzy)&&(nu=Mn("performance")),nu.v}function Id(){var T=Lm();return T&&T.now?T.now():co()}var Sf=ne(W,be),Cf="ref",Pc="un"+Cf,_o="hasRef",Dp="enabled";function Tf(T,L,B){var X,se=!0,Se=T?L(d):d,Te,Xe=function(){return se=!1,Se&&Se[Pc]&&Se[Pc](),Te},lt=function(){return se=!0,Se&&Se[Cf]&&Se[Cf](),Te},gt=function(){return Se&&Se[_o]?Se[_o]():se},jt=function(){return Se=L(Se),se||Xe(),Te},Rr=function(){Se&&B(Se),Se=d},wr=function(Lt){!Lt&&Se&&Rr(),Lt&&!Se&&jt()};return Te=(X={cancel:Rr,refresh:jt},X[_o]=gt,X[Cf]=lt,X[Pc]=Xe,X[Dp]=!1,X),H(Te,Dp,{get:function(){return!!Se},set:wr}),{h:Te,dn:function(){Se=d}}}function oa(T,L,B,X){var se=Nt(B),Se=se?B.length:0,Te=(Se>0?B[0]:se?l:B)||setTimeout,Xe=(Se>1?B[1]:l)||clearTimeout,lt=X[0];X[0]=function(){gt.dn(),Vs(lt,T,ru(arguments))};var gt=Tf(L,function(jt){if(jt){if(jt.refresh)return jt.refresh(),jt;Vs(Xe,T,[jt])}return Vs(Te,T,X)},function(jt){Vs(Xe,T,[jt])});return gt.h}function gl(T,L){return oa(this,!0,l,ru(arguments))}function Cu(T,L,B){return oa(this,!0,T,ru(arguments,1))}(ao()||{}).Symbol,(ao()||{}).Reflect;var dy="hasOwnProperty",sa=function(T,L){return sa=c.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,X){B.__proto__=X}||function(B,X){for(var se in X)X[dy](se)&&(B[se]=X[se])},sa(T,L)};function P_(T,L){typeof L!==i&&L!==null&&Pi("Class extends value "+String(L)+" is not a constructor or null"),sa(T,L);function B(){this.constructor=T}T[a]=L===null?Cp(L):(B[a]=L[a],new B)}var Wu,kd="constructor",Ho="prototype",Bl="function",Ah="_dynInstFuncs",Vg="_isDynProxy",Ad="_dynClass",Lh="_dynCls$",Ep="_dynInstChk",Wl=Ep,Rp="_dfOpts",$u="_unknown_",Nh="__proto__",Tu="_dyn"+Nh,Df="__dynProto$Gbl",Ld="_dynInstProto",Ef="useBaseInst",Nd="setInstFuncs",Ys=Object,xa=Ys.getPrototypeOf,Po=Ys.getOwnPropertyNames,iu=ao(),rc=iu[Df]||(iu[Df]={o:(Wu={},Wu[Nd]=!0,Wu[Ef]=!0,Wu),n:1e3});function Gg(T){return T&&(T===Ys[Ho]||T===Array[Ho])}function Vu(T){return Gg(T)||T===Function[Ho]}function Js(T){var L;if(T){if(xa)return xa(T);var B=T[Nh]||T[Ho]||(T[kd]?T[kd][Ho]:null);L=T[Tu]||B,$r(T,Tu)||(delete T[Ld],L=T[Tu]=T[Ld]||T[Tu],T[Ld]=B)}return L}function $l(T,L){var B=[];if(Po)B=Po(T);else for(var X in T)typeof X=="string"&&$r(T,X)&&B.push(X);if(B&&B.length>0)for(var se=0;se<B.length;se++)L(B[se])}function Pp(T,L,B){return L!==kd&&typeof T[L]===Bl&&(B||$r(T,L))}function Du(T){Pi("DynamicProto: "+T)}function vl(T){var L={};return $l(T,function(B){!L[B]&&Pp(T,B,!1)&&(L[B]=T[B])}),L}function Mh(T,L){for(var B=T.length-1;B>=0;B--)if(T[B]===L)return!0;return!1}function xc(T,L,B,X){function se(lt,gt,jt){var Rr=gt[jt];if(Rr[Vg]&&X){var wr=lt[Ah]||{};wr[Wl]!==!1&&(Rr=(wr[gt[Ad]]||{})[jt]||Rr)}return function(){return Rr.apply(lt,arguments)}}var Se={};$l(B,function(lt){Se[lt]=se(L,B,lt)});for(var Te=Js(T),Xe=[];Te&&!Vu(Te)&&!Mh(Xe,Te);)$l(Te,function(lt){!Se[lt]&&Pp(Te,lt,!xa)&&(Se[lt]=se(L,Te,lt))}),Xe.push(Te),Te=Js(Te);return Se}function Gu(T,L,B,X){var se=null;if(T&&$r(B,Ad)){var Se=T[Ah]||{};if(se=(Se[B[Ad]]||{})[L],se||Du("Missing ["+L+"] "+Bl),!se[Ep]&&Se[Wl]!==!1){for(var Te=!$r(T,L),Xe=Js(T),lt=[];Te&&Xe&&!Vu(Xe)&&!Mh(lt,Xe);){var gt=Xe[L];if(gt){Te=gt===X;break}lt.push(Xe),Xe=Js(Xe)}try{Te&&(T[L]=se),se[Ep]=1}catch{Se[Wl]=!1}}}return se}function Ts(T,L,B){var X=L[T];return X===B&&(X=Js(L)[T]),typeof X!==Bl&&Du("["+T+"] is not a "+Bl),X}function ou(T,L,B,X,se){function Se(lt,gt){var jt=function(){var Rr=Gu(this,gt,lt,jt)||Ts(gt,lt,jt);return Rr.apply(this,arguments)};return jt[Vg]=1,jt}if(!Gg(T)){var Te=B[Ah]=B[Ah]||{},Xe=Te[L]=Te[L]||{};Te[Wl]!==!1&&(Te[Wl]=!!se),$l(B,function(lt){Pp(B,lt,!1)&&B[lt]!==X[lt]&&(Xe[lt]=B[lt],delete B[lt],(!$r(T,lt)||T[lt]&&!T[lt][Vg])&&(T[lt]=Se(T,lt)))})}}function Ku(T,L){if(xa){for(var B=[],X=Js(L);X&&!Vu(X)&&!Mh(B,X);){if(X===T)return!0;B.push(X),X=Js(X)}return!1}return!0}function Yu(T,L){return $r(T,Ho)?T.name||L||$u:((T||{})[kd]||{}).name||L||$u}function aa(T,L,B,X){$r(T,Ho)||Du("theClass is an invalid class definition.");var se=T[Ho];Ku(se,L)||Du("["+Yu(T)+"] not in hierarchy of ["+Yu(L)+"]");var Se=null;$r(se,Ad)?Se=se[Ad]:(Se=Lh+Yu(T,"_")+"$"+rc.n,rc.n++,se[Ad]=Se);var Te=aa[Rp],Xe=!!Te[Ef];Xe&&X&&X[Ef]!==void 0&&(Xe=!!X[Ef]);var lt=vl(L),gt=xc(se,L,lt,Xe);B(L,gt);var jt=!!xa&&!!Te[Nd];jt&&X&&(jt=!!X[Nd]),ou(se,Se,L,lt,jt!==!1)}aa[Rp]=rc.o;var Kg=Je,nc=Kg({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),yl="toLowerCase",Bo="blkVal",Wo="length",Rf="rdOnly",Ju="notify",Pf="warnToConsole",qo="throwInternal",Vl="setDf",xf="watch",ga="logger",Eu="apply",ca="push",Ls="splice",Gl="hdlr",fy="cancel",ms="initialize",su="identifier",_l="isInitialized",Fh="getPlugin",Md="name",xp="time",ic="processNext",Nm="getProcessTelContext",zi="unload",rs="loggingLevelConsole",Xu="createNew",Oc="teardown",Ic="messageId",ua="message",bl="isAsync",Vi="diagLog",Of="_doTeardown",wi="update",Oa="getNext",Bn="setNextPlugin",Fd="userAgent",Kl="split",kc="nodeType",$o="replace",oc="logInternalMessage",la="type",uo="handler",Ru="isChildEvt",Fn="getCtx",au="setCtx",xo="complete",ai;function Yl(T,L){ai||(ai=Ul("AggregationError",function(X,se){se[Wo]>1&&(X.errors=se[1])}));var B=T||"One or more errors occurred.";throw si(L,function(X,se){B+=`
`.concat(se," > ").concat(Fe(X))}),new ai(B,L||[])}var Ia=["pending","resolving","resolved","rejected"],va="dispatchEvent",da;function Jl(T,L,B,X){var se=$i();!da&&(da=Bi(function(){var lt;return se&&se.createEvent&&(lt=se.createEvent("Event")),!!lt&&lt.initEvent},null));var Se=da.v?se.createEvent("Event"):X?new Event(L):{};if(B&&B(Se),da.v&&Se.initEvent(L,!1,!0),Se&&T[va])T[va](Se);else{var Te=T["on"+L];if(Te)Te(Se);else{var Xe=ji("console");Xe&&(Xe.error||Xe.log)(L,Fe(Se))}}}var sc="Promise",qd="unhandledRejection",Ds=qd.toLowerCase(),cu=10,wl;function Xl(T){return xt(T)?T.toString():Fe(T)}function jd(T,L,B){var X=ru(arguments,3),se=0,Se=!1,Te,Xe=[],lt=!1,gt=null,jt;!wl&&(wl=Mn(sc+"RejectionEvent"));var Rr=function(yr,hn){try{lt=!0,gt&&gt.cancel(),gt=null;var pi=T(function(ci,fo){Xe.push(function(){try{var Go=se===2?yr:hn,Oo=tt(Go)?Te:xt(Go)?Go(Te):Go;Or(Oo)?Oo.then(ci,fo):Go?ci(Oo):se===3?fo(Oo):ci(Oo)}catch(qs){fo(qs)}}),Se&&qt()},X);return pi}finally{}},wr=function(yr){return Rr(void 0,yr)},Lt=function(yr){var hn=yr,pi=yr;return xt(yr)&&(hn=function(ci){return yr&&yr(),ci},pi=function(ci){throw yr&&yr(),ci}),Rr(hn,pi)},Rt=function(){return Ia[se]},qt=function(){if(Xe.length>0){var yr=Xe.slice();Xe=[],lt=!0,L(yr),gt&&gt.cancel(),gt=null}},Et=function(yr,hn){return function(pi){if(se===hn){if(yr===2&&Or(pi)){se=1,pi.then(Et(2,1),Et(3,1));return}se=yr,Se=!0,Te=pi,qt(),!lt&&yr===3&&!gt&&(gt=gl(ur,cu))}}},ur=function(){if(!lt)if(pl())process.emit(qd,Te,jt);else{var yr=_u()||ao();Jl(yr,Ds,function(hn){return Ue(hn,"promise",{g:function(){return jt}}),hn.reason=Te,hn},!!wl.v)}};jt={then:Rr,catch:wr,finally:Lt},H(jt,"state",{get:Rt}),ml()&&(jt[Rc(11)]="IPromise");var nr=function(){return"IPromise "+Rt()+(Se?" - "+Xl(Te):"")};return jt.toString=nr,function(){xt(B)||Pi(sc+": executor is not a function - "+Xl(B));var hn=Et(3,0);try{B.call(jt,Et(2,0),hn)}catch(pi){hn(pi)}}(),jt}var g=function(T){si(T,function(L){try{L()}catch{}})};function v(T){var L=on(T)?T:0;return function(B){gl(function(){g(B)},L)}}function R(T,L){return jd(R,v(L),T,L)}var O;function F(T,L){!O&&(O=Mn(sc));var B=O.v;if(!B)return R(T);xt(T)||Pi(sc+": executor is not a function - "+Fe(T));var X=0;function se(){return Ia[X]}var Se=new B(function(Te,Xe){function lt(jt){X=2,Te(jt)}function gt(jt){X=3,Xe(jt)}T(lt,gt)});return H(Se,"state",{get:se}),Se}var J;function Z(T,L){return!J&&(J=so(function(){return F})),J.v.call(this,T,L)}var pe=void 0,ke="",Qe="core",ht="disabled",Ut="extensionConfig",Sr="processTelemetry",sn="priority",jr="getPerfMgr",Wn="Not dynamic - ",Xs=/-([a-z])/g,ac=/([^\w\d_$])/g,Pu=/^(\d+[\w\d_$])/;function Op(T){return!fr(T)}function Mm(T){var L=T;return L&&cr(L)&&(L=L[$o](Xs,function(B,X){return X.toUpperCase()}),L=L[$o](ac,"_"),L=L[$o](Pu,function(B,X){return"_"+X})),L}function ka(T,L){return T&&L?Sf(T,L)!==-1:!1}function Ip(T,L){var B=null,X=null;return xt(T)?B=T:X=T,function(){var se=arguments;if(B&&(X=B()),X)return X[L][Eu](X,se)}}function qh(T,L,B,X,se){T&&L&&B&&(se!==!1||tt(T[L]))&&(T[L]=Ip(B,X))}function zd(T,L,B,X){return T&&L&&hr(T)&&Nt(B)&&si(B,function(se){cr(se)&&qh(T,se,L,se,X)}),T}function xu(T){return T&&fn&&(T=c(fn({},T))),T}var Yg="location",x_="console",kp="JSON",Ap="crypto",O_="msCrypto",I_="ReactNative",k_="msie",lw="trident/",Fm="XMLHttpRequest",hy=null,A_=null,L_=!1,qm=null,Lp=null;function dw(T,L){var B=!1;if(T){try{if(B=L in T,!B){var X=T[a];X&&(B=L in X)}}catch{}if(!B)try{var se=new T;B=!tt(se[L])}catch{}}return B}function N_(T){if(T&&L_){var L=ji("__mockLocation");if(L)return L}return typeof location===o&&location?location:ji(Yg)}function Np(){return typeof console!==s?console:ji(x_)}function py(){return!!(typeof JSON===o&&JSON||ji(kp)!==null)}function Ud(){return py()?JSON||ji(kp):null}function Xi(){return ji(Ap)}function jm(){return ji(O_)}function lo(){var T=yo();return T&&T.product?T.product===I_:!1}function M_(){var T=yo();if(T&&(T[Fd]!==A_||hy===null)){A_=T[Fd];var L=(A_||ke)[yl]();hy=ka(L,k_)||ka(L,lw)}return hy}function my(T){return(Lp===null||T===!1)&&(Lp=ts()&&!!yo().sendBeacon),Lp}function Hd(T){var L=!1;try{L=!!ji("fetch");var B=ji("Request");L&&T&&B&&(L=dw(B,"keepalive"))}catch{}return L}function Mp(){return qm===null&&(qm=typeof XDomainRequest!==s,qm&&uu()&&(qm=qm&&!dw(ji(Fm),"withCredentials"))),qm}function uu(){var T=!1;try{var L=ji(Fm);T=!!L}catch{}return T}var Bd=4294967296,Wd=4294967295,Ns=123456789,fi=987654321,Ou=!1,ns=Ns,$d=fi;function zm(T){T<0&&(T>>>=0),ns=Ns+T&Wd,$d=fi-T&Wd,Ou=!0}function Fp(){try{var T=co()&2147483647;zm((Math.random()*Bd^T)+T)}catch{}}function qp(T){var L=0,B=Xi()||jm();return B&&B.getRandomValues&&(L=B.getRandomValues(new Uint32Array(1))[0]&Wd),L===0&&M_()&&(Ou||Fp(),L=If()&Wd),L===0&&(L=Math.floor(Bd*Math.random()|0)),T||(L>>>=0),L}function If(T){$d=36969*($d&65535)+($d>>16)&Wd,ns=18e3*(ns&65535)+(ns>>16)&Wd;var L=($d<<16)+(ns&65535)>>>0&Wd|0;return T||(L>>>=0),L}function F_(T){T===void 0&&(T=22);for(var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=qp()>>>0,X=0,se=ke;se[Wo]<T;)X++,se+=L.charAt(B&63),B>>>=6,X===5&&(B=(qp()<<2&4294967295|B&3)>>>0,X=0);return se}var Um="3.0.5",Hm="."+F_(6),Aa=0;function Vd(T){return T[kc]===1||T[kc]===9||!+T[kc]}function Ac(T,L){var B=L[T.id];if(!B){B={};try{Vd(L)&&Ue(L,T.id,{e:!1,v:B})}catch{}}return B}function Iu(T,L){return L===void 0&&(L=!1),Mm(T+Aa+++(L?"."+Um:ke)+Hm)}function Bm(T){var L={id:Iu("_aiData-"+(T||ke)+"."+Um),accept:function(B){return Vd(B)},get:function(B,X,se,Se){var Te=B[L.id];return Te?Te[Mm(X)]:(Se&&(Te=Ac(L,B),Te[Mm(X)]=se),se)},kill:function(B,X){if(B&&B[X])try{delete B[X]}catch{}}};return L}function Sl(T){return T&&hr(T)&&(T.isVal||T.fb||dn(T,"v")||dn(T,"mrg")||dn(T,"ref")||T.set)}function Wm(T,L,B){var X,se=B.dfVal||zr;if(L&&B.fb){var Se=B.fb;Nt(Se)||(Se=[Se]);for(var Te=0;Te<Se[Wo];Te++){var Xe=Se[Te],lt=L[Xe];if(se(lt)?X=lt:T&&(lt=T.cfg[Xe],se(lt)&&(X=lt),T.set(T.cfg,rr(Xe),lt)),se(X))break}}return!se(X)&&se(B.v)&&(X=B.v),X}function Jg(T,L,B){var X=B;if(B&&Sl(B)&&(X=Wm(T,L,B)),X){Sl(X)&&(X=Jg(T,L,X));var se;Nt(X)?(se=[],se[Wo]=X[Wo]):Hl(X)&&(se={}),se&&(Vr(X,function(Se,Te){Te&&Sl(Te)&&(Te=Jg(T,L,Te)),se[Se]=Te}),X=se)}return X}function jp(T,L,B,X){var se,Se,Te,Xe=X,lt,gt,jt,Rr;Sl(Xe)?(se=Xe.isVal,Se=Xe.set,jt=Xe[Rf],Rr=Xe[Bo],lt=Xe.mrg,gt=Xe.ref,!gt&&tt(gt)&&(gt=!!lt),Te=Wm(T,L,Xe)):Te=X,Rr&&T[Bo](L,B);var wr,Lt=!0,Rt=L[B];(Rt||!fr(Rt))&&(wr=Rt,Lt=!1,se&&wr!==Te&&!se(wr)&&(wr=Te,Lt=!0),Se&&(wr=Se(wr,Te,L),Lt=wr===Te)),Lt?Te?wr=Jg(T,L,Te):wr=Te:(Hl(wr)||Nt(Te))&&lt&&Te&&(Hl(Te)||Nt(Te))&&Vr(Te,function(qt,Et){jp(T,wr,qt,Et)}),T.set(L,B,wr),gt&&T.ref(L,B),jt&&T[Rf](L,B)}var En=bu("[[ai_dynCfg_1]]"),Gd=bu("[[ai_blkDynCfg_1]]"),Ms=bu("[[ai_frcDynCfg_1]]");function kf(T){if(T){var L;if(Nt(T)?(L=[],L[Wo]=T[Wo]):Hl(T)&&(L={}),L)return Vr(T,function(B,X){L[B]=kf(X)}),L}return T}function gy(T){if(T){var L=T[En]||T;if(L.cfg&&(L.cfg===T||L.cfg[En]===L))return L}return null}function cc(T){if(T&&(Hl(T)||Nt(T)))try{T[Gd]=!0}catch{}return T}function Kd(T,L,B){var X=!1;return B&&!T[L.blkVal]&&(X=B[Ms],!X&&!B[Gd]&&(X=Hl(B)||Nt(B))),X}function zp(T){Pi("InvalidAccess:"+T)}var vy=["push","pop","shift","unshift","splice"],Cl=function(T,L,B,X){T&&T[qo](3,108,"".concat(B," [").concat(L,"] failed - ")+Fe(X))};function Xg(T,L,B){Nt(L)&&si(vy,function(X){var se=L[X];L[X]=function(){for(var Se=[],Te=0;Te<arguments.length;Te++)Se[Te]=arguments[Te];var Xe=se[Eu](this,Se);return Af(T,L,B,"Patching"),Xe}})}function $m(T,L){var B=Hn(T,L);return B&&B.get}function yy(T,L,B,X){var se={n:B,h:[],trk:function(gt){gt&&gt.fn&&(Pa(se.h,gt)===-1&&se.h[ca](gt),T.trk(gt,se))},clr:function(gt){var jt=Pa(se.h,gt);jt!==-1&&se.h[Ls](jt,1)}},Se=!0,Te=!1;function Xe(){Se&&(Te=Te||Kd(Xe,T,X),X&&!X[En]&&Te&&(X=Af(T,X,B,"Converting")),Se=!1);var gt=T.act;return gt&&se.trk(gt),X}Xe[T.prop]={chng:function(){T.add(se)}};function lt(gt){if(X!==gt){Xe[T.ro]&&!T.upd&&zp("["+B+"] is read-only:"+Fe(L)),Se&&(Te=Te||Kd(Xe,T,X),Se=!1);var jt=Te&&Xe[T.rf];if(Te)if(jt){Vr(X,function(wr){X[wr]=gt?gt[wr]:pe});try{Vr(gt,function(wr,Lt){Qg(T,X,wr,Lt)}),gt=X}catch(wr){Cl((T.hdlr||{})[ga],B,"Assigning",wr),Te=!1}}else X&&X[En]&&Vr(X,function(wr){var Lt=$m(X,wr);if(Lt){var Rt=Lt[T.prop];Rt&&Rt.chng()}});if(gt!==X){var Rr=gt&&Kd(Xe,T,gt);!jt&&Rr&&(gt=Af(T,gt,B,"Converting")),X=gt,Te=Rr}T.add(se)}}Ue(L,se.n,{g:Xe,s:lt})}function Qg(T,L,B,X){if(L){var se=$m(L,B),Se=se&&!!se[T.prop];Se?L[B]=X:yy(T,L,B,X)}return L}function Yd(T,L,B,X){if(L){var se=$m(L,B),Se=se&&!!se[T.prop],Te=X&&X[0],Xe=X&&X[1],lt=X&&X[2];if(!Se){if(lt)try{cc(L)}catch(gt){Cl((T.hdlr||{})[ga],B,"Blocking",gt)}try{Qg(T,L,B,L[B]),se=$m(L,B)}catch(gt){Cl((T.hdlr||{})[ga],B,"State",gt)}}Te&&(se[T.rf]=Te),Xe&&(se[T.ro]=Xe),lt&&(se[T.blkVal]=!0)}return L}function Af(T,L,B,X){try{Vr(L,function(se,Se){Qg(T,L,se,Se)}),L[En]||(H(L,En,{get:function(){return T[Gl]}}),Xg(T,L,B))}catch(se){Cl((T.hdlr||{})[ga],B,X,se)}return L}var Vm="[[ai_",Up="]]";function Zg(T){var L,B=ia(Vm+"get"+T.uid+Up),X=ia(Vm+"ro"+T.uid+Up),se=ia(Vm+"rf"+T.uid+Up),Se=ia(Vm+"blkVal"+T.uid+Up),Te=ia(Vm+"dtl"+T.uid+Up),Xe=null,lt=null,gt;function jt(Rt,qt){var Et=gt.act;try{gt.act=Rt,Rt&&Rt[Te]&&(si(Rt[Te],function(nr){nr.clr(Rt)}),Rt[Te]=[]),qt({cfg:T.cfg,set:T.set.bind(T),setDf:T[Vl].bind(T),ref:T.ref.bind(T),rdOnly:T[Rf].bind(T)})}catch(nr){var ur=T[ga];throw ur&&ur[qo](1,107,Fe(nr)),nr}finally{gt.act=Et||null}}function Rr(){if(Xe){var Rt=Xe;Xe=null,lt&&lt[fy](),lt=null;var qt=[];if(si(Rt,function(Et){if(Et&&(Et[Te]&&(si(Et[Te],function(ur){ur.clr(Et)}),Et[Te]=null),Et.fn))try{jt(Et,Et.fn)}catch(ur){qt[ca](ur)}}),Xe)try{Rr()}catch(Et){qt[ca](Et)}qt[Wo]>0&&Yl("Watcher error(s): ",qt)}}function wr(Rt){if(Rt&&Rt.h[Wo]>0){Xe||(Xe=[]),lt||(lt=gl(function(){lt=null,Rr()},0));for(var qt=0;qt<Rt.h[Wo];qt++){var Et=Rt.h[qt];Et&&Pa(Xe,Et)===-1&&Xe[ca](Et)}}}function Lt(Rt,qt){if(Rt){var Et=Rt[Te]=Rt[Te]||[];Pa(Et,qt)===-1&&Et[ca](qt)}}return gt=(L={prop:B,ro:X,rf:se},L[Bo]=Se,L[Gl]=T,L.add=wr,L[Ju]=Rr,L.use=jt,L.trk=Lt,L),gt}function lu(T,L){var B={fn:L,rm:function(){B.fn=null,T=null,L=null}};return T.use(B,L),B}function uc(T,L,B){var X,se=gy(L);if(se)return se;var Se=Iu("dyncfg",!0),Te=L&&B!==!1?L:kf(L),Xe;function lt(){Xe[Ju]()}function gt(ur,nr,yr){try{ur=Qg(Xe,ur,nr,yr)}catch(hn){Cl(T,nr,"Setting value",hn)}return ur[nr]}function jt(ur){return lu(Xe,ur)}function Rr(ur,nr){Xe.use(null,function(yr){var hn=Xe.upd;try{tt(nr)||(Xe.upd=nr),ur(yr)}finally{Xe.upd=hn}})}function wr(ur,nr){var yr;return Yd(Xe,ur,nr,(yr={},yr[0]=!0,yr))[nr]}function Lt(ur,nr){var yr;return Yd(Xe,ur,nr,(yr={},yr[1]=!0,yr))[nr]}function Rt(ur,nr){var yr;return Yd(Xe,ur,nr,(yr={},yr[2]=!0,yr))[nr]}function qt(ur,nr){return nr&&Vr(nr,function(yr,hn){jp(Et,ur,yr,hn)}),ur}var Et=(X={uid:null,cfg:Te},X[ga]=T,X[Ju]=lt,X.set=gt,X[Vl]=qt,X[xf]=jt,X.ref=wr,X[Rf]=Lt,X[Bo]=Rt,X._block=Rr,X);return Ue(Et,"uid",{c:!1,e:!1,w:!1,v:Se}),Xe=Zg(Et),Af(Xe,Te,"config","Creating"),Et}function Lf(T,L){T?(T[Pf](L),T[qo](2,108,L)):zp(L)}function Qu(T,L,B,X){var se=uc(B,T||{},X);return L&&se[Vl](se.cfg,L),se}function ku(T,L,B){var X=T[En]||T;return X.cfg&&(X.cfg===T||X.cfg[En]===X)?X[xf](L):(Lf(B,Wn+Fe(T)),Qu(T,null,B)[xf](L))}var jh=null;function Jd(){var T=ji("Microsoft");return T&&(jh=T.ApplicationInsights),jh}function ev(T){var L=jh;return!L&&T.disableDbgExt!==!0&&(L=jh||Jd()),L?L.ChromeDbgExt:null}var Hp,Bp="warnToConsole",zh="AI (Internal): ",Xd="AI: ",Gm="AITR_",Wp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Km=(Hp={},Hp[0]=null,Hp[1]="errorToConsole",Hp[2]=Bp,Hp[3]="debugToConsole",Hp);function Nf(T){return T?'"'+T[$o](/\"/g,ke)+'"':ke}function Uh(T,L){var B=Np();if(B){var X="log";B[T]&&(X=T),xt(B[X])&&B[X](L)}}var Ym=function(){function T(L,B,X,se){X===void 0&&(X=!1);var Se=this;Se[Ic]=L,Se[ua]=(X?Xd:zh)+L;var Te=ke;py()&&(Te=Ud().stringify(se));var Xe=(B?" message:"+Nf(B):ke)+(se?" props:"+Nf(Te):ke);Se[ua]+=Xe}return T.dataType="MessageData",T}();function fw(T,L){return(T||{})[ga]||new lc(L)}var lc=function(){function T(L){this.identifier="DiagnosticLogger",this.queue=[];var B=0,X={},se,Se,Te,Xe,lt;aa(T,this,function(gt){lt=Rr(L||{}),gt.consoleLoggingLevel=function(){return se},gt[qo]=function(Rt,qt,Et,ur,nr){nr===void 0&&(nr=!1);var yr=new Ym(qt,Et,nr,ur);if(Xe)throw Fe(yr);var hn=Km[Rt]||Bp;if(tt(yr[ua]))Lt("throw"+(Rt===1?"Critical":"Warning"),yr);else{if(nr){var pi=+yr[Ic];!X[pi]&&se>=Rt&&(gt[hn](yr[ua]),X[pi]=!0)}else se>=Rt&&gt[hn](yr[ua]);jt(Rt,yr)}},gt.debugToConsole=function(Rt){Uh("debug",Rt),Lt("warning",Rt)},gt[Pf]=function(Rt){Uh("warn",Rt),Lt("warning",Rt)},gt.errorToConsole=function(Rt){Uh("error",Rt),Lt("error",Rt)},gt.resetInternalMessageCount=function(){B=0,X={}},gt[oc]=jt,gt[zi]=function(Rt){lt&&lt.rm(),lt=null};function jt(Rt,qt){if(!wr()){var Et=!0,ur=Gm+qt[Ic];if(X[ur]?Et=!1:X[ur]=!0,Et&&(Rt<=Se&&(gt.queue[ca](qt),B++,Lt(Rt===1?"error":"warn",qt)),B===Te)){var nr="Internal events throttle limit per PageView reached for this app.",yr=new Ym(23,nr,!1);gt.queue[ca](yr),Rt===1?gt.errorToConsole(nr):gt[Pf](nr)}}}function Rr(Rt){return ku(Qu(Rt,Wp,gt).cfg,function(qt){var Et=qt.cfg;se=Et[rs],Se=Et.loggingLevelTelemetry,Te=Et.maxMessageLimit,Xe=Et.enableDebug})}function wr(){return B>=Te}function Lt(Rt,qt){var Et=ev(L||{});Et&&Et[Vi]&&Et[Vi](Rt,qt)}})}return T.__ieDyn=1,T}();function _y(T){return T||new lc}function Qd(T,L,B,X,se,Se){Se===void 0&&(Se=!1),_y(T)[qo](L,B,X,se,Se)}function tv(T,L){_y(T)[Pf](L)}var Zd="ctx",Mf="ParentContextKey",Jm="ChildrenContextKey",rv=function(){function T(L,B,X){var se=this;if(se.start=co(),se[Md]=L,se[bl]=X,se[Ru]=function(){return!1},xt(B)){var Se;Ue(se,"payload",{g:function(){return!Se&&xt(B)&&(Se=B(),B=null),Se}})}se[Fn]=function(Te){return Te?Te===T[Mf]||Te===T[Jm]?se[Te]:(se[Zd]||{})[Te]:null},se[au]=function(Te,Xe){if(Te)if(Te===T[Mf])se[Te]||(se[Ru]=function(){return!0}),se[Te]=Xe;else if(Te===T[Jm])se[Te]=Xe;else{var lt=se[Zd]=se[Zd]||{};lt[Te]=Xe}},se[xo]=function(){var Te=0,Xe=se[Fn](T[Jm]);if(Nt(Xe))for(var lt=0;lt<Xe[Wo];lt++){var gt=Xe[lt];gt&&(Te+=gt[xp])}se[xp]=co()-se.start,se.exTime=se[xp]-Te,se[xo]=function(){}}}return T.ParentContextKey="parent",T.ChildrenContextKey="childEvts",T}(),Lc="CoreUtils.doPerf";function Tl(T,L,B,X,se){if(T){var Se=T;if(Se[jr]&&(Se=Se[jr]()),Se){var Te=void 0,Xe=Se[Fn](Lc);try{if(Te=Se.create(L(),X,se),Te){if(Xe&&Te[au]&&(Te[au](rv[Mf],Xe),Xe[Fn]&&Xe[au])){var lt=Xe[Fn](rv[Jm]);lt||(lt=[],Xe[au](rv[Jm],lt)),lt[ca](Te)}return Se[au](Lc,Te),B(Te)}}catch(gt){Te&&Te[au]&&Te[au]("exception",gt)}finally{Te&&Se.fire(Te),Se[au](Lc,Xe)}}}return B()}var nv=Bm("plugin");function by(T){return nv.get(T,"state",{},!0)}var ef="TelemetryPluginChain",$p="_hasRun",Hh="_getTelCtx",hw=0;function xC(T,L,B){for(;T;){if(T[Fh]()===B)return T;T=T[Oa]()}return iv([B],L.config||{},L)}function tf(T,L,B,X){var se=null,Se=[];L||(L=Qu({},null,B[ga])),X!==null&&(se=X?xC(T,B,X):T);var Te={_next:lt,ctx:{core:function(){return B},diagLog:function(){return fw(B,L.cfg)},getCfg:function(){return L.cfg},getExtCfg:jt,getConfig:Rr,hasNext:function(){return!!se},getNext:function(){return se},setNext:function(Lt){se=Lt},iterate:wr,onComplete:Xe}};function Xe(Lt,Rt){for(var qt=[],Et=2;Et<arguments.length;Et++)qt[Et-2]=arguments[Et];Lt&&Se[ca]({func:Lt,self:tt(Rt)?Te.ctx:Rt,args:qt})}function lt(){var Lt=se;if(se=Lt?Lt[Oa]():null,!Lt){var Rt=Se;Rt&&Rt[Wo]>0&&(si(Rt,function(qt){try{qt.func.call(qt.self,qt.args)}catch(Et){Qd(B[ga],2,73,"Unexpected Exception during onComplete - "+Fe(Et))}}),Se=[])}return Lt}function gt(Lt,Rt){var qt=null,Et=L.cfg;if(Et&&Lt){var ur=Et[Ut];!ur&&Rt&&(ur={}),Et[Ut]=ur,ur=L.ref(Et,Ut),ur&&(qt=ur[Lt],!qt&&Rt&&(qt={}),ur[Lt]=qt,qt=L.ref(ur,Lt))}return qt}function jt(Lt,Rt){var qt=gt(Lt,!0);return Rt&&Vr(Rt,function(Et,ur){if(fr(qt[Et])){var nr=L.cfg[Et];(nr||!fr(nr))&&(qt[Et]=nr)}jp(L,qt,Et,ur)}),L[Vl](qt,Rt)}function Rr(Lt,Rt,qt){qt===void 0&&(qt=!1);var Et,ur=gt(Lt,!1),nr=L.cfg;return ur&&(ur[Rt]||!fr(ur[Rt]))?Et=ur[Rt]:(nr[Rt]||!fr(nr[Rt]))&&(Et=nr[Rt]),Et||!fr(Et)?Et:qt}function wr(Lt){for(var Rt;Rt=Te._next();){var qt=Rt[Fh]();qt&&Lt(qt)}}return Te}function wy(T,L,B,X){var se=Qu(L),Se=tf(T,se,B,X),Te=Se.ctx;function Xe(gt){var jt=Se._next();return jt&&jt[Sr](gt,Te),!jt}function lt(gt,jt){return gt===void 0&&(gt=null),Nt(gt)&&(gt=iv(gt,se.cfg,B,jt)),wy(gt||Te[Oa](),se.cfg,B,jt)}return Te[ic]=Xe,Te[Xu]=lt,Te}function Sy(T,L,B){var X=Qu(L.config),se=tf(T,X,L,B),Se=se.ctx;function Te(lt){var gt=se._next();return gt&&gt[zi](Se,lt),!gt}function Xe(lt,gt){return lt===void 0&&(lt=null),Nt(lt)&&(lt=iv(lt,X.cfg,L,gt)),Sy(lt||Se[Oa](),L,gt)}return Se[ic]=Te,Se[Xu]=Xe,Se}function Cy(T,L,B){var X=Qu(L.config),se=tf(T,X,L,B),Se=se.ctx;function Te(lt){return Se.iterate(function(gt){xt(gt[wi])&&gt[wi](Se,lt)})}function Xe(lt,gt){return lt===void 0&&(lt=null),Nt(lt)&&(lt=iv(lt,X.cfg,L,gt)),Cy(lt||Se[Oa](),L,gt)}return Se[ic]=Te,Se[Xu]=Xe,Se}function iv(T,L,B,X){var se=null,Se=!X;if(Nt(T)&&T[Wo]>0){var Te=null;si(T,function(Xe){if(!Se&&X===Xe&&(Se=!0),Se&&Xe&&xt(Xe[Sr])){var lt=UD(Xe,L,B);se||(se=lt),Te&&Te._setNext(lt),Te=lt}})}return X&&!se?iv([X],L,B):se}function UD(T,L,B){var X=null,se=xt(T[Sr]),Se=xt(T[Bn]),Te;T?Te=T[su]+"-"+T[sn]+"-"+hw++:Te="Unknown-0-"+hw++;var Xe={getPlugin:function(){return T},getNext:function(){return X},processTelemetry:jt,unload:Rr,update:wr,_id:Te,_setNext:function(Lt){X=Lt}};function lt(){var Lt;return T&&xt(T[Hh])&&(Lt=T[Hh]()),Lt||(Lt=wy(Xe,L,B)),Lt}function gt(Lt,Rt,qt,Et,ur){var nr=!1,yr=T?T[su]:ef,hn=Lt[$p];return hn||(hn=Lt[$p]={}),Lt.setNext(X),T&&Tl(Lt[Qe](),function(){return yr+":"+qt},function(){hn[Te]=!0;try{var pi=X?X._id:ke;pi&&(hn[pi]=!1),nr=Rt(Lt)}catch(fo){var ci=X?hn[X._id]:!0;ci&&(nr=!0),(!X||!ci)&&Qd(Lt[Vi](),1,73,"Plugin ["+yr+"] failed during "+qt+" - "+Fe(fo)+", run flags: "+Fe(hn))}},Et,ur),nr}function jt(Lt,Rt){Rt=Rt||lt();function qt(Et){if(!T||!se)return!1;var ur=by(T);return ur[Oc]||ur[ht]?!1:(Se&&T[Bn](X),T[Sr](Lt,Et),!0)}gt(Rt,qt,"processTelemetry",function(){return{item:Lt}},!Lt.sync)||Rt[ic](Lt)}function Rr(Lt,Rt){function qt(){var Et=!1;if(T){var ur=by(T),nr=T[Qe]||ur[Qe];T&&(!nr||nr===Lt.core())&&!ur[Oc]&&(ur[Qe]=null,ur[Oc]=!0,ur[_l]=!1,T[Oc]&&T[Oc](Lt,Rt)===!0&&(Et=!0))}return Et}gt(Lt,qt,"unload",function(){},Rt[bl])||Lt[ic](Rt)}function wr(Lt,Rt){function qt(){var Et=!1;if(T){var ur=by(T),nr=T[Qe]||ur[Qe];T&&(!nr||nr===Lt.core())&&!ur[Oc]&&T[wi]&&T[wi](Lt,Rt)===!0&&(Et=!0)}return Et}gt(Lt,qt,"update",function(){},!1)||Lt[ic](Rt)}return Q(Xe)}function ov(){var T=[];function L(X){X&&T[ca](X)}function B(X,se){si(T,function(Se){try{Se(X,se)}catch(Te){Qd(X[Vi](),2,73,"Unexpected error calling unload handler - "+Fe(Te))}}),T=[]}return{add:L,run:B}}function HD(){var T=[];function L(X){var se=T;T=[],si(se,function(Se){try{(Se.rm||Se.remove).call(Se)}catch(Te){Qd(X,2,73,"Unloading:"+Fe(Te))}})}function B(X){X&&wu(T,X)}return{run:L,add:B}}var Ql,Bh="getPlugin",Xm=(Ql={},Ql[Ut]={isVal:Op,v:{}},Ql),q_=function(){function T(){var L=this,B,X,se,Se,Te;gt(),aa(T,L,function(jt){jt[ms]=function(Rr,wr,Lt,Rt){lt(Rr,wr,Rt),B=!0},jt[Oc]=function(Rr,wr){var Lt,Rt=jt[Qe];if(!Rt||Rr&&Rt!==Rr[Qe]())return;var qt,Et=!1,ur=Rr||Sy(null,Rt,se&&se[Bh]?se[Bh]():se),nr=wr||(Lt={reason:0},Lt[bl]=!1,Lt);function yr(){Et||(Et=!0,Se.run(ur,wr),Te.run(ur[Vi]()),qt===!0&&ur[ic](nr),gt())}return!jt[Of]||jt[Of](ur,nr,yr)!==!0?yr():qt=!0,qt},jt[wi]=function(Rr,wr){var Lt=jt[Qe];if(!Lt||Rr&&Lt!==Rr[Qe]())return;var Rt,qt=!1,Et=Rr||Cy(null,Lt,se&&se[Bh]?se[Bh]():se),ur=wr||{reason:0};function nr(){qt||(qt=!0,lt(Et.getCfg(),Et.core(),Et[Oa]()))}return!jt._doUpdate||jt._doUpdate(Et,ur,nr)!==!0?nr():Rt=!0,Rt},qh(jt,"_addUnloadCb",function(){return Se},"add"),qh(jt,"_addHook",function(){return Te},"add"),Ue(jt,"_unloadHooks",{g:function(){return Te}})}),L[Vi]=function(jt){return Xe(jt)[Vi]()},L[_l]=function(){return B},L.setInitialized=function(jt){B=jt},L[Bn]=function(jt){se=jt},L[ic]=function(jt,Rr){Rr?Rr[ic](jt):se&&xt(se[Sr])&&se[Sr](jt,null)},L._getTelCtx=Xe;function Xe(jt){jt===void 0&&(jt=null);var Rr=jt;if(!Rr){var wr=X||wy(null,{},L[Qe]);se&&se[Bh]?Rr=wr[Xu](null,se[Bh]):Rr=wr[Xu](null,se)}return Rr}function lt(jt,Rr,wr){Qu(jt,Xm,fw(Rr)),!wr&&Rr&&(wr=Rr[Nm]()[Oa]());var Lt=se;se&&se[Bh]&&(Lt=se[Bh]()),L[Qe]=Rr,X=wy(wr,jt,Rr,Lt)}function gt(){B=!1,L[Qe]=null,X=null,se=null,Te=HD(),Se=ov()}}return T.__ieDyn=1,T}(),Qm="on",Zl="attachEvent",Dl="addEventListener",Ff="detachEvent",qf="removeEventListener",Ty="events",Vp="visibilitychange",La="pagehide",Wh="pageshow",$h="unload",j_="beforeunload",OC=Iu("aiEvtPageHide"),Vh=Iu("aiEvtPageShow"),IC=/\.[\.]+/g,Zm=/[\.]+$/,Gh=1,ed=Bm("events"),sv=/^([^.]*)(?:\.(.+)|)/;function Gp(T){return T&&T[$o]?T[$o](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ke):T}function eg(T,L){var B;if(L){var X=ke;Nt(L)?(X=ke,si(L,function(Se){Se=Gp(Se),Se&&(Se[0]!=="."&&(Se="."+Se),X+=Se)})):X=Gp(L),X&&(X[0]!=="."&&(X="."+X),T=(T||ke)+X)}var se=sv.exec(T||ke)||[];return B={},B[la]=se[1],B.ns=(se[2]||ke).replace(IC,".").replace(Zm,ke)[Kl](".").sort().join("."),B}function av(T,L,B){B===void 0&&(B=!0);var X=ed.get(T,Ty,{},B),se=X[L];return se||(se=X[L]=[]),se}function pw(T,L,B,X){T&&L&&L[la]&&(T[qf]?T[qf](L[la],B,X):T[Ff]&&T[Ff](Qm+L[la],B))}function BD(T,L,B,X){var se=!1;return T&&L&&L[la]&&B&&(T[Dl]?(T[Dl](L[la],B,X),se=!0):T[Zl]&&(T[Zl](Qm+L[la],B),se=!0)),se}function tg(T,L,B,X){for(var se=L[Wo];se--;){var Se=L[se];Se&&(!B.ns||B.ns===Se.evtName.ns)&&(!X||X(Se))&&(pw(T,Se.evtName,Se[uo],Se.capture),L[Ls](se,1))}}function kC(T,L,B){if(L[la])tg(T,av(T,L[la]),L,B);else{var X=ed.get(T,Ty,{});Vr(X,function(se,Se){tg(T,Se,L,B)}),Oe(X)[Wo]===0&&ed.kill(T,Ty)}}function dc(T,L){var B;return L?(Nt(L)?B=[T].concat(L):B=[T,L],B=eg("xx",B).ns[Kl](".")):B=T,B}function rg(T,L,B,X,se){var Se;se===void 0&&(se=!1);var Te=!1;if(T)try{var Xe=eg(L,X);if(Te=BD(T,Xe,B,se),Te&&ed.accept(T)){var lt=(Se={guid:Gh++,evtName:Xe},Se[uo]=B,Se.capture=se,Se);av(T,Xe.type)[ca](lt)}}catch{}return Te}function ng(T,L,B,X,se){if(se===void 0&&(se=!1),T)try{var Se=eg(L,X),Te=!1;kC(T,Se,function(Xe){return Se.ns&&!B||Xe[uo]===B?(Te=!0,!0):!1}),Te||pw(T,Se,B,se)}catch{}}function AC(T,L,B){var X=!1,se=_u();se&&(X=rg(se,T,L,B),X=rg(se.body,T,L,B)||X);var Se=$i();return Se&&(X=rg(Se,T,L,B)||X),X}function WD(T,L,B){var X=_u();X&&(ng(X,T,L,B),ng(X.body,T,L,B));var se=$i();se&&ng(se,T,L,B)}function td(T,L,B,X){var se=!1;return L&&T&&T[Wo]>0&&si(T,function(Se){Se&&(!B||Pa(B,Se)===-1)&&(se=AC(Se,L,X)||se)}),se}function fc(T,L,B,X){var se=!1;return L&&T&&Nt(T)&&(se=td(T,L,B,X),!se&&B&&B[Wo]>0&&(se=td(T,L,null,X))),se}function rd(T,L,B){T&&Nt(T)&&si(T,function(X){X&&WD(X,L,B)})}function ig(T,L,B){return fc([j_,$h,La],T,L,B)}function cv(T,L){rd([j_,$h,La],T,L)}function z_(T,L,B){function X(Te){var Xe=$i();T&&Xe&&Xe.visibilityState==="hidden"&&T(Te)}var se=dc(OC,B),Se=td([La],T,L,se);return(!L||Pa(L,Vp)===-1)&&(Se=td([Vp],X,L,se)||Se),!Se&&L&&(Se=z_(T,null,B)),Se}function bn(T,L){var B=dc(OC,L);rd([La],T,B),rd([Vp],null,B)}function Dy(T,L,B){function X(Te){var Xe=$i();T&&Xe&&Xe.visibilityState==="visible"&&T(Te)}var se=dc(Vh,B),Se=td([Wh],T,L,se);return Se=td([Vp],X,L,se)||Se,!Se&&L&&(Se=Dy(T,null,B)),Se}function Kp(T,L){var B=dc(Vh,L);rd([Wh],T,B),rd([Vp],null,B)}var jf="",og="timings",Na="value",U_="kind",uv="length",H_="processTelemetryStart",nd,sg="4.0.4",Kh="1DS-Web-JS-"+sg,lv=u.hasOwnProperty,ag="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Au="withCredentials",rf="timeout",mw=(nd={},nd[0]=0,nd[2]=6,nd[1]=1,nd[3]=7,nd[4098]=6,nd[4097]=1,nd[4099]=7,nd);Ro(),Jn();function id(T){return!(T===jf||fr(T))}function Ey(T){if(T){var L=Sf(T,"-");if(L>-1)return Tr(T,L)}return jf}function od(T,L,B){if(!L&&!id(L)||typeof T!="string")return null;var X=typeof L;if(X==="string"||X==="number"||X==="boolean"||Nt(L))L={value:L};else if(X==="object"&&!lv.call(L,"value"))L={value:B?JSON.stringify(L):L};else if(fr(L[Na])||L[Na]===jf||!cr(L[Na])&&!on(L[Na])&&!ln(L[Na])&&!Nt(L[Na]))return null;if(Nt(L[Na])&&!B_(L[Na]))return null;if(!fr(L[U_])){if(Nt(L[Na])||!vw(L[U_]))return null;L[Na]=L[Na].toString()}return L}function gw(T,L,B){var X=-1;if(!tt(T))if(L>0&&(L===32?X=8192:L<=13&&(X=L<<5)),yw(B))X===-1&&(X=0),X|=B;else{var se=mw[cg(T)]||-1;X!==-1&&se!==-1?X|=se:se===6&&(X=se)}return X}function Ry(T,L,B,X,se){var Se={},Te=!1,Xe=0,lt=arguments[uv],gt=arguments;for(ln(gt[0])&&(Te=gt[0],Xe++);Xe<lt;Xe++){var T=gt[Xe];Vr(T,function(Rr,wr){Te&&wr&&hr(wr)?Nt(wr)?(Se[Rr]=Se[Rr]||[],si(wr,function(Lt,Rt){Lt&&hr(Lt)?Se[Rr][Rt]=Ry(!0,Se[Rr][Rt],Lt):Se[Rr][Rt]=Lt})):Se[Rr]=Ry(!0,Se[Rr],wr):Se[Rr]=wr})}return Se}var sd=Id;function vw(T){return T===0||T>0&&T<=13||T===32}function yw(T){return T>=0&&T<=9}function B_(T){return T[uv]>0}function zf(T,L){var B=T;B[og]=B[og]||{},B[og][H_]=B[og][H_]||{},B[og][H_][L]=sd()}function cg(T){var L=0;if(T!=null){var B=typeof T;B==="string"?L=1:B==="number"?L=2:B==="boolean"?L=3:B===o&&(L=4,Nt(T)?(L=4096,T[uv]>0&&(L|=cg(T[0]))):lv.call(T,"value")&&(L=8192|cg(T[Na])))}return L}function _w(){return!!ji("chrome")}function Uf(T,L,B,X,se,Se){X===void 0&&(X=!1),se===void 0&&(se=!1);function Te(lt,gt,jt){try{lt[gt]=jt}catch{}}var Xe=new XMLHttpRequest;return X&&Te(Xe,ag,X),B&&Te(Xe,Au,B),Xe.open(T,L,!se),B&&Te(Xe,Au,B),!se&&Se&&Te(Xe,rf,Se),Xe}function hc(T){return T>0}var Vo="",El="POST",dv="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ad="drop",Hf="send",Lu="requeue",fv="rspFail",Py="oth",bw="no-cache, no-store",W_="application/x-json-stream",Yp="cache-control",hv="content-type",LC="kill-tokens",ww="kill-duration",Sw="kill-duration-seconds",NC="time-delta-millis",E="client-version",k="client-id",z="time-delta-to-apply-millis",Y="upload-time",ve="apikey",We="AuthMsaDeviceTicket",Ze="AuthXToken",ct="NoResponseBody",Dt="msfpc",Kt="trace",Ar="user",jn="allowRequestSending",In="firstRequestSent",Qn="shouldAddClockSkewHeaders",Qr="getClockSkewHeaderValue",Zn="setClockSkew",br="length",Si="concat",$n="iKey",Rn="count",is="events",pc="push",Ma="split",pv="splice",ug="toLowerCase",xy="hdrs",cd="useHdrs",Yh="initialize",Oy="setTimeoutOverride",Iy="clearTimeoutOverride",or="payloadPreprocessor",un="overrideEndpointUrl",hi="avoidOptions",os="disableEventTimings",Es="stringifyObjects",Rs="enableCompoundKey",Fs="disableXhrSync",lg="disableFetchKeepAlive",Jp="useSendBeacon",Xp="alwaysUseXhrOverride",Cw="unloadTransports",dg="urlString",Jh="timeout",ky="ontimeout",Nu="data",fg="_sendReason",Xh="headers",mv="getResponseHeader",hR="getAllResponseHeaders",gv="_thePayload",Zu="batches",Rl="sendType",Ay="canSendRequest",Bf="sendQueuedRequests",$D="isCompletelyIdle",MC="setUnloading",pR="isTenantKilled",mR="sendSynchronousBatch",FC="_transport",Wf="getWParam",VD="isBeacon",$_="timings",Tw="isTeardown",Dw="isSync",Ew="sendPOST",qC="setKillSwitchTenants",V_="_backOffTransmission",$f="identifier",G_="disableOptimizeObj",Rw="ignoreMc1Ms0CookieProcessing",to="eventsLimitInMem",jC="autoFlushEventsLimit",vv="disableAutoBatchFlushLimit",Ly="overrideInstrumentationKey",gR="disableTelemetry",Vf="sendAttempt",ud="latency",zC="baseData",Qh="sync";function yv(T){var L=(T.ext||{}).intweb;return L&&id(L[Dt])?L[Dt]:null}function Qp(T){for(var L=null,B=0;L===null&&B<T[br];B++)L=yv(T[B]);return L}var Pl=function(){function T(L,B){var X=B?[][Si](B):[],se=this,Se=Qp(X);se[$n]=function(){return L},se.Msfpc=function(){return Se||Vo},se[Rn]=function(){return X[br]},se[is]=function(){return X},se.addEvent=function(Te){return Te?(X[pc](Te),Se||(Se=yv(Te)),!0):!1},se[Ma]=function(Te,Xe){var lt;if(Te<X[br]){var gt=X[br]-Te;fr(Xe)||(gt=Xe<gt?Xe:gt),lt=X[pv](Te,gt),Se=Qp(X)}return new T(L,lt)}}return T.create=function(L,B){return new T(L,B)},T}(),Zh=function(){function T(){var L=!0,B=!0,X=!0,se="use-collector-delta",Se=!1;aa(T,this,function(Te){Te[jn]=function(){return L},Te[In]=function(){X&&(X=!1,Se||(L=!1))},Te[Qn]=function(){return B},Te[Qr]=function(){return se},Te[Zn]=function(Xe){Se||(Xe?(se=Xe,B=!0,Se=!0):B=!1,L=!0)}})}return T.__ieDyn=1,T}(),Zp=1e3,_v=function(){function T(){var L={};function B(X){var se=[];return X&&si(X,function(Se){se[pc](Su(Se))}),se}aa(T,this,function(X){X[qC]=function(se,Se){if(se&&Se)try{var Te=B(se[Ma](","));if(Se==="this-request-only")return Te;for(var Xe=parseInt(Se,10)*Zp,lt=0;lt<Te[br];++lt)L[Te[lt]]=co()+Xe}catch{return[]}return[]},X[pR]=function(se){var Se=L,Te=Su(se);return Se[Te]!==void 0&&Se[Te]>co()?!0:(delete Se[Te],!1)}})}return T.__ieDyn=1,T}(),em=.8,Pw=1.2,UC=3e3,GD=6e5;function K_(T){return!(T>=300&&T<500&&T!=408&&T!=429||T==501||T==505)}function Ny(T){var L=0,B=UC*em,X=UC*Pw,se=Math.floor(Math.random()*(X-B))+B;return L=Math.pow(2,T)*se,Math.min(L,GD)}var bv=20,My=3984588,xw=65e3,wv=2e6,Y_=Math.min(wv,xw),Ow="metadata",J_="f",vR=/\./,Iw=function(){function T(L,B,X,se){var Se="data",Te="baseData",Xe="ext",lt=!!se,gt=!0,jt=B,Rr={};aa(T,this,function(wr){wr.createPayload=function(qt,Et,ur,nr,yr,hn){return{apiKeys:[],payloadBlob:Vo,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:qt,isTeardown:Et,isSync:ur,isBeacon:nr,sendType:hn,sendReason:yr}},wr.appendPayload=function(qt,Et,ur){var nr=qt&&Et&&!qt.overflow;return nr&&Tl(L,function(){return"Serializer:appendPayload"},function(){for(var yr=Et.events(),hn=qt.payloadBlob,pi=qt.numEvents,ci=!1,fo=[],Go=[],Oo=qt.isBeacon,qs=Oo?xw:My,mc=Oo?Y_:wv,Qi=0,Nc=0;Qi<yr.length;){var Mc=yr[Qi];if(Mc){if(pi>=ur){qt.overflow=Et.split(Qi);break}var fa=wr.getEventBlob(Mc);if(fa&&fa.length<=mc){var xl=fa.length,ya=hn.length;if(ya+xl>qs){qt.overflow=Et.split(Qi);break}hn&&(hn+=`
`),hn+=fa,Nc++,Nc>bv&&(de(hn,0,1),Nc=0),ci=!0,pi++}else fa?fo.push(Mc):Go.push(Mc),yr.splice(Qi,1),Qi--}Qi++}if(fo.length>0&&qt.sizeExceed.push(Pl.create(Et.iKey(),fo)),Go.length>0&&qt.failedEvts.push(Pl.create(Et.iKey(),Go)),ci){qt.batches.push(Et),qt.payloadBlob=hn,qt.numEvents=pi;var _a=Et.iKey();Pa(qt.apiKeys,_a)===-1&&qt.apiKeys.push(_a)}},function(){return{payload:qt,theBatch:{iKey:Et.iKey(),evts:Et.events()},max:ur}}),nr},wr.getEventBlob=function(qt){try{return Tl(L,function(){return"Serializer.getEventBlob"},function(){var Et={};Et.name=qt.name,Et.time=qt.time,Et.ver=qt.ver,Et.iKey="o:"+Ey(qt.iKey);var ur={},nr=qt[Xe];nr&&(Et[Xe]=ur,Vr(nr,function(pi,ci){var fo=ur[pi]={};Rt(ci,fo,"ext."+pi,!0,null,null,!0)}));var yr=Et[Se]={};yr.baseType=qt.baseType;var hn=yr[Te]={};return Rt(qt.baseData,hn,Te,!1,[Te],function(pi,ci,fo){Fa(ur,pi,ci,fo)},gt),Rt(qt.data,yr,Se,!1,[],function(pi,ci,fo){Fa(ur,pi,ci,fo)},gt),JSON.stringify(Et)},function(){return{item:qt}})}catch{return null}};function Lt(qt,Et){var ur=Rr[qt];return ur===void 0&&(qt.length>=7&&(ur=Wr(qt,"ext.metadata")||Wr(qt,"ext.web")),Rr[qt]=ur),ur}function Rt(qt,Et,ur,nr,yr,hn,pi){Vr(qt,function(ci,fo){var Go=null;if(fo||id(fo)){var Oo=ur,qs=ci,mc=yr,Qi=Et;if(lt&&!nr&&vR.test(ci)){var Nc=ci.split("."),Mc=Nc.length;if(Mc>1){mc&&(mc=mc.slice());for(var fa=0;fa<Mc-1;fa++){var xl=Nc[fa];Qi=Qi[xl]=Qi[xl]||{},Oo+="."+xl,mc&&mc.push(xl)}qs=Nc[Mc-1]}}var ya=nr&&Lt(Oo);if(!ya&&jt&&jt.handleField(Oo,qs)?Go=jt.value(Oo,qs,fo,X):Go=od(qs,fo,X),Go){var _a=Go.value;if(Qi[qs]=_a,hn&&hn(mc,qs,Go),pi&&typeof _a=="object"&&!Nt(_a)){var Ci=mc;Ci&&(Ci=Ci.slice(),Ci.push(qs)),Rt(fo,_a,Oo+"."+qs,nr,Ci,hn,pi)}}}})}})}return T.__ieDyn=1,T}();function Fa(T,L,B,X){if(X&&T){var se=gw(X.value,X.kind,X.propertyType);if(se>-1){var Se=T[Ow];Se||(Se=T[Ow]={f:{}});var Te=Se[J_];if(Te||(Te=Se[J_]={}),L)for(var Xe=0;Xe<L.length;Xe++){var lt=L[Xe];Te[lt]||(Te[lt]={f:{}});var gt=Te[lt][J_];gt||(gt=Te[lt][J_]={}),Te=gt}Te=Te[B]={},Nt(X.value)?Te.a={t:se}:Te.t=se}}}function tm(T,L){return{set:function(B,X){for(var se=[],Se=2;Se<arguments.length;Se++)se[Se-2]=arguments[Se];return Cu([T,L],B,X,se)}}}var Sv,KD="sendAttempt",hg="&"+ct+"=true",Cv="?cors=true&"+hv[ug]()+"="+W_,X_=(Sv={},Sv[1]=Lu,Sv[100]=Lu,Sv[200]="sent",Sv[8004]=ad,Sv[8003]=ad,Sv),kw={},Tv={};function Dv(T,L,B){kw[T]=L,B!==!1&&(Tv[L]=T)}Dv(We,We,!1),Dv(E,E),Dv(k,"Client-Id"),Dv(ve,ve),Dv(z,z),Dv(Y,Y),Dv(Ze,Ze);function YD(T){try{return T.responseText}catch{}return Vo}function JD(T,L){var B=!1;if(T&&L){var X=Oe(T);if(X&&X[br]>0)for(var se=L[ug](),Se=0;Se<X[br];Se++){var Te=X[Se];if(Te&&$r(L,Te)&&Te[ug]()===se){B=!0;break}}}return B}function Q_(T,L,B,X){L&&B&&B[br]>0&&(X&&kw[L]?(T[xy][kw[L]]=B,T[cd]=!0):T.url+="&"+L+"="+B)}function XD(T,L){return L&&(on(L)?T=[L][Si](T):Nt(L)&&(T=L[Si](T))),T}function Vk(T,L,B){for(var X=0;X<T[br];X++)if(T[X].name===L){T[X].value=B;return}T[pc]({name:L,value:B})}function Gk(T,L){for(var B=0;B<T[br];B++)if(T[B].name===L){T[pv](B,1);return}}var pg=function(){function T(L,B,X,se){var Se,Te=new _v,Xe=!1,lt=new Zh,gt=!1,jt=0,Rr,wr,Lt,Rt,qt=!0,Et=[],ur={},nr=[],yr=null,hn=!1,pi,ci=!1,fo=!1,Go,Oo,qs,mc,Qi,Nc=[],Mc,fa,xl=[],ya,_a;aa(T,this,function(Ci){rm();var ro=!0;Ci[Yh]=function(Ge,At,Zt){ya||(Rt=At,pi=At.getCookieMgr(),Rr=Zt,wr=Rr.diagLog(),wu(Nc,ku(Ge,function(lr){var rn,ei=lr.cfg,St=lr.cfg.extensionConfig[Zt.identifier];_a=tm(St[Oy],St[Iy]),id(ei.anonCookieName)?Vk(Et,"anoncknm",ei.anonCookieName):Gk(Et,"anoncknm"),Mc=St[or],fa=St.payloadListener;var nt=St.httpXHROverride,Tt=St[un]?St[un]:ei.endpointUrl;Se=Tt+Cv,fo=tt(St[hi])?!0:!St[hi],hn=!St[os];var Ot=St.valueSanitizer,gr=St[Es],xr=!!ei[Rs];tt(St[Rs])||(xr=!!St[Rs]),Go=St.xhrTimeout,Oo=!!St[Fs],qs=!!St[lg],Qi=St.addNoResponse!==!1,At.getPlugin("LocalStorage")&&(qs=!0),gt=!lo(),yr=new Iw(Rt,Ot,gr,xr),fr(St[Jp])||(gt=!!St[Jp]);var Mr=nt,ti=St[Xp]?nt:null,Ko=St[Xp]?nt:null,bo=[3,2];if(!nt){qt=!1;var tp=N_();tp&&tp.protocol&&tp.protocol[ug]()==="file:"&&(ro=!1);var nf=[];lo()?(nf=[2,1],bo=[2,1,3]):nf=[1,2,3],nf=XD(nf,St.transports),nt=ld(nf,!1),nt||tv(wr,"No available transport to send events"),Mr=ld(nf,!0)}ti||(bo=XD(bo,St[Cw]),ti=ld(bo,!0)),mc=!qt&&(gt&&my()||!qs&&Hd(!0)),Lt=(rn={},rn[0]=nt,rn[1]=Mr||ld([1,2,3],!0),rn[2]=ti||Mr||ld([1],!0),rn[3]=Ko||ld([2,3],!0)||Mr||ld([1],!0),rn)})),ya=!0)},Ci.addResponseHandler=function(Ge){return xl[pc](Ge),{rm:function(){var At=xl.indexOf(Ge);At>=0&&xl[pv](At,1)}}};function ld(Ge,At){for(var Zt=0,lr=null,rn=0;lr==null&&rn<Ge[br];)Zt=Ge[rn],Zt===1?Mp()?lr=Z_:uu()&&(lr=m):Zt===2&&Hd(At)&&(!At||At&&!qs)?lr=nm:gt&&Zt===3&&my()&&(lr=I),rn++;return lr?{_transport:Zt,_isSync:At,sendPOST:lr}:null}Ci._getDbgPlgTargets=function(){return[Lt[0],Te,yr,Lt]};function Z_(Ge,At,Zt){var lr=new XDomainRequest;lr.open(El,Ge[dg]),Ge[Jh]&&(lr[Jh]=Ge[Jh]),lr.onload=function(){var rn=YD(lr);b(At,200,{},rn),Nn(rn)},lr.onerror=function(){b(At,400,{})},lr[ky]=function(){b(At,500,{})},lr.onprogress=function(){},Zt?lr.send(Ge[Nu]):_a.set(function(){lr.send(Ge[Nu])},0)}function rm(){var Ge;Se=null,Te=new _v,Xe=!1,lt=new Zh,gt=!1,jt=0,Rr=null,wr=null,Lt=null,Rt=null,qt=!0,Et=[],ur={},nr=[],yr=null,hn=!1,pi=null,ci=!1,fo=!1,Go=Ge,Oo=Ge,qs=Ge,mc=Ge,Qi=Ge,Nc=[],Mc=Ge,fa=Ge,xl=[],ya=!1,_a=tm()}function nm(Ge,At,Zt){var lr,rn=Ge[dg],ei=!1,St=!1,nt=(lr={body:Ge[Nu],method:El},lr[dv]=!0,lr);Zt&&(nt.keepalive=!0,Ge[fg]===2&&(ei=!0,Qi&&(rn+=hg))),ro&&(nt.credentials="include"),Ge.headers&&Oe(Ge.headers)[br]>0&&(nt[Xh]=Ge[Xh]);var Tt=function(gr,xr,Mr){St||(St=!0,b(At,gr,xr,Mr),Nn(Mr))},Ot=function(){St||(St=!0,b(At,0,{}))};fetch(rn,nt).then(function(gr){var xr={},Mr=Vo,ti=gr[Xh];ti&&ti.forEach(function(Ko,bo){xr[bo]=Ko}),gr.body?gr.text().then(function(Ko){Mr=Ko,Tt(gr.status,xr,Mr)},Ot):Tt(gr.status,xr,"")}).catch(Ot),ei&&!St&&(St=!0,b(At,200,{})),!St&&Ge[Jh]>0&&_a.set(function(){St||(St=!0,b(At,500,{}))},Ge[Jh])}function m(Ge,At,Zt){var lr=Ge[dg];function rn(Tt,Ot,gr){if(!Tt[gr]&&Ot&&Ot[mv]){var xr=Ot[mv](gr);xr&&(Tt[gr]=Su(xr))}return Tt}function ei(Tt){var Ot={};return Tt[hR]?Ot=Pr(Tt[hR]()):(Ot=rn(Ot,Tt,NC),Ot=rn(Ot,Tt,ww),Ot=rn(Ot,Tt,Sw)),Ot}function St(Tt,Ot){b(At,Tt.status,ei(Tt),Ot)}Zt&&Ge[Fs]&&(Zt=!1);var nt=Uf(El,lr,ro,!0,Zt,Ge[Jh]);Vr(Ge[Xh],function(Tt,Ot){nt.setRequestHeader(Tt,Ot)}),nt.onload=function(){var Tt=YD(nt);St(nt,Tt),Nn(Tt)},nt.onerror=function(){St(nt)},nt[ky]=function(){St(nt)},nt.send(Ge[Nu])}function b(Ge,At,Zt,lr){try{Ge(At,Zt,lr)}catch(rn){Qd(wr,2,518,Fe(rn))}}function I(Ge,At,Zt){var lr=Ge,rn=200,ei=lr[gv],St=Ge[dg]+(Qi?hg:Vo);try{var nt=yo();if(!nt.sendBeacon(St,Ge[Nu]))if(ei){var Tt=!!Rt.getPlugin("LocalStorage"),Ot=[],gr=[];si(ei[Zu],function(xr){if(Ot&&xr&&xr[Rn]()>0)for(var Mr=xr[is](),ti=0;ti<Mr[br];ti++)if(nt.sendBeacon(St,yr.getEventBlob(Mr[ti])))gr[pc](xr[ti]);else{Ot[pc](xr[Ma](ti));break}else Ot[pc](xr[Ma](0))}),gr[br]>0&&(ei.sentEvts=gr),Tt||Oi(Ot,8003,ei[Rl],!0)}else rn=0}catch(xr){tv(wr,"Failed to send telemetry using sendBeacon API. Ex:"+Fe(xr)),rn=0}finally{b(At,rn,{},Vo)}}function j(Ge){return Ge===2||Ge===3}function $(Ge){return ci&&j(Ge)&&(Ge=2),Ge}Ci.addHeader=function(Ge,At){ur[Ge]=At},Ci[Ay]=function(){return ie()&&lt[jn]()},Ci[Bf]=function(Ge,At){tt(Ge)&&(Ge=0),ci&&(Ge=$(Ge),At=2),Ie(nr,Ge,0)&&et(ge(),0,!1,Ge,At||0)},Ci[$D]=function(){return!Xe&&jt===0&&nr[br]===0},Ci[MC]=function(Ge){ci=Ge},Ci.addBatch=function(Ge){if(Ge&&Ge[Rn]()>0){if(Te.isTenantKilled(Ge[$n]()))return!1;nr[pc](Ge)}return!0},Ci.teardown=function(){nr[br]>0&&et(ge(),0,!0,2,2),si(Nc,function(Ge){Ge&&Ge.rm&&Ge.rm()}),Nc=[]},Ci.pause=function(){Xe=!0},Ci.resume=function(){Xe=!1,Ci[Bf](0,4)},Ci[mR]=function(Ge,At,Zt){Ge&&Ge[Rn]()>0&&(fr(At)&&(At=1),ci&&(At=$(At),Zt=2),et([Ge],0,!1,At,Zt||0))};function ie(){return!Xe&&jt<B}function ge(){var Ge=nr;return nr=[],Ge}function Ie(Ge,At,Zt){var lr=!1;return Ge&&Ge[br]>0&&!Xe&&Lt[At]&&yr&&(lr=At!==0||ie()&&(Zt>0||lt[jn]())),lr}function Be(Ge){var At={};return Ge&&si(Ge,function(Zt,lr){At[lr]={iKey:Zt[$n](),evts:Zt[is]()}}),At}function et(Ge,At,Zt,lr,rn){if(!(!Ge||Ge[br]===0)){if(Xe){Oi(Ge,1,lr);return}lr=$(lr);try{var ei=Ge,St=lr!==0;Tl(Rt,function(){return"HttpManager:_sendBatches"},function(nt){nt&&(Ge=Ge.slice(0));for(var Tt=[],Ot=null,gr=sd(),xr=Lt[lr]||(St?Lt[1]:Lt[0]),Mr=xr&&xr[FC],ti=mc&&(ci||j(lr)||Mr===3||xr._isSync&&Mr===2);Ie(Ge,lr,At);){var Ko=Ge.shift();Ko&&Ko[Rn]()>0&&(Te.isTenantKilled(Ko[$n]())?Tt[pc](Ko):(Ot=Ot||yr.createPayload(At,Zt,St,ti,rn,lr),yr.appendPayload(Ot,Ko,L)?Ot.overflow!==null&&(Ge=[Ot.overflow][Si](Ge),Ot.overflow=null,ot(Ot,gr,sd(),rn),gr=sd(),Ot=null):(ot(Ot,gr,sd(),rn),gr=sd(),Ge=[Ko][Si](Ge),Ot=null)))}Ot&&ot(Ot,gr,sd(),rn),Ge[br]>0&&(nr=Ge[Si](nr)),Oi(Tt,8004,lr)},function(){return{batches:Be(ei),retryCount:At,isTeardown:Zt,isSynchronous:St,sendReason:rn,useSendBeacon:j(lr),sendType:lr}},!St)}catch(nt){Qd(wr,2,48,"Unexpected Exception sending batch: "+Fe(nt))}}}function Ve(Ge,At){var Zt={url:Se,hdrs:{},useHdrs:!1};At?(Zt[xy]=Ry(Zt[xy],ur),Zt.useHdrs=Oe(Zt.hdrs)[br]>0):Vr(ur,function(nt,Tt){Tv[nt]?Q_(Zt,Tv[nt],Tt,!1):(Zt[xy][nt]=Tt,Zt[cd]=!0)}),Q_(Zt,k,"NO_AUTH",At),Q_(Zt,E,Kh,At);var lr=Vo;si(Ge.apiKeys,function(nt){lr[br]>0&&(lr+=","),lr+=nt}),Q_(Zt,ve,lr,At),Q_(Zt,Y,co().toString(),At);var rn=Ir(Ge);if(id(rn)&&(Zt.url+="&ext.intweb.msfpc="+rn),lt[Qn]()&&Q_(Zt,z,lt[Qr](),At),Rt[Wf]){var ei=Rt[Wf]();ei>=0&&(Zt.url+="&w="+ei)}for(var St=0;St<Et[br];St++)Zt.url+="&"+Et[St].name+"="+Et[St].value;return Zt}function wt(Ge,At,Zt){Ge[At]=Ge[At]||{},Ge[At][Rr.identifier]=Zt}function ot(Ge,At,Zt,lr){if(Ge&&Ge.payloadBlob&&Ge.payloadBlob[br]>0){var rn=!!Mc,ei=Lt[Ge.sendType];!j(Ge[Rl])&&Ge[VD]&&Ge.sendReason===2&&(ei=Lt[2]||Lt[3]||ei);var St=fo;(Ge.isBeacon||ei[FC]===3)&&(St=!1);var nt=Ve(Ge,St);St=St||nt[cd];var Tt=sd();Tl(Rt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ot=0;Ot<Ge.batches[br];Ot++)for(var gr=Ge[Zu][Ot],xr=gr[is](),Mr=0;Mr<xr[br];Mr++){var ti=xr[Mr];if(hn){var Ko=ti[$_]=ti[$_]||{};wt(Ko,"sendEventStart",Tt),wt(Ko,"serializationStart",At),wt(Ko,"serializationCompleted",Zt)}ti[KD]>0?ti[KD]++:ti[KD]=1}Oi(Ge[Zu],1e3+(lr||0),Ge[Rl],!0);var bo={data:Ge.payloadBlob,urlString:nt.url,headers:nt[xy],_thePayload:Ge,_sendReason:lr,timeout:Go,disableXhrSync:Oo,disableFetchKeepAlive:qs};St&&(JD(bo[Xh],Yp)||(bo[Xh][Yp]=bw),JD(bo[Xh],hv)||(bo[Xh][hv]=W_));var tp=null;ei&&(tp=function(nf){lt[In]();var eb=function(im,r0){it(im,r0,Ge,lr)},Gf=Ge[Tw]||Ge[Dw];try{ei[Ew](nf,eb,Gf),fa&&fa(bo,nf,Gf,Ge[VD])}catch(im){tv(wr,"Unexpected exception sending payload. Ex:"+Fe(im)),b(eb,0,{})}}),Tl(Rt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(tp)if(Ge[Rl]===0&&jt++,rn&&!Ge.isBeacon&&ei[FC]!==3){var nf={data:bo[Nu],urlString:bo[dg],headers:Ry({},bo[Xh]),timeout:bo[Jh],disableXhrSync:bo[Fs],disableFetchKeepAlive:bo[lg]},eb=!1;Tl(Rt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Mc(nf,function(Gf){eb=!0,!qt&&!Gf[gv]&&(Gf[gv]=Gf[gv]||bo[gv],Gf[fg]=Gf[fg]||bo[fg]),tp(Gf)},Ge.isSync||Ge[Tw])}catch{eb||tp(bo)}})}else tp(bo)})},function(){return{thePayload:Ge,serializationStart:At,serializationCompleted:Zt,sendReason:lr}},Ge[Dw])}Ge.sizeExceed&&Ge.sizeExceed[br]>0&&Oi(Ge.sizeExceed,8003,Ge[Rl]),Ge.failedEvts&&Ge.failedEvts[br]>0&&Oi(Ge.failedEvts,8002,Ge[Rl])}function _t(Ge,At){hn&&si(Ge,function(Zt){var lr=Zt[$_]=Zt[$_]||{};wt(lr,"sendEventCompleted",At)})}function it(Ge,At,Zt,lr){var rn=9e3,ei=null,St=!1,nt=!1;try{var Tt=!0;if(typeof Ge!==s){if(At){lt[Zn](At[NC]);var Ot=At[ww]||At["kill-duration-seconds"];si(Te[qC](At[LC],Ot),function(xr){si(Zt[Zu],function(Mr){if(Mr[$n]()===xr){ei=ei||[];var ti=Mr[Ma](0);Zt.numEvents-=ti[Rn](),ei[pc](ti)}})})}if(Ge==200||Ge==204){rn=200;return}(!K_(Ge)||Zt.numEvents<=0)&&(Tt=!1),rn=9e3+Ge%1e3}if(Tt){rn=100;var gr=Zt.retryCnt;Zt[Rl]===0&&(gr<X?(St=!0,_r(function(){Zt[Rl]===0&&jt--,et(Zt[Zu],gr+1,Zt[Tw],ci?2:Zt[Rl],5)},ci,Ny(gr))):(nt=!0,ci&&(rn=8001)))}}finally{St||(lt[Zn](),Qt(Zt,rn,lr,nt)),Oi(ei,8004,Zt[Rl])}}function Qt(Ge,At,Zt,lr){try{lr&&Rr[V_]();var rn=Ge[Zu];At===200&&(rn=Ge.sentEvts||Ge[Zu],!lr&&!Ge[Dw]&&Rr._clearBackOff(),Vt(rn)),Oi(rn,At,Ge[Rl],!0)}finally{Ge[Rl]===0&&(jt--,Zt!==5&&Ci.sendQueuedRequests(Ge[Rl],Zt))}}function Vt(Ge){if(hn){var At=sd();si(Ge,function(Zt){Zt&&Zt[Rn]()>0&&_t(Zt[is](),At)})}}function _r(Ge,At,Zt){At?Ge():_a.set(Ge,Zt)}function Pr(Ge){var At={};if(cr(Ge)){var Zt=Su(Ge)[Ma](/[\r\n]+/);si(Zt,function(lr){if(lr){var rn=lr.indexOf(": ");if(rn!==-1){var ei=Su(lr.substring(0,rn))[ug](),St=Su(lr.substring(rn+1));At[ei]=St}else At[Su(lr)]=1}})}return At}function Ir(Ge){for(var At=0;At<Ge.batches[br];At++){var Zt=Ge[Zu][At].Msfpc();if(Zt)return encodeURIComponent(Zt)}return Vo}function Nn(Ge){var At=xl;try{for(var Zt=0;Zt<At[br];Zt++)try{At[Zt](Ge)}catch(rn){Qd(wr,1,519,"Response handler failed: "+rn)}if(Ge){var lr=JSON.parse(Ge);id(lr.webResult)&&id(lr.webResult[Dt])&&pi.set("MSFPC",lr.webResult[Dt],365*86400)}}catch{}}function Oi(Ge,At,Zt,lr){if(Ge&&Ge[br]>0&&se){var rn=se[Io(At)];if(rn){var ei=Zt!==0;Tl(Rt,function(){return"HttpManager:_sendBatchesNotification"},function(){_r(function(){try{rn.call(se,Ge,At,ei,Zt)}catch(St){Qd(wr,1,74,"send request notification failed: "+St)}},lr||ei,0)},function(){return{batches:Be(Ge),reason:At,isSync:ei,sendSync:lr,sendType:Zt}},!ei)}}}function Io(Ge){var At=X_[Ge];return id(At)||(At=Py,Ge>=9e3&&Ge<=9999?At=fv:Ge>=8e3&&Ge<=8999?At=ad:Ge>=1e3&&Ge<=1999&&(At=Hf)),At}})}return T.__ieDyn=1,T}(),Kk=.25,Aw=500,Fy=20,HC=6,BC=2,Lw=4,mg=2,QD=1,Qs=1e4,ep="eventsDiscarded",Zs=void 0,ZD=oe({eventsLimitInMem:{isVal:hc,v:Qs},immediateEventLimit:{isVal:hc,v:500},autoFlushEventsLimit:{isVal:hc,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:e0,v:Zs},overrideInstrumentationKey:Zs,overrideEndpointUrl:Zs,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Zs,clearTimeoutOverride:Zs,payloadPreprocessor:Zs,payloadListener:Zs,disableEventTimings:Zs,valueSanitizer:Zs,stringifyObjects:Zs,enableCompoundKey:Zs,disableOptimizeObj:!1,transports:Zs,unloadTransports:Zs,useSendBeacon:Zs,disableFetchKeepAlive:Zs,avoidOptions:!1,xhrTimeout:Zs,disableXhrSync:Zs,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:on,v:HC},maxUnloadEventRetryAttempts:{isVal:on,v:BC},addNoResponse:Zs});function e0(T){return T&&T[Ew]}var t0=function(T){P_(L,T);function L(){var B=T.call(this)||this;B.identifier="PostChannel",B.priority=1011,B.version="4.0.4";var X,se=!1,Se=[],Te,Xe=!1,lt=0,gt,jt=0,Rr,wr={},Lt=e,Rt,qt,Et,ur,nr,yr,hn,pi,ci,fo,Go,Oo,qs,mc,Qi,Nc,Mc,fa,xl,ya,_a,Ci;return aa(L,B,function(ro,ld){ie(),ro._getDbgPlgTargets=function(){return[nr,X]},ro[Yh]=function(nt,Tt,Ot){Tl(Tt,function(){return"PostChannel:initialize"},function(){ld[Yh](nt,Tt,Ot),xl=Tt.getNotifyMgr();try{Qi=dc(Iu(ro[$f]),Tt.evtNamespace&&Tt.evtNamespace()),ro._addHook(ku(nt,function(gr){var xr=gr.cfg,Mr=wy(null,xr,Tt);X=Mr.getExtCfg(ro[$f],ZD),Nc=tm(X[Oy],X[Iy]),Go=!X[G_]&&_w(),Mc=X[Rw],rm(Tt),Rr=X[to],gt=X.immediateEventLimit,hn=X[jC],qs=X.maxEventRetryAttempts,mc=X.maxUnloadEventRetryAttempts,fa=X[vv],St(),_a=X[Ly],Ci=!!X[gR],ya&&Z_();var ti=xr.disablePageUnloadEvents||[];ya=ig(nm,ti,Qi),ya=z_(nm,ti,Qi)||ya,ya=Dy(m,xr.disablePageShowEvents,Qi)||ya})),nr[Yh](nt,ro.core,ro)}catch(gr){throw ro.setInitialized(!1),gr}},function(){return{theConfig:nt,core:Tt,extensions:Ot}})},ro.processTelemetry=function(nt,Tt){zf(nt,ro[$f]),Tt=Tt||ro._getTelCtx(Tt);var Ot=nt;!Ci&&!se&&(_a&&(Ot[$n]=_a),b(Ot,!0),Oo?Be(2,2):$()),ro.processNext(Ot,Tt)},ro._doTeardown=function(nt,Tt){Be(2,2),se=!0,nr.teardown(),Z_(),ie()};function Z_(){cv(null,Qi),bn(null,Qi),Kp(null,Qi)}function rm(nt){var Tt=nt[Wf];nt[Wf]=function(){var Ot=0;return Mc&&(Ot=Ot|2),Ot|Tt.call(nt)}}function nm(nt){var Tt=nt||_u().event;Tt.type!=="beforeunload"&&(Oo=!0,nr[MC](Oo)),Be(2,2)}function m(nt){Oo=!1,nr[MC](Oo)}function b(nt,Tt){if(nt[Vf]||(nt[Vf]=0),nt[ud]||(nt[ud]=1),nt.ext&&nt.ext[Kt]&&delete nt.ext[Kt],nt.ext&&nt.ext[Ar]&&nt.ext[Ar].id&&delete nt.ext[Ar].id,Go&&(nt.ext=xu(nt.ext),nt[zC]&&(nt[zC]=xu(nt[zC])),nt[Nu]&&(nt[Nu]=xu(nt[Nu]))),nt[Qh]){if(Et||Xe)nt[ud]=3,nt[Qh]=!1;else if(nr){Go&&(nt=xu(nt)),nr[mR](Pl.create(nt[$n],[nt]),nt[Qh]===!0?1:nt[Qh],3);return}}var Ot=nt[ud],gr=jt,xr=Rr;Ot===4&&(gr=lt,xr=gt);var Mr=!1;if(gr<xr)Mr=!ot(nt,Tt);else{var ti=1,Ko=Fy;Ot===4&&(ti=4,Ko=1),Mr=!0,_t(nt[$n],nt[ud],ti,Ko)&&(Mr=!ot(nt,Tt))}Mr&&Io(ep,[nt],nc.QueueFull)}ro.setEventQueueLimits=function(nt,Tt){X[to]=Rr=hc(nt)?nt:Qs,X[jC]=hn=hc(Tt)?Tt:0,St();var Ot=jt>nt;if(!Ot&&pi>0)for(var gr=1;!Ot&&gr<=3;gr++){var xr=yr[gr];xr&&xr[Zu]&&si(xr[Zu],function(Mr){Mr&&Mr[Rn]()>=pi&&(Ot=!0)})}wt(!0,Ot)},ro.pause=function(){Ie(),Xe=!0,nr.pause()},ro.resume=function(){Xe=!1,nr.resume(),$()},ro._loadTransmitProfiles=function(nt){Pr(),Vr(nt,function(Tt,Ot){var gr=Ot[br];if(gr>=2){var xr=gr>2?Ot[2]:0;if(Ot[pv](0,gr-2),Ot[1]<0&&(Ot[0]=-1),Ot[1]>0&&Ot[0]>0){var Mr=Ot[0]/Ot[1];Ot[0]=Math.ceil(Mr)*Ot[1]}xr>=0&&Ot[1]>=0&&xr>Ot[1]&&(xr=Ot[1]),Ot[pc](xr),wr[Tt]=Ot}})},ro.flush=function(nt,Tt,Ot){nt===void 0&&(nt=!0);var gr;if(!Xe)if(Ot=Ot||1,nt)Tt||(gr=Z(function(Mr){Tt=Mr})),Te==null?(Ie(),Qt(1,0,Ot),Te=ge(function(){Te=null,Vt(Tt,Ot)},0)):Se[pc](Tt);else{var xr=Ie();I(1,1,Ot),Tt&&Tt(),xr&&$()}return gr},ro.setMsaAuthTicket=function(nt){nr.addHeader(We,nt)},ro.hasEvents=j,ro._setTransmitProfile=function(nt){Lt!==nt&&wr[nt]!==void 0&&(Ie(),Lt=nt,$())},zd(ro,function(){return nr},["addResponseHandler"]);function I(nt,Tt,Ot){var gr=Qt(nt,Tt,Ot);return nr[Bf](Tt,Ot),gr}function j(){return jt>0}function $(){if(ci>=0&&Qt(ci,0,fo)&&nr[Bf](0,fo),lt>0&&!qt&&!Xe){var nt=wr[Lt][2];nt>=0&&(qt=ge(function(){qt=null,I(4,0,1),$()},nt))}var Tt=wr[Lt][1];!Rt&&!Te&&Tt>=0&&!Xe&&(j()?Rt=ge(function(){Rt=null,I(ur===0?3:1,0,1),ur++,ur%=2,$()},Tt):ur=0)}ro[V_]=function(){Et<Lw&&(Et++,Ie(),$())},ro._clearBackOff=function(){Et&&(Et=0,Ie(),$())};function ie(){X=null,se=!1,Se=[],Te=null,Xe=!1,lt=0,gt=500,jt=0,Rr=Qs,wr={},Lt=e,Rt=null,qt=null,Et=0,ur=0,yr={},hn=0,ya=!1,pi=0,ci=-1,fo=null,Go=!0,Oo=!1,qs=HC,mc=BC,Qi=null,_a=null,Ci=!1,Nc=tm(),nr=new pg(Aw,mg,QD,{requeue:Nn,send:At,sent:Zt,drop:lr,rspFail:rn,oth:ei}),Ir(),et(),St()}function ge(nt,Tt){Tt===0&&Et&&(Tt=1);var Ot=1e3;return Et&&(Ot=Ny(Et-1)),Nc.set(nt,Tt*Ot)}function Ie(){return Rt!==null?(Rt.cancel(),Rt=null,ur=0,!0):!1}function Be(nt,Tt){Ie(),Te&&(Te.cancel(),Te=null),Xe||I(1,nt,Tt)}function et(){yr[4]={batches:[],iKeyMap:{}},yr[3]={batches:[],iKeyMap:{}},yr[2]={batches:[],iKeyMap:{}},yr[1]={batches:[],iKeyMap:{}}}function Ve(nt,Tt,Ot){var gr=yr[Tt];gr||(Tt=1,gr=yr[Tt]);var xr=gr.iKeyMap[nt];return!xr&&Ot&&(xr=Pl.create(nt),gr.batches[pc](xr),gr.iKeyMap[nt]=xr),xr}function wt(nt,Tt){nr[Ay]()&&!Et&&(hn>0&&jt>hn&&(Tt=!0),Tt&&Te==null&&ro.flush(nt,function(){},20))}function ot(nt,Tt){Go&&(nt=xu(nt));var Ot=nt[ud],gr=Ve(nt[$n],Ot,!0);return gr.addEvent(nt)?(Ot!==4?(jt++,Tt&&nt[Vf]===0&&wt(!nt.sync,pi>0&&gr[Rn]()>=pi)):lt++,!0):!1}function _t(nt,Tt,Ot,gr){for(;Ot<=Tt;){var xr=Ve(nt,Tt,!0);if(xr&&xr[Rn]()>0){var Mr=xr[Ma](0,gr),ti=Mr[Rn]();if(ti>0)return Ot===4?lt-=ti:jt-=ti,Ge(ep,[Mr],nc.QueueFull),!0}Ot++}return it(),!1}function it(){for(var nt=0,Tt=0,Ot=function(xr){var Mr=yr[xr];Mr&&Mr[Zu]&&si(Mr[Zu],function(ti){xr===4?nt+=ti[Rn]():Tt+=ti[Rn]()})},gr=1;gr<=4;gr++)Ot(gr);jt=Tt,lt=nt}function Qt(nt,Tt,Ot){var gr=!1,xr=Tt===0;return!xr||nr[Ay]()?Tl(ro.core,function(){return"PostChannel._queueBatches"},function(){for(var Mr=[],ti=4;ti>=nt;){var Ko=yr[ti];Ko&&Ko.batches&&Ko.batches[br]>0&&(si(Ko[Zu],function(bo){nr.addBatch(bo)?gr=gr||bo&&bo[Rn]()>0:Mr=Mr[Si](bo[is]()),ti===4?lt-=bo[Rn]():jt-=bo[Rn]()}),Ko[Zu]=[],Ko.iKeyMap={}),ti--}Mr[br]>0&&Io(ep,Mr,nc.KillSwitch),gr&&ci>=nt&&(ci=-1,fo=0)},function(){return{latency:nt,sendType:Tt,sendReason:Ot}},!xr):(ci=ci>=0?Math.min(ci,nt):nt,fo=Math.max(fo,Ot)),gr}function Vt(nt,Tt){I(1,0,Tt),it(),_r(function(){nt&&nt(),Se[br]>0?Te=ge(function(){Te=null,Vt(Se.shift(),Tt)},0):(Te=null,$())})}function _r(nt){nr[$D]()?nt():Te=ge(function(){Te=null,_r(nt)},Kk)}function Pr(){Ie(),Ir(),Lt=e,$()}function Ir(){wr={},wr[e]=[2,1,0],wr[t]=[6,3,0],wr[n]=[18,9,0]}function Nn(nt,Tt){var Ot=[],gr=qs;Oo&&(gr=mc),si(nt,function(xr){xr&&xr[Rn]()>0&&si(xr[is](),function(Mr){Mr&&(Mr[Qh]&&(Mr[ud]=4,Mr[Qh]=!1),Mr[Vf]<gr?(zf(Mr,ro[$f]),b(Mr,!1)):Ot[pc](Mr))})}),Ot[br]>0&&Io(ep,Ot,nc.NonRetryableStatus),Oo&&Be(2,2)}function Oi(nt,Tt){var Ot=xl||{},gr=Ot[nt];if(gr)try{gr.apply(Ot,Tt)}catch(xr){Qd(ro.diagLog(),1,74,nt+" notification failed: "+xr)}}function Io(nt,Tt){for(var Ot=[],gr=2;gr<arguments.length;gr++)Ot[gr-2]=arguments[gr];Tt&&Tt[br]>0&&Oi(nt,[Tt][Si](Ot))}function Ge(nt,Tt){for(var Ot=[],gr=2;gr<arguments.length;gr++)Ot[gr-2]=arguments[gr];Tt&&Tt[br]>0&&si(Tt,function(xr){xr&&xr[Rn]()>0&&Oi(nt,[xr.events()][Si](Ot))})}function At(nt,Tt,Ot){nt&&nt[br]>0&&Oi("eventsSendRequest",[Tt>=1e3&&Tt<=1999?Tt-1e3:0,Ot!==!0])}function Zt(nt,Tt){Ge("eventsSent",nt,Tt),$()}function lr(nt,Tt){Ge(ep,nt,Tt>=8e3&&Tt<=8999?Tt-8e3:nc.Unknown)}function rn(nt){Ge(ep,nt,nc.NonRetryableStatus),$()}function ei(nt,Tt){Ge(ep,nt,nc.Unknown),$()}function St(){fa?pi=0:pi=Math.max(Aw*(mg+1),Rr/6)}}),B}return L.__ieDyn=1,L}(q_);r.BE_PROFILE=n,r.NRT_PROFILE=t,r.PostChannel=t0,r.RT_PROFILE=e})});var xSe=C(cb=>{"use strict";var snt=cb&&cb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ant=cb&&cb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),PSe=cb&&cb.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&snt(e,r,t);return ant(e,r),e};Object.defineProperty(cb,"__esModule",{value:!0});cb.oneDataSystemClientFactory=void 0;var cnt=async(r,e,t)=>{let n=await Promise.resolve().then(()=>PSe(DSe())),i=await Promise.resolve().then(()=>PSe(RSe())),o=new n.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:r,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(t){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:t};a.extensionConfig[s.identifier]=l}let u=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{u&&(l.ext=l.ext??{},l.ext.utc=l.ext.utc??{},l.ext.utc.flags=8462029)}),o},unt=async(r,e,t)=>{let n=await cnt(r,e,t);return{logEvent:(s,a)=>{try{n?.track({name:s,baseData:{name:s,properties:a?.properties,measurements:a?.measurements}})}catch(c){throw new Error(`Failed to log event to app insights!
`+c.message)}},flush:async()=>{try{return new Promise((a,c)=>{if(!n){a();return}n.flush(!0,u=>{if(!u){c("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(a=>{if(!n){a();return}n.unload(!1,()=>{a(),n=void 0},1e3)})}};cb.oneDataSystemClientFactory=unt});var ISe=C((Nj,OSe)=>{(function(r,e){typeof Nj=="object"&&typeof OSe<"u"?e(Nj):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(Nj,function(r){"use strict";var e=void 0,t=null,n="",i="function",o="number",s="object",a="prototype",c="__proto__",u="string",l="undefined",d="constructor",f="Symbol",p="_polyfill",_="indexOf",D="length",x="value",N="name",A="slice",U=Object,ee=U[a],he=String,we=he[a],V=Math,W=Array,te=W[a];function De(E,k){var z=k;try{z=E()}catch{}return z}function ae(E){return function(k){return typeof k===E}}function ue(E){var k="[object "+E+"]";return function(z){return!!(z&&qe(z)===k)}}function qe(E){return ee.toString.call(E)}function Me(E){return typeof E===l||E===l}function ce(E){return E===t||Me(E)}function Ce(E){return!!E||E!==e}var be=ae(u),xe=ae(i);function Ne(E){return!E&&ce(E)?!1:!!E&&typeof E===s}var $e=W.isArray,Ct=ae(o),ze=ue("Error"),st=U.getOwnPropertyDescriptor;function at(E,k){return E&&ee.hasOwnProperty.call(E,k)}var tt=U.hasOwn||fr;function fr(E,k){return at(E,k)||!!st(E,k)}function Lr(E,k,z){if(E&&Ne(E)){for(var Y in E)if(tt(E,Y)&&k.call(z||E,Y,E[Y])===-1)break}}function zr(E,k,z,Y){var ve={};return Lr(E,function(We,Ze){ve[We]=k?Ze:We,ve[Ze]=z?Ze:We}),Y(ve)}function cr(E){throw new Error(E)}function xt(E){throw new TypeError(E)}var hr=U.freeze,Nt=function(E){return E},on=function(E){return E[c]||t},ln=U.assign;function On(E){return(!Ne(E)||E===t)&&xt("objKeys called on non-object"),U.keys(E)}function Or(E){return hr&&Lr(E,function(k,z){($e(z)||Ne(z))&&hr(z)}),Hn(E)}var Hn=hr||Nt,$r=U.getPrototypeOf||on;function dn(E){return zr(E,1,0,Or)}function ii(E){var k={};return Lr(E,function(z,Y){k[z]=Y[1],k[Y[0]]=Y[1]}),Or(k)}function Vr(E){return ii(E)}var An=he,Pi="__tsUtils$gblCfg",Gr;function Ji(){var E;return typeof globalThis!==l&&(E=globalThis),!E&&typeof self!==l&&(E=self),!E&&typeof window!==l&&(E=window),!E&&typeof global!==l&&(E=global),E}function oi(){if(!Gr){var E=Ji()||{};Gr=E[Pi]=E[Pi]||{}}return Gr}function fn(E,k){var z=n;if(ze(E))z="{ stack: '"+E.stack+"', message: '"+E.message+"', name: '"+E.name+"'";else try{z=JSON.stringify(E,t,k?Ct(k)?k:4:e)}catch(Y){z=" - "+fn(Y,k)}return qe(E)+": "+z}var Oe=te[A],oe=function(E,k){xt("'"+An(E)+"' not defined for "+fn(k))},Q=function(E){return function(k){return k[E].apply(k,Oe.call(arguments,1))}},_e=function(E,k){var z=k&&k[E];return function(Y){var ve=Y&&Y[E]||z;if(ve)return ve.apply(Y,Oe.call(arguments,1));oe(E,Y)}},Je=function(E,k,z){var Y=k&&k[E];return function(ve){var We=ve&&ve[E]||Y;if(We||z){var Ze=arguments;return(We||z).apply(ve,We?Oe.call(Ze,1):Ze)}oe(E,ve)}},ft=V.max,Yt=_e(A,we),rr=_e("substring",we),Jt=Je("substr",we,$t);function $t(E,k,z){return ce(E)&&xt("'polyStrSubstr called with invalid "+fn(E)),z<0?n:(k=k||0,k<0&&(k=ft(k+E[D],0)),Me(z)?Yt(E,k):Yt(E,k,k+z))}function kt(E,k){return rr(E,0,k)}var K="_urid",Fe;function Ht(){if(!Fe){var E=oi();Fe=E.gblSym=E.gblSym||{k:{},s:{}}}return Fe}function Dr(E){var k={description:An(E),toString:function(){return f+"("+E+")"}};return k[p]=!0,k}function He(E){var k=Ht();if(!tt(k.k,E)){var z=Dr(E),Y=On(k.s).length;z[K]=function(){return Y+"_"+z.toString()},k.k[E]=z,k.s[z[K]()]=An(E)}return k.k[E]}var ne={e:"enumerable",c:"configurable",v:x,w:"writable",g:"get",s:"set"};function Pe(E){var k={};if(k[ne.c]=!0,k[ne.e]=!0,E.l){k.get=function(){return E.l.v};var z=st(E.l,"v");z&&z.set&&(k.set=function(Y){E.l.v=Y})}return Lr(E,function(Y,ve){k[ne[Y]]=Me(ve)?k[ne[Y]]:ve}),k}var je=U.defineProperty;function fe(E,k,z){return je(E,k,Pe(z))}var S,de=function(){S=oi(),de=t};function Ye(E){var k={};return de&&de(),k.b=S.lzy,je(k,"v",{configurable:!0,get:function(){var z=E();return S.lzy||(je(k,"v",{value:z}),k.b&&delete k.b),S.lzy&&k.b!==S.lzy&&(k.b=S.lzy),z}}),k}function Tr(E,k){return Ye(function(){return De(E,k)})}var Wr="window",Xr,qn,xi,As,Sn=function(E){return Tr(function(){return Ws(E)||e},e)},es=function(E){return(!Xr||E===!1||S&&S.lzy&&!Xr.b)&&(Xr=Tr(Ji,t)),Xr.v},Ws=function(E,k){var z=!Xr||k===!1?es(k):Xr.v;return z&&z[E]?z[E]:E===Wr&&qn?qn.v:t},na=function(){return(!xi||S&&S.lzy&&!xi.b)&&(xi=Sn("document")),xi.v},Fo=function(){return!!Eo()},Eo=function(){return(!qn||S&&S.lzy&&!qn.b)&&(qn=Sn(Wr)),qn.v},H=function(){return!!Ue()},Ue=function(){return(!As||S&&S.lzy&&!As.b)&&(As=Sn("navigator")),As.v},vt,Fr,so;function Bi(E){return Tr(function(){return vt.v?vt.v[E]:e},e)}function M(){var E=!vt||S&&S.lzy&&!vt.b;return E&&(vt=Sn(f)),(!Fr||E)&&(Fr=Bi("for")),(!so||E)&&(so=Bi("keyFor")),vt.v}function Le(E,k){return(!vt||S.lzy&&!vt.b)&&M(),vt.v?vt.v(E):k?t:Dr(E)}function rt(E){return(!Fr||S.lzy&&!vt.b)&&M(),(Fr.v||He)(E)}var zt=Q("apply");function Ln(E,k,z){if(E)for(var Y=E[D]>>>0,ve=0;ve<Y&&!(ve in E&&k.call(z||E,E[ve],ve,E)===-1);ve++);}var Cn=_e(_,te),Mn=_e("map",te),ao=_e(A,te),ji=Q("call"),Ro=_e("reduce",te),$i=U.create,Jn=$i||_u;function _u(E){if(!E)return{};var k=typeof E;if(k!==s&&k!==i)throw new TypeError("Prototype must be an Object or function: "+fn(E));function z(){}return z[a]=E,new z}var ts;function yo(E,k){var z=U.setPrototypeOf||function(Y,ve){!ts&&(ts=Ye(function(){var We;return We={},We[c]=[],We instanceof Array})),ts.v?Y[c]=ve:Lr(ve,function(We,Ze){return Y[We]=Ze})};return z(E,k)}var pl=function(E,k,z){ec(k,E),k=yo(k,z);function Y(){this.constructor=k,ec(this,E)}return k[a]=z===t?Jn(z):(Y[a]=z[a],new Y),k},Ni=function(E,k){try{k&&(E[N]=k)}catch{}},ec=function(E,k){try{fe(E,N,{v:k,c:!0,e:!1})}catch{}};function tc(E,k,z){var Y=z||Error,ve=Y[a][N],We=Error.captureStackTrace;return pl(E,function(){var Ze=this;try{Ni(Y,E);var ct=zt(Y,Ze,ao(arguments))||Ze;if(ct!==Ze){var Dt=$r(Ze);Dt!==$r(ct)&&yo(ct,Dt)}return We&&We(ct,Ze[d]),k&&k(ct,arguments),ct}finally{Ni(Y,ve)}},Y)}function ma(){return(Date.now||ml)()}function ml(){return new Date().getTime()}function Rh(E){return function(z){return ce(z)&&xt("strTrim called ["+fn(z)+"]"),z&&z.replace&&(z=z.replace(E,n)),z}}var Rc=Rh(/^\s+|(?=\s)\s+$/g),ia=Je("trim",we,Rc),bu,Ph,Uo;function $s(E){if(!E||typeof E!==s)return!1;Uo||(Uo=Fo()?Eo():!0);var k=!1;if(E!==Uo){Ph||(bu=Function[a].toString,Ph=ji(bu,U));try{var z=$r(E);k=!z,k||(at(z,d)&&(z=z[d]),k=z&&typeof z===i&&bu.call(z)===Ph)}catch{}}return k}var Dn;function Vs(){return(!Dn||!Dn.b&&S&&S.lzy)&&(Dn=Sn("performance")),Dn.v}var wu=Je("endsWith",we,si);function si(E,k,z){be(E)||xt("'"+fn(E)+"' is not a string");var Y=be(k)?k:An(k),ve=Y[D],We=E[D],Ze=!Me(z)&&z<We?z:We;return rr(E,Ze-ve,Ze)===Y}var Pa=_e(_,we),ru="ref",xh="un"+ru,_f="hasRef",Cp="enabled";function bf(E,k,z){var Y,ve=!0,We=E?k(t):t,Ze,ct=function(){return ve=!1,We&&We[xh]&&We[xh](),Ze},Dt=function(){return ve=!0,We&&We[ru]&&We[ru](),Ze},Kt=function(){return We&&We[_f]?We[_f]():ve},Ar=function(){return We=k(We),ve||ct(),Ze},jn=function(){We&&z(We),We=t},In=function(Qn){!Qn&&We&&jn(),Qn&&!We&&Ar()};return Ze=(Y={cancel:jn,refresh:Ar},Y[_f]=Kt,Y[ru]=Dt,Y[xh]=ct,Y[Cp]=!1,Y),je(Ze,Cp,{get:function(){return!!We},set:In}),{h:Ze,dn:function(){We=t}}}function Tp(E,k,z,Y){var ve=$e(z),We=ve?z.length:0,Ze=(We>0?z[0]:ve?e:z)||setTimeout,ct=(We>1?z[1]:e)||clearTimeout,Dt=Y[0];Y[0]=function(){Kt.dn(),zt(Dt,E,ao(arguments))};var Kt=bf(k,function(Ar){if(Ar){if(Ar.refresh)return Ar.refresh(),Ar;zt(ct,E,[Ar])}return zt(Ze,E,Y)},function(Ar){zt(ct,E,[Ar])});return Kt.h}function wf(E,k){return Tp(this,!0,e,ao(arguments))}var zl=dn,Xn=Vr,Gs="toLowerCase",Ul="blkVal",co="length",Oh="rdOnly",Ih="notify",Ks="warnToConsole",Su="throwInternal",kh="setDf",Od="watch",Cs="logger",Hl="apply",nu="push",Lm="splice",Id="hdlr",Sf="cancel",Cf="name",Pc="unload",_o="version",Dp="loggingLevelConsole",Tf="messageId",oa="message",gl="diagLog",Cu="userAgent",dy="split",sa="replace",P_="logInternalMessage",Wu="traceId",kd="spanId",Ho="traceFlags",Bl;function Ah(E,k){Bl||(Bl=tc("AggregationError",function(Y,ve){ve[co]>1&&(Y.errors=ve[1])}));var z=E||"One or more errors occurred.";throw Ln(k,function(Y,ve){z+=`
`.concat(ve," > ").concat(fn(Y))}),new Bl(z,k||[])}var Vg="function",Ad="object",Lh="undefined",Ep="prototype",Wl=Object,Rp=Wl[Ep];(es()||{}).Symbol,(es()||{}).Reflect;var $u="hasOwnProperty",Nh=function(E){for(var k,z=1,Y=arguments.length;z<Y;z++){k=arguments[z];for(var ve in k)Rp[$u].call(k,ve)&&(E[ve]=k[ve])}return E},Tu=ln||Nh,Df=function(E,k){return Df=Wl.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,Y){z.__proto__=Y}||function(z,Y){for(var ve in Y)Y[$u](ve)&&(z[ve]=Y[ve])},Df(E,k)};function Ld(E,k){typeof k!==Vg&&k!==null&&xt("Class extends value "+String(k)+" is not a constructor or null"),Df(E,k);function z(){this.constructor=E}E[Ep]=k===null?Jn(k):(z[Ep]=k[Ep],new z)}var Ef,Nd="constructor",Ys="prototype",xa="function",Po="_dynInstFuncs",iu="_isDynProxy",rc="_dynClass",Gg="_dynCls$",Vu="_dynInstChk",Js=Vu,$l="_dfOpts",Pp="_unknown_",Du="__proto__",vl="_dyn"+Du,Mh="__dynProto$Gbl",xc="_dynInstProto",Gu="useBaseInst",Ts="setInstFuncs",ou=Object,Ku=ou.getPrototypeOf,Yu=ou.getOwnPropertyNames,aa=es(),Kg=aa[Mh]||(aa[Mh]={o:(Ef={},Ef[Ts]=!0,Ef[Gu]=!0,Ef),n:1e3});function nc(E){return E&&(E===ou[Ys]||E===Array[Ys])}function yl(E){return nc(E)||E===Function[Ys]}function Bo(E){var k;if(E){if(Ku)return Ku(E);var z=E[Du]||E[Ys]||(E[Nd]?E[Nd][Ys]:null);k=E[vl]||z,at(E,vl)||(delete E[xc],k=E[vl]=E[xc]||E[vl],E[xc]=z)}return k}function Wo(E,k){var z=[];if(Yu)z=Yu(E);else for(var Y in E)typeof Y=="string"&&at(E,Y)&&z.push(Y);if(z&&z.length>0)for(var ve=0;ve<z.length;ve++)k(z[ve])}function Rf(E,k,z){return k!==Nd&&typeof E[k]===xa&&(z||at(E,k))}function Ju(E){xt("DynamicProto: "+E)}function Pf(E){var k={};return Wo(E,function(z){!k[z]&&Rf(E,z,!1)&&(k[z]=E[z])}),k}function qo(E,k){for(var z=E.length-1;z>=0;z--)if(E[z]===k)return!0;return!1}function Vl(E,k,z,Y){function ve(Dt,Kt,Ar){var jn=Kt[Ar];if(jn[iu]&&Y){var In=Dt[Po]||{};In[Js]!==!1&&(jn=(In[Kt[rc]]||{})[Ar]||jn)}return function(){return jn.apply(Dt,arguments)}}var We={};Wo(z,function(Dt){We[Dt]=ve(k,z,Dt)});for(var Ze=Bo(E),ct=[];Ze&&!yl(Ze)&&!qo(ct,Ze);)Wo(Ze,function(Dt){!We[Dt]&&Rf(Ze,Dt,!Ku)&&(We[Dt]=ve(k,Ze,Dt))}),ct.push(Ze),Ze=Bo(Ze);return We}function xf(E,k,z,Y){var ve=null;if(E&&at(z,rc)){var We=E[Po]||{};if(ve=(We[z[rc]]||{})[k],ve||Ju("Missing ["+k+"] "+xa),!ve[Vu]&&We[Js]!==!1){for(var Ze=!at(E,k),ct=Bo(E),Dt=[];Ze&&ct&&!yl(ct)&&!qo(Dt,ct);){var Kt=ct[k];if(Kt){Ze=Kt===Y;break}Dt.push(ct),ct=Bo(ct)}try{Ze&&(E[k]=ve),ve[Vu]=1}catch{We[Js]=!1}}}return ve}function ga(E,k,z){var Y=k[E];return Y===z&&(Y=Bo(k)[E]),typeof Y!==xa&&Ju("["+E+"] is not a "+xa),Y}function Eu(E,k,z,Y,ve){function We(Dt,Kt){var Ar=function(){var jn=xf(this,Kt,Dt,Ar)||ga(Kt,Dt,Ar);return jn.apply(this,arguments)};return Ar[iu]=1,Ar}if(!nc(E)){var Ze=z[Po]=z[Po]||{},ct=Ze[k]=Ze[k]||{};Ze[Js]!==!1&&(Ze[Js]=!!ve),Wo(z,function(Dt){Rf(z,Dt,!1)&&z[Dt]!==Y[Dt]&&(ct[Dt]=z[Dt],delete z[Dt],(!at(E,Dt)||E[Dt]&&!E[Dt][iu])&&(E[Dt]=We(E,Dt)))})}}function ca(E,k){if(Ku){for(var z=[],Y=Bo(k);Y&&!yl(Y)&&!qo(z,Y);){if(Y===E)return!0;z.push(Y),Y=Bo(Y)}return!1}return!0}function Ls(E,k){return at(E,Ys)?E.name||k||Pp:((E||{})[Nd]||{}).name||k||Pp}function Gl(E,k,z,Y){at(E,Ys)||Ju("theClass is an invalid class definition.");var ve=E[Ys];ca(ve,k)||Ju("["+Ls(E)+"] not in hierarchy of ["+Ls(k)+"]");var We=null;at(ve,rc)?We=ve[rc]:(We=Gg+Ls(E,"_")+"$"+Kg.n,Kg.n++,ve[rc]=We);var Ze=Gl[$l],ct=!!Ze[Gu];ct&&Y&&Y[Gu]!==void 0&&(ct=!!Y[Gu]);var Dt=Pf(k),Kt=Vl(ve,k,Dt,ct);z(k,Kt);var Ar=!!Ku&&!!Ze[Ts];Ar&&Y&&(Ar=!!Y[Ts]),Eu(ve,We,k,Dt,Ar!==!1)}Gl[$l]=Kg.o;var fy=void 0,ms="",su="Not dynamic - ",_l=/-([a-z])/g,Fh=/([^\w\d_$])/g,Md=/^(\d+[\w\d_$])/;function xp(E){return!ce(E)}function ic(E){var k=E;return k&&be(k)&&(k=k[sa](_l,function(z,Y){return Y.toUpperCase()}),k=k[sa](Fh,"_"),k=k[sa](Md,function(z,Y){return"_"+Y})),k}function Nm(E,k){return E&&k?Pa(E,k)!==-1:!1}function zi(E){return E&&E.toISOString()||""}function rs(E){return ze(E)?E[Cf]:ms}function Xu(E){return function(){function k(){var z=this;E&&Lr(E,function(Y,ve){z[Y]=ve})}return k}()}var Oc="console",Ic="JSON",ua="crypto",bl="msCrypto",Vi="msie",Of="trident/",wi=null,Oa=null,Bn=null;function Fd(){return typeof console!==Lh?console:Ws(Oc)}function Kl(){return!!(typeof JSON===Ad&&JSON||Ws(Ic)!==null)}function kc(){return Kl()?JSON||Ws(Ic):null}function $o(){return Ws(ua)}function oc(){return Ws(bl)}function la(){var E=Ue();if(E&&(E[Cu]!==Oa||wi===null)){Oa=E[Cu];var k=(Oa||ms)[Gs]();wi=Nm(k,Vi)||Nm(k,Of)}return wi}function uo(E){return(Bn===null||E===!1)&&(Bn=H()&&!!Ue().sendBeacon),Bn}function Ru(E,k){if(E)for(var z=0;z<E[co];z++){var Y=E[z];if(Y[Cf]&&Y[Cf]===k)return Y}return{}}function Fn(E){var k=na();return k&&E?Ru(k.querySelectorAll("meta"),E).content:null}function au(E){var k,z=Vs();if(z){var Y=z.getEntriesByType("navigation")||[];k=Ru((Y[co]>0?Y[0]:{}).serverTiming,E).description}return k}var xo=4294967296,ai=4294967295,Yl=123456789,Ia=987654321,va=!1,da=Yl,Jl=Ia;function sc(E){E<0&&(E>>>=0),da=Yl+E&ai,Jl=Ia-E&ai,va=!0}function qd(){try{var E=ma()&2147483647;sc((Math.random()*xo^E)+E)}catch{}}function Ds(E){return E>0?Math.floor(cu()/ai*(E+1))>>>0:0}function cu(E){var k=0,z=$o()||oc();return z&&z.getRandomValues&&(k=z.getRandomValues(new Uint32Array(1))[0]&ai),k===0&&la()&&(va||qd(),k=wl()&ai),k===0&&(k=Math.floor(xo*Math.random()|0)),E||(k>>>=0),k}function wl(E){Jl=36969*(Jl&65535)+(Jl>>16)&ai,da=18e3*(da&65535)+(da>>16)&ai;var k=(Jl<<16)+(da&65535)>>>0&ai|0;return E||(k>>>=0),k}function Xl(E){E===void 0&&(E=22);for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=cu()>>>0,Y=0,ve=ms;ve[co]<E;)Y++,ve+=k.charAt(z&63),z>>>=6,Y===5&&(z=(cu()<<2&4294967295|z&3)>>>0,Y=0);return ve}var jd="3.0.5",g="."+Xl(6),v=0;function R(E,k){return k===void 0&&(k=!1),ic(E+v+++(k?"."+jd:ms)+g)}function O(E){return E&&Ne(E)&&(E.isVal||E.fb||tt(E,"v")||tt(E,"mrg")||tt(E,"ref")||E.set)}function F(E,k,z){var Y,ve=z.dfVal||Ce;if(k&&z.fb){var We=z.fb;$e(We)||(We=[We]);for(var Ze=0;Ze<We[co];Ze++){var ct=We[Ze],Dt=k[ct];if(ve(Dt)?Y=Dt:E&&(Dt=E.cfg[ct],ve(Dt)&&(Y=Dt),E.set(E.cfg,An(ct),Dt)),ve(Y))break}}return!ve(Y)&&ve(z.v)&&(Y=z.v),Y}function J(E,k,z){var Y=z;if(z&&O(z)&&(Y=F(E,k,z)),Y){O(Y)&&(Y=J(E,k,Y));var ve;$e(Y)?(ve=[],ve[co]=Y[co]):$s(Y)&&(ve={}),ve&&(Lr(Y,function(We,Ze){Ze&&O(Ze)&&(Ze=J(E,k,Ze)),ve[We]=Ze}),Y=ve)}return Y}function Z(E,k,z,Y){var ve,We,Ze,ct=Y,Dt,Kt,Ar,jn;O(ct)?(ve=ct.isVal,We=ct.set,Ar=ct[Oh],jn=ct[Ul],Dt=ct.mrg,Kt=ct.ref,!Kt&&Me(Kt)&&(Kt=!!Dt),Ze=F(E,k,ct)):Ze=Y,jn&&E[Ul](k,z);var In,Qn=!0,Qr=k[z];(Qr||!ce(Qr))&&(In=Qr,Qn=!1,ve&&In!==Ze&&!ve(In)&&(In=Ze,Qn=!0),We&&(In=We(In,Ze,k),Qn=In===Ze)),Qn?Ze?In=J(E,k,Ze):In=Ze:($s(In)||$e(Ze))&&Dt&&Ze&&($s(Ze)||$e(Ze))&&Lr(Ze,function(Zn,br){Z(E,In,Zn,br)}),E.set(k,z,In),Kt&&E.ref(k,z),Ar&&E[Oh](k,z)}var pe=rt("[[ai_dynCfg_1]]"),ke=rt("[[ai_blkDynCfg_1]]"),Qe=rt("[[ai_frcDynCfg_1]]");function ht(E){if(E){var k;if($e(E)?(k=[],k[co]=E[co]):$s(E)&&(k={}),k)return Lr(E,function(z,Y){k[z]=ht(Y)}),k}return E}function Ut(E){if(E){var k=E[pe]||E;if(k.cfg&&(k.cfg===E||k.cfg[pe]===k))return k}return null}function Sr(E){if(E&&($s(E)||$e(E)))try{E[ke]=!0}catch{}return E}function sn(E,k,z){var Y=!1;return z&&!E[k.blkVal]&&(Y=z[Qe],!Y&&!z[ke]&&(Y=$s(z)||$e(z))),Y}function jr(E){xt("InvalidAccess:"+E)}var Wn=["push","pop","shift","unshift","splice"],Xs=function(E,k,z,Y){E&&E[Su](3,108,"".concat(z," [").concat(k,"] failed - ")+fn(Y))};function ac(E,k,z){$e(k)&&Ln(Wn,function(Y){var ve=k[Y];k[Y]=function(){for(var We=[],Ze=0;Ze<arguments.length;Ze++)We[Ze]=arguments[Ze];var ct=ve[Hl](this,We);return Ip(E,k,z,"Patching"),ct}})}function Pu(E,k){var z=st(E,k);return z&&z.get}function Op(E,k,z,Y){var ve={n:z,h:[],trk:function(Kt){Kt&&Kt.fn&&(Cn(ve.h,Kt)===-1&&ve.h[nu](Kt),E.trk(Kt,ve))},clr:function(Kt){var Ar=Cn(ve.h,Kt);Ar!==-1&&ve.h[Lm](Ar,1)}},We=!0,Ze=!1;function ct(){We&&(Ze=Ze||sn(ct,E,Y),Y&&!Y[pe]&&Ze&&(Y=Ip(E,Y,z,"Converting")),We=!1);var Kt=E.act;return Kt&&ve.trk(Kt),Y}ct[E.prop]={chng:function(){E.add(ve)}};function Dt(Kt){if(Y!==Kt){ct[E.ro]&&!E.upd&&jr("["+z+"] is read-only:"+fn(k)),We&&(Ze=Ze||sn(ct,E,Y),We=!1);var Ar=Ze&&ct[E.rf];if(Ze)if(Ar){Lr(Y,function(In){Y[In]=Kt?Kt[In]:fy});try{Lr(Kt,function(In,Qn){Mm(E,Y,In,Qn)}),Kt=Y}catch(In){Xs((E.hdlr||{})[Cs],z,"Assigning",In),Ze=!1}}else Y&&Y[pe]&&Lr(Y,function(In){var Qn=Pu(Y,In);if(Qn){var Qr=Qn[E.prop];Qr&&Qr.chng()}});if(Kt!==Y){var jn=Kt&&sn(ct,E,Kt);!Ar&&jn&&(Kt=Ip(E,Kt,z,"Converting")),Y=Kt,Ze=jn}E.add(ve)}}fe(k,ve.n,{g:ct,s:Dt})}function Mm(E,k,z,Y){if(k){var ve=Pu(k,z),We=ve&&!!ve[E.prop];We?k[z]=Y:Op(E,k,z,Y)}return k}function ka(E,k,z,Y){if(k){var ve=Pu(k,z),We=ve&&!!ve[E.prop],Ze=Y&&Y[0],ct=Y&&Y[1],Dt=Y&&Y[2];if(!We){if(Dt)try{Sr(k)}catch(Kt){Xs((E.hdlr||{})[Cs],z,"Blocking",Kt)}try{Mm(E,k,z,k[z]),ve=Pu(k,z)}catch(Kt){Xs((E.hdlr||{})[Cs],z,"State",Kt)}}Ze&&(ve[E.rf]=Ze),ct&&(ve[E.ro]=ct),Dt&&(ve[E.blkVal]=!0)}return k}function Ip(E,k,z,Y){try{Lr(k,function(ve,We){Mm(E,k,ve,We)}),k[pe]||(je(k,pe,{get:function(){return E[Id]}}),ac(E,k,z))}catch(ve){Xs((E.hdlr||{})[Cs],z,Y,ve)}return k}var qh="[[ai_",zd="]]";function xu(E){var k,z=Le(qh+"get"+E.uid+zd),Y=Le(qh+"ro"+E.uid+zd),ve=Le(qh+"rf"+E.uid+zd),We=Le(qh+"blkVal"+E.uid+zd),Ze=Le(qh+"dtl"+E.uid+zd),ct=null,Dt=null,Kt;function Ar(Qr,Zn){var br=Kt.act;try{Kt.act=Qr,Qr&&Qr[Ze]&&(Ln(Qr[Ze],function($n){$n.clr(Qr)}),Qr[Ze]=[]),Zn({cfg:E.cfg,set:E.set.bind(E),setDf:E[kh].bind(E),ref:E.ref.bind(E),rdOnly:E[Oh].bind(E)})}catch($n){var Si=E[Cs];throw Si&&Si[Su](1,107,fn($n)),$n}finally{Kt.act=br||null}}function jn(){if(ct){var Qr=ct;ct=null,Dt&&Dt[Sf](),Dt=null;var Zn=[];if(Ln(Qr,function(br){if(br&&(br[Ze]&&(Ln(br[Ze],function(Si){Si.clr(br)}),br[Ze]=null),br.fn))try{Ar(br,br.fn)}catch(Si){Zn[nu](Si)}}),ct)try{jn()}catch(br){Zn[nu](br)}Zn[co]>0&&Ah("Watcher error(s): ",Zn)}}function In(Qr){if(Qr&&Qr.h[co]>0){ct||(ct=[]),Dt||(Dt=wf(function(){Dt=null,jn()},0));for(var Zn=0;Zn<Qr.h[co];Zn++){var br=Qr.h[Zn];br&&Cn(ct,br)===-1&&ct[nu](br)}}}function Qn(Qr,Zn){if(Qr){var br=Qr[Ze]=Qr[Ze]||[];Cn(br,Zn)===-1&&br[nu](Zn)}}return Kt=(k={prop:z,ro:Y,rf:ve},k[Ul]=We,k[Id]=E,k.add=In,k[Ih]=jn,k.use=Ar,k.trk=Qn,k),Kt}function Yg(E,k){var z={fn:k,rm:function(){z.fn=null,E=null,k=null}};return E.use(z,k),z}function x_(E,k,z){var Y,ve=Ut(k);if(ve)return ve;var We=R("dyncfg",!0),Ze=k&&z!==!1?k:ht(k),ct;function Dt(){ct[Ih]()}function Kt(Si,$n,Rn){try{Si=Mm(ct,Si,$n,Rn)}catch(is){Xs(E,$n,"Setting value",is)}return Si[$n]}function Ar(Si){return Yg(ct,Si)}function jn(Si,$n){ct.use(null,function(Rn){var is=ct.upd;try{Me($n)||(ct.upd=$n),Si(Rn)}finally{ct.upd=is}})}function In(Si,$n){var Rn;return ka(ct,Si,$n,(Rn={},Rn[0]=!0,Rn))[$n]}function Qn(Si,$n){var Rn;return ka(ct,Si,$n,(Rn={},Rn[1]=!0,Rn))[$n]}function Qr(Si,$n){var Rn;return ka(ct,Si,$n,(Rn={},Rn[2]=!0,Rn))[$n]}function Zn(Si,$n){return $n&&Lr($n,function(Rn,is){Z(br,Si,Rn,is)}),Si}var br=(Y={uid:null,cfg:Ze},Y[Cs]=E,Y[Ih]=Dt,Y.set=Kt,Y[kh]=Zn,Y[Od]=Ar,Y.ref=In,Y[Oh]=Qn,Y[Ul]=Qr,Y._block=jn,Y);return fe(br,"uid",{c:!1,e:!1,w:!1,v:We}),ct=xu(br),Ip(ct,Ze,"config","Creating"),br}function kp(E,k){E?(E[Ks](k),E[Su](2,108,k)):jr(k)}function Ap(E,k,z,Y){var ve=x_(z,E||{},Y);return k&&ve[kh](ve.cfg,k),ve}function O_(E,k,z){var Y=E[pe]||E;return Y.cfg&&(Y.cfg===E||Y.cfg[pe]===Y)?Y[Od](k):(kp(z,su+fn(E)),Ap(E,null,z)[Od](k))}var I_=null;function k_(){var E=Ws("Microsoft");return E&&(I_=E.ApplicationInsights),I_}function lw(E){var k=I_;return!k&&E.disableDbgExt!==!0&&(k=I_||k_()),k?k.ChromeDbgExt:null}var Fm,hy="warnToConsole",A_="AI (Internal): ",L_="AI: ",qm="AITR_",Lp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},dw=(Fm={},Fm[0]=null,Fm[1]="errorToConsole",Fm[2]=hy,Fm[3]="debugToConsole",Fm);function N_(E){return E?'"'+E[sa](/\"/g,ms)+'"':ms}function Np(E,k){var z=Fd();if(z){var Y="log";z[E]&&(Y=E),xe(z[Y])&&z[Y](k)}}var py=function(){function E(k,z,Y,ve){Y===void 0&&(Y=!1);var We=this;We[Tf]=k,We[oa]=(Y?L_:A_)+k;var Ze=ms;Kl()&&(Ze=kc().stringify(ve));var ct=(z?" message:"+N_(z):ms)+(ve?" props:"+N_(Ze):ms);We[oa]+=ct}return E.dataType="MessageData",E}();function Ud(E,k){return(E||{})[Cs]||new Xi(k)}var Xi=function(){function E(k){this.identifier="DiagnosticLogger",this.queue=[];var z=0,Y={},ve,We,Ze,ct,Dt;Gl(E,this,function(Kt){Dt=jn(k||{}),Kt.consoleLoggingLevel=function(){return ve},Kt[Su]=function(Qr,Zn,br,Si,$n){$n===void 0&&($n=!1);var Rn=new py(Zn,br,$n,Si);if(ct)throw fn(Rn);var is=dw[Qr]||hy;if(Me(Rn[oa]))Qn("throw"+(Qr===1?"Critical":"Warning"),Rn);else{if($n){var pc=+Rn[Tf];!Y[pc]&&ve>=Qr&&(Kt[is](Rn[oa]),Y[pc]=!0)}else ve>=Qr&&Kt[is](Rn[oa]);Ar(Qr,Rn)}},Kt.debugToConsole=function(Qr){Np("debug",Qr),Qn("warning",Qr)},Kt[Ks]=function(Qr){Np("warn",Qr),Qn("warning",Qr)},Kt.errorToConsole=function(Qr){Np("error",Qr),Qn("error",Qr)},Kt.resetInternalMessageCount=function(){z=0,Y={}},Kt[P_]=Ar,Kt[Pc]=function(Qr){Dt&&Dt.rm(),Dt=null};function Ar(Qr,Zn){if(!In()){var br=!0,Si=qm+Zn[Tf];if(Y[Si]?br=!1:Y[Si]=!0,br&&(Qr<=We&&(Kt.queue[nu](Zn),z++,Qn(Qr===1?"error":"warn",Zn)),z===Ze)){var $n="Internal events throttle limit per PageView reached for this app.",Rn=new py(23,$n,!1);Kt.queue[nu](Rn),Qr===1?Kt.errorToConsole($n):Kt[Ks]($n)}}}function jn(Qr){return O_(Ap(Qr,Lp,Kt).cfg,function(Zn){var br=Zn.cfg;ve=br[Dp],We=br.loggingLevelTelemetry,Ze=br.maxMessageLimit,ct=br.enableDebug})}function In(){return z>=Ze}function Qn(Qr,Zn){var br=lw(k||{});br&&br[gl]&&br[gl](Qr,Zn)}})}return E.__ieDyn=1,E}();function jm(E){return E||new Xi}function lo(E,k,z,Y,ve,We){We===void 0&&(We=!1),jm(E)[Su](k,z,Y,ve,We)}function M_(){for(var E=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],k=ms,z,Y=0;Y<4;Y++)z=cu(),k+=E[z&15]+E[z>>4&15]+E[z>>8&15]+E[z>>12&15]+E[z>>16&15]+E[z>>20&15]+E[z>>24&15]+E[z>>28&15];var ve=E[8+(cu()&3)|0];return Jt(k,0,8)+Jt(k,9,4)+"4"+Jt(k,13,3)+ve+Jt(k,16,3)+Jt(k,19,12)}var my=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Hd="00",Mp="ff",uu="00000000000000000000000000000000",Bd="0000000000000000",Wd=1;function Ns(E,k,z){return E&&E[co]===k&&E!==z?!!E.match(/^[\da-f]*$/i):!1}function fi(E,k,z){return Ns(E,k)?E:z}function Ou(E){(isNaN(E)||E<0||E>255)&&(E=1);for(var k=E.toString(16);k[co]<2;)k="0"+k;return k}function ns(E,k,z,Y){var ve;return ve={},ve[_o]=Ns(Y,2,Mp)?Y:Hd,ve[Wu]=zm(E)?E:M_(),ve[kd]=Fp(k)?k:kt(M_(),16),ve.traceFlags=z>=0&&z<=255?z:1,ve}function $d(E,k){var z;if(!E||($e(E)&&(E=E[0]||""),!E||!be(E)||E[co]>8192))return null;if(E.indexOf(",")!==-1){var Y=E[dy](",");E=Y[k>0&&Y[co]>k?k:0]}var ve=my.exec(ia(E));return!ve||ve[1]===Mp||ve[2]===uu||ve[3]===Bd?null:(z={version:(ve[1]||ms)[Gs](),traceId:(ve[2]||ms)[Gs](),spanId:(ve[3]||ms)[Gs]()},z[Ho]=parseInt(ve[4],16),z)}function zm(E){return Ns(E,32,uu)}function Fp(E){return Ns(E,16,Bd)}function qp(E){return!(!E||!Ns(E[_o],2,Mp)||!Ns(E[Wu],32,uu)||!Ns(E[kd],16,Bd)||!Ns(Ou(E[Ho]),2))}function If(E){return qp(E)?(E[Ho]&Wd)===Wd:!1}function F_(E){if(E){var k=Ou(E[Ho]);Ns(k,2)||(k="01");var z=E[_o]||Hd;return z!=="00"&&z!=="ff"&&(z=Hd),"".concat(z.toLowerCase(),"-").concat(fi(E.traceId,32,uu).toLowerCase(),"-").concat(fi(E.spanId,16,Bd).toLowerCase(),"-").concat(k.toLowerCase())}return""}function Um(E){var k="traceparent",z=$d(Fn(k),E);return z||(z=$d(au(k),E)),z}var Hm="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Aa="sampleRate",Vd="ProcessLegacy",Ac="http.method",Iu="https://dc.services.visualstudio.com",Bm="/v2/track",Sl="not_specified",Wm="iKey",Jg=Xn({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),jp="split",En="length",Gd="toLowerCase",Ms="ingestionendpoint",kf="toString",gy="removeItem",cc="name",Kd="message",zp="count",vy="preTriggerDate",Cl="disabled",Xg="interval",$m="daysOfMonth",yy="date",Qg="getUTCDate",Yd="stringify",Af="pathname",Vm="correlationHeaderExcludePatterns",Up="extensionConfig",Zg="exceptions",lu="parsedStack",uc="properties",Lf="measurements",Qu="sizeInBytes",ku="typeName",jh="severityLevel",Jd="problemGroup",ev="isManual",Hp="CreateFromInterface",Bp="assembly",zh="fileName",Xd="hasFullStack",Gm="level",Wp="method",Km="line",Nf="duration",Uh="receivedResponse";function Ym(E,k,z){var Y=k[En],ve=fw(E,k);if(ve[En]!==Y){for(var We=0,Ze=ve;z[Ze]!==void 0;)We++,Ze=rr(ve,0,147)+Lc(We);ve=Ze}return ve}function fw(E,k){var z;return k&&(k=ia(An(k)),k[En]>150&&(z=rr(k,0,150),lo(E,2,57,"name is too long.  It has been truncated to 150 characters.",{name:k},!0))),z||k}function lc(E,k,z){z===void 0&&(z=1024);var Y;return k&&(z=z||1024,k=ia(An(k)),k[En]>z&&(Y=rr(k,0,z),lo(E,2,61,"string value is too long. It has been truncated to "+z+" characters.",{value:k},!0))),Y||k}function _y(E,k){return rv(E,k,2048,66)}function Qd(E,k){var z;return k&&k[En]>32768&&(z=rr(k,0,32768),lo(E,2,56,"message is too long, it has been truncated to 32768 characters.",{message:k},!0)),z||k}function tv(E,k){var z;if(k){var Y=""+k;Y[En]>32768&&(z=rr(Y,0,32768),lo(E,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:k},!0))}return z||k}function Zd(E,k){if(k){var z={};Lr(k,function(Y,ve){if(Ne(ve)&&Kl())try{ve=kc()[Yd](ve)}catch(We){lo(E,2,49,"custom property is not valid",{exception:We},!0)}ve=lc(E,ve,8192),Y=Ym(E,Y,z),z[Y]=ve}),k=z}return k}function Mf(E,k){if(k){var z={};Lr(k,function(Y,ve){Y=Ym(E,Y,z),z[Y]=ve}),k=z}return k}function Jm(E,k){return k&&rv(E,k,128,69)[kf]()}function rv(E,k,z,Y){var ve;return k&&(k=ia(An(k)),k[En]>z&&(ve=rr(k,0,z),lo(E,2,Y,"input is too long, it has been truncated to "+z+" characters.",{data:k},!0))),ve||k}function Lc(E){var k="00"+E;return Jt(k,k[En]-3)}var Tl=na()||{},nv=0,by=[null,null,null,null,null];function ef(E){var k=nv,z=by,Y=z[k];return Tl.createElement?z[k]||(Y=z[k]=Tl.createElement("a")):Y={host:xC(E,!0)},Y.href=E,k++,k>=z[En]&&(k=0),nv=k,Y}function $p(E){var k,z=ef(E);return z&&(k=z.href),k}function Hh(E){var k,z=ef(E);return z&&(k=z[Af]),k}function hw(E,k){return E?E.toUpperCase()+" "+k:k}function xC(E,k){var z=tf(E,k)||"";if(z){var Y=z.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[En]>3&&be(Y[2])&&Y[2][En]>0)return Y[2]+(Y[3]||"")}return z}function tf(E,k){var z=null;if(E){var Y=E.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[En]>2&&be(Y[2])&&Y[2][En]>0&&(z=Y[2]||"",k&&Y[En]>2)){var ve=(Y[1]||"")[Gd](),We=Y[3]||"";(ve==="http"&&We===":80"||ve==="https"&&We===":443")&&(We=""),z+=We}}return z}var wy=[Iu+Bm,"https://breeze.aimon.applicationinsights.io"+Bm,"https://dc-int.services.visualstudio.com"+Bm],Sy="cid-v1:";function Cy(E){return Cn(wy,E[Gd]())!==-1}function iv(E){Sy=E}function UD(){return Sy}function ov(E,k,z){if(!k||E&&E.disableCorrelationHeaders)return!1;if(E&&E[Vm]){for(var Y=0;Y<E.correlationHeaderExcludePatterns[En];Y++)if(E[Vm][Y].test(k))return!1}var ve=ef(k).host[Gd]();if(ve&&(Pa(ve,":443")!==-1||Pa(ve,":80")!==-1)&&(ve=(tf(k,!0)||"")[Gd]()),(!E||!E.enableCorsCorrelation)&&ve&&ve!==z)return!1;var We=E&&E.correlationHeaderDomains;if(We){var Ze;if(Ln(We,function(Kt){var Ar=new RegExp(Kt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ze=Ze||Ar.test(ve)}),!Ze)return!1}var ct=E&&E.correlationHeaderExcludedDomains;if(!ct||ct[En]===0)return!0;for(var Y=0;Y<ct[En];Y++){var Dt=new RegExp(ct[Y].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Dt.test(ve))return!1}return ve&&ve[En]>0}function HD(E){if(E){var k=Ql(E,Jg[1]);if(k&&k!==Sy)return k}}function Ql(E,k){if(E)for(var z=E[jp](","),Y=0;Y<z[En];++Y){var ve=z[Y][jp]("=");if(ve[En]===2&&ve[0]===k)return ve[1]}}function Bh(E,k,z,Y){var ve,We=Y,Ze=Y;if(k&&k[En]>0){var ct=ef(k);if(ve=ct.host,!We)if(ct[Af]!=null){var Dt=ct.pathname[En]===0?"/":ct[Af];Dt.charAt(0)!=="/"&&(Dt="/"+Dt),Ze=ct[Af],We=lc(E,z?z+" "+Dt:Dt)}else We=lc(E,k)}else ve=Y,We=Y;return{target:ve,name:We,data:Ze}}function Xm(){var E=Vs();if(E&&E.now&&E.timing){var k=E.now()+E.timing.navigationStart;if(k>0)return k}return ma()}function q_(E,k){var z=null;return E!==0&&k!==0&&!ce(E)&&!ce(k)&&(z=k-E),z}function Qm(E,k){var z=E||{};return{getName:function(){return z[cc]},setName:function(Y){k&&k.setName(Y),z[cc]=Y},getTraceId:function(){return z.traceID},setTraceId:function(Y){k&&k.setTraceId(Y),zm(Y)&&(z.traceID=Y)},getSpanId:function(){return z.parentID},setSpanId:function(Y){k&&k.setSpanId(Y),Fp(Y)&&(z.parentID=Y)},getTraceFlags:function(){return z.traceFlags},setTraceFlags:function(Y){k&&k.setTraceFlags(Y),z.traceFlags=Y}}}var Zl=zl({LocalStorage:0,SessionStorage:1}),Dl=zl({AI:0,AI_AND_W3C:1,W3C:2}),Ff=void 0,qf=void 0,Ty="";function Vp(){return Vh()?La(Zl.LocalStorage):null}function La(E){try{if(ce(es()))return null;var k=new Date()[kf](),z=Ws(E===Zl.LocalStorage?"localStorage":"sessionStorage"),Y=Ty+k;z.setItem(Y,k);var ve=z.getItem(Y)!==k;if(z[gy](Y),!ve)return z}catch{}return null}function Wh(){return ed()?La(Zl.SessionStorage):null}function $h(){Ff=!1,qf=!1}function j_(E){Ty=E||""}function OC(){Ff=Vh(!0),qf=ed(!0)}function Vh(E){return(E||Ff===void 0)&&(Ff=!!La(Zl.LocalStorage)),Ff}function IC(E,k){var z=Vp();if(z!==null)try{return z.getItem(k)}catch(Y){Ff=!1,lo(E,2,1,"Browser failed read of local storage. "+rs(Y),{exception:fn(Y)})}return null}function Zm(E,k,z){var Y=Vp();if(Y!==null)try{return Y.setItem(k,z),!0}catch(ve){Ff=!1,lo(E,2,3,"Browser failed write to local storage. "+rs(ve),{exception:fn(ve)})}return!1}function Gh(E,k){var z=Vp();if(z!==null)try{return z[gy](k),!0}catch(Y){Ff=!1,lo(E,2,5,"Browser failed removal of local storage item. "+rs(Y),{exception:fn(Y)})}return!1}function ed(E){return(E||qf===void 0)&&(qf=!!La(Zl.SessionStorage)),qf}function sv(){var E=[];return ed()&&Lr(Ws("sessionStorage"),function(k){E.push(k)}),E}function Gp(E,k){var z=Wh();if(z!==null)try{return z.getItem(k)}catch(Y){qf=!1,lo(E,2,2,"Browser failed read of session storage. "+rs(Y),{exception:fn(Y)})}return null}function eg(E,k,z){var Y=Wh();if(Y!==null)try{return Y.setItem(k,z),!0}catch(ve){qf=!1,lo(E,2,4,"Browser failed write to session storage. "+rs(ve),{exception:fn(ve)})}return!1}function av(E,k){var z=Wh();if(z!==null)try{return z[gy](k),!0}catch(Y){qf=!1,lo(E,2,6,"Browser failed removal of session storage item. "+rs(Y),{exception:fn(Y)})}return!1}var pw="appInsightsThrottle",BD=function(){function E(k,z){var Y=this,ve,We,Ze,ct,Dt,Kt,Ar,jn=!1,In=!1;Qr(),Y._getDbgPlgTargets=function(){return[Ar]},Y.getConfig=function(){return Ze},Y.canThrottle=function(or){var un=Yh(or),hi=Zn(or);return $n(hi,ve,un)},Y.isTriggered=function(or){return Oy(or)},Y.isReady=function(){return jn},Y.flush=function(or){try{var un=Iy(or);if(un&&un[En]>0){var hi=un.slice(0);return Ar[or]=[],Ln(hi,function(os){Qn(os.msgID,os[Kd],os.severity,!1)}),!0}}catch{}return!1},Y.flushAll=function(){try{if(Ar){var or=!0;return Lr(Ar,function(un){var hi=Y.flush(parseInt(un));or=or&&hi}),or}}catch{}return!1},Y.onReadyState=function(or,un){return un===void 0&&(un=!0),jn=ce(or)?!0:or,jn&&un?Y.flushAll():null},Y.sendMessage=function(or,un,hi){return Qn(or,un,hi,!0)};function Qn(or,un,hi,os){if(jn){var Es=cd(or);if(!Es)return;var Rs=Zn(or),Fs=Yh(or),lg=$n(Rs,ve,Fs),Jp=!1,Xp=0,Cw=Oy(or);try{lg&&!Cw?(Xp=Math.min(Rs.limit.maxSendNumber,Fs[zp]+1),Fs[zp]=0,Jp=!0,Dt[or]=!0,Fs[vy]=new Date):(Dt[or]=lg,Fs[zp]+=1);var dg=Rn(or);pv(We,dg,Fs);for(var Jh=0;Jh<Xp;Jh++)xy(or,We,un,hi)}catch{}return{isThrottled:Jp,throttleNum:Xp}}else if(os){var ky=Iy(or);ky.push({msgID:or,message:un,severity:hi})}return null}function Qr(){We=Ud(k),Dt={},ct={},Ar={},Ze={},br(109),Kt=xp(z)?z:"",k.addUnloadHook(O_(k.config,function(or){var un=or.cfg;ve=Vh();var hi=un.throttleMgrCfg||{};Lr(hi,function(os,Es){br(parseInt(os),Es)})}))}function Zn(or){return Ze[or]||Ze[109]}function br(or,un){var hi,os;try{var Es=un||{},Rs={};Rs[Cl]=!!Es[Cl];var Fs=Es[Xg]||{};In=Fs?.daysOfMonth&&Fs?.daysOfMonth[En]>0,Rs[Xg]=Si(Fs);var lg={samplingRate:((hi=Es.limit)===null||hi===void 0?void 0:hi.samplingRate)||100,maxSendNumber:((os=Es.limit)===null||os===void 0?void 0:os.maxSendNumber)||1};Rs.limit=lg,Ze[or]=Rs}catch{}}function Si(or){or=or||{};var un=or?.monthInterval,hi=or?.dayInterval;return ce(un)&&ce(hi)&&(or.monthInterval=3,In||(or[$m]=[28],In=!0)),or={monthInterval:or?.monthInterval,dayInterval:or?.dayInterval,daysOfMonth:or?.daysOfMonth},or}function $n(or,un,hi){if(or&&!or[Cl]&&un&&xp(hi)){var os=Ma(),Es=hi[yy],Rs=or[Xg],Fs=1;if(Rs?.monthInterval){var lg=(os.getUTCFullYear()-Es.getUTCFullYear())*12+os.getUTCMonth()-Es.getUTCMonth();Fs=ug(Rs.monthInterval,0,lg)}var Jp=1;if(In)Jp=Cn(Rs[$m],os[Qg]());else if(Rs?.dayInterval){var Xp=Math.floor((os.getTime()-Es.getTime())/864e5);Jp=ug(Rs.dayInterval,0,Xp)}return Fs>=0&&Jp>=0}return!1}function Rn(or,un){var hi=xp(un)?un:"";return or?pw+hi+"-"+or:null}function is(or){try{if(or){var un=new Date;return or.getUTCFullYear()===un.getUTCFullYear()&&or.getUTCMonth()===un.getUTCMonth()&&or[Qg]()===un[Qg]()}}catch{}return!1}function pc(or,un,hi){try{var os={date:Ma(),count:0};if(or){var Es=JSON.parse(or),Rs={date:Ma(Es[yy])||os[yy],count:Es[zp]||os[zp],preTriggerDate:Es.preTriggerDate?Ma(Es[vy]):void 0};return Rs}else return pv(un,hi,os),os}catch{}return null}function Ma(or){try{if(or){var un=new Date(or);if(!isNaN(un.getDate()))return un}else return new Date}catch{}return null}function pv(or,un,hi){try{return Zm(or,un,ia(JSON[Yd](hi)))}catch{}return!1}function ug(or,un,hi){return or<=0?1:hi>=un&&(hi-un)%or==0?Math.floor((hi-un)/or)+1:-1}function xy(or,un,hi,os){lo(un,os||1,or,hi)}function cd(or){try{var un=Zn(or);return Ds(1e6)<=un.limit.samplingRate}catch{}return!1}function Yh(or){try{var un=ct[or];if(!un){var hi=Rn(or,Kt);un=pc(IC(We,hi),We,hi),ct[or]=un}return ct[or]}catch{}return null}function Oy(or){var un=Dt[or];if(ce(un)){un=!1;var hi=Yh(or);hi&&(un=is(hi[vy])),Dt[or]=un}return Dt[or]}function Iy(or){return Ar=Ar||{},ce(Ar[or])&&(Ar[or]=[]),Ar[or]}}return E}(),tg=";",kC="=";function dc(E){if(!E)return{};var k=E[jp](tg),z=Ro(k,function(ve,We){var Ze=We[jp](kC);if(Ze[En]===2){var ct=Ze[0][Gd](),Dt=Ze[1];ve[ct]=Dt}return ve},{});if(On(z)[En]>0){if(z.endpointsuffix){var Y=z.location?z.location+".":"";z[Ms]=z[Ms]||"https://"+Y+"dc."+z.endpointsuffix}z[Ms]=z[Ms]||Iu,wu(z[Ms],"/")&&(z[Ms]=z[Ms].slice(0,-1))}return z}var rg={parse:dc},ng=function(){function E(k,z,Y){var ve=this,We=this;We.ver=1,We.sampleRate=100,We.tags={},We[cc]=lc(k,Y)||Sl,We.data=z,We.time=zi(new Date),We.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ve.sampleRate===100?4:1},tags:1,data:1}}return E}(),AC=function(){function E(k,z,Y,ve){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var We=this;We.ver=2,We[cc]=lc(k,z)||Sl,We[uc]=Zd(k,Y),We[Lf]=Mf(k,ve)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.Event",E.dataType="EventData",E}(),WD="<no_method>",td="error",fc="stack",rd="stackDetails",ig="errorSrc",cv="message",z_="description";function bn(E,k){var z=E;return z&&!be(z)&&(JSON&&JSON[Yd]?(z=JSON[Yd](E),k&&(!z||z==="{}")&&(xe(E[kf])?z=E[kf]():z=""+E)):z=""+E+" - (Missing JSON.stringify)"),z||""}function Dy(E,k){var z=E;return E&&(z&&!be(z)&&(z=E[cv]||E[z_]||z),z&&!be(z)&&(z=bn(z,!0)),E.filename&&(z=z+" @"+(E.filename||"")+":"+(E.lineno||"?")+":"+(E.colno||"?"))),k&&k!=="String"&&k!=="Object"&&k!=="Error"&&Pa(z||"",k)===-1&&(z=k+": "+z),z||""}function Kp(E){try{if(Ne(E))return"hasFullStack"in E&&"typeName"in E}catch{}return!1}function jf(E){try{if(Ne(E))return"ver"in E&&"exceptions"in E&&"properties"in E}catch{}return!1}function og(E){return E&&E.src&&be(E.src)&&E.obj&&$e(E.obj)}function Na(E){var k=E||"";be(k)||(be(k[fc])?k=k[fc]:k=""+k);var z=k[jp](`
`);return{src:k,obj:z}}function U_(E){for(var k=[],z=E[jp](`
`),Y=0;Y<z[En];Y++){var ve=z[Y];z[Y+1]&&(ve+="@"+z[Y+1],Y++),k.push(ve)}return{src:E,obj:k}}function uv(E){var k=null;if(E)try{if(E[fc])k=Na(E[fc]);else if(E[td]&&E[td][fc])k=Na(E[td][fc]);else if(E.exception&&E.exception[fc])k=Na(E.exception[fc]);else if(og(E))k=E;else if(og(E[rd]))k=E[rd];else if(Eo()&&Eo().opera&&E[cv])k=U_(E[Kd]);else if(E.reason&&E.reason[fc])k=Na(E.reason[fc]);else if(be(E))k=Na(E);else{var z=E[cv]||E[z_]||"";be(E[ig])&&(z&&(z+=`
`),z+=" from "+E[ig]),z&&(k=Na(z))}}catch(Y){k=Na(Y)}return k||{src:"",obj:null}}function H_(E){var k="";return E&&(E.obj?Ln(E.obj,function(z){k+=z+`
`}):k=E.src||""),k}function nd(E){var k,z=E.obj;if(z&&z[En]>0){k=[];var Y=0,ve=0;Ln(z,function(Qr){var Zn=Qr[kf]();if(Au.regex.test(Zn)){var br=new Au(Zn,Y++);ve+=br[Qu],k.push(br)}});var We=32*1024;if(ve>We)for(var Ze=0,ct=k[En]-1,Dt=0,Kt=Ze,Ar=ct;Ze<ct;){var jn=k[Ze][Qu],In=k[ct][Qu];if(Dt+=jn+In,Dt>We){var Qn=Ar-Kt+1;k.splice(Kt,Qn);break}Kt=Ze,Ar=ct,Ze++,ct--}}return k}function sg(E){var k="";if(E&&(k=E.typeName||E[cc]||"",!k))try{var z=/function (.{1,200})\(/,Y=z.exec(E.constructor[kf]());k=Y&&Y[En]>1?Y[1]:""}catch{}return k}function Kh(E){if(E)try{if(!be(E)){var k=sg(E),z=bn(E,!1);return(!z||z==="{}")&&(E[td]&&(E=E[td],k=sg(E)),z=bn(E,!0)),Pa(z,k)!==0&&k!=="String"?k+":"+z:z}}catch{}return""+(E||"")}var lv=function(){function E(k,z,Y,ve,We,Ze){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var ct=this;ct.ver=2,jf(z)?(ct[Zg]=z[Zg]||[],ct[uc]=z[uc],ct[Lf]=z[Lf],z[jh]&&(ct[jh]=z[jh]),z.id&&(ct.id=z.id),z[Jd]&&(ct[Jd]=z[Jd]),ce(z[ev])||(ct[ev]=z[ev])):(Y||(Y={}),ct[Zg]=[new ag(k,z,Y)],ct[uc]=Zd(k,Y),ct[Lf]=Mf(k,ve),We&&(ct[jh]=We),Ze&&(ct.id=Ze))}return E.CreateAutoException=function(k,z,Y,ve,We,Ze,ct,Dt){var Kt,Ar=sg(We||Ze||k);return Kt={},Kt[Kd]=Dy(k,Ar),Kt.url=z,Kt.lineNumber=Y,Kt.columnNumber=ve,Kt.error=Kh(We||Ze||k),Kt.evt=Kh(Ze||k),Kt[ku]=Ar,Kt.stackDetails=uv(ct||We||Ze),Kt.errorSrc=Dt,Kt},E.CreateFromInterface=function(k,z,Y,ve){var We=z[Zg]&&Mn(z[Zg],function(ct){return ag[Hp](k,ct)}),Ze=new E(k,Tu(Tu({},z),{exceptions:We}),Y,ve);return Ze},E.prototype.toInterface=function(){var k,z=this,Y=z.exceptions,ve=z.properties,We=z.measurements,Ze=z.severityLevel,ct=z.problemGroup,Dt=z.id,Kt=z.isManual,Ar=Y instanceof Array&&Mn(Y,function(jn){return jn.toInterface()})||void 0;return k={ver:"4.0"},k[Zg]=Ar,k.severityLevel=Ze,k.properties=ve,k.measurements=We,k.problemGroup=ct,k.id=Dt,k.isManual=Kt,k},E.CreateSimpleException=function(k,z,Y,ve,We,Ze){var ct;return{exceptions:[(ct={},ct[Xd]=!0,ct.message=k,ct.stack=We,ct.typeName=z,ct)]}},E.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",E.dataType="ExceptionData",E.formatError=Kh,E}(),ag=function(){function E(k,z,Y){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ve=this;if(Kp(z))ve[ku]=z[ku],ve[Kd]=z[Kd],ve[fc]=z[fc],ve[lu]=z[lu]||[],ve[Xd]=z[Xd];else{var We=z,Ze=We&&We.evt;ze(We)||(We=We[td]||Ze||We),ve[ku]=lc(k,sg(We))||Sl,ve[Kd]=Qd(k,Dy(z||We,ve[ku]))||Sl;var ct=z[rd]||uv(z);ve[lu]=nd(ct),$e(ve[lu])&&Mn(ve[lu],function(Dt){Dt[Bp]=lc(k,Dt[Bp]),Dt[zh]=lc(k,Dt[zh])}),ve[fc]=tv(k,H_(ct)),ve.hasFullStack=$e(ve.parsedStack)&&ve.parsedStack[En]>0,Y&&(Y[ku]=Y[ku]||ve[ku])}}return E.prototype.toInterface=function(){var k,z=this,Y=z[lu]instanceof Array&&Mn(z[lu],function(We){return We.toInterface()}),ve=(k={id:z.id,outerId:z.outerId,typeName:z[ku],message:z[Kd],hasFullStack:z[Xd],stack:z[fc]},k[lu]=Y||void 0,k);return ve},E.CreateFromInterface=function(k,z){var Y=z[lu]instanceof Array&&Mn(z[lu],function(We){return Au[Hp](We)})||z[lu],ve=new E(k,Tu(Tu({},z),{parsedStack:Y}));return ve},E}(),Au=function(){function E(k,z){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Y=this;if(Y[Qu]=0,typeof k=="string"){var ve=k;Y[Gm]=z,Y[Wp]=WD,Y[Bp]=ia(ve),Y[zh]="",Y[Km]=0;var We=ve.match(E.regex);We&&We[En]>=5&&(Y[Wp]=ia(We[2])||Y[Wp],Y[zh]=ia(We[4]),Y[Km]=parseInt(We[5])||0)}else Y[Gm]=k[Gm],Y[Wp]=k[Wp],Y[Bp]=k[Bp],Y[zh]=k[zh],Y[Km]=k[Km],Y[Qu]=0;Y.sizeInBytes+=Y.method[En],Y.sizeInBytes+=Y.fileName[En],Y.sizeInBytes+=Y.assembly[En],Y[Qu]+=E.baseSize,Y.sizeInBytes+=Y.level.toString()[En],Y.sizeInBytes+=Y.line.toString()[En]}return E.CreateFromInterface=function(k){return new E(k,null)},E.prototype.toInterface=function(){var k=this;return{level:k[Gm],method:k[Wp],assembly:k[Bp],fileName:k[zh],line:k[Km]}},E.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,E.baseSize=58,E}(),rf=function(){function E(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return E}(),mw=function(){function E(k,z,Y,ve,We,Ze,ct,Dt,Kt){this.aiDataContract={ver:1,metrics:1,properties:0};var Ar=this;Ar.ver=2;var jn=new rf;jn[zp]=ve>0?ve:void 0,jn.max=isNaN(Ze)||Ze===null?void 0:Ze,jn.min=isNaN(We)||We===null?void 0:We,jn[cc]=lc(k,z)||Sl,jn.value=Y,jn.stdDev=isNaN(ct)||ct===null?void 0:ct,Ar.metrics=[jn],Ar[uc]=Zd(k,Dt),Ar[Lf]=Mf(k,Kt)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",E.dataType="MetricData",E}(),id="";function Ey(E,k){return k===void 0&&(k=!1),E==null?k:E.toString()[Gd]()==="true"}function od(E){(isNaN(E)||E<0)&&(E=0),E=Math.round(E);var k=id+E%1e3,z=id+Math.floor(E/1e3)%60,Y=id+Math.floor(E/(1e3*60))%60,ve=id+Math.floor(E/(1e3*60*60))%24,We=Math.floor(E/(1e3*60*60*24));return k=k[En]===1?"00"+k:k[En]===2?"0"+k:k,z=z[En]<2?"0"+z:z,Y=Y[En]<2?"0"+Y:Y,ve=ve[En]<2?"0"+ve:ve,(We>0?We+".":id)+ve+":"+Y+":"+z+"."+k}function gw(E,k){var z=null;return Ln(E,function(Y){if(Y.identifier===k)return z=Y,-1}),z}function Ry(E,k,z,Y,ve){return!ve&&be(E)&&(E==="Script error."||E==="Script error")}var sd=function(){function E(k,z,Y,ve,We,Ze,ct){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Dt=this;Dt.ver=2,Dt.id=Jm(k,ct),Dt.url=_y(k,Y),Dt[cc]=lc(k,z)||Sl,isNaN(ve)||(Dt[Nf]=od(ve)),Dt[uc]=Zd(k,We),Dt[Lf]=Mf(k,Ze)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",E.dataType="PageviewData",E}(),vw=function(){function E(k,z,Y,ve,We,Ze,ct,Dt,Kt,Ar,jn,In){Kt===void 0&&(Kt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Qn=this;Qn.ver=2,Qn.id=z,Qn[Nf]=od(We),Qn.success=Ze,Qn.resultCode=ct+"",Qn.type=lc(k,Kt);var Qr=Bh(k,Y,Dt,ve);Qn.data=_y(k,ve)||Qr.data,Qn.target=lc(k,Qr.target),Ar&&(Qn.target="".concat(Qn.target," | ").concat(Ar)),Qn[cc]=lc(k,Qr[cc]),Qn[uc]=Zd(k,jn),Qn[Lf]=Mf(k,In)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",E.dataType="RemoteDependencyData",E}(),yw=function(){function E(k,z,Y,ve,We){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ze=this;Ze.ver=2,z=z||Sl,Ze[Kd]=Qd(k,z),Ze[uc]=Zd(k,ve),Ze[Lf]=Mf(k,We),Y&&(Ze[jh]=Y)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.Message",E.dataType="MessageData",E}(),B_=function(){function E(k,z,Y,ve,We,Ze,ct){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Dt=this;Dt.ver=2,Dt.url=_y(k,Y),Dt[cc]=lc(k,z)||Sl,Dt[uc]=Zd(k,We),Dt[Lf]=Mf(k,Ze),ct&&(Dt.domProcessing=ct.domProcessing,Dt[Nf]=ct[Nf],Dt.networkConnect=ct.networkConnect,Dt.perfTotal=ct.perfTotal,Dt[Uh]=ct[Uh],Dt.sentRequest=ct.sentRequest)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",E.dataType="PageviewPerformanceData",E}(),zf=function(){function E(k,z){this.aiDataContract={baseType:1,baseData:1},this.baseType=k,this.baseData=z}return E}(),cg=zl({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),_w=function(){function E(){}return E.getConfig=function(k,z,Y,ve){ve===void 0&&(ve=!1);var We;return Y&&k[Up]&&k[Up][Y]&&!ce(k[Up][Y][z])?We=k[Up][Y][z]:We=k[z],ce(We)?ve:We},E}();function Uf(E){var k="ai."+E+".";return function(z){return k+z}}var hc=Uf("application"),Vo=Uf("device"),El=Uf("location"),dv=Uf("operation"),ad=Uf("session"),Hf=Uf("user"),Lu=Uf("cloud"),fv=Uf("internal"),Py=function(E){Ld(k,E);function k(){return E.call(this)||this}return k}(Xu({applicationVersion:hc("ver"),applicationBuild:hc("build"),applicationTypeId:hc("typeId"),applicationId:hc("applicationId"),applicationLayer:hc("layer"),deviceId:Vo("id"),deviceIp:Vo("ip"),deviceLanguage:Vo("language"),deviceLocale:Vo("locale"),deviceModel:Vo("model"),deviceFriendlyName:Vo("friendlyName"),deviceNetwork:Vo("network"),deviceNetworkName:Vo("networkName"),deviceOEMName:Vo("oemName"),deviceOS:Vo("os"),deviceOSVersion:Vo("osVersion"),deviceRoleInstance:Vo("roleInstance"),deviceRoleName:Vo("roleName"),deviceScreenResolution:Vo("screenResolution"),deviceType:Vo("type"),deviceMachineName:Vo("machineName"),deviceVMName:Vo("vmName"),deviceBrowser:Vo("browser"),deviceBrowserVersion:Vo("browserVersion"),locationIp:El("ip"),locationCountry:El("country"),locationProvince:El("province"),locationCity:El("city"),operationId:dv("id"),operationName:dv("name"),operationParentId:dv("parentId"),operationRootId:dv("rootId"),operationSyntheticSource:dv("syntheticSource"),operationCorrelationVector:dv("correlationVector"),sessionId:ad("id"),sessionIsFirst:ad("isFirst"),sessionIsNew:ad("isNew"),userAccountAcquisitionDate:Hf("accountAcquisitionDate"),userAccountId:Hf("accountId"),userAgent:Hf("userAgent"),userId:Hf("id"),userStoreRegion:Hf("storeRegion"),userAuthUserId:Hf("authUserId"),userAnonymousUserAcquisitionDate:Hf("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Hf("authUserAcquisitionDate"),cloudName:Lu("name"),cloudRole:Lu("role"),cloudRoleVer:Lu("roleVer"),cloudRoleInstance:Lu("roleInstance"),cloudEnvironment:Lu("environment"),cloudLocation:Lu("location"),cloudDeploymentUnit:Lu("deploymentUnit"),internalNodeName:fv("nodeName"),internalSdkVersion:fv("sdkVersion"),internalAgentVersion:fv("agentVersion"),internalSnippet:fv("snippet"),internalSdkSrc:fv("sdkSrc")}));function bw(E,k,z,Y,ve,We){var Ze;z=lc(Y,z)||Sl,(ce(E)||ce(k)||ce(z))&&cr("Input doesn't contain all required fields");var ct="";E[Wm]&&(ct=E[Wm],delete E[Wm]);var Dt=(Ze={},Ze[cc]=z,Ze.time=zi(new Date),Ze.iKey=ct,Ze.ext=We||{},Ze.tags=[],Ze.data={},Ze.baseType=k,Ze.baseData=E,Ze);return ce(ve)||Lr(ve,function(Kt,Ar){Dt.data[Kt]=Ar}),Dt}var W_=function(){function E(){}return E.create=bw,E}(),Yp={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},hv=new Py;function LC(E){var k=null;if(xe(Event))k=new Event(E);else{var z=na();z&&z.createEvent&&(k=z.createEvent("Event"),k.initEvent(E,!0,!0))}return k}var ww="AppInsightsPropertiesPlugin",Sw="AppInsightsChannelPlugin",NC="ApplicationInsightsAnalytics";r.AnalyticsPluginIdentifier=NC,r.BreezeChannelIdentifier=Sw,r.ConfigurationManager=_w,r.ConnectionStringParser=rg,r.ContextTagKeys=Py,r.CtxTagKeys=hv,r.DEFAULT_BREEZE_ENDPOINT=Iu,r.DEFAULT_BREEZE_PATH=Bm,r.Data=zf,r.DisabledPropertyName=Hm,r.DistributedTracingModes=Dl,r.Envelope=ng,r.Event=AC,r.Exception=lv,r.Extensions=Yp,r.HttpMethod=Ac,r.Metric=mw,r.PageView=sd,r.PageViewPerformance=B_,r.ProcessLegacy=Vd,r.PropertiesPluginIdentifier=ww,r.RemoteDependencyData=vw,r.RequestHeaders=Jg,r.SampleRate=Aa,r.SeverityLevel=cg,r.TelemetryItemCreator=W_,r.ThrottleMgr=BD,r.Trace=yw,r.correlationIdCanIncludeCorrelationHeader=ov,r.correlationIdGetCorrelationContext=HD,r.correlationIdGetCorrelationContextValue=Ql,r.correlationIdGetPrefix=UD,r.correlationIdSetPrefix=iv,r.createDistributedTraceContextFromTrace=Qm,r.createDomEvent=LC,r.createTelemetryItem=bw,r.createTraceParent=ns,r.dataSanitizeException=tv,r.dataSanitizeId=Jm,r.dataSanitizeInput=rv,r.dataSanitizeKey=fw,r.dataSanitizeKeyAndAddUniqueness=Ym,r.dataSanitizeMeasurements=Mf,r.dataSanitizeMessage=Qd,r.dataSanitizeProperties=Zd,r.dataSanitizeString=lc,r.dataSanitizeUrl=_y,r.dateTimeUtilsDuration=q_,r.dateTimeUtilsNow=Xm,r.dsPadNumber=Lc,r.findW3cTraceParent=Um,r.formatTraceParent=F_,r.getExtensionByName=gw,r.isBeaconApiSupported=uo,r.isCrossOriginError=Ry,r.isInternalApplicationInsightsEndpoint=Cy,r.isSampledFlag=If,r.isValidSpanId=Fp,r.isValidTraceId=zm,r.isValidTraceParent=qp,r.msToTimeSpan=od,r.parseConnectionString=dc,r.parseTraceParent=$d,r.strNotSpecified=Sl,r.stringToBoolOrDefault=Ey,r.urlGetAbsoluteUrl=$p,r.urlGetCompleteUrl=hw,r.urlGetPathName=Hh,r.urlParseFullHost=tf,r.urlParseHost=xC,r.urlParseUrl=ef,r.utlCanUseLocalStorage=Vh,r.utlCanUseSessionStorage=ed,r.utlDisableStorage=$h,r.utlEnableStorage=OC,r.utlGetLocalStorage=IC,r.utlGetSessionStorage=Gp,r.utlGetSessionStorageKeys=sv,r.utlRemoveSessionStorage=av,r.utlRemoveStorage=Gh,r.utlSetLocalStorage=Zm,r.utlSetSessionStorage=eg,r.utlSetStoragePrefix=j_})});var ASe=C((Mj,kSe)=>{(function(r,e){typeof Mj=="object"&&typeof kSe<"u"?e(Mj):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(Mj,function(r){"use strict";var e=void 0,t=null,n="",i="boolean",o="function",s="number",a="object",c="prototype",u="__proto__",l="string",d="undefined",f="constructor",p="Symbol",_="_polyfill",D="indexOf",x="length",N="done",A="value",U="name",ee="slice",he=Object,we=he[c],V=String,W=V[c],te=Math,De=Array,ae=De[c];function ue(h,y){var w=y;try{w=h()}catch{}return w}var qe=[l,s,i,d,"symbol","bigint"];function Me(h){return function(y){return typeof y===h}}function ce(h){var y="[object "+h+"]";return function(w){return!!(w&&Ce(w)===y)}}function Ce(h){return we.toString.call(h)}function be(h){return typeof h===d||h===d}function xe(h){return h===t||be(h)}function Ne(h){return h===t||!$e(h)}function $e(h){return!!h||h!==e}var Ct=function(h){return h!==a&&qe.indexOf(h)!==-1},ze=Me(l),st=Me(o);function at(h){return!h&&xe(h)?!1:!!h&&typeof h===a}var tt=De.isArray,fr=ce("Date"),Lr=Me(s),zr=Me(i),cr=ce("Error");function xt(h){return!!h&&st(h.then)}function hr(h){return!(!h||ue(function(){return!(h&&0+h)},!h))}var Nt=he.getOwnPropertyDescriptor;function on(h,y){return h&&we.hasOwnProperty.call(h,y)}var ln=he.hasOwn||On;function On(h,y){return on(h,y)||!!Nt(h,y)}function Or(h,y,w){if(h&&at(h)){for(var P in h)if(ln(h,P)&&y.call(w||h,P,h[P])===-1)break}}function Hn(h,y,w,P){var q={};return Or(h,function(G,re){q[G]=y?re:G,q[re]=w?re:G}),P(q)}function $r(h){throw new Error(h)}function dn(h){throw new TypeError(h)}var ii=he.freeze,Vr=function(h){return h},An=function(h){return h[u]||t},Pi=he.assign;function Gr(h){return(!at(h)||h===t)&&dn("objKeys called on non-object"),he.keys(h)}function Ji(h){return ii&&Or(h,function(y,w){(tt(w)||at(w))&&ii(w)}),oi(h)}var oi=ii||Vr,fn=he.getPrototypeOf||An;function Oe(h){return Hn(h,1,0,Ji)}function oe(h){return Hn(h,0,0,Ji)}function Q(h){var y={};return Or(h,function(w,P){y[w]=P[1],y[P[0]]=P[1]}),Ji(y)}function _e(h){return Q(h)}var Je=oe({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),ft=V,Yt="__tsUtils$gblCfg",rr;function Jt(){var h;return typeof globalThis!==d&&(h=globalThis),!h&&typeof self!==d&&(h=self),!h&&typeof window!==d&&(h=window),!h&&typeof global!==d&&(h=global),h}function $t(){if(!rr){var h=Jt()||{};rr=h[Yt]=h[Yt]||{}}return rr}function kt(h,y){var w=n;if(cr(h))w="{ stack: '"+h.stack+"', message: '"+h.message+"', name: '"+h.name+"'";else try{w=JSON.stringify(h,t,y?Lr(y)?y:4:e)}catch(P){w=" - "+kt(P,y)}return Ce(h)+": "+w}var K=ae[ee],Fe=function(h,y){dn("'"+ft(h)+"' not defined for "+kt(y))},Ht=function(h){return function(y){return y[h].apply(y,K.call(arguments,1))}},Dr=function(h,y){var w=y&&y[h];return function(P){var q=P&&P[h]||w;if(q)return q.apply(P,K.call(arguments,1));Fe(h,P)}},He=function(h,y,w){var P=y&&y[h];return function(q){var G=q&&q[h]||P;if(G||w){var re=arguments;return(G||w).apply(q,G?K.call(re,1):re)}Fe(h,q)}};function ne(h){return function(y){return y[h]}}var Pe=te.max,je=Dr(ee,W),fe=Dr("substring",W),S=He("substr",W,de);function de(h,y,w){return xe(h)&&dn("'polyStrSubstr called with invalid "+kt(h)),w<0?n:(y=y||0,y<0&&(y=Pe(y+h[x],0)),be(w)?je(h,y):je(h,y,y+w))}function Ye(h,y){return fe(h,0,y)}var Tr="_urid",Wr;function Xr(){if(!Wr){var h=$t();Wr=h.gblSym=h.gblSym||{k:{},s:{}}}return Wr}var qn={};function xi(h){var y={description:ft(h),toString:function(){return p+"("+h+")"}};return y[_]=!0,y}function As(h){var y=Xr();if(!ln(y.k,h)){var w=xi(h),P=Gr(y.s).length;w[Tr]=function(){return P+"_"+w.toString()},y.k[h]=w,y.s[w[Tr]()]=ft(h)}return y.k[h]}function Sn(h){var y,w=Je[h];return w&&(y=qn[w]=qn[w]||xi(p+"."+w)),y}var es={e:"enumerable",c:"configurable",v:A,w:"writable",g:"get",s:"set"};function Ws(h){var y={};if(y[es.c]=!0,y[es.e]=!0,h.l){y.get=function(){return h.l.v};var w=Nt(h.l,"v");w&&w.set&&(y.set=function(P){h.l.v=P})}return Or(h,function(P,q){y[es[P]]=be(q)?y[es[P]]:q}),y}var na=he.defineProperty;function Fo(h,y,w){return na(h,y,Ws(w))}var Eo,H=function(){Eo=$t(),H=t};function Ue(h){var y={};return H&&H(),y.b=Eo.lzy,na(y,"v",{configurable:!0,get:function(){var w=h();return Eo.lzy||(na(y,"v",{value:w}),y.b&&delete y.b),Eo.lzy&&y.b!==Eo.lzy&&(y.b=Eo.lzy),w}}),y}function vt(h,y){return Ue(function(){return ue(h,y)})}var Fr="window",so,Bi,M,Le,rt,zt=function(h){return vt(function(){return Cn(h)||e},e)},Ln=function(h){return(!so||h===!1||Eo&&Eo.lzy&&!so.b)&&(so=vt(Jt,t)),so.v},Cn=function(h,y){var w=!so||y===!1?Ln(y):so.v;return w&&w[h]?w[h]:h===Fr&&Bi?Bi.v:t},Mn=function(){return!!ao()},ao=function(){return(!M||Eo&&Eo.lzy&&!M.b)&&(M=zt("document")),M.v},ji=function(){return!!Ro()},Ro=function(){return(!Bi||Eo&&Eo.lzy&&!Bi.b)&&(Bi=zt(Fr)),Bi.v},$i=function(){return!!Jn()},Jn=function(){return(!Le||Eo&&Eo.lzy&&!Le.b)&&(Le=zt("navigator")),Le.v},_u=function(){return!rt&&(rt=vt(function(){return!!(process&&(process.versions||{}).node)},!1)),rt.v},ts,yo,pl;function Ni(h){return vt(function(){return ts.v?ts.v[h]:e},e)}function ec(){return!!tc()}function tc(){var h=!ts||Eo&&Eo.lzy&&!ts.b;return h&&(ts=zt(p)),(!yo||h)&&(yo=Ni("for")),(!pl||h)&&(pl=Ni("keyFor")),ts.v}function ma(h,y){var w=Je[h];return(!ts||Eo.lzy&&!ts.b)&&tc(),ts.v?ts.v[w||h]:y?e:Sn(h)}function ml(h,y){return(!ts||Eo.lzy&&!ts.b)&&tc(),ts.v?ts.v(h):y?t:xi(h)}function Rh(h){return(!yo||Eo.lzy&&!ts.b)&&tc(),(yo.v||As)(h)}function Rc(h){return!!h&&st(h.next)}function ia(h){return!Ne(h)&&st(h[ma(3)])}var bu;function Ph(h,y,w){if(h&&(Rc(h)||(!bu&&(bu=Ue(function(){return ma(3)})),h=h[bu.v]?h[bu.v]():null),Rc(h))){var P=void 0,q=void 0;try{for(var G=0;!(q=h.next())[N]&&y.call(w||h,q[A],G,h)!==-1;)G++}catch(re){P={e:re},h.throw&&(q=null,h.throw(P))}finally{try{q&&!q[N]&&h.return&&h.return(q)}finally{if(P)throw P.e}}}}var Uo=Ht("apply");function $s(h,y){return!be(y)&&h&&(tt(y)?Uo(h.push,h,y):Rc(y)||ia(y)?Ph(y,function(w){h.push(w)}):h.push(y)),h}function Dn(h,y,w){if(h)for(var P=h[x]>>>0,q=0;q<P&&!(q in h&&y.call(w||h,h[q],q,h)===-1);q++);}var Vs=Dr(D,ae),wu=Dr("map",ae),si=Dr(ee,ae),Pa=Ht("call"),ru=Dr("reduce",ae),xh=he.create,_f=xh||Cp;function Cp(h){if(!h)return{};var y=typeof h;if(y!==a&&y!==o)throw new TypeError("Prototype must be an Object or function: "+kt(h));function w(){}return w[c]=h,new w}var bf;function Tp(h,y){var w=he.setPrototypeOf||function(P,q){!bf&&(bf=Ue(function(){var G;return G={},G[u]=[],G instanceof Array})),bf.v?P[u]=q:Or(q,function(G,re){return P[G]=re})};return w(h,y)}var wf=function(h,y,w){Xn(y,h),y=Tp(y,w);function P(){this.constructor=y,Xn(this,h)}return y[c]=w===t?_f(w):(P[c]=w[c],new P),y},zl=function(h,y){try{y&&(h[U]=y)}catch{}},Xn=function(h,y){try{Fo(h,U,{v:y,c:!0,e:!1})}catch{}};function Gs(h,y,w){var P=w||Error,q=P[c][U],G=Error.captureStackTrace;return wf(h,function(){var re=this;try{zl(P,h);var le=Uo(P,re,si(arguments))||re;if(le!==re){var Ee=fn(re);Ee!==fn(le)&&Tp(le,Ee)}return G&&G(le,re[f]),y&&y(le,arguments),le}finally{zl(P,q)}},P)}function Ul(){return(Date.now||co)()}function co(){return new Date().getTime()}function Oh(h){return function(w){return xe(w)&&dn("strTrim called ["+kt(w)+"]"),w&&w.replace&&(w=w.replace(h,n)),w}}var Ih=Oh(/^\s+|(?=\s)\s+$/g),Ks=He("trim",W,Ih),Su,kh,Od;function Cs(h){if(!h||typeof h!==a)return!1;Od||(Od=ji()?Ro():!0);var y=!1;if(h!==Od){kh||(Su=Function[c].toString,kh=Pa(Su,he));try{var w=fn(h);y=!w,y||(on(w,f)&&(w=w[f]),y=w&&typeof w===o&&Su.call(w)===kh)}catch{}}return y}var Hl=function(h){return h.value&&oa(h),!0},nu=[_o,oa,Tf,Dp];function Lm(h,y,w,P){var q;return Dn(h,function(G){if(G.k===y)return q=G,-1}),q||(q={k:y,v:y},h.push(q),P(q)),q.v}function Id(h,y,w,P){var q=w.handler,G=w.path?P?w.path.concat(P):w.path:[],re={handler:w.handler,src:w.src,path:G},le=typeof y,Ee=!1,Ae=!1;y&&le===a?Ee=Cs(y):Ae=y===t||Ct(le);var Ke={type:le,isPrim:Ae,isPlain:Ee,value:y,result:y,path:G,origin:w.src,copy:function(bt,It){return Id(h,bt,It?re:w,It)},copyTo:function(bt,It){return Sf(h,bt,It,re)}};return Ke.isPrim?q&&Pa(q,w,Ke)?Ke.result:y:Lm(h,y,G,function(bt){Fo(Ke,"result",{g:function(){return bt.v},s:function(ut){bt.v=ut}});for(var It=0,yt=q;!Pa(yt||(It<nu.length?nu[It++]:Hl),w,Ke);)yt=t})}function Sf(h,y,w,P){if(!xe(w))for(var q in w)y[q]=Id(h,w[q],P,q);return y}function Cf(h,y,w){var P={handler:w,src:y,path:[]};return Sf([],h,y,P)}function Pc(h,y){var w={handler:y,src:h};return Id([],h,w)}function _o(h){var y=h.value;if(tt(y)){var w=h.result=[];return w.length=y.length,h.copyTo(w,y),!0}return!1}function Dp(h){var y=h.value;return fr(y)?(h.result=new Date(y.getTime()),!0):!1}function Tf(h){return h.type===o}function oa(h){var y=h.value;if(y&&h.isPlain){var w=h.result={};return h.copyTo(w,y),!0}return!1}function gl(h,y){return Dn(y,function(w){Cf(h,w)}),h}function Cu(h,y,w,P,q,G,re){return gl(Pc(h)||{},si(arguments))}var dy=ne(x),sa=He("endsWith",W,P_);function P_(h,y,w){ze(h)||dn("'"+kt(h)+"' is not a string");var P=ze(y)?y:ft(y),q=P[x],G=h[x],re=!be(w)&&w<G?w:G;return fe(h,re-q,re)===P}var Wu=Dr(D,W),kd="ref",Ho="un"+kd,Bl="hasRef",Ah="enabled";function Vg(h,y,w){var P,q=!0,G=h?y(t):t,re,le=function(){return q=!1,G&&G[Ho]&&G[Ho](),re},Ee=function(){return q=!0,G&&G[kd]&&G[kd](),re},Ae=function(){return G&&G[Bl]?G[Bl]():q},Ke=function(){return G=y(G),q||le(),re},bt=function(){G&&w(G),G=t},It=function(yt){!yt&&G&&bt(),yt&&!G&&Ke()};return re=(P={cancel:bt,refresh:Ke},P[Bl]=Ae,P[kd]=Ee,P[Ho]=le,P[Ah]=!1,P),na(re,Ah,{get:function(){return!!G},set:It}),{h:re,dn:function(){G=t}}}function Ad(h,y,w,P){var q=tt(w),G=q?w.length:0,re=(G>0?w[0]:q?e:w)||setTimeout,le=(G>1?w[1]:e)||clearTimeout,Ee=P[0];P[0]=function(){Ae.dn(),Uo(Ee,h,si(arguments))};var Ae=Vg(y,function(Ke){if(Ke){if(Ke.refresh)return Ke.refresh(),Ke;Uo(le,h,[Ke])}return Uo(re,h,P)},function(Ke){Uo(le,h,[Ke])});return Ae.h}function Lh(h,y){return Ad(this,!0,e,si(arguments))}function Ep(h,y){return Ad(this,!1,e,si(arguments))}var Wl,Rp="constructor",$u="prototype",Nh="function",Tu="_dynInstFuncs",Df="_isDynProxy",Ld="_dynClass",Ef="_dynCls$",Nd="_dynInstChk",Ys=Nd,xa="_dfOpts",Po="_unknown_",iu="__proto__",rc="_dyn"+iu,Gg="__dynProto$Gbl",Vu="_dynInstProto",Js="useBaseInst",$l="setInstFuncs",Pp=Object,Du=Pp.getPrototypeOf,vl=Pp.getOwnPropertyNames,Mh=Ln(),xc=Mh[Gg]||(Mh[Gg]={o:(Wl={},Wl[$l]=!0,Wl[Js]=!0,Wl),n:1e3});function Gu(h){return h&&(h===Pp[$u]||h===Array[$u])}function Ts(h){return Gu(h)||h===Function[$u]}function ou(h){var y;if(h){if(Du)return Du(h);var w=h[iu]||h[$u]||(h[Rp]?h[Rp][$u]:null);y=h[rc]||w,on(h,rc)||(delete h[Vu],y=h[rc]=h[Vu]||h[rc],h[Vu]=w)}return y}function Ku(h,y){var w=[];if(vl)w=vl(h);else for(var P in h)typeof P=="string"&&on(h,P)&&w.push(P);if(w&&w.length>0)for(var q=0;q<w.length;q++)y(w[q])}function Yu(h,y,w){return y!==Rp&&typeof h[y]===Nh&&(w||on(h,y))}function aa(h){dn("DynamicProto: "+h)}function Kg(h){var y={};return Ku(h,function(w){!y[w]&&Yu(h,w,!1)&&(y[w]=h[w])}),y}function nc(h,y){for(var w=h.length-1;w>=0;w--)if(h[w]===y)return!0;return!1}function yl(h,y,w,P){function q(Ee,Ae,Ke){var bt=Ae[Ke];if(bt[Df]&&P){var It=Ee[Tu]||{};It[Ys]!==!1&&(bt=(It[Ae[Ld]]||{})[Ke]||bt)}return function(){return bt.apply(Ee,arguments)}}var G={};Ku(w,function(Ee){G[Ee]=q(y,w,Ee)});for(var re=ou(h),le=[];re&&!Ts(re)&&!nc(le,re);)Ku(re,function(Ee){!G[Ee]&&Yu(re,Ee,!Du)&&(G[Ee]=q(y,re,Ee))}),le.push(re),re=ou(re);return G}function Bo(h,y,w,P){var q=null;if(h&&on(w,Ld)){var G=h[Tu]||{};if(q=(G[w[Ld]]||{})[y],q||aa("Missing ["+y+"] "+Nh),!q[Nd]&&G[Ys]!==!1){for(var re=!on(h,y),le=ou(h),Ee=[];re&&le&&!Ts(le)&&!nc(Ee,le);){var Ae=le[y];if(Ae){re=Ae===P;break}Ee.push(le),le=ou(le)}try{re&&(h[y]=q),q[Nd]=1}catch{G[Ys]=!1}}}return q}function Wo(h,y,w){var P=y[h];return P===w&&(P=ou(y)[h]),typeof P!==Nh&&aa("["+h+"] is not a "+Nh),P}function Rf(h,y,w,P,q){function G(Ee,Ae){var Ke=function(){var bt=Bo(this,Ae,Ee,Ke)||Wo(Ae,Ee,Ke);return bt.apply(this,arguments)};return Ke[Df]=1,Ke}if(!Gu(h)){var re=w[Tu]=w[Tu]||{},le=re[y]=re[y]||{};re[Ys]!==!1&&(re[Ys]=!!q),Ku(w,function(Ee){Yu(w,Ee,!1)&&w[Ee]!==P[Ee]&&(le[Ee]=w[Ee],delete w[Ee],(!on(h,Ee)||h[Ee]&&!h[Ee][Df])&&(h[Ee]=G(h,Ee)))})}}function Ju(h,y){if(Du){for(var w=[],P=ou(y);P&&!Ts(P)&&!nc(w,P);){if(P===h)return!0;w.push(P),P=ou(P)}return!1}return!0}function Pf(h,y){return on(h,$u)?h.name||y||Po:((h||{})[Rp]||{}).name||y||Po}function qo(h,y,w,P){on(h,$u)||aa("theClass is an invalid class definition.");var q=h[$u];Ju(q,y)||aa("["+Pf(h)+"] not in hierarchy of ["+Pf(y)+"]");var G=null;on(q,Ld)?G=q[Ld]:(G=Ef+Pf(h,"_")+"$"+xc.n,xc.n++,q[Ld]=G);var re=qo[xa],le=!!re[Js];le&&P&&P[Js]!==void 0&&(le=!!P[Js]);var Ee=Kg(y),Ae=yl(q,y,Ee,le);w(y,Ae);var Ke=!!Du&&!!re[$l];Ke&&P&&(Ke=!!P[$l]),Rf(q,G,y,Ee,Ke!==!1)}qo[xa]=xc.o;var Vl="function",xf="object",ga="undefined",Eu="prototype",ca=Object,Ls=ca[Eu];(Ln()||{}).Symbol,(Ln()||{}).Reflect;var Gl="hasOwnProperty",fy=function(h){for(var y,w=1,P=arguments.length;w<P;w++){y=arguments[w];for(var q in y)Ls[Gl].call(y,q)&&(h[q]=y[q])}return h},ms=Pi||fy,su=function(h,y){return su=ca.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,P){w.__proto__=P}||function(w,P){for(var q in P)P[Gl](q)&&(w[q]=P[q])},su(h,y)};function _l(h,y){typeof y!==Vl&&y!==null&&dn("Class extends value "+String(y)+" is not a constructor or null"),su(h,y);function w(){this.constructor=h}h[Eu]=y===null?_f(y):(w[Eu]=y[Eu],new w)}function Fh(h,y){for(var w=0,P=y.length,q=h.length;w<P;w++,q++)h[q]=y[w];return h}var Md=Oe,xp=_e,ic="toLowerCase",Nm="blkVal",zi="length",rs="rdOnly",Xu="notify",Oc="warnToConsole",Ic="throwInternal",ua="setDf",bl="watch",Vi="logger",Of="apply",wi="push",Oa="splice",Bn="hdlr",Fd="cancel",Kl="initialize",kc="identifier",$o="isInitialized",oc="getPlugin",la="pollInternalLogs",uo="name",Ru="time",Fn="processNext",au="getProcessTelContext",xo="getNotifyMgr",ai="addNotificationListener",Yl="removeNotificationListener",Ia="enabled",va="stopPollingInternalLogs",da="unload",Jl="onComplete",sc="version",qd="loggingLevelConsole",Ds="createNew",cu="teardown",wl="messageId",Xl="message",jd="isAsync",g="diagLog",v="_doTeardown",R="update",O="getNext",F="setNextPlugin",J="userAgent",Z="split",pe="nodeType",ke="replace",Qe="logInternalMessage",ht="type",Ut="handler",Sr="isChildEvt",sn="getCtx",jr="setCtx",Wn="complete",Xs="traceId",ac="spanId",Pu="traceFlags",Op;function Mm(h,y){Op||(Op=Gs("AggregationError",function(P,q){q[zi]>1&&(P.errors=q[1])}));var w=h||"One or more errors occurred.";throw Dn(y,function(P,q){w+=`
`.concat(q," > ").concat(kt(P))}),new Op(w,y||[])}function ka(h,y){return Ip(h,function(w){y&&y({value:w,rejected:!1})},function(w){y&&y({rejected:!0,reason:w})})}function Ip(h,y,w,P){var q=h;return xt(h)?(y||w)&&(q=h.then(y,w)):y&&y(h),P&&(q=qh(q,P)),q}function qh(h,y){var w=h;return y&&(xt(h)?h.finally?w=h.finally(y):w=h.then(function(P){return y(),P},function(P){throw y(),P}):y()),w}var zd=["pending","resolving","resolved","rejected"],xu="dispatchEvent",Yg;function x_(h,y,w,P){var q=ao();!Yg&&(Yg=vt(function(){var Ee;return q&&q.createEvent&&(Ee=q.createEvent("Event")),!!Ee&&Ee.initEvent},null));var G=Yg.v?q.createEvent("Event"):P?new Event(y):{};if(w&&w(G),Yg.v&&G.initEvent(y,!1,!0),G&&h[xu])h[xu](G);else{var re=h["on"+y];if(re)re(G);else{var le=Cn("console");le&&(le.error||le.log)(y,kt(G))}}}var kp="Promise",Ap="unhandledRejection",O_=Ap.toLowerCase(),I_=10,k_;function lw(h){return st(h)?h.toString():kt(h)}function Fm(h,y,w){var P=si(arguments,3),q=0,G=!1,re,le=[],Ee=!1,Ae=null,Ke;!k_&&(k_=zt(kp+"RejectionEvent"));var bt=function(ar,nn){try{Ee=!0,Ae&&Ae.cancel(),Ae=null;var Ii=h(function(as,qc){le.push(function(){try{var qa=q===2?ar:nn,fd=be(qa)?re:st(qa)?qa(re):qa;xt(fd)?fd.then(as,qc):qa?as(fd):q===3?qc(fd):as(fd)}catch(tl){qc(tl)}}),G&&sr()},P);return Ii}finally{}},It=function(ar){return bt(void 0,ar)},yt=function(ar){var nn=ar,Ii=ar;return st(ar)&&(nn=function(as){return ar&&ar(),as},Ii=function(as){throw ar&&ar(),as}),bt(nn,Ii)},ut=function(){return zd[q]},sr=function(){if(le.length>0){var ar=le.slice();le=[],Ee=!0,y(ar),Ae&&Ae.cancel(),Ae=null}},Mt=function(ar,nn){return function(Ii){if(q===nn){if(ar===2&&xt(Ii)){q=1,Ii.then(Mt(2,1),Mt(3,1));return}q=ar,G=!0,re=Ii,sr(),!Ee&&ar===3&&!Ae&&(Ae=Lh(pr,I_))}}},pr=function(){if(!Ee)if(_u())process.emit(Ap,re,Ke);else{var ar=Ro()||Ln();x_(ar,O_,function(nn){return Fo(nn,"promise",{g:function(){return Ke}}),nn.reason=re,nn},!!k_.v)}};Ke={then:bt,catch:It,finally:yt},na(Ke,"state",{get:ut}),ec()&&(Ke[ma(11)]="IPromise");var er=function(){return"IPromise "+ut()+(G?" - "+lw(re):"")};return Ke.toString=er,function(){st(w)||dn(kp+": executor is not a function - "+lw(w));var nn=Mt(3,0);try{w.call(Ke,Mt(2,0),nn)}catch(Ii){nn(Ii)}}(),Ke}function hy(h){return function(y){var w=si(arguments,1);return h(function(P,q){try{var G=[],re=1;Dn(y,function(le,Ee){le&&(re++,Ip(le,function(Ae){G[Ee]=Ae,--re===0&&P(G)},q))}),re--,re===0&&P(G)}catch(le){q(le)}},w)}}var A_=function(h){Dn(h,function(y){try{y()}catch{}})};function L_(h){var y=Lr(h)?h:0;return function(w){Lh(function(){A_(w)},y)}}function qm(h,y){return Fm(qm,L_(y),h,y)}var Lp;function dw(h,y){!Lp&&(Lp=zt(kp));var w=Lp.v;if(!w)return qm(h);st(h)||dn(kp+": executor is not a function - "+kt(h));var P=0;function q(){return zd[P]}var G=new w(function(re,le){function Ee(Ke){P=2,re(Ke)}function Ae(Ke){P=3,le(Ke)}h(Ee,Ae)});return na(G,"state",{get:q}),G}var N_;function Np(h,y){return!N_&&(N_=Ue(function(){return dw})),N_.v.call(this,h,y)}var py=hy(Np),Ud=void 0,Xi="",jm="channels",lo="core",M_="createPerfMgr",my="disabled",Hd="extensionConfig",Mp="extensions",uu="processTelemetry",Bd="priority",Wd="eventsSent",Ns="eventsDiscarded",fi="eventsSendRequest",Ou="perfEvent",ns="getPerfMgr",$d="domain",zm="path",Fp="Not dynamic - ",qp=/-([a-z])/g,If=/([^\w\d_$])/g,F_=/^(\d+[\w\d_$])/;function Um(h){return!xe(h)}function Hm(h){var y=h;return y&&ze(y)&&(y=y[ke](qp,function(w,P){return P.toUpperCase()}),y=y[ke](If,"_"),y=y[ke](F_,function(w,P){return"_"+P})),y}function Aa(h,y){return h&&y?Wu(h,y)!==-1:!1}function Vd(h){return h&&h.toISOString()||""}function Ac(h){return cr(h)?h[uo]:Xi}function Iu(h,y,w,P,q){var G=w;return h&&(G=h[y],G!==w&&(!q||q(G))&&(!P||P(w))&&(G=w,h[y]=G)),G}function Bm(h,y,w){var P;return h?(P=h[y],!P&&xe(P)&&(P=be(w)?{}:w,h[y]=P)):P=be(w)?{}:w,P}function Sl(h,y){var w=null,P=null;return st(h)?w=h:P=h,function(){var q=arguments;if(w&&(P=w()),P)return P[y][Of](P,q)}}function Wm(h,y,w,P,q){h&&y&&w&&(q!==!1||be(h[y]))&&(h[y]=Sl(w,P))}function Jg(h,y,w,P){return h&&y&&at(h)&&tt(w)&&Dn(w,function(q){ze(q)&&Wm(h,q,y,q,P)}),h}function jp(h){return function(){function y(){var w=this;h&&Or(h,function(P,q){w[P]=q})}return y}()}function En(h){return h&&Pi&&(h=ca(Pi({},h))),h}function Gd(h,y,w,P,q,G){var re=arguments,le=re[0]||{},Ee=re[zi],Ae=!1,Ke=1;for(Ee>0&&zr(le)&&(Ae=le,le=re[Ke]||{},Ke++),at(le)||(le={});Ke<Ee;Ke++){var bt=re[Ke],It=tt(bt),yt=at(bt);for(var ut in bt){var sr=It&&ut in bt||yt&&ln(bt,ut);if(sr){var Mt=bt[ut],pr=void 0;if(Ae&&Mt&&((pr=tt(Mt))||Cs(Mt))){var er=le[ut];pr?tt(er)||(er=[]):Cs(er)||(er={}),Mt=Gd(Ae,er,Mt)}Mt!==void 0&&(le[ut]=Mt)}}}return le}var Ms="documentMode",kf="location",gy="console",cc="JSON",Kd="crypto",zp="msCrypto",vy="msie",Cl="trident/",Xg="XMLHttpRequest",$m=null,yy=null,Qg=!1,Yd=null,Af=null;function Vm(h,y){var w=!1;if(h){try{if(w=y in h,!w){var P=h[Eu];P&&(w=y in P)}}catch{}if(!w)try{var q=new h;w=!be(q[y])}catch{}}return w}function Up(h){if(h&&Qg){var y=Cn("__mockLocation");if(y)return y}return typeof location===xf&&location?location:Cn(kf)}function Zg(){return typeof console!==ga?console:Cn(gy)}function lu(){return!!(typeof JSON===xf&&JSON||Cn(cc)!==null)}function uc(){return lu()?JSON||Cn(cc):null}function Lf(){return Cn(Kd)}function Qu(){return Cn(zp)}function ku(){var h=Jn();if(h&&(h[J]!==yy||$m===null)){yy=h[J];var y=(yy||Xi)[ic]();$m=Aa(y,vy)||Aa(y,Cl)}return $m}function jh(h){if(h===void 0&&(h=null),!h){var y=Jn()||{};h=y?(y.userAgent||Xi)[ic]():Xi}var w=(h||Xi)[ic]();if(Aa(w,vy)){var P=ao()||{};return Math.max(parseInt(w[Z](vy)[1]),P[Ms]||0)}else if(Aa(w,Cl)){var q=parseInt(w[Z](Cl)[1]);if(q)return q+4}return null}function Jd(h){return(Af===null||h===!1)&&(Af=$i()&&!!Jn().sendBeacon),Af}function ev(h){var y=!1;try{y=!!Cn("fetch");var w=Cn("Request");y&&h&&w&&(y=Vm(w,"keepalive"))}catch{}return y}function Hp(){return Yd===null&&(Yd=typeof XDomainRequest!==ga,Yd&&Bp()&&(Yd=Yd&&!Vm(Cn(Xg),"withCredentials"))),Yd}function Bp(){var h=!1;try{var y=Cn(Xg);h=!!y}catch{}return h}var zh=4294967296,Xd=4294967295,Gm=123456789,Wp=987654321,Km=!1,Nf=Gm,Uh=Wp;function Ym(h){h<0&&(h>>>=0),Nf=Gm+h&Xd,Uh=Wp-h&Xd,Km=!0}function fw(){try{var h=Ul()&2147483647;Ym((Math.random()*zh^h)+h)}catch{}}function lc(h){var y=0,w=Lf()||Qu();return w&&w.getRandomValues&&(y=w.getRandomValues(new Uint32Array(1))[0]&Xd),y===0&&ku()&&(Km||fw(),y=_y()&Xd),y===0&&(y=Math.floor(zh*Math.random()|0)),h||(y>>>=0),y}function _y(h){Uh=36969*(Uh&65535)+(Uh>>16)&Xd,Nf=18e3*(Nf&65535)+(Nf>>16)&Xd;var y=(Uh<<16)+(Nf&65535)>>>0&Xd|0;return h||(y>>>=0),y}function Qd(h){h===void 0&&(h=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=lc()>>>0,P=0,q=Xi;q[zi]<h;)P++,q+=y.charAt(w&63),w>>>=6,P===5&&(w=(lc()<<2&4294967295|w&3)>>>0,P=0);return q}var tv="3.0.5",Zd="."+Qd(6),Mf=0;function Jm(h){return h[pe]===1||h[pe]===9||!+h[pe]}function rv(h,y){var w=y[h.id];if(!w){w={};try{Jm(y)&&Fo(y,h.id,{e:!1,v:w})}catch{}}return w}function Lc(h,y){return y===void 0&&(y=!1),Hm(h+Mf+++(y?"."+tv:Xi)+Zd)}function Tl(h){var y={id:Lc("_aiData-"+(h||Xi)+"."+tv),accept:function(w){return Jm(w)},get:function(w,P,q,G){var re=w[y.id];return re?re[Hm(P)]:(G&&(re=rv(y,w),re[Hm(P)]=q),q)},kill:function(w,P){if(w&&w[P])try{delete w[P]}catch{}}};return y}function nv(h){return h&&at(h)&&(h.isVal||h.fb||ln(h,"v")||ln(h,"mrg")||ln(h,"ref")||h.set)}function by(h,y,w){var P,q=w.dfVal||$e;if(y&&w.fb){var G=w.fb;tt(G)||(G=[G]);for(var re=0;re<G[zi];re++){var le=G[re],Ee=y[le];if(q(Ee)?P=Ee:h&&(Ee=h.cfg[le],q(Ee)&&(P=Ee),h.set(h.cfg,ft(le),Ee)),q(P))break}}return!q(P)&&q(w.v)&&(P=w.v),P}function ef(h,y,w){var P=w;if(w&&nv(w)&&(P=by(h,y,w)),P){nv(P)&&(P=ef(h,y,P));var q;tt(P)?(q=[],q[zi]=P[zi]):Cs(P)&&(q={}),q&&(Or(P,function(G,re){re&&nv(re)&&(re=ef(h,y,re)),q[G]=re}),P=q)}return P}function $p(h,y,w,P){var q,G,re,le=P,Ee,Ae,Ke,bt;nv(le)?(q=le.isVal,G=le.set,Ke=le[rs],bt=le[Nm],Ee=le.mrg,Ae=le.ref,!Ae&&be(Ae)&&(Ae=!!Ee),re=by(h,y,le)):re=P,bt&&h[Nm](y,w);var It,yt=!0,ut=y[w];(ut||!xe(ut))&&(It=ut,yt=!1,q&&It!==re&&!q(It)&&(It=re,yt=!0),G&&(It=G(It,re,y),yt=It===re)),yt?re?It=ef(h,y,re):It=re:(Cs(It)||tt(re))&&Ee&&re&&(Cs(re)||tt(re))&&Or(re,function(sr,Mt){$p(h,It,sr,Mt)}),h.set(y,w,It),Ae&&h.ref(y,w),Ke&&h[rs](y,w)}var Hh=Rh("[[ai_dynCfg_1]]"),hw=Rh("[[ai_blkDynCfg_1]]"),xC=Rh("[[ai_frcDynCfg_1]]");function tf(h){if(h){var y;if(tt(h)?(y=[],y[zi]=h[zi]):Cs(h)&&(y={}),y)return Or(h,function(w,P){y[w]=tf(P)}),y}return h}function wy(h){if(h){var y=h[Hh]||h;if(y.cfg&&(y.cfg===h||y.cfg[Hh]===y))return y}return null}function Sy(h){if(h&&(Cs(h)||tt(h)))try{h[hw]=!0}catch{}return h}function Cy(h,y,w){var P=!1;return w&&!h[y.blkVal]&&(P=w[xC],!P&&!w[hw]&&(P=Cs(w)||tt(w))),P}function iv(h){dn("InvalidAccess:"+h)}var UD=["push","pop","shift","unshift","splice"],ov=function(h,y,w,P){h&&h[Ic](3,108,"".concat(w," [").concat(y,"] failed - ")+kt(P))};function HD(h,y,w){tt(y)&&Dn(UD,function(P){var q=y[P];y[P]=function(){for(var G=[],re=0;re<arguments.length;re++)G[re]=arguments[re];var le=q[Of](this,G);return Qm(h,y,w,"Patching"),le}})}function Ql(h,y){var w=Nt(h,y);return w&&w.get}function Bh(h,y,w,P){var q={n:w,h:[],trk:function(Ae){Ae&&Ae.fn&&(Vs(q.h,Ae)===-1&&q.h[wi](Ae),h.trk(Ae,q))},clr:function(Ae){var Ke=Vs(q.h,Ae);Ke!==-1&&q.h[Oa](Ke,1)}},G=!0,re=!1;function le(){G&&(re=re||Cy(le,h,P),P&&!P[Hh]&&re&&(P=Qm(h,P,w,"Converting")),G=!1);var Ae=h.act;return Ae&&q.trk(Ae),P}le[h.prop]={chng:function(){h.add(q)}};function Ee(Ae){if(P!==Ae){le[h.ro]&&!h.upd&&iv("["+w+"] is read-only:"+kt(y)),G&&(re=re||Cy(le,h,P),G=!1);var Ke=re&&le[h.rf];if(re)if(Ke){Or(P,function(It){P[It]=Ae?Ae[It]:Ud});try{Or(Ae,function(It,yt){Xm(h,P,It,yt)}),Ae=P}catch(It){ov((h.hdlr||{})[Vi],w,"Assigning",It),re=!1}}else P&&P[Hh]&&Or(P,function(It){var yt=Ql(P,It);if(yt){var ut=yt[h.prop];ut&&ut.chng()}});if(Ae!==P){var bt=Ae&&Cy(le,h,Ae);!Ke&&bt&&(Ae=Qm(h,Ae,w,"Converting")),P=Ae,re=bt}h.add(q)}}Fo(y,q.n,{g:le,s:Ee})}function Xm(h,y,w,P){if(y){var q=Ql(y,w),G=q&&!!q[h.prop];G?y[w]=P:Bh(h,y,w,P)}return y}function q_(h,y,w,P){if(y){var q=Ql(y,w),G=q&&!!q[h.prop],re=P&&P[0],le=P&&P[1],Ee=P&&P[2];if(!G){if(Ee)try{Sy(y)}catch(Ae){ov((h.hdlr||{})[Vi],w,"Blocking",Ae)}try{Xm(h,y,w,y[w]),q=Ql(y,w)}catch(Ae){ov((h.hdlr||{})[Vi],w,"State",Ae)}}re&&(q[h.rf]=re),le&&(q[h.ro]=le),Ee&&(q[h.blkVal]=!0)}return y}function Qm(h,y,w,P){try{Or(y,function(q,G){Xm(h,y,q,G)}),y[Hh]||(na(y,Hh,{get:function(){return h[Bn]}}),HD(h,y,w))}catch(q){ov((h.hdlr||{})[Vi],w,P,q)}return y}var Zl="[[ai_",Dl="]]";function Ff(h){var y,w=ml(Zl+"get"+h.uid+Dl),P=ml(Zl+"ro"+h.uid+Dl),q=ml(Zl+"rf"+h.uid+Dl),G=ml(Zl+"blkVal"+h.uid+Dl),re=ml(Zl+"dtl"+h.uid+Dl),le=null,Ee=null,Ae;function Ke(ut,sr){var Mt=Ae.act;try{Ae.act=ut,ut&&ut[re]&&(Dn(ut[re],function(er){er.clr(ut)}),ut[re]=[]),sr({cfg:h.cfg,set:h.set.bind(h),setDf:h[ua].bind(h),ref:h.ref.bind(h),rdOnly:h[rs].bind(h)})}catch(er){var pr=h[Vi];throw pr&&pr[Ic](1,107,kt(er)),er}finally{Ae.act=Mt||null}}function bt(){if(le){var ut=le;le=null,Ee&&Ee[Fd](),Ee=null;var sr=[];if(Dn(ut,function(Mt){if(Mt&&(Mt[re]&&(Dn(Mt[re],function(pr){pr.clr(Mt)}),Mt[re]=null),Mt.fn))try{Ke(Mt,Mt.fn)}catch(pr){sr[wi](pr)}}),le)try{bt()}catch(Mt){sr[wi](Mt)}sr[zi]>0&&Mm("Watcher error(s): ",sr)}}function It(ut){if(ut&&ut.h[zi]>0){le||(le=[]),Ee||(Ee=Lh(function(){Ee=null,bt()},0));for(var sr=0;sr<ut.h[zi];sr++){var Mt=ut.h[sr];Mt&&Vs(le,Mt)===-1&&le[wi](Mt)}}}function yt(ut,sr){if(ut){var Mt=ut[re]=ut[re]||[];Vs(Mt,sr)===-1&&Mt[wi](sr)}}return Ae=(y={prop:w,ro:P,rf:q},y[Nm]=G,y[Bn]=h,y.add=It,y[Xu]=bt,y.use=Ke,y.trk=yt,y),Ae}function qf(h,y){var w={fn:y,rm:function(){w.fn=null,h=null,y=null}};return h.use(w,y),w}function Ty(h,y,w){var P,q=wy(y);if(q)return q;var G=Lc("dyncfg",!0),re=y&&w!==!1?y:tf(y),le;function Ee(){le[Xu]()}function Ae(pr,er,ar){try{pr=Xm(le,pr,er,ar)}catch(nn){ov(h,er,"Setting value",nn)}return pr[er]}function Ke(pr){return qf(le,pr)}function bt(pr,er){le.use(null,function(ar){var nn=le.upd;try{be(er)||(le.upd=er),pr(ar)}finally{le.upd=nn}})}function It(pr,er){var ar;return q_(le,pr,er,(ar={},ar[0]=!0,ar))[er]}function yt(pr,er){var ar;return q_(le,pr,er,(ar={},ar[1]=!0,ar))[er]}function ut(pr,er){var ar;return q_(le,pr,er,(ar={},ar[2]=!0,ar))[er]}function sr(pr,er){return er&&Or(er,function(ar,nn){$p(Mt,pr,ar,nn)}),pr}var Mt=(P={uid:null,cfg:re},P[Vi]=h,P[Xu]=Ee,P.set=Ae,P[ua]=sr,P[bl]=Ke,P.ref=It,P[rs]=yt,P[Nm]=ut,P._block=bt,P);return Fo(Mt,"uid",{c:!1,e:!1,w:!1,v:G}),le=Ff(Mt),Qm(le,re,"config","Creating"),Mt}function Vp(h,y){h?(h[Oc](y),h[Ic](2,108,y)):iv(y)}function La(h,y,w,P){var q=Ty(w,h||{},P);return y&&q[ua](q.cfg,y),q}function Wh(h,y,w){var P=h[Hh]||h;return P.cfg&&(P.cfg===h||P.cfg[Hh]===P)?P[bl](y):(Vp(w,Fp+kt(h)),La(h,null,w)[bl](y))}function $h(h,y){if(h&&h[da])return h[da](y)}function j_(h,y,w){var P;return w||(P=Np(function(q){w=q})),h&&dy(h)>0?ka($h(h[0],y),function(){j_(si(h,1),y,w)}):w(),P}var OC=500;function Vh(h,y,w){return!h&&xe(h)?y:zr(h)?h:ft(h)[ic]()==="true"}function IC(h){return{mrg:!0,v:h}}function Zm(h,y,w){return{fb:w,isVal:h,v:y}}function Gh(h,y){return{fb:y,set:Vh,v:!!h}}var ed=[Wd,Ns,fi,Ou],sv=null,Gp;function eg(h,y){return function(){var w=arguments,P=pw(y);if(P){var q=P.listener;q&&q[h]&&q[h][Of](q,w)}}}function av(){var h=Cn("Microsoft");return h&&(sv=h.ApplicationInsights),sv}function pw(h){var y=sv;return!y&&h.disableDbgExt!==!0&&(y=sv||av()),y?y.ChromeDbgExt:null}function BD(h){if(!Gp){Gp={};for(var y=0;y<ed[zi];y++)Gp[ed[y]]=eg(ed[y],h)}return Gp}var tg,kC="warnToConsole",dc="AI (Internal): ",rg="AI: ",ng="AITR_",AC={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},WD=(tg={},tg[0]=null,tg[1]="errorToConsole",tg[2]=kC,tg[3]="debugToConsole",tg);function td(h){return h?'"'+h[ke](/\"/g,Xi)+'"':Xi}function fc(h,y){var w=Zg();if(w){var P="log";w[h]&&(P=h),st(w[P])&&w[P](y)}}var rd=function(){function h(y,w,P,q){P===void 0&&(P=!1);var G=this;G[wl]=y,G[Xl]=(P?rg:dc)+y;var re=Xi;lu()&&(re=uc().stringify(q));var le=(w?" message:"+td(w):Xi)+(q?" props:"+td(re):Xi);G[Xl]+=le}return h.dataType="MessageData",h}();function ig(h,y){return(h||{})[Vi]||new cv(y)}var cv=function(){function h(y){this.identifier="DiagnosticLogger",this.queue=[];var w=0,P={},q,G,re,le,Ee;qo(h,this,function(Ae){Ee=bt(y||{}),Ae.consoleLoggingLevel=function(){return q},Ae[Ic]=function(ut,sr,Mt,pr,er){er===void 0&&(er=!1);var ar=new rd(sr,Mt,er,pr);if(le)throw kt(ar);var nn=WD[ut]||kC;if(be(ar[Xl]))yt("throw"+(ut===1?"Critical":"Warning"),ar);else{if(er){var Ii=+ar[wl];!P[Ii]&&q>=ut&&(Ae[nn](ar[Xl]),P[Ii]=!0)}else q>=ut&&Ae[nn](ar[Xl]);Ke(ut,ar)}},Ae.debugToConsole=function(ut){fc("debug",ut),yt("warning",ut)},Ae[Oc]=function(ut){fc("warn",ut),yt("warning",ut)},Ae.errorToConsole=function(ut){fc("error",ut),yt("error",ut)},Ae.resetInternalMessageCount=function(){w=0,P={}},Ae[Qe]=Ke,Ae[da]=function(ut){Ee&&Ee.rm(),Ee=null};function Ke(ut,sr){if(!It()){var Mt=!0,pr=ng+sr[wl];if(P[pr]?Mt=!1:P[pr]=!0,Mt&&(ut<=G&&(Ae.queue[wi](sr),w++,yt(ut===1?"error":"warn",sr)),w===re)){var er="Internal events throttle limit per PageView reached for this app.",ar=new rd(23,er,!1);Ae.queue[wi](ar),ut===1?Ae.errorToConsole(er):Ae[Oc](er)}}}function bt(ut){return Wh(La(ut,AC,Ae).cfg,function(sr){var Mt=sr.cfg;q=Mt[qd],G=Mt.loggingLevelTelemetry,re=Mt.maxMessageLimit,le=Mt.enableDebug})}function It(){return w>=re}function yt(ut,sr){var Mt=pw(y||{});Mt&&Mt[g]&&Mt[g](ut,sr)}})}return h.__ieDyn=1,h}();function z_(h){return h||new cv}function bn(h,y,w,P,q,G){G===void 0&&(G=!1),z_(h)[Ic](y,w,P,q,G)}function Dy(h,y){z_(h)[Oc](y)}var Kp,jf,og="toGMTString",Na="toUTCString",U_="cookie",uv="expires",H_="isCookieUseDisabled",nd="disableCookiesUsage",sg="_ckMgr",Kh=null,lv=null,ag=null,Au,rf={},mw={},id=(Kp={cookieCfg:IC((jf={},jf[$d]={fb:"cookieDomain",dfVal:Um},jf.path={fb:"cookiePath",dfVal:Um},jf.enabled=Ud,jf.ignoreCookies=Ud,jf.blockedCookies=Ud,jf)),cookieDomain:Ud,cookiePath:Ud},Kp[nd]=Ud,Kp);function Ey(){!Au&&(Au=Ue(function(){return ao()}))}function od(h){return h?h.isEnabled():!0}function gw(h,y){return y&&h&&tt(h.ignoreCookies)?Vs(h.ignoreCookies,y)!==-1:!1}function Ry(h,y){return y&&h&&tt(h.blockedCookies)&&Vs(h.blockedCookies,y)!==-1?!0:gw(h,y)}function sd(h,y){var w=y[Ia];if(xe(w)){var P=void 0;be(h[H_])||(P=!h[H_]),be(h[nd])||(P=!h[nd]),w=P}return w}function vw(h,y){var w,P,q,G,re,le,Ee,Ae,Ke;h=La(h||mw,null,y).cfg,re=Wh(h,function(It){It[ua](It.cfg,id),P=It.ref(It.cfg,"cookieCfg"),q=P[zm]||"/",G=P[$d],le=sd(h,P)!==!1,Ee=P.getCookie||_w,Ae=P.setCookie||Uf,Ke=P.delCookie||Uf},y);var bt=(w={isEnabled:function(){var It=sd(h,P)!==!1&&le&&yw(y),yt=mw[sg];return It&&yt&&bt!==yt&&(It=od(yt)),It},setEnabled:function(It){le=It!==!1,P[Ia]=It},set:function(It,yt,ut,sr,Mt){var pr=!1;if(od(bt)&&!Ry(P,It)){var er={},ar=Ks(yt||Xi),nn=Wu(ar,";");if(nn!==-1&&(ar=Ks(Ye(yt,nn)),er=B_(fe(yt,nn+1))),Iu(er,$d,sr||G,hr,be),!xe(ut)){var Ii=ku();if(be(er[uv])){var as=Ul(),qc=as+ut*1e3;if(qc>0){var qa=new Date;qa.setTime(qc),Iu(er,uv,zf(qa,Ii?og:Na)||zf(qa,Ii?og:Na)||Xi,hr)}}Ii||Iu(er,"max-age",Xi+ut,null,be)}var fd=Up();fd&&fd.protocol==="https:"&&(Iu(er,"secure",null,null,be),lv===null&&(lv=!hc((Jn()||{})[J])),lv&&Iu(er,"SameSite","None",null,be)),Iu(er,zm,Mt||q,null,be),Ae(It,cg(ar,er)),pr=!0}return pr},get:function(It){var yt=Xi;return od(bt)&&!gw(P,It)&&(yt=Ee(It)),yt},del:function(It,yt){var ut=!1;return od(bt)&&(ut=bt.purge(It,yt)),ut},purge:function(It,yt){var ut,sr=!1;if(yw(y)){var Mt=(ut={},ut[zm]=yt||"/",ut[uv]="Thu, 01 Jan 1970 00:00:01 GMT",ut);ku()||(Mt["max-age"]="0"),Ke(It,cg(Xi,Mt)),sr=!0}return sr}},w[da]=function(It){re&&re.rm(),re=null},w);return bt[sg]=bt,bt}function yw(h){if(Kh===null){Kh=!1,!Au&&Ey();try{var y=Au.v||{};Kh=y[U_]!==void 0}catch(w){bn(h,2,68,"Cannot access document.cookie - "+Ac(w),{exception:kt(w)})}}return Kh}function B_(h){var y={};if(h&&h[zi]){var w=Ks(h)[Z](";");Dn(w,function(P){if(P=Ks(P||Xi),P){var q=Wu(P,"=");q===-1?y[P]=null:y[Ks(Ye(P,q))]=Ks(fe(P,q+1))}})}return y}function zf(h,y){return st(h[y])?h[y]():null}function cg(h,y){var w=h||Xi;return Or(y,function(P,q){w+="; "+P+(xe(q)?Xi:"="+q)}),w}function _w(h){var y=Xi;if(!Au&&Ey(),Au.v){var w=Au.v[U_]||Xi;ag!==w&&(rf=B_(w),ag=w),y=Ks(rf[h]||Xi)}return y}function Uf(h,y){!Au&&Ey(),Au.v&&(Au.v[U_]=h+"="+y)}function hc(h){return ze(h)?!!(Aa(h,"CPU iPhone OS 12")||Aa(h,"iPad; CPU OS 12")||Aa(h,"Macintosh; Intel Mac OS X 10_14")&&Aa(h,"Version/")&&Aa(h,"Safari")||Aa(h,"Macintosh; Intel Mac OS X 10_14")&&sa(h,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Aa(h,"Chrome/5")||Aa(h,"Chrome/6")||Aa(h,"UnrealEngine")&&!Aa(h,"Chrome")||Aa(h,"UCBrowser/12")||Aa(h,"UCBrowser/11")):!1}var Vo={perfEvtsSendAll:!1};function El(h,y,w,P){Dn(h,function(q){if(q&&q[y])if(w)Lh(function(){return P(q)},0);else try{P(q)}catch{}})}var dv=function(){function h(y){this.listeners=[];var w,P,q=[],G=La(y,Vo);P=G[bl](function(re){w=!!re.cfg.perfEvtsSendAll}),qo(h,this,function(re){Fo(re,"listeners",{g:function(){return q}}),re[ai]=function(le){q[wi](le)},re[Yl]=function(le){for(var Ee=Vs(q,le);Ee>-1;)q[Oa](Ee,1),Ee=Vs(q,le)},re[Wd]=function(le){El(q,Wd,!0,function(Ee){Ee[Wd](le)})},re[Ns]=function(le,Ee){El(q,Ns,!0,function(Ae){Ae[Ns](le,Ee)})},re[fi]=function(le,Ee){El(q,fi,Ee,function(Ae){Ae[fi](le,Ee)})},re[Ou]=function(le){le&&(w||!le[Sr]())&&El(q,Ou,!1,function(Ee){le[jd]?Lh(function(){return Ee[Ou](le)},0):Ee[Ou](le)})},re[da]=function(le){var Ee=function(){P&&P.rm(),P=null,q=[]},Ae;if(El(q,"unload",!1,function(Ke){var bt=Ke[da](le);bt&&(Ae||(Ae=[]),Ae[wi](bt))}),Ae)return Np(function(Ke){return ka(py(Ae),function(){Ee(),Ke()})});Ee()}})}return h.__ieDyn=1,h}(),ad="ctx",Hf="ParentContextKey",Lu="ChildrenContextKey",fv=null,Py=function(){function h(y,w,P){var q=this;if(q.start=Ul(),q[uo]=y,q[jd]=P,q[Sr]=function(){return!1},st(w)){var G;Fo(q,"payload",{g:function(){return!G&&st(w)&&(G=w(),w=null),G}})}q[sn]=function(re){return re?re===h[Hf]||re===h[Lu]?q[re]:(q[ad]||{})[re]:null},q[jr]=function(re,le){if(re)if(re===h[Hf])q[re]||(q[Sr]=function(){return!0}),q[re]=le;else if(re===h[Lu])q[re]=le;else{var Ee=q[ad]=q[ad]||{};Ee[re]=le}},q[Wn]=function(){var re=0,le=q[sn](h[Lu]);if(tt(le))for(var Ee=0;Ee<le[zi];Ee++){var Ae=le[Ee];Ae&&(re+=Ae[Ru])}q[Ru]=Ul()-q.start,q.exTime=q[Ru]-re,q[Wn]=function(){}}}return h.ParentContextKey="parent",h.ChildrenContextKey="childEvts",h}(),bw=function(){function h(y){this.ctx={},qo(h,this,function(w){w.create=function(P,q,G){return new Py(P,q,G)},w.fire=function(P){P&&(P[Wn](),y&&st(y[Ou])&&y[Ou](P))},w[jr]=function(P,q){if(P){var G=w[ad]=w[ad]||{};G[P]=q}},w[sn]=function(P){return(w[ad]||{})[P]}})}return h.__ieDyn=1,h}(),W_="CoreUtils.doPerf";function Yp(h,y,w,P,q){if(h){var G=h;if(G[ns]&&(G=G[ns]()),G){var re=void 0,le=G[sn](W_);try{if(re=G.create(y(),P,q),re){if(le&&re[jr]&&(re[jr](Py[Hf],le),le[sn]&&le[jr])){var Ee=le[sn](Py[Lu]);Ee||(Ee=[],le[jr](Py[Lu],Ee)),Ee[wi](re)}return G[jr](W_,re),w(re)}}catch(Ae){re&&re[jr]&&re[jr]("exception",Ae)}finally{re&&G.fire(re),G[jr](W_,le)}}}return w()}function hv(){return fv}var LC="00000000000000000000000000000000",ww="0000000000000000";function Sw(h,y,w){return h&&h[zi]===y&&h!==w?!!h.match(/^[\da-f]*$/i):!1}function NC(h){return Sw(h,32,LC)}function E(h){return Sw(h,16,ww)}var k=Tl("plugin");function z(h){return k.get(h,"state",{},!0)}function Y(h,y){for(var w=[],P=null,q=h[O](),G;q;){var re=q[oc]();if(re){P&&P[F]&&re[uu]&&P[F](re),G=z(re);var le=!!G[$o];re[$o]&&(le=re[$o]()),le||w[wi](re),P=re,q=q[O]()}}Dn(w,function(Ee){var Ae=h[lo]();Ee[Kl](h.getCfg(),Ae,y,h[O]()),G=z(Ee),!Ee[lo]&&!G[lo]&&(G[lo]=Ae),G[$o]=!0,delete G[cu]})}function ve(h){return h.sort(function(y,w){var P=0;if(w){var q=w[uu];y[uu]?P=q?y[Bd]-w[Bd]:1:q&&(P=-1)}else P=y?1:-1;return P})}function We(h){var y={};return{getName:function(){return y[uo]},setName:function(w){h&&h.setName(w),y[uo]=w},getTraceId:function(){return y[Xs]},setTraceId:function(w){h&&h.setTraceId(w),NC(w)&&(y[Xs]=w)},getSpanId:function(){return y[ac]},setSpanId:function(w){h&&h.setSpanId(w),E(w)&&(y[ac]=w)},getTraceFlags:function(){return y[Pu]},setTraceFlags:function(w){h&&h.setTraceFlags(w),y[Pu]=w}}}var Ze="TelemetryPluginChain",ct="_hasRun",Dt="_getTelCtx",Kt=0;function Ar(h,y,w){for(;h;){if(h[oc]()===w)return h;h=h[O]()}return Zn([w],y.config||{},y)}function jn(h,y,w,P){var q=null,G=[];y||(y=La({},null,w[Vi])),P!==null&&(q=P?Ar(h,w,P):h);var re={_next:Ee,ctx:{core:function(){return w},diagLog:function(){return ig(w,y.cfg)},getCfg:function(){return y.cfg},getExtCfg:Ke,getConfig:bt,hasNext:function(){return!!q},getNext:function(){return q},setNext:function(yt){q=yt},iterate:It,onComplete:le}};function le(yt,ut){for(var sr=[],Mt=2;Mt<arguments.length;Mt++)sr[Mt-2]=arguments[Mt];yt&&G[wi]({func:yt,self:be(ut)?re.ctx:ut,args:sr})}function Ee(){var yt=q;if(q=yt?yt[O]():null,!yt){var ut=G;ut&&ut[zi]>0&&(Dn(ut,function(sr){try{sr.func.call(sr.self,sr.args)}catch(Mt){bn(w[Vi],2,73,"Unexpected Exception during onComplete - "+kt(Mt))}}),G=[])}return yt}function Ae(yt,ut){var sr=null,Mt=y.cfg;if(Mt&&yt){var pr=Mt[Hd];!pr&&ut&&(pr={}),Mt[Hd]=pr,pr=y.ref(Mt,Hd),pr&&(sr=pr[yt],!sr&&ut&&(sr={}),pr[yt]=sr,sr=y.ref(pr,yt))}return sr}function Ke(yt,ut){var sr=Ae(yt,!0);return ut&&Or(ut,function(Mt,pr){if(xe(sr[Mt])){var er=y.cfg[Mt];(er||!xe(er))&&(sr[Mt]=er)}$p(y,sr,Mt,pr)}),y[ua](sr,ut)}function bt(yt,ut,sr){sr===void 0&&(sr=!1);var Mt,pr=Ae(yt,!1),er=y.cfg;return pr&&(pr[ut]||!xe(pr[ut]))?Mt=pr[ut]:(er[ut]||!xe(er[ut]))&&(Mt=er[ut]),Mt||!xe(Mt)?Mt:sr}function It(yt){for(var ut;ut=re._next();){var sr=ut[oc]();sr&&yt(sr)}}return re}function In(h,y,w,P){var q=La(y),G=jn(h,q,w,P),re=G.ctx;function le(Ae){var Ke=G._next();return Ke&&Ke[uu](Ae,re),!Ke}function Ee(Ae,Ke){return Ae===void 0&&(Ae=null),tt(Ae)&&(Ae=Zn(Ae,q.cfg,w,Ke)),In(Ae||re[O](),q.cfg,w,Ke)}return re[Fn]=le,re[Ds]=Ee,re}function Qn(h,y,w){var P=La(y.config),q=jn(h,P,y,w),G=q.ctx;function re(Ee){var Ae=q._next();return Ae&&Ae[da](G,Ee),!Ae}function le(Ee,Ae){return Ee===void 0&&(Ee=null),tt(Ee)&&(Ee=Zn(Ee,P.cfg,y,Ae)),Qn(Ee||G[O](),y,Ae)}return G[Fn]=re,G[Ds]=le,G}function Qr(h,y,w){var P=La(y.config),q=jn(h,P,y,w),G=q.ctx;function re(Ee){return G.iterate(function(Ae){st(Ae[R])&&Ae[R](G,Ee)})}function le(Ee,Ae){return Ee===void 0&&(Ee=null),tt(Ee)&&(Ee=Zn(Ee,P.cfg,y,Ae)),Qr(Ee||G[O](),y,Ae)}return G[Fn]=re,G[Ds]=le,G}function Zn(h,y,w,P){var q=null,G=!P;if(tt(h)&&h[zi]>0){var re=null;Dn(h,function(le){if(!G&&P===le&&(G=!0),G&&le&&st(le[uu])){var Ee=br(le,y,w);q||(q=Ee),re&&re._setNext(Ee),re=Ee}})}return P&&!q?Zn([P],y,w):q}function br(h,y,w){var P=null,q=st(h[uu]),G=st(h[F]),re;h?re=h[kc]+"-"+h[Bd]+"-"+Kt++:re="Unknown-0-"+Kt++;var le={getPlugin:function(){return h},getNext:function(){return P},processTelemetry:Ke,unload:bt,update:It,_id:re,_setNext:function(yt){P=yt}};function Ee(){var yt;return h&&st(h[Dt])&&(yt=h[Dt]()),yt||(yt=In(le,y,w)),yt}function Ae(yt,ut,sr,Mt,pr){var er=!1,ar=h?h[kc]:Ze,nn=yt[ct];return nn||(nn=yt[ct]={}),yt.setNext(P),h&&Yp(yt[lo](),function(){return ar+":"+sr},function(){nn[re]=!0;try{var Ii=P?P._id:Xi;Ii&&(nn[Ii]=!1),er=ut(yt)}catch(qc){var as=P?nn[P._id]:!0;as&&(er=!0),(!P||!as)&&bn(yt[g](),1,73,"Plugin ["+ar+"] failed during "+sr+" - "+kt(qc)+", run flags: "+kt(nn))}},Mt,pr),er}function Ke(yt,ut){ut=ut||Ee();function sr(Mt){if(!h||!q)return!1;var pr=z(h);return pr[cu]||pr[my]?!1:(G&&h[F](P),h[uu](yt,Mt),!0)}Ae(ut,sr,"processTelemetry",function(){return{item:yt}},!yt.sync)||ut[Fn](yt)}function bt(yt,ut){function sr(){var Mt=!1;if(h){var pr=z(h),er=h[lo]||pr[lo];h&&(!er||er===yt.core())&&!pr[cu]&&(pr[lo]=null,pr[cu]=!0,pr[$o]=!1,h[cu]&&h[cu](yt,ut)===!0&&(Mt=!0))}return Mt}Ae(yt,sr,"unload",function(){},ut[jd])||yt[Fn](ut)}function It(yt,ut){function sr(){var Mt=!1;if(h){var pr=z(h),er=h[lo]||pr[lo];h&&(!er||er===yt.core())&&!pr[cu]&&h[R]&&h[R](yt,ut)===!0&&(Mt=!0)}return Mt}Ae(yt,sr,"update",function(){},!1)||yt[Fn](ut)}return oi(le)}function Si(){var h=[];function y(P){P&&h[wi](P)}function w(P,q){Dn(h,function(G){try{G(P,q)}catch(re){bn(P[g](),2,73,"Unexpected error calling unload handler - "+kt(re))}}),h=[]}return{add:y,run:w}}function $n(){var h=[];function y(P){var q=h;h=[],Dn(q,function(G){try{(G.rm||G.remove).call(G)}catch(re){bn(P,2,73,"Unloading:"+kt(re))}})}function w(P){P&&$s(h,P)}return{run:y,add:w}}var Rn,is="getPlugin",pc=(Rn={},Rn[Hd]={isVal:Um,v:{}},Rn),Ma=function(){function h(){var y=this,w,P,q,G,re;Ae(),qo(h,y,function(Ke){Ke[Kl]=function(bt,It,yt,ut){Ee(bt,It,ut),w=!0},Ke[cu]=function(bt,It){var yt,ut=Ke[lo];if(!ut||bt&&ut!==bt[lo]())return;var sr,Mt=!1,pr=bt||Qn(null,ut,q&&q[is]?q[is]():q),er=It||(yt={reason:0},yt[jd]=!1,yt);function ar(){Mt||(Mt=!0,G.run(pr,It),re.run(pr[g]()),sr===!0&&pr[Fn](er),Ae())}return!Ke[v]||Ke[v](pr,er,ar)!==!0?ar():sr=!0,sr},Ke[R]=function(bt,It){var yt=Ke[lo];if(!yt||bt&&yt!==bt[lo]())return;var ut,sr=!1,Mt=bt||Qr(null,yt,q&&q[is]?q[is]():q),pr=It||{reason:0};function er(){sr||(sr=!0,Ee(Mt.getCfg(),Mt.core(),Mt[O]()))}return!Ke._doUpdate||Ke._doUpdate(Mt,pr,er)!==!0?er():ut=!0,ut},Wm(Ke,"_addUnloadCb",function(){return G},"add"),Wm(Ke,"_addHook",function(){return re},"add"),Fo(Ke,"_unloadHooks",{g:function(){return re}})}),y[g]=function(Ke){return le(Ke)[g]()},y[$o]=function(){return w},y.setInitialized=function(Ke){w=Ke},y[F]=function(Ke){q=Ke},y[Fn]=function(Ke,bt){bt?bt[Fn](Ke):q&&st(q[uu])&&q[uu](Ke,null)},y._getTelCtx=le;function le(Ke){Ke===void 0&&(Ke=null);var bt=Ke;if(!bt){var It=P||In(null,{},y[lo]);q&&q[is]?bt=It[Ds](null,q[is]):bt=It[Ds](null,q)}return bt}function Ee(Ke,bt,It){La(Ke,pc,ig(bt)),!It&&bt&&(It=bt[au]()[O]());var yt=q;q&&q[is]&&(yt=q[is]()),y[lo]=bt,P=In(It,Ke,bt,yt)}function Ae(){w=!1,y[lo]=null,P=null,q=null,re=$n(),G=Si()}}return h.__ieDyn=1,h}();function pv(h,y,w){var P={id:y,fn:w};$s(h,P);var q={remove:function(){Dn(h,function(G,re){if(G.id===P.id)return h[Oa](re,1),-1})}};return q}function ug(h,y,w){for(var P=!1,q=h[zi],G=0;G<q;++G){var re=h[G];if(re)try{if(re.fn[Of](null,[y])===!1){P=!0;break}}catch(le){bn(w,2,64,"Telemetry initializer failed: "+Ac(le),{exception:kt(le)},!0)}}return!P}var xy=function(h){_l(y,h);function y(){var w=h.call(this)||this;w.identifier="TelemetryInitializerPlugin",w.priority=199;var P,q;G(),qo(y,w,function(re,le){re.addTelemetryInitializer=function(Ee){return pv(q,P++,Ee)},re[uu]=function(Ee,Ae){ug(q,Ee,Ae?Ae[g]():re[g]())&&re[Fn](Ee,Ae)},re[v]=function(){G()}});function G(){P=0,q=[]}return w}return y.__ieDyn=1,y}(Ma),cd,Yh="Plugins must provide initialize method",Oy="_notificationManager",Iy="SDK is still unloading...",or="SDK is not initialized",un=Ji((cd={cookieCfg:{}},cd[Mp]={rdOnly:!0,ref:!0,v:[]},cd[jm]={rdOnly:!0,ref:!0,v:[]},cd[Hd]={ref:!0,v:{}},cd[M_]=Ud,cd.loggingLevelConsole=0,cd.diagnosticLogInterval=Ud,cd));function hi(h,y){return new bw(y)}function os(h,y,w){var P,q=[],G=[],re={};return Dn(w,function(le){(xe(le)||xe(le[Kl]))&&$r(Yh);var Ee=le[Bd],Ae=le[kc];le&&Ee&&(xe(re[Ee])?re[Ee]=Ae:Dy(h,"Two extensions have same priority #"+Ee+" - "+re[Ee]+", "+Ae)),!Ee||Ee<y?q[wi](le):G[wi](le)}),P={},P[lo]=q,P[jm]=G,P}function Es(h,y){var w=!1;return Dn(y,function(P){if(P===h)return w=!0,-1}),w}function Rs(h,y,w,P){w&&Or(w,function(q,G){P&&Cs(G)&&Cs(y[q])&&Rs(h,y[q],G,P),P&&Cs(G)&&Cs(y[q])?Rs(h,y[q],G,P):h.set(y,q,G)})}function Fs(h,y){var w=null,P=-1;return Dn(h,function(q,G){if(q.w===y)return w=q,P=G,-1}),{i:P,l:w}}function lg(h,y){var w=Fs(h,y).l;return w||(w={w:y,rm:function(){var P=Fs(h,y);P.i!==-1&&h[Oa](P.i,1)}},h[wi](w)),w}function Jp(h,y,w){Dn(y,function(P){var q=Wh(h,P.w,w);delete P.w,P.rm=function(){q.rm()}})}var Xp=function(){function h(){var y,w,P,q,G,re,le,Ee,Ae,Ke,bt,It,yt,ut,sr,Mt,pr,er,ar,nn,Ii,as,qc,qa,fd,tl,_R,tb;qo(h,this,function(Ur){vr(),Ur._getDbgPlgTargets=function(){return[qc]},Ur[$o]=function(){return w},Ur[Kl]=function(Bt,Yr,bi,li){yt&&$r(Iy),Ur[$o]()&&$r("Core cannot be initialized more than once"),y=La(Bt,un,bi||Ur[Vi],!1),Bt=y.cfg,qw(y[bl](function(xs){Ii=xs.cfg.instrumentationKey;var du=xs.ref(xs.cfg,Hd);Or(du,function(rl){xs.ref(du,rl)}),xe(Ii)&&$r("Please provide instrumentation key")})),G=li,Jk(),e2(),Ur[Vi]=bi;var ri=Bt[Mp];if(Ke=[],Ke[wi].apply(Ke,Fh(Fh([],Yr,!1),ri)),bt=Bt[jm],Yk(null),(!It||It[zi]===0)&&$r("No "+jm+" available"),bt&&bt[zi]>1){var Ps=Ur[oc]("TeeChannelController");(!Ps||!Ps.plugin)&&bn(P,1,28,"TeeChannel required")}Jp(Bt,as,P),as=null,w=!0,Ur.releaseQueue(),Ur[la]()},Ur.getChannels=function(){var Bt=[];return It&&Dn(It,function(Yr){Bt[wi](Yr)}),oi(Bt)},Ur.track=function(Bt){Yp(Ur[ns](),function(){return"AppInsightsCore:track"},function(){Bt===null&&(t2(Bt),$r("Invalid telemetry item")),!Bt[uo]&&xe(Bt[uo])&&(t2(Bt),$r("telemetry name required")),Bt.iKey=Bt.iKey||Ii,Bt[Ru]=Bt[Ru]||Vd(new Date),Bt.ver=Bt.ver||"4.0",!yt&&Ur[$o]()?s0()[Fn](Bt):q[wi](Bt)},function(){return{item:Bt}},!Bt.sync)},Ur[au]=s0,Ur[xo]=function(){return G||(G=new dv(y.cfg),Ur[Oy]=G),G},Ur[ai]=function(Bt){Ur[xo]()[ai](Bt)},Ur[Yl]=function(Bt){G&&G[Yl](Bt)},Ur.getCookieMgr=function(){return Ee||(Ee=vw(y.cfg,Ur[Vi])),Ee},Ur.setCookieMgr=function(Bt){Ee!==Bt&&($h(Ee,!1),Ee=Bt)},Ur[ns]=function(){return!re&&!le&&qw(y[bl](function(Bt){if(Bt.cfg.enablePerfMgr){var Yr=Bt.cfg[M_];st(Yr)&&(le=Yr(Ur,Ur[xo]()))}})),re||le||hv()},Ur.setPerfMgr=function(Bt){re=Bt},Ur.eventCnt=function(){return q[zi]},Ur.releaseQueue=function(){if(w&&q[zi]>0){var Bt=q;q=[],Dn(Bt,function(Yr){s0()[Fn](Yr)})}},Ur[la]=function(Bt){return sr=Bt||null,tb=!1,tl&&tl[Fd](),rb(!0)};function rb(Bt){if((!tl||!tl[Ia])&&!tb){var Yr=Bt||P&&P.queue[zi]>0;Yr&&(_R||(_R=!0,qw(y[bl](function(bi){var li=bi.cfg.diagnosticLogInterval;(!li||!(li>0))&&(li=1e4);var ri=!1;tl&&(ri=tl[Ia],tl[Fd]()),tl=Ep(c0,li),tl.unref(),tl[Ia]=ri}))),tl[Ia]=!0)}return tl}Ur[va]=function(){tb=!0,tl&&tl[Fd](),c0()},Jg(Ur,function(){return ut},["addTelemetryInitializer"]),Ur[da]=function(Bt,Yr,bi){var li;Bt===void 0&&(Bt=!0),w||$r(or),yt&&$r(Iy);var ri=(li={reason:50},li[jd]=Bt,li.flushComplete=!1,li),Ps;Bt&&!Yr&&(Ps=Np(function(rl){Yr=rl}));var xs=Qn(a0(),Ur);xs[Jl](function(){er.run(Ur[Vi]),j_([Ee,G,P],Bt,function(){vr(),Yr&&Yr(ri)})},Ur);function du(rl){ri.flushComplete=rl,yt=!0,pr.run(xs,ri),Ur[va](),xs[Fn](ri)}return c0(),Zq(Bt,du,6,bi),Ps},Ur[oc]=bR,Ur.addPlugin=function(Bt,Yr,bi,li){if(!Bt){li&&li(!1),Fw(Yh);return}var ri=bR(Bt[kc]);if(ri&&!Yr){li&&li(!1),Fw("Plugin ["+Bt[kc]+"] is already loaded!");return}var Ps={reason:16};function xs(gg){Ke[wi](Bt),Ps.added=[Bt],Yk(Ps),li&&li(!0)}if(ri){var du=[ri.plugin],rl={reason:2,isAsync:!!bi};wR(du,rl,function(gg){gg?(Ps.removed=du,Ps.reason|=32,xs()):li&&li(!1)})}else xs()},Ur.updateCfg=function(Bt,Yr){Yr===void 0&&(Yr=!0);var bi;if(Ur[$o]()){bi={reason:1,cfg:y.cfg,oldCfg:Cu({},y.cfg),newConfig:Cu({},Bt),merge:Yr},Bt=bi.newConfig;var li=y.cfg;Bt[Mp]=li[Mp],Bt[jm]=li[jm]}y._block(function(ri){var Ps=ri.cfg;Rs(ri,Ps,Bt,Yr),Yr||Or(Ps,function(xs){ln(Bt,xs)||ri.set(Ps,xs,Ud)}),ri[ua](Ps,un)},!0),y[Xu](),bi&&Xk(bi)},Ur.evtNamespace=function(){return Mt},Ur.flush=Zq,Ur.getTraceCtx=function(Bt){return nn||(nn=We()),nn},Ur.setTraceCtx=function(Bt){nn=Bt||null},Ur.addUnloadHook=qw,Wm(Ur,"addUnloadCb",function(){return pr},"add"),Ur.onCfgChange=function(Bt){var Yr;return w?Yr=Wh(y.cfg,Bt,Ur[Vi]):Yr=lg(as,Bt),{rm:function(){Yr.rm()}}},Ur.getWParam=function(){return Mn()||y.cfg.enableWParam?0:-1};function nb(){var Bt={};qa=[];var Yr=function(bi){bi&&Dn(bi,function(li){if(li[kc]&&li[sc]&&!Bt[li.identifier]){var ri=li[kc]+"="+li[sc];qa[wi](ri),Bt[li.identifier]=li}})};Yr(It),bt&&Dn(bt,function(bi){Yr(bi)}),Yr(Ke)}function vr(){w=!1,y=La({},un,Ur[Vi]),y.cfg[qd]=1,Fo(Ur,"config",{g:function(){return y.cfg},s:function(Yr){Ur.updateCfg(Yr,!1)}}),Fo(Ur,"pluginVersionStringArr",{g:function(){return qa||nb(),qa}}),Fo(Ur,"pluginVersionString",{g:function(){return fd||(qa||nb(),fd=qa.join(";")),fd||Xi}}),Fo(Ur,"logger",{g:function(){return P||(P=new cv(y.cfg),y[Vi]=P),P},s:function(Yr){y[Vi]=Yr,P!==Yr&&($h(P,!1),P=Yr)}}),Ur[Vi]=new cv(y.cfg),qc=[];var Bt=Ur.config[Mp]||[];Bt.splice(0,Bt[zi]),$s(Bt,qc),ut=new xy,q=[],$h(G,!1),G=null,re=null,le=null,$h(Ee,!1),Ee=null,Ae=null,Ke=[],bt=null,It=null,yt=!1,sr=null,Mt=Lc("AIBaseCore",!0),pr=Si(),nn=null,Ii=null,er=$n(),as=[],fd=null,qa=null,tb=!1}function s0(){var Bt=In(a0(),y.cfg,Ur);return Bt[Jl](rb),Bt}function Yk(Bt){var Yr=os(Ur[Vi],OC,Ke);Ae=null,fd=null,qa=null,It=(bt||[])[0]||[],It=ve($s(It,Yr[jm]));var bi=$s(ve(Yr[lo]),It);qc=oi(bi);var li=Ur.config[Mp]||[];li.splice(0,li[zi]),$s(li,qc);var ri=s0();It&&It[zi]>0&&Y(ri[Ds](It),bi),Y(ri,bi),Bt&&Xk(Bt)}function bR(Bt){var Yr=null,bi=null,li=[];return Dn(qc,function(ri){if(ri[kc]===Bt&&ri!==ut)return bi=ri,-1;ri.getChannel&&li[wi](ri)}),!bi&&li[zi]>0&&Dn(li,function(ri){if(bi=ri.getChannel(Bt),!bi)return-1}),bi&&(Yr={plugin:bi,setEnabled:function(ri){z(bi)[my]=!ri},isEnabled:function(){var ri=z(bi);return!ri[cu]&&!ri[my]},remove:function(ri,Ps){var xs;ri===void 0&&(ri=!0);var du=[bi],rl=(xs={reason:1},xs[jd]=ri,xs);wR(du,rl,function(gg){gg&&Yk({reason:32,removed:du}),Ps&&Ps(gg)})}}),Yr}function a0(){if(!Ae){var Bt=(qc||[]).slice();Vs(Bt,ut)===-1&&Bt[wi](ut),Ae=Zn(ve(Bt),y.cfg,Ur)}return Ae}function wR(Bt,Yr,bi){if(Bt&&Bt[zi]>0){var li=Zn(Bt,y.cfg,Ur),ri=Qn(li,Ur);ri[Jl](function(){var Ps=!1,xs=[];Dn(Ke,function(rl,gg){Es(rl,Bt)?Ps=!0:xs[wi](rl)}),Ke=xs,fd=null,qa=null;var du=[];bt&&(Dn(bt,function(rl,gg){var jw=[];Dn(rl,function(r2){Es(r2,Bt)?Ps=!0:jw[wi](r2)}),du[wi](jw)}),bt=du),bi&&bi(Ps),rb()}),ri[Fn](Yr)}else bi(!1)}function c0(){if(P&&P.queue){var Bt=P.queue.slice(0);P.queue[zi]=0,Dn(Bt,function(Yr){var bi,li=(bi={},bi[uo]=sr||"InternalMessageId: "+Yr[wl],bi.iKey=Ii,bi[Ru]=Vd(new Date),bi.baseType=rd.dataType,bi.baseData={message:Yr[Xl]},bi);Ur.track(li)})}}function Zq(Bt,Yr,bi,li){var ri=1,Ps=!1,xs=null;li=li||5e3;function du(){ri--,Ps&&ri===0&&(xs&&xs[Fd](),xs=null,Yr&&Yr(Ps),Yr=null)}if(It&&It[zi]>0){var rl=s0()[Ds](It);rl.iterate(function(gg){if(gg.flush){ri++;var jw=!1;gg.flush(Bt,function(){jw=!0,du()},bi)||jw||(Bt&&xs==null?xs=Lh(function(){xs=null,du()},li):du())}})}return Ps=!0,du(),!0}function Jk(){!G&&Ur[xo](),qw(y[bl](function(Bt){var Yr=Bt.cfg.disableDbgExt;Yr===!0&&ar&&(G[Yl](ar),ar=null),G&&!ar&&Yr!==!0&&(ar=BD(Bt.cfg),G[ai](ar))}))}function e2(){qw(y[bl](function(Bt){var Yr=Bt.cfg.enablePerfMgr;!Yr&&le&&(le=null),Yr&&Bm(Bt.cfg,M_,hi)}))}function Xk(Bt){var Yr=Qr(a0(),Ur);Yr[Jl](rb),(!Ur._updateHook||Ur._updateHook(Yr,Bt)!==!0)&&Yr[Fn](Bt)}function Fw(Bt){var Yr=Ur[Vi];Yr?(bn(Yr,2,73,Bt),rb()):$r(Bt)}function t2(Bt){var Yr=Ur[xo]();Yr&&Yr[Ns]([Bt],2)}function qw(Bt){er.add(Bt)}})}return h.__ieDyn=1,h}(),Cw="on",dg="attachEvent",Jh="addEventListener",ky="detachEvent",Nu="removeEventListener",fg="events";Lc("aiEvtPageHide"),Lc("aiEvtPageShow");var Xh=/\.[\.]+/g,mv=/[\.]+$/,hR=1,gv=Tl("events"),Zu=/^([^.]*)(?:\.(.+)|)/;function Rl(h){return h&&h[ke]?h[ke](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Xi):h}function Ay(h,y){var w;if(y){var P=Xi;tt(y)?(P=Xi,Dn(y,function(G){G=Rl(G),G&&(G[0]!=="."&&(G="."+G),P+=G)})):P=Rl(y),P&&(P[0]!=="."&&(P="."+P),h=(h||Xi)+P)}var q=Zu.exec(h||Xi)||[];return w={},w[ht]=q[1],w.ns=(q[2]||Xi).replace(Xh,".").replace(mv,Xi)[Z](".").sort().join("."),w}function Bf(h,y,w){w===void 0&&(w=!0);var P=gv.get(h,fg,{},w),q=P[y];return q||(q=P[y]=[]),q}function $D(h,y,w,P){h&&y&&y[ht]&&(h[Nu]?h[Nu](y[ht],w,P):h[ky]&&h[ky](Cw+y[ht],w))}function MC(h,y,w,P){var q=!1;return h&&y&&y[ht]&&w&&(h[Jh]?(h[Jh](y[ht],w,P),q=!0):h[dg]&&(h[dg](Cw+y[ht],w),q=!0)),q}function pR(h,y,w,P){for(var q=y[zi];q--;){var G=y[q];G&&(!w.ns||w.ns===G.evtName.ns)&&(!P||P(G))&&($D(h,G.evtName,G[Ut],G.capture),y[Oa](q,1))}}function mR(h,y,w){if(y[ht])pR(h,Bf(h,y[ht]),y,w);else{var P=gv.get(h,fg,{});Or(P,function(q,G){pR(h,G,y,w)}),Gr(P)[zi]===0&&gv.kill(h,fg)}}function FC(h,y){var w;return y?(tt(y)?w=[h].concat(y):w=[h,y],w=Ay("xx",w).ns[Z](".")):w=h,w}function Wf(h,y,w,P,q){var G;q===void 0&&(q=!1);var re=!1;if(h)try{var le=Ay(y,P);if(re=MC(h,le,w,q),re&&gv.accept(h)){var Ee=(G={guid:hR++,evtName:le},G[Ut]=w,G.capture=q,G);Bf(h,le.type)[wi](Ee)}}catch{}return re}function VD(h,y,w,P,q){if(q===void 0&&(q=!1),h)try{var G=Ay(y,P),re=!1;mR(h,G,function(le){return G.ns&&!w||le[Ut]===w?(re=!0,!0):!1}),re||$D(h,G,w,q)}catch{}}var $_="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Tw="sampleRate",Dw="ProcessLegacy",Ew="http.method",qC="https://dc.services.visualstudio.com",V_="/v2/track",$f="not_specified",G_=xp({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Rw="split",to="length",jC="toLowerCase",vv="ingestionendpoint",Ly="toString",gR="removeItem",Vf="name",ud="message",zC="count",Qh="stringify",yv="pathname",Qp="exceptions",Pl="parsedStack",Zh="properties",Zp="measurements",_v="sizeInBytes",em="typeName",Pw="severityLevel",UC="problemGroup",GD="isManual",K_="CreateFromInterface",Ny="assembly",bv="fileName",My="hasFullStack",xw="level",wv="method",Y_="line",Ow="duration",J_="receivedResponse";function vR(h,y,w){var P=y[to],q=Iw(h,y);if(q[to]!==P){for(var G=0,re=q;w[re]!==void 0;)G++,re=fe(q,0,147)+Tv(G);q=re}return q}function Iw(h,y){var w;return y&&(y=Ks(ft(y)),y[to]>150&&(w=fe(y,0,150),bn(h,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),w||y}function Fa(h,y,w){w===void 0&&(w=1024);var P;return y&&(w=w||1024,y=Ks(ft(y)),y[to]>w&&(P=fe(y,0,w),bn(h,2,61,"string value is too long. It has been truncated to "+w+" characters.",{value:y},!0))),P||y}function tm(h,y){return kw(h,y,2048,66)}function Sv(h,y){var w;return y&&y[to]>32768&&(w=fe(y,0,32768),bn(h,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),w||y}function KD(h,y){var w;if(y){var P=""+y;P[to]>32768&&(w=fe(P,0,32768),bn(h,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return w||y}function hg(h,y){if(y){var w={};Or(y,function(P,q){if(at(q)&&lu())try{q=uc()[Qh](q)}catch(G){bn(h,2,49,"custom property is not valid",{exception:G},!0)}q=Fa(h,q,8192),P=vR(h,P,w),w[P]=q}),y=w}return y}function Cv(h,y){if(y){var w={};Or(y,function(P,q){P=vR(h,P,w),w[P]=q}),y=w}return y}function X_(h,y){return y&&kw(h,y,128,69)[Ly]()}function kw(h,y,w,P){var q;return y&&(y=Ks(ft(y)),y[to]>w&&(q=fe(y,0,w),bn(h,2,P,"input is too long, it has been truncated to "+w+" characters.",{data:y},!0))),q||y}function Tv(h){var y="00"+h;return S(y,y[to]-3)}var Dv=ao()||{},YD=0,JD=[null,null,null,null,null];function Q_(h){var y=YD,w=JD,P=w[y];return Dv.createElement?w[y]||(P=w[y]=Dv.createElement("a")):P={host:XD(h,!0)},P.href=h,y++,y>=w[to]&&(y=0),YD=y,P}function XD(h,y){var w=Vk(h,y)||"";if(w){var P=w.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(P!=null&&P[to]>3&&ze(P[2])&&P[2][to]>0)return P[2]+(P[3]||"")}return w}function Vk(h,y){var w=null;if(h){var P=h.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(P!=null&&P[to]>2&&ze(P[2])&&P[2][to]>0&&(w=P[2]||"",y&&P[to]>2)){var q=(P[1]||"")[jC](),G=P[3]||"";(q==="http"&&G===":80"||q==="https"&&G===":443")&&(G=""),w+=G}}return w}var Gk=[qC+V_,"https://breeze.aimon.applicationinsights.io"+V_,"https://dc-int.services.visualstudio.com"+V_];function pg(h){return Vs(Gk,h[jC]())!==-1}function Kk(h,y,w,P){var q,G=P,re=P;if(y&&y[to]>0){var le=Q_(y);if(q=le.host,!G)if(le[yv]!=null){var Ee=le.pathname[to]===0?"/":le[yv];Ee.charAt(0)!=="/"&&(Ee="/"+Ee),re=le[yv],G=Fa(h,w?w+" "+Ee:Ee)}else G=Fa(h,y)}else q=P,G=P;return{target:q,name:G,data:re}}var Aw=Md({LocalStorage:0,SessionStorage:1});Md({AI:0,AI_AND_W3C:1,W3C:2});var Fy=void 0,HC="";function BC(h){try{if(xe(Ln()))return null;var y=new Date()[Ly](),w=Cn(h===Aw.LocalStorage?"localStorage":"sessionStorage"),P=HC+y;w.setItem(P,y);var q=w.getItem(P)!==y;if(w[gR](P),!q)return w}catch{}return null}function Lw(){return QD()?BC(Aw.SessionStorage):null}function mg(h){HC=h||""}function QD(h){return(h||Fy===void 0)&&(Fy=!!BC(Aw.SessionStorage)),Fy}function Qs(h,y){var w=Lw();if(w!==null)try{return w.getItem(y)}catch(P){Fy=!1,bn(h,2,2,"Browser failed read of session storage. "+Ac(P),{exception:kt(P)})}return null}function ep(h,y,w){var P=Lw();if(P!==null)try{return P.setItem(y,w),!0}catch(q){Fy=!1,bn(h,2,4,"Browser failed write to session storage. "+Ac(q),{exception:kt(q)})}return!1}var Zs=";",ZD="=";function e0(h){if(!h)return{};var y=h[Rw](Zs),w=ru(y,function(q,G){var re=G[Rw](ZD);if(re[to]===2){var le=re[0][jC](),Ee=re[1];q[le]=Ee}return q},{});if(Gr(w)[to]>0){if(w.endpointsuffix){var P=w.location?w.location+".":"";w[vv]=w[vv]||"https://"+P+"dc."+w.endpointsuffix}w[vv]=w[vv]||qC,sa(w[vv],"/")&&(w[vv]=w[vv].slice(0,-1))}return w}var t0=function(){function h(y,w,P){var q=this,G=this;G.ver=1,G.sampleRate=100,G.tags={},G[Vf]=Fa(y,P)||$f,G.data=w,G.time=Vd(new Date),G.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return q.sampleRate===100?4:1},tags:1,data:1}}return h}(),T=function(){function h(y,w,P,q){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var G=this;G.ver=2,G[Vf]=Fa(y,w)||$f,G[Zh]=hg(y,P),G[Zp]=Cv(y,q)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Event",h.dataType="EventData",h}(),L="<no_method>",B="error",X="stack",se="stackDetails",Se="errorSrc",Te="message",Xe="description";function lt(h,y){var w=h;return w&&!ze(w)&&(JSON&&JSON[Qh]?(w=JSON[Qh](h),y&&(!w||w==="{}")&&(st(h[Ly])?w=h[Ly]():w=""+h)):w=""+h+" - (Missing JSON.stringify)"),w||""}function gt(h,y){var w=h;return h&&(w&&!ze(w)&&(w=h[Te]||h[Xe]||w),w&&!ze(w)&&(w=lt(w,!0)),h.filename&&(w=w+" @"+(h.filename||"")+":"+(h.lineno||"?")+":"+(h.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Wu(w||"",y)===-1&&(w=y+": "+w),w||""}function jt(h){try{if(at(h))return"hasFullStack"in h&&"typeName"in h}catch{}return!1}function Rr(h){try{if(at(h))return"ver"in h&&"exceptions"in h&&"properties"in h}catch{}return!1}function wr(h){return h&&h.src&&ze(h.src)&&h.obj&&tt(h.obj)}function Lt(h){var y=h||"";ze(y)||(ze(y[X])?y=y[X]:y=""+y);var w=y[Rw](`
`);return{src:y,obj:w}}function Rt(h){for(var y=[],w=h[Rw](`
`),P=0;P<w[to];P++){var q=w[P];w[P+1]&&(q+="@"+w[P+1],P++),y.push(q)}return{src:h,obj:y}}function qt(h){var y=null;if(h)try{if(h[X])y=Lt(h[X]);else if(h[B]&&h[B][X])y=Lt(h[B][X]);else if(h.exception&&h.exception[X])y=Lt(h.exception[X]);else if(wr(h))y=h;else if(wr(h[se]))y=h[se];else if(Ro()&&Ro().opera&&h[Te])y=Rt(h[ud]);else if(h.reason&&h.reason[X])y=Lt(h.reason[X]);else if(ze(h))y=Lt(h);else{var w=h[Te]||h[Xe]||"";ze(h[Se])&&(w&&(w+=`
`),w+=" from "+h[Se]),w&&(y=Lt(w))}}catch(P){y=Lt(P)}return y||{src:"",obj:null}}function Et(h){var y="";return h&&(h.obj?Dn(h.obj,function(w){y+=w+`
`}):y=h.src||""),y}function ur(h){var y,w=h.obj;if(w&&w[to]>0){y=[];var P=0,q=0;Dn(w,function(ut){var sr=ut[Ly]();if(ci.regex.test(sr)){var Mt=new ci(sr,P++);q+=Mt[_v],y.push(Mt)}});var G=32*1024;if(q>G)for(var re=0,le=y[to]-1,Ee=0,Ae=re,Ke=le;re<le;){var bt=y[re][_v],It=y[le][_v];if(Ee+=bt+It,Ee>G){var yt=Ke-Ae+1;y.splice(Ae,yt);break}Ae=re,Ke=le,re++,le--}}return y}function nr(h){var y="";if(h&&(y=h.typeName||h[Vf]||"",!y))try{var w=/function (.{1,200})\(/,P=w.exec(h.constructor[Ly]());y=P&&P[to]>1?P[1]:""}catch{}return y}function yr(h){if(h)try{if(!ze(h)){var y=nr(h),w=lt(h,!1);return(!w||w==="{}")&&(h[B]&&(h=h[B],y=nr(h)),w=lt(h,!0)),Wu(w,y)!==0&&y!=="String"?y+":"+w:w}}catch{}return""+(h||"")}var hn=function(){function h(y,w,P,q,G,re){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var le=this;le.ver=2,Rr(w)?(le[Qp]=w[Qp]||[],le[Zh]=w[Zh],le[Zp]=w[Zp],w[Pw]&&(le[Pw]=w[Pw]),w.id&&(le.id=w.id),w[UC]&&(le[UC]=w[UC]),xe(w[GD])||(le[GD]=w[GD])):(P||(P={}),le[Qp]=[new pi(y,w,P)],le[Zh]=hg(y,P),le[Zp]=Cv(y,q),G&&(le[Pw]=G),re&&(le.id=re))}return h.CreateAutoException=function(y,w,P,q,G,re,le,Ee){var Ae,Ke=nr(G||re||y);return Ae={},Ae[ud]=gt(y,Ke),Ae.url=w,Ae.lineNumber=P,Ae.columnNumber=q,Ae.error=yr(G||re||y),Ae.evt=yr(re||y),Ae[em]=Ke,Ae.stackDetails=qt(le||G||re),Ae.errorSrc=Ee,Ae},h.CreateFromInterface=function(y,w,P,q){var G=w[Qp]&&wu(w[Qp],function(le){return pi[K_](y,le)}),re=new h(y,ms(ms({},w),{exceptions:G}),P,q);return re},h.prototype.toInterface=function(){var y,w=this,P=w.exceptions,q=w.properties,G=w.measurements,re=w.severityLevel,le=w.problemGroup,Ee=w.id,Ae=w.isManual,Ke=P instanceof Array&&wu(P,function(bt){return bt.toInterface()})||void 0;return y={ver:"4.0"},y[Qp]=Ke,y.severityLevel=re,y.properties=q,y.measurements=G,y.problemGroup=le,y.id=Ee,y.isManual=Ae,y},h.CreateSimpleException=function(y,w,P,q,G,re){var le;return{exceptions:[(le={},le[My]=!0,le.message=y,le.stack=G,le.typeName=w,le)]}},h.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",h.dataType="ExceptionData",h.formatError=yr,h}(),pi=function(){function h(y,w,P){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var q=this;if(jt(w))q[em]=w[em],q[ud]=w[ud],q[X]=w[X],q[Pl]=w[Pl]||[],q[My]=w[My];else{var G=w,re=G&&G.evt;cr(G)||(G=G[B]||re||G),q[em]=Fa(y,nr(G))||$f,q[ud]=Sv(y,gt(w||G,q[em]))||$f;var le=w[se]||qt(w);q[Pl]=ur(le),tt(q[Pl])&&wu(q[Pl],function(Ee){Ee[Ny]=Fa(y,Ee[Ny]),Ee[bv]=Fa(y,Ee[bv])}),q[X]=KD(y,Et(le)),q.hasFullStack=tt(q.parsedStack)&&q.parsedStack[to]>0,P&&(P[em]=P[em]||q[em])}}return h.prototype.toInterface=function(){var y,w=this,P=w[Pl]instanceof Array&&wu(w[Pl],function(G){return G.toInterface()}),q=(y={id:w.id,outerId:w.outerId,typeName:w[em],message:w[ud],hasFullStack:w[My],stack:w[X]},y[Pl]=P||void 0,y);return q},h.CreateFromInterface=function(y,w){var P=w[Pl]instanceof Array&&wu(w[Pl],function(G){return ci[K_](G)})||w[Pl],q=new h(y,ms(ms({},w),{parsedStack:P}));return q},h}(),ci=function(){function h(y,w){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var P=this;if(P[_v]=0,typeof y=="string"){var q=y;P[xw]=w,P[wv]=L,P[Ny]=Ks(q),P[bv]="",P[Y_]=0;var G=q.match(h.regex);G&&G[to]>=5&&(P[wv]=Ks(G[2])||P[wv],P[bv]=Ks(G[4]),P[Y_]=parseInt(G[5])||0)}else P[xw]=y[xw],P[wv]=y[wv],P[Ny]=y[Ny],P[bv]=y[bv],P[Y_]=y[Y_],P[_v]=0;P.sizeInBytes+=P.method[to],P.sizeInBytes+=P.fileName[to],P.sizeInBytes+=P.assembly[to],P[_v]+=h.baseSize,P.sizeInBytes+=P.level.toString()[to],P.sizeInBytes+=P.line.toString()[to]}return h.CreateFromInterface=function(y){return new h(y,null)},h.prototype.toInterface=function(){var y=this;return{level:y[xw],method:y[wv],assembly:y[Ny],fileName:y[bv],line:y[Y_]}},h.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,h.baseSize=58,h}(),fo=function(){function h(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return h}(),Go=function(){function h(y,w,P,q,G,re,le,Ee,Ae){this.aiDataContract={ver:1,metrics:1,properties:0};var Ke=this;Ke.ver=2;var bt=new fo;bt[zC]=q>0?q:void 0,bt.max=isNaN(re)||re===null?void 0:re,bt.min=isNaN(G)||G===null?void 0:G,bt[Vf]=Fa(y,w)||$f,bt.value=P,bt.stdDev=isNaN(le)||le===null?void 0:le,Ke.metrics=[bt],Ke[Zh]=hg(y,Ee),Ke[Zp]=Cv(y,Ae)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",h.dataType="MetricData",h}(),Oo="";function qs(h){(isNaN(h)||h<0)&&(h=0),h=Math.round(h);var y=Oo+h%1e3,w=Oo+Math.floor(h/1e3)%60,P=Oo+Math.floor(h/(1e3*60))%60,q=Oo+Math.floor(h/(1e3*60*60))%24,G=Math.floor(h/(1e3*60*60*24));return y=y[to]===1?"00"+y:y[to]===2?"0"+y:y,w=w[to]<2?"0"+w:w,P=P[to]<2?"0"+P:P,q=q[to]<2?"0"+q:q,(G>0?G+".":Oo)+q+":"+P+":"+w+"."+y}var mc=function(){function h(y,w,P,q,G,re,le){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Ee=this;Ee.ver=2,Ee.id=X_(y,le),Ee.url=tm(y,P),Ee[Vf]=Fa(y,w)||$f,isNaN(q)||(Ee[Ow]=qs(q)),Ee[Zh]=hg(y,G),Ee[Zp]=Cv(y,re)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",h.dataType="PageviewData",h}(),Qi=function(){function h(y,w,P,q,G,re,le,Ee,Ae,Ke,bt,It){Ae===void 0&&(Ae="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var yt=this;yt.ver=2,yt.id=w,yt[Ow]=qs(G),yt.success=re,yt.resultCode=le+"",yt.type=Fa(y,Ae);var ut=Kk(y,P,Ee,q);yt.data=tm(y,q)||ut.data,yt.target=Fa(y,ut.target),Ke&&(yt.target="".concat(yt.target," | ").concat(Ke)),yt[Vf]=Fa(y,ut[Vf]),yt[Zh]=hg(y,bt),yt[Zp]=Cv(y,It)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",h.dataType="RemoteDependencyData",h}(),Nc=function(){function h(y,w,P,q,G){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var re=this;re.ver=2,w=w||$f,re[ud]=Sv(y,w),re[Zh]=hg(y,q),re[Zp]=Cv(y,G),P&&(re[Pw]=P)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Message",h.dataType="MessageData",h}(),Mc=function(){function h(y,w,P,q,G,re,le){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Ee=this;Ee.ver=2,Ee.url=tm(y,P),Ee[Vf]=Fa(y,w)||$f,Ee[Zh]=hg(y,G),Ee[Zp]=Cv(y,re),le&&(Ee.domProcessing=le.domProcessing,Ee[Ow]=le[Ow],Ee.networkConnect=le.networkConnect,Ee.perfTotal=le.perfTotal,Ee[J_]=le[J_],Ee.sentRequest=le.sentRequest)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",h.dataType="PageviewPerformanceData",h}(),fa=function(){function h(y,w){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=w}return h}(),xl=Md({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function ya(h){var y="ai."+h+".";return function(w){return y+w}}var _a=ya("application"),Ci=ya("device"),ro=ya("location"),ld=ya("operation"),Z_=ya("session"),rm=ya("user"),nm=ya("cloud"),m=ya("internal"),b=function(h){_l(y,h);function y(){return h.call(this)||this}return y}(jp({applicationVersion:_a("ver"),applicationBuild:_a("build"),applicationTypeId:_a("typeId"),applicationId:_a("applicationId"),applicationLayer:_a("layer"),deviceId:Ci("id"),deviceIp:Ci("ip"),deviceLanguage:Ci("language"),deviceLocale:Ci("locale"),deviceModel:Ci("model"),deviceFriendlyName:Ci("friendlyName"),deviceNetwork:Ci("network"),deviceNetworkName:Ci("networkName"),deviceOEMName:Ci("oemName"),deviceOS:Ci("os"),deviceOSVersion:Ci("osVersion"),deviceRoleInstance:Ci("roleInstance"),deviceRoleName:Ci("roleName"),deviceScreenResolution:Ci("screenResolution"),deviceType:Ci("type"),deviceMachineName:Ci("machineName"),deviceVMName:Ci("vmName"),deviceBrowser:Ci("browser"),deviceBrowserVersion:Ci("browserVersion"),locationIp:ro("ip"),locationCountry:ro("country"),locationProvince:ro("province"),locationCity:ro("city"),operationId:ld("id"),operationName:ld("name"),operationParentId:ld("parentId"),operationRootId:ld("rootId"),operationSyntheticSource:ld("syntheticSource"),operationCorrelationVector:ld("correlationVector"),sessionId:Z_("id"),sessionIsFirst:Z_("isFirst"),sessionIsNew:Z_("isNew"),userAccountAcquisitionDate:rm("accountAcquisitionDate"),userAccountId:rm("accountId"),userAgent:rm("userAgent"),userId:rm("id"),userStoreRegion:rm("storeRegion"),userAuthUserId:rm("authUserId"),userAnonymousUserAcquisitionDate:rm("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:rm("authUserAcquisitionDate"),cloudName:nm("name"),cloudRole:nm("role"),cloudRoleVer:nm("roleVer"),cloudRoleInstance:nm("roleInstance"),cloudEnvironment:nm("environment"),cloudLocation:nm("location"),cloudDeploymentUnit:nm("deploymentUnit"),internalNodeName:m("nodeName"),internalSdkVersion:m("sdkVersion"),internalAgentVersion:m("agentVersion"),internalSnippet:m("snippet"),internalSdkSrc:m("sdkSrc")})),I=new b,j="AppInsightsChannelPlugin",$="duration",ie="tags",ge="deviceType",Ie="data",Be="name",et="traceID",Ve="length",wt="stringify",ot="measurements",_t="dataType",it="envelopeType",Qt="toString",Vt="onLine",_r="isOnline",Pr="_get",Ir="enqueue",Nn="count",Oi="eventsLimitInMem",Io="push",Ge="emitLineDelimitedJson",At="clear",Zt="batchPayloads",lr="createNew",rn="markAsSent",ei="clearSent",St="bufferOverride",nt="BUFFER_KEY",Tt="SENT_BUFFER_KEY",Ot="MAX_BUFFER_SIZE",gr="sendPOST",xr="triggerSend",Mr="diagLog",ti="_sender",Ko="customHeaders",bo="maxBatchSizeInBytes",tp="onunloadDisableBeacon",nf="isBeaconApiDisabled",eb="alwaysUseXhrOverride",Gf="enableSessionStorageBuffer",im="_buffer",r0="onunloadDisableFetch",Nw="instrumentationKey",Wt="convertUndefined",Kr="maxBatchInterval",ui="baseType",Vn="sampleRate",mi="_xhrReadyStateChange",jo="_onError",ss="_onPartialSuccess",Fc="_onSuccess",Mu="itemsAccepted",Ev="itemsReceived",qy="oriPayload",yR="setRequestHeader",Ime="eventsSendRequest",kme="getSamplingScore",NGe="getHashCodeScore",e8="baseType",gc="baseData",dd="properties",Ame="true";function el(h,y,w){return Iu(h,y,w,hr)}function MGe(h,y,w){var P=w[ie]=w[ie]||{},q=y.ext=y.ext||{},G=y[ie]=y[ie]||[],re=q.user;re&&(el(P,I.userAuthUserId,re.authId),el(P,I.userId,re.id||re.localId));var le=q.app;le&&el(P,I.sessionId,le.sesId);var Ee=q.device;Ee&&(el(P,I.deviceId,Ee.id||Ee.localId),el(P,I[ge],Ee.deviceClass),el(P,I.deviceIp,Ee.ip),el(P,I.deviceModel,Ee.model),el(P,I[ge],Ee[ge]));var Ae=y.ext.web;if(Ae){el(P,I.deviceLanguage,Ae.browserLang),el(P,I.deviceBrowserVersion,Ae.browserVer),el(P,I.deviceBrowser,Ae.browser);var Ke=w[Ie]=w[Ie]||{},bt=Ke[gc]=Ke[gc]||{},It=bt[dd]=bt[dd]||{};el(It,"domain",Ae.domain),el(It,"isManual",Ae.isManual?Ame:null),el(It,"screenRes",Ae.screenRes),el(It,"userConsent",Ae.userConsent?Ame:null)}var yt=q.os;yt&&el(P,I.deviceOS,yt[Be]);var ut=q.trace;ut&&(el(P,I.operationParentId,ut.parentID),el(P,I.operationName,Fa(h,ut[Be])),el(P,I.operationId,ut[et]));for(var sr={},Mt=G[Ve]-1;Mt>=0;Mt--){var pr=G[Mt];Or(pr,function(ar,nn){sr[ar]=nn}),G.splice(Mt,1)}Or(G,function(ar,nn){sr[ar]=nn});var er=ms(ms({},P),sr);er[I.internalSdkVersion]||(er[I.internalSdkVersion]=Fa(h,"javascript:".concat(FGe.Version),64)),w[ie]=En(er)}function WC(h,y,w){xe(h)||Or(h,function(P,q){Lr(q)?w[P]=q:ze(q)?y[P]=q:lu()&&(y[P]=uc()[wt](q))})}function n0(h,y){xe(h)||Or(h,function(w,P){h[w]=P||y})}function i0(h,y,w,P){var q=new t0(h,P,y);el(q,"sampleRate",w[Tw]),(w[gc]||{}).startTime&&(q.time=Vd(w[gc].startTime)),q.iKey=w.iKey;var G=w.iKey.replace(/-/g,"");return q[Be]=q[Be].replace("{0}",G),MGe(h,w,q),w[ie]=w[ie]||[],En(q)}function o0(h,y){xe(y[gc])&&bn(h,1,46,"telemetryItem.baseData cannot be null.")}var FGe={Version:"3.0.5"};function qGe(h,y,w){o0(h,y);var P=y[gc][ot]||{},q=y[gc][dd]||{};WC(y[Ie],q,P),xe(w)||n0(q,w);var G=y[gc];if(xe(G))return Dy(h,"Invalid input for dependency data"),null;var re=G[dd]&&G[dd][Ew]?G[dd][Ew]:"GET",le=new Qi(h,G.id,G.target,G[Be],G[$],G.success,G.responseCode,re,G.type,G.correlationContext,q,P),Ee=new fa(Qi[_t],le);return i0(h,Qi[it],y,Ee)}function Lme(h,y,w){o0(h,y);var P={},q={};y[e8]!==T[_t]&&(P.baseTypeSource=y[e8]),y[e8]===T[_t]?(P=y[gc][dd]||{},q=y[gc][ot]||{}):y[gc]&&WC(y[gc],P,q),WC(y[Ie],P,q),xe(w)||n0(P,w);var G=y[gc][Be],re=new T(h,G,P,q),le=new fa(T[_t],re);return i0(h,T[it],y,le)}function jGe(h,y,w){o0(h,y);var P=y[gc][ot]||{},q=y[gc][dd]||{};WC(y[Ie],q,P),xe(w)||n0(q,w);var G=y[gc],re=hn.CreateFromInterface(h,G,q,P),le=new fa(hn[_t],re);return i0(h,hn[it],y,le)}function zGe(h,y,w){o0(h,y);var P=y[gc],q=P[dd]||{},G=P[ot]||{};WC(y[Ie],q,G),xe(w)||n0(q,w);var re=new Go(h,P[Be],P.average,P.sampleCount,P.min,P.max,P.stdDev,q,G),le=new fa(Go[_t],re);return i0(h,Go[it],y,le)}function UGe(h,y,w){o0(h,y);var P,q=y[gc];!xe(q)&&!xe(q[dd])&&!xe(q[dd][$])?(P=q[dd][$],delete q[dd][$]):!xe(y[Ie])&&!xe(y[Ie][$])&&(P=y[Ie][$],delete y[Ie][$]);var G=y[gc],re;((y.ext||{}).trace||{})[et]&&(re=y.ext.trace[et]);var le=G.id||re,Ee=G[Be],Ae=G.uri,Ke=G[dd]||{},bt=G[ot]||{};if(xe(G.refUri)||(Ke.refUri=G.refUri),xe(G.pageType)||(Ke.pageType=G.pageType),xe(G.isLoggedIn)||(Ke.isLoggedIn=G.isLoggedIn[Qt]()),!xe(G[dd])){var It=G[dd];Or(It,function(sr,Mt){Ke[sr]=Mt})}WC(y[Ie],Ke,bt),xe(w)||n0(Ke,w);var yt=new mc(h,Ee,Ae,P,Ke,bt,le),ut=new fa(mc[_t],yt);return i0(h,mc[it],y,ut)}function HGe(h,y,w){o0(h,y);var P=y[gc],q=P[Be],G=P.uri||P.url,re=P[dd]||{},le=P[ot]||{};WC(y[Ie],re,le),xe(w)||n0(re,w);var Ee=new Mc(h,q,G,void 0,re,le,P),Ae=new fa(Mc[_t],Ee);return i0(h,Mc[it],y,Ae)}function BGe(h,y,w){o0(h,y);var P=y[gc].message,q=y[gc].severityLevel,G=y[gc][dd]||{},re=y[gc][ot]||{};WC(y[Ie],G,re),xe(w)||n0(G,w);var le=new Nc(h,P,q,G,re),Ee=new fa(Nc[_t],le);return i0(h,Nc[it],y,Ee)}function Nme(h,y){VD(h,null,null,y)}function WGe(h){var y,w=ao(),P=Jn(),q=!1,G=!0,re=FC(Lc("OfflineListener"),h);try{if(Ee(Ro())&&(q=!0),w){var le=w.body||w;le.ononline&&Ee(le)&&(q=!0)}q&&P&&!xe(P[Vt])&&(G=P[Vt])}catch{q=!1}function Ee(yt){var ut=!1;return yt&&(ut=Wf(yt,"online",Ae,re),ut&&Wf(yt,"offline",Ke,re)),ut}function Ae(){G=!0}function Ke(){G=!1}function bt(){var yt=!0;return q?yt=G:P&&!xe(P[Vt])&&(yt=P[Vt]),yt}function It(){var yt=Ro();if(yt&&q){if(Nme(yt,re),w){var ut=w.body||w;be(ut.ononline)||Nme(ut,re)}q=!1}}return y={},y[_r]=bt,y.isListening=function(){return q},y.unload=It,y}var Mme=function(){function h(y,w){var P=[],q=!1;this[Pr]=function(){return P},this._set=function(G){return P=G,P},qo(h,this,function(G){G[Ir]=function(re){if(G[Nn]()>=w[Oi]){q||(bn(y,2,105,"Maximum in-memory buffer size reached: "+G[Nn](),!0),q=!0);return}P[Io](re)},G[Nn]=function(){return P[Ve]},G.size=function(){for(var re=P[Ve],le=0;le<P[Ve];le++)re+=P[le][Ve];return w[Ge]||(re+=2),re},G[At]=function(){P=[],q=!1},G.getItems=function(){return P.slice(0)},G[Zt]=function(re){if(re&&re[Ve]>0){var le=w[Ge]?re.join(`
`):"["+re.join(",")+"]";return le}return null},G[lr]=function(re,le,Ee){var Ae=P.slice(0);re=re||y,le=le||{};var Ke=Ee?new Fme(re,le):new t8(re,le);return Dn(Ae,function(bt){Ke[Ir](bt)}),Ke}})}return h.__ieDyn=1,h}(),t8=function(h){_l(y,h);function y(w,P){var q=h.call(this,w,P)||this;return qo(y,q,function(G,re){G[rn]=function(le){re[At]()},G[ei]=function(le){}}),q}return y.__ieDyn=1,y}(Mme),Fme=function(h){_l(y,h);function y(w,P){var q=h.call(this,w,P)||this,G=!1,re=P?.namePrefix,le=P[St]||{getItem:Qs,setItem:ep},Ee=le.getItem,Ae=le.setItem;return qo(y,q,function(Ke,bt){var It=Mt(y[nt]),yt=Mt(y[Tt]),ut=Ke._set(It.concat(yt));ut[Ve]>y[Ot]&&(ut[Ve]=y[Ot]),pr(y[Tt],[]),pr(y[nt],ut),Ke[Ir]=function(er){if(Ke[Nn]()>=y[Ot]){G||(bn(w,2,67,"Maximum buffer size reached: "+Ke[Nn](),!0),G=!0);return}bt[Ir](er),pr(y.BUFFER_KEY,Ke[Pr]())},Ke[At]=function(){bt[At](),pr(y.BUFFER_KEY,Ke[Pr]()),pr(y[Tt],[]),G=!1},Ke[rn]=function(er){pr(y[nt],Ke._set(sr(er,Ke[Pr]())));var ar=Mt(y[Tt]);ar instanceof Array&&er instanceof Array&&(ar=ar.concat(er),ar[Ve]>y[Ot]&&(bn(w,1,67,"Sent buffer reached its maximum size: "+ar[Ve],!0),ar[Ve]=y[Ot]),pr(y[Tt],ar))},Ke[ei]=function(er){var ar=Mt(y[Tt]);ar=sr(er,ar),pr(y[Tt],ar)},Ke[lr]=function(er,ar,nn){nn=!!nn;var Ii=Ke[Pr]().slice(0),as=Mt(y[Tt]).slice(0);er=er||w,ar=ar||{},Ke[At]();var qc=nn?new y(er,ar):new t8(er,ar);return Dn(Ii,function(qa){qc[Ir](qa)}),nn&&qc[rn](as),qc};function sr(er,ar){var nn=[];return Dn(ar,function(Ii){!st(Ii)&&Vs(er,Ii)===-1&&nn[Io](Ii)}),nn}function Mt(er){var ar=er;try{ar=re?re+"_"+ar:ar;var nn=Ee(w,ar);if(nn){var Ii=uc().parse(nn);if(ze(Ii)&&(Ii=uc().parse(Ii)),Ii&&tt(Ii))return Ii}}catch(as){bn(w,1,42," storage key: "+ar+", "+Ac(as),{exception:kt(as)})}return[]}function pr(er,ar){var nn=er;try{nn=re?re+"_"+nn:nn;var Ii=JSON[wt](ar);Ae(w,nn,Ii)}catch(as){Ae(w,nn,JSON[wt]([])),bn(w,2,41," storage key: "+nn+", "+Ac(as)+". Buffer cleared",{exception:kt(as)})}}}),q}return y.BUFFER_KEY="AI_buffer",y.SENT_BUFFER_KEY="AI_sentBuffer",y.MAX_BUFFER_SIZE=2e3,y}(Mme),$Ge=function(){function h(y){qo(h,this,function(w){w.serialize=function(re){var le=P(re,"root");try{return uc()[wt](le)}catch(Ee){bn(y,1,48,Ee&&st(Ee[Qt])?Ee[Qt]():"Error serializing object",null,!0)}};function P(re,le){var Ee="__aiCircularRefCheck",Ae={};if(!re)return bn(y,1,48,"cannot serialize object because it is null or undefined",{name:le},!0),Ae;if(re[Ee])return bn(y,2,50,"Circular reference detected while serializing object",{name:le},!0),Ae;if(!re.aiDataContract){if(le==="measurements")Ae=G(re,"number",le);else if(le==="properties")Ae=G(re,"string",le);else if(le==="tags")Ae=G(re,"string",le);else if(tt(re))Ae=q(re,le);else{bn(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:le},!0);try{uc()[wt](re),Ae=re}catch(Ke){bn(y,1,48,Ke&&st(Ke[Qt])?Ke[Qt]():"Error serializing object",null,!0)}}return Ae}return re[Ee]=!0,Or(re.aiDataContract,function(Ke,bt){var It=st(bt)?bt()&1:bt&1,yt=st(bt)?bt()&4:bt&4,ut=bt&2,sr=re[Ke]!==void 0,Mt=at(re[Ke])&&re[Ke]!==null;if(It&&!sr&&!ut)bn(y,1,24,"Missing required field specification. The field is required but not present on source",{field:Ke,name:le});else if(!yt){var pr=void 0;Mt?ut?pr=q(re[Ke],Ke):pr=P(re[Ke],Ke):pr=re[Ke],pr!==void 0&&(Ae[Ke]=pr)}}),delete re[Ee],Ae}function q(re,le){var Ee;if(re)if(!tt(re))bn(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:le},!0);else{Ee=[];for(var Ae=0;Ae<re[Ve];Ae++){var Ke=re[Ae],bt=P(Ke,le+"["+Ae+"]");Ee[Io](bt)}}return Ee}function G(re,le,Ee){var Ae;return re&&(Ae={},Or(re,function(Ke,bt){if(le==="string")bt===void 0?Ae[Ke]="undefined":bt===null?Ae[Ke]="null":bt[Qt]?Ae[Ke]=bt[Qt]():Ae[Ke]="invalid field: toString() is not defined.";else if(le==="number")if(bt===void 0)Ae[Ke]="undefined";else if(bt===null)Ae[Ke]="null";else{var It=parseFloat(bt);isNaN(It)?Ae[Ke]="NaN":Ae[Ke]=It}else Ae[Ke]="invalid field: "+Ee+" is of unknown type.",bn(y,1,Ae[Ke],null,!0)})),Ae}})}return h.__ieDyn=1,h}(),VGe=8,GGe=function(){function h(){}return h.prototype.getHashCodeScore=function(y){var w=this.getHashCode(y)/h.INT_MAX_VALUE;return w*100},h.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[Ve]<VGe;)y=y.concat(y);for(var w=5381,P=0;P<y[Ve];++P)w=(w<<5)+w+y.charCodeAt(P),w=w&w;return Math.abs(w)},h.INT_MAX_VALUE=2147483647,h}(),KGe=function(){function h(){var y=this,w=new GGe,P=new b;y[kme]=function(q){var G=0;return q[ie]&&q[ie][P.userId]?G=w.getHashCodeScore(q[ie][P.userId]):q.ext&&q.ext.user&&q.ext.user.id?G=w[NGe](q.ext.user.id):q[ie]&&q[ie][P.operationId]?G=w.getHashCodeScore(q[ie][P.operationId]):q.ext&&q.ext.telemetryTrace&&q.ext.telemetryTrace[et]?G=w.getHashCodeScore(q.ext.telemetryTrace[et]):G=Math.random()*100,G}}return h}(),YGe=function(){function h(y,w){this.INT_MAX_VALUE=2147483647;var P=w||ig(null);(y>100||y<0)&&(P.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[Vn]=y,this.samplingScoreGenerator=new KGe}return h.prototype.isSampledIn=function(y){var w=this[Vn],P=!1;return w==null||w>=100||y.baseType===Go[_t]?!0:(P=this.samplingScoreGenerator[kme](y)<w,P)},h}(),Fu,Mw,$C=void 0,JGe=65e3;function Qq(h){try{return h.responseText}catch{}return null}function XGe(h){return h&&h[gr]}var qme=Ji((Fu={endpointUrl:Zm(hr,qC+V_)},Fu[Ge]=Gh(),Fu[Kr]=15e3,Fu[bo]=102400,Fu.disableTelemetry=Gh(),Fu[Gf]=Gh(!0),Fu.isRetryDisabled=Gh(),Fu[nf]=Gh(!0),Fu.disableXhr=Gh(),Fu[r0]=Gh(),Fu[tp]=Gh(),Fu[Nw]=$C,Fu.namePrefix=$C,Fu.samplingPercentage=Zm(QGe,100),Fu[Ko]=$C,Fu[Wt]=$C,Fu[Oi]=1e4,Fu[St]=!1,Fu.httpXHROverride={isVal:XGe,v:$C},Fu[eb]=Gh(),Fu));function QGe(h){return!isNaN(h)&&h>0&&h<=100}var ZGe=(Mw={},Mw[T.dataType]=Lme,Mw[Nc.dataType]=BGe,Mw[mc.dataType]=UGe,Mw[Mc.dataType]=HGe,Mw[hn.dataType]=jGe,Mw[Go.dataType]=zGe,Mw[Qi.dataType]=qGe,Mw),jme=function(h){_l(y,h);function y(){var w=h.call(this)||this;w.priority=1001,w.identifier=j;var P,q,G,re,le,Ee,Ae,Ke=0,bt,It,yt,ut,sr,Mt,pr,er,ar,nn,Ii,as,qc,qa,fd,tl,_R,tb,Ur,rb,nb;return qo(y,w,function(vr,s0){Ume(),vr.pause=function(){rl(),G=!0},vr.resume=function(){G&&(G=!1,q=null,Jk(),du())},vr.flush=function(mt,tr,Hr){if(mt===void 0&&(mt=!0),!G){rl();try{return vr[xr](mt,null,Hr||1)}catch(Zr){bn(vr[Mr](),1,22,"flush failed, telemetry will not be collected: "+Ac(Zr),{exception:kt(Zr)})}}},vr.onunloadFlush=function(){if(!G)if(pr||tb)try{return vr[xr](!0,t2,2)}catch(mt){bn(vr[Mr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Ac(mt),{exception:kt(mt)})}else vr.flush(!1)},vr.addHeader=function(mt,tr){Ae[mt]=tr},vr.initialize=function(mt,tr,Hr,Zr){vr.isInitialized()&&bn(vr[Mr](),1,28,"Sender is already initialized"),s0.initialize(mt,tr,Hr,Zr);var Tn=vr.identifier;le=new $Ge(tr.logger),P=0,q=null,vr[ti]=null,Ee=0;var kn=vr[Mr]();yt=FC(Lc("Sender"),tr.evtNamespace&&tr.evtNamespace()),It=WGe(yt),vr._addHook(Wh(mt,function(wo){var ho=wo.cfg;ho.storagePrefix&&mg(ho.storagePrefix);var ja=In(null,ho,tr),Gn=ja.getExtCfg(Tn,qme);Fo(vr,"_senderConfig",{g:function(){return Gn}}),sr!==Gn.endpointUrl&&(ut=sr=Gn.endpointUrl),er&&er!==Gn[Ko]&&Dn(er,function(fu){delete Ae[fu.header]}),Mt=Gn[bo],pr=(Gn[tp]===!1||Gn[nf]===!1)&&Jd(),tb=Gn[eb],Ur=!!Gn.disableXhr;var jy=Gn[St],ib=!!Gn[Gf]&&(!!jy||QD()),SR=Gn.namePrefix,n2=ib!==qa||ib&&tl!==SR||ib&&fd!==jy;if(vr[im]){if(n2)try{vr._buffer=vr._buffer[lr](kn,Gn,ib)}catch(fu){bn(vr[Mr](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Ac(fu),{exception:kt(fu)})}Jk()}else vr[im]=ib?new Fme(kn,Gn):new t8(kn,Gn);tl=SR,qa=ib,fd=jy,rb=!Gn[r0]&&ev(!0),vr._sample=new YGe(Gn.samplingPercentage,kn),nn=Gn[Nw],o8e(nn,ho)||bn(kn,1,100,"Invalid Instrumentation key "+nn),er=Gn[Ko],!pg(ut)&&er&&er[Ve]>0?Dn(er,function(fu){w.addHeader(fu.header,fu.value)}):er=null,_R=Gn.enableSendPromise;var ob=Gn.httpXHROverride,VC=null,CR=null;VC=bR([1,2],!1);var of={sendPOST:Yr};nb=function(fu,u0){return wR(of,fu,u0)},!Gn[nf]&&Jd()&&(VC=bR([3],!1)),VC=tb?ob:VC||ob||of,vr[ti]=function(fu,u0){return wR(VC,fu,u0)},rb&&(bt=bi),CR=tb?ob:bR([3,1],!0)||ob,(tb||!bt)&&CR&&(bt=function(fu,u0){return wR(CR,fu,u0)}),bt||(bt=nb),ar=Gn.disableTelemetry,Ii=Gn[Wt]||$C,as=Gn.isRetryDisabled,qc=Gn[Kr]}))},vr.processTelemetry=function(mt,tr){tr=vr._getTelCtx(tr);var Hr=tr[Mr]();try{if(ar)return;if(!mt){bn(Hr,1,7,"Cannot send empty telemetry");return}if(mt.baseData&&!mt[ui]){bn(Hr,1,70,"Cannot send telemetry without baseData and baseType");return}if(mt[ui]||(mt[ui]="EventData"),!vr[ti]){bn(Hr,1,28,"Sender was not initialized");return}if(Yk(mt))mt[Tw]=vr._sample[Vn];else{bn(Hr,2,33,"Telemetry item was sampled out and not sent",{SampleRate:vr._sample[Vn]});return}var Zr=mt.iKey||nn,Tn=y.constructEnvelope(mt,Zr,Hr,Ii);if(!Tn){bn(Hr,1,47,"Unable to create an AppInsights envelope");return}var kn=!1;if(mt[ie]&&mt[ie][Dw]&&(Dn(mt[ie][Dw],function(ja){try{ja&&ja(Tn)===!1&&(kn=!0,Dy(Hr,"Telemetry processor check returns false"))}catch(Gn){bn(Hr,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Ac(Gn),{exception:kt(Gn)},!0)}}),delete mt[ie][Dw]),kn)return;var wo=le.serialize(Tn),ho=vr[im];Jk(wo),ho[Ir](wo),du()}catch(ja){bn(Hr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Ac(ja),{exception:kt(ja)})}vr.processNext(mt,tr)},vr[mi]=function(mt,tr,Hr){mt.readyState===4&&e2(mt.status,tr,mt.responseURL,Hr,jw(mt),Qq(mt)||mt.response)},vr[xr]=function(mt,tr,Hr){mt===void 0&&(mt=!0);var Zr;if(!G)try{var Tn=vr[im];if(ar)Tn[At]();else if(Tn[Nn]()>0){var kn=Tn.getItems();i8e(Hr||0,mt),tr?Zr=tr.call(vr,kn,mt):Zr=vr[ti](kn,mt)}rl()}catch(ho){var wo=jh();(!wo||wo>9)&&bn(vr[Mr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Ac(ho),{exception:kt(ho)})}return Zr},vr._doTeardown=function(mt,tr){vr.onunloadFlush(),$h(It,!1),Ume()},vr[jo]=function(mt,tr,Hr){bn(vr[Mr](),2,26,"Failed to send telemetry.",{message:tr}),vr._buffer&&vr._buffer[ei](mt)},vr[ss]=function(mt,tr){for(var Hr=[],Zr=[],Tn=tr.errors.reverse(),kn=0,wo=Tn;kn<wo.length;kn++){var ho=wo[kn],ja=mt.splice(ho.index,1)[0];gg(ho.statusCode)?Zr[Io](ja):Hr[Io](ja)}mt[Ve]>0&&vr[Fc](mt,tr[Mu]),Hr[Ve]>0&&vr[jo](Hr,jw(null,["partial success",tr[Mu],"of",tr.itemsReceived].join(" "))),Zr[Ve]>0&&(Ps(Zr),bn(vr[Mr](),2,40,"Partial success. Delivered: "+mt[Ve]+", Failed: "+Hr[Ve]+". Will retry to send "+Zr[Ve]+" our of "+tr[Ev]+" items"))},vr[Fc]=function(mt,tr){vr._buffer&&vr._buffer[ei](mt)},vr._xdrOnLoad=function(mt,tr){var Hr=Qq(mt);if(mt&&(Hr+""=="200"||Hr===""))P=0,vr[Fc](tr,0);else{var Zr=ri(Hr);Zr&&Zr.itemsReceived&&Zr.itemsReceived>Zr[Mu]&&!as?vr[ss](tr,Zr):vr[jo](tr,zme(mt))}};function Yk(mt){return vr._sample.isSampledIn(mt)}function bR(mt,tr){for(var Hr,Zr=null,Tn=null,kn=0;Tn==null&&kn<mt[Ve];)Zr=mt[kn],!Ur&&Zr===1?Hp()?Tn=r2:Bp()&&(Tn=Yr):Zr===2&&ev(tr)?Tn=Zq:Jd()&&Zr===3&&(Tn=Bt),kn++;return Tn?(Hr={},Hr[gr]=Tn,Hr):null}function a0(mt,tr,Hr,Zr){tr===200&&mt&&vr._onSuccess(mt,mt[Ve]),Zr&&vr[jo](mt,Zr)}function wR(mt,tr,Hr){var Zr=function(wo,ho,ja){return a0(tr,wo,ho,ja)},Tn=c0(tr),kn=mt&&mt[gr];return kn&&Tn?(vr._buffer[rn](tr),kn(Tn,Zr,!Hr)):null}function c0(mt){var tr;if(tt(mt)&&mt[Ve]>0){var Hr=vr._buffer[Zt](mt),Zr=(tr={},tr[Ie]=Hr,tr.urlString=ut,tr.headers=Ae,tr.disableXhrSync=Ur,tr.disableFetchKeepAlive=!rb,tr[qy]=mt,tr);return Zr}return null}function Zq(mt,tr,Hr){return li(mt,tr,!1)}function Jk(mt){var tr=mt?mt[Ve]:0;return vr[im].size()+tr>Mt?((!It||It[_r]())&&vr[xr](!0,null,10),!0):!1}function e2(mt,tr,Hr,Zr,Tn,kn){var wo=null;if(vr._appId||(wo=ri(kn),wo&&wo.appId&&(vr._appId=wo.appId)),(mt<200||mt>=300)&&mt!==0){if((mt===301||mt===307||mt===308)&&!Xk(Hr)){vr[jo](tr,Tn);return}!as&&gg(mt)?(Ps(tr),bn(vr[Mr](),2,40,". Response code "+mt+". Will retry to send "+tr[Ve]+" items.")):vr[jo](tr,Tn)}else if(It&&!It[_r]()){if(!as){var ho=10;Ps(tr,ho),bn(vr[Mr](),2,40,". Offline - Response Code: ".concat(mt,". Offline status: ").concat(!It.isOnline(),". Will retry to send ").concat(tr.length," items."))}}else Xk(Hr),mt===206?(wo||(wo=ri(kn)),wo&&!as?vr[ss](tr,wo):vr[jo](tr,Tn)):(P=0,vr[Fc](tr,Zr))}function Xk(mt){return Ee>=10?!1:!xe(mt)&&mt!==""&&mt!==ut?(ut=mt,++Ee,!0):!1}function Fw(mt,tr,Hr,Zr){try{mt(tr,Hr,Zr)}catch{}}function t2(mt,tr){var Hr=function(Tn,kn,wo){return a0(mt,Tn,kn,wo)};if(bt)bt(mt,!1);else{var Zr=c0(mt);Bt(Zr,Hr)}}function qw(mt,tr){var Hr=Jn(),Zr=ut,Tn=new Blob([mt],{type:"text/plain;charset=UTF-8"}),kn=Hr.sendBeacon(Zr,Tn);return kn&&tr(200,{},mt),kn}function Bt(mt,tr,Hr){var Zr=mt,Tn=Zr&&Zr[Ie];if(ze(Tn)&&Tn[Ve]>0&&!qw(Tn,tr)){var kn=[],wo=Zr[qy];if(wo[Ve]>0)for(var ho=0;ho<Tn[Ve];ho++){var ja=mt[ho],Gn=vr._buffer[Zt](ja);qw(Gn,tr)||kn[Io](ja)}kn[Ve]>0&&(nb&&nb(kn,!0),bn(vr[Mr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Yr(mt,tr,Hr){var Zr=mt,Tn,kn,wo,ho=new XMLHttpRequest,ja=ut;try{ho[$_]=!0}catch{}return ho.open("POST",ja,!Hr),ho[yR]("Content-type","application/json"),pg(ja)&&ho[yR](G_[6],G_[7]),Dn(Gr(Ae),function(Gn){ho[yR](Gn,Ae[Gn])}),ho.onreadystatechange=function(){var Gn=Zr[qy];vr._xhrReadyStateChange(ho,Gn,Gn[Ve]),ho.readyState===4&&kn&&kn(!0)},ho.onerror=function(Gn){Fw(tr,400,{},jw(ho)),wo&&wo(Gn)},!Hr&&_R&&(Tn=Np(function(Gn,jy){kn=Gn,wo=jy})),ho.send(mt[Ie]),Tn}function bi(mt,tr){var Hr=function(wo,ho,ja){return a0(mt,wo,ho,ja)};if(tt(mt)){for(var Zr=mt[Ve],Tn=0;Tn<mt[Ve];Tn++)Zr+=mt[Tn][Ve];var kn=c0(mt);Ke+Zr<=JGe?li(kn,Hr,!0):Jd()?Bt(kn,Hr):(nb&&nb(mt,!0),bn(vr[Mr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function li(mt,tr,Hr){var Zr,Tn=ut,kn=mt,wo=kn[Ie],ho=new Blob([wo],{type:"application/json"}),ja,Gn,jy,ib=new Headers,SR=wo[Ve],n2=!1,ob=!1;pg(Tn)&&ib.append(G_[6],G_[7]),Dn(Gr(Ae),function(of){ib.append(of,Ae[of])});var VC=(Zr={method:"POST",headers:ib,body:ho},Zr[$_]=!0,Zr);Hr&&(VC.keepalive=!0,n2=!0,Ke+=SR);var CR=new Request(Tn,VC);try{CR[$_]=!0}catch{}!Hr&&_R&&(ja=Np(function(of,fu){Gn=of,jy=fu}));try{ka(fetch(CR),function(of){if(Hr&&(Ke-=SR,SR=0),!ob)if(ob=!0,of.rejected)Fw(tr,400,{},of.reason&&of.reason.message),jy&&jy(of.reason);else{var fu=of.value;fu.ok?ka(fu.text(),function(u0){var Hme=kn[qy];e2(fu.status,Hme,fu.url,Hme[Ve],fu.statusText,u0.value||""),Gn&&Gn(!0)}):(Fw(tr,400,{},fu.statusText),Gn&&Gn(!1))}})}catch(of){ob||(Fw(tr,400,{},kt(of)),jy&&jy(of))}return n2&&!ob&&(ob=!0,Fw(tr,200,{}),Gn&&Gn(!0)),ja}function ri(mt){try{if(mt&&mt!==""){var tr=uc().parse(mt);if(tr&&tr.itemsReceived&&tr.itemsReceived>=tr[Mu]&&tr.itemsReceived-tr.itemsAccepted===tr.errors[Ve])return tr}}catch(Hr){bn(vr[Mr](),1,43,"Cannot parse the response. "+Ac(Hr),{response:mt})}return null}function Ps(mt,tr){if(tr===void 0&&(tr=1),!(!mt||mt[Ve]===0)){var Hr=vr[im];Hr[ei](mt),P++;for(var Zr=0,Tn=mt;Zr<Tn.length;Zr++){var kn=Tn[Zr];Hr[Ir](kn)}xs(tr),du()}}function xs(mt){var tr=10,Hr;if(P<=1)Hr=tr;else{var Zr=(Math.pow(2,P)-1)/2,Tn=Math.floor(Math.random()*Zr*tr)+1;Tn=mt*Tn,Hr=Math.max(Math.min(Tn,3600),tr)}var kn=Ul()+Hr*1e3;q=kn}function du(){if(!re&&!G){var mt=q?Math.max(0,q-Ul()):0,tr=Math.max(qc,mt);re=Lh(function(){re=null,vr[xr](!0,null,1)},tr)}}function rl(){re&&re.cancel(),re=null,q=null}function gg(mt){return mt===401||mt===403||mt===408||mt===429||mt===500||mt===502||mt===503||mt===504}function jw(mt,tr){return mt?"XMLHttpRequest,Status:"+mt.status+",Response:"+Qq(mt)||mt.response||"":tr}function r2(mt,tr,Hr){var Zr=mt,Tn=Ro(),kn=new XDomainRequest,wo=Zr[Ie];kn.onload=function(){var Gn=Zr[qy];vr._xdrOnLoad(kn,Gn)},kn.onerror=function(){Fw(tr,400,{},zme(kn))};var ho=Tn&&Tn.location&&Tn.location.protocol||"";if(ut.lastIndexOf(ho,0)!==0){bn(vr[Mr](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),vr._buffer[At]();return}var ja=ut.replace(/^(https?:)/,"");kn.open("POST",ja),kn.send(wo)}function zme(mt,tr){return mt?"XDomainRequest,Response:"+Qq(mt)||"":tr}function n8e(){var mt="getNotifyMgr";return vr.core[mt]?vr.core[mt]():vr.core._notificationManager}function i8e(mt,tr){var Hr=n8e();if(Hr&&Hr[Ime])try{Hr[Ime](mt,tr)}catch(Zr){bn(vr[Mr](),1,74,"send request notification failed: "+Ac(Zr),{exception:kt(Zr)})}}function o8e(mt,tr){var Hr=tr.disableInstrumentationKeyValidation,Zr=xe(Hr)?!1:Hr;if(Zr)return!0;var Tn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",kn=new RegExp(Tn);return kn.test(mt)}function Ume(){vr[ti]=null,vr[im]=null,vr._appId=null,vr._sample=null,Ae={},It=null,P=0,q=null,G=!1,re=null,le=null,Ee=0,Ke=0,bt=null,yt=null,ut=null,sr=null,Mt=0,pr=!1,er=null,ar=!1,nn=null,Ii=$C,as=!1,qa=null,tl=$C,Ur=!1,rb=!1,nb=null,Fo(vr,"_senderConfig",{g:function(){return Gd({},qme)}})}}),w}return y.constructEnvelope=function(w,P,q,G){var re;P!==w.iKey&&!xe(P)?re=ms(ms({},w),{iKey:P}):re=w;var le=ZGe[re.baseType]||Lme;return le(q,re,G)},y}(Ma),r8="instrumentationKey",n8="connectionString",e8e={diagnosticLogInterval:Zm(t8e,1e4)};function t8e(h){return h&&h>0}var r8e=function(){function h(y){var w=new Xp,P;(xe(y)||xe(y[r8])&&xe(y[n8]))&&$r("Invalid input configuration"),qo(h,this,function(G){Fo(G,"config",{g:function(){return P}}),re(),G.initialize=re,G.track=q,Jg(G,w,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function re(){var le=La(y||{},e8e);P=le.cfg,w.addUnloadHook(Wh(le,function(){if(P[n8]){var Ee=e0(P[n8]),Ae=Ee.ingestionendpoint;P.endpointUrl=Ae?Ae+V_:P.endpointUrl,P[r8]=Ee.instrumentationkey||P[r8]}})),w.initialize(P,[new jme])}});function q(G){G&&(G.baseData=G.baseData||{},G.baseType=G.baseType||"EventData"),w.track(G)}}return h.__ieDyn=1,h}();r.AppInsightsCore=Xp,r.ApplicationInsights=r8e,r.Sender=jme,r.SeverityLevel=xl,r.arrForEach=Dn,r.isNullOrUndefined=xe,r.proxyFunctions=Jg,r.throwError=$r})});var LSe=C(ub=>{"use strict";var lnt=ub&&ub.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dnt=ub&&ub.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),fnt=ub&&ub.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&lnt(e,r,t);return dnt(e,r),e};Object.defineProperty(ub,"__esModule",{value:!0});ub.appInsightsClientFactory=void 0;var hnt=ISe(),pnt=i7(),mnt=async(r,e,t)=>{let n;try{let o=await Promise.resolve().then(()=>fnt(ASe()));if(n=new o.ApplicationInsights({instrumentationKey:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),e){n.config.extensionConfig={};let s={alwaysUseXhrOverride:!0,httpXHROverride:e};n.config.extensionConfig[hnt.BreezeChannelIdentifier]=s}}catch(o){return Promise.reject(o)}return{logEvent:(o,s)=>{let a={...s?.properties,...s?.measurements};t?.length&&pnt.TelemetryUtil.applyReplacements(a,t),n?.track({name:o,data:a,baseType:"EventData",baseData:{name:o,properties:s?.properties,measurements:s?.measurements}})},flush:async()=>{n?.flush(!1)},dispose:async()=>new Promise(s=>{n?.unload(!0,()=>{s(),n=void 0},1e3)})}};ub.appInsightsClientFactory=mnt});var qSe=C(Yw=>{"use strict";var gnt=Yw&&Yw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vnt=Yw&&Yw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),a7=Yw&&Yw.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&gnt(e,r,t);return vnt(e,r),e};Object.defineProperty(Yw,"__esModule",{value:!0});var o7=a7(require("os")),NSe=a7(require("vscode")),ynt=a7(require("https")),_nt=SSe(),bnt=CSe(),MSe=i7(),wnt=xSe(),Snt=LSe();function FSe(){return{sendPOST:(e,t)=>{let n={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{let i=ynt.request(e.urlString,n,o=>{o.on("data",function(s){t(o.statusCode??200,o.headers,s.toString())}),o.on("error",function(){t(0,{})})});i.write(e.data,o=>{o&&t(0,{})}),i.end()}catch{t(0,{})}}}}var s7=class extends _nt.BaseTelemetryReporter{constructor(e,t){let n=s=>(0,Snt.appInsightsClientFactory)(s,FSe(),t);MSe.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(n=s=>(0,wnt.oneDataSystemClientFactory)(s,NSe,FSe()));let i={release:o7.release(),platform:o7.platform(),architecture:o7.arch()},o=new bnt.BaseTelemetrySender(e,n);if(e&&e.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,NSe,{additionalCommonProperties:MSe.TelemetryUtil.getAdditionalCommonProperties(i)})}};Yw.default=s7});var u7=C(cA=>{"use strict";var Cnt=cA&&cA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cA,"__esModule",{value:!0});var c7=zc();function Tnt(r){return function(t){return t.lift(new Dnt(r))}}cA.audit=Tnt;var Dnt=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Ent(e,this.durationSelector))},r}(),Ent=function(r){Cnt(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(t)}catch(s){return this.destination.error(s)}var o=c7.innerSubscribe(n,new c7.SimpleInnerSubscriber(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var t=this,n=t.value,i=t.hasValue,o=t.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(c7.SimpleOuterSubscriber)});var zSe=C(l7=>{"use strict";Object.defineProperty(l7,"__esModule",{value:!0});var Rnt=cp(),Pnt=u7(),xnt=B9();function Ont(r,e){return e===void 0&&(e=Rnt.async),Pnt.audit(function(){return xnt.timer(r,e)})}l7.auditTime=Ont});var USe=C(uA=>{"use strict";var Int=uA&&uA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(uA,"__esModule",{value:!0});var d7=zc();function knt(r){return function(t){return t.lift(new Ant(r))}}uA.buffer=knt;var Ant=function(){function r(e){this.closingNotifier=e}return r.prototype.call=function(e,t){return t.subscribe(new Lnt(e,this.closingNotifier))},r}(),Lnt=function(r){Int(e,r);function e(t,n){var i=r.call(this,t)||this;return i.buffer=[],i.add(d7.innerSubscribe(n,new d7.SimpleInnerSubscriber(i))),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(d7.SimpleOuterSubscriber)});var WSe=C(lA=>{"use strict";var HSe=lA&&lA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(lA,"__esModule",{value:!0});var BSe=gi();function Nnt(r,e){return e===void 0&&(e=null),function(n){return n.lift(new Mnt(r,e))}}lA.bufferCount=Nnt;var Mnt=function(){function r(e,t){this.bufferSize=e,this.startBufferEvery=t,!t||e===t?this.subscriberClass=Fnt:this.subscriberClass=qnt}return r.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},r}(),Fnt=function(r){HSe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(t){var n=this.buffer;n.push(t),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),r.prototype._complete.call(this)},e}(BSe.Subscriber),qnt=function(r){HSe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(t){var n=this,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers,a=n.count;this.count++,a%o===0&&s.push([]);for(var c=s.length;c--;){var u=s[c];u.push(t),u.length===i&&(s.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var t=this,n=t.buffers,i=t.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}r.prototype._complete.call(this)},e}(BSe.Subscriber)});var GSe=C(dA=>{"use strict";var jnt=dA&&dA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dA,"__esModule",{value:!0});var znt=cp(),Unt=gi(),Hnt=By();function Bnt(r){var e=arguments.length,t=znt.async;Hnt.isScheduler(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new Wnt(r,n,i,t))}}dA.bufferTime=Bnt;var Wnt=function(){function r(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new Vnt(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},r}(),$nt=function(){function r(){this.buffer=[]}return r}(),Vnt=function(r){jnt(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=s.schedule($Se,n,u))}else{var l={subscriber:a,context:c},d={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(c.closeAction=s.schedule(VSe,n,l)),a.add(s.schedule(Gnt,i,d))}return a}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o,s=0;s<i;s++){var a=n[s],c=a.buffer;c.push(t),c.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(t){this.contexts.length=0,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this,n=t.contexts,i=t.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:t,bufferTimeSpan:i};this.add(t.closeAction=this.scheduler.schedule($Se,i,o))}},e.prototype.openContext=function(){var t=new $nt;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var n=this.contexts,i=n?n.indexOf(t):-1;i>=0&&n.splice(n.indexOf(t),1)},e}(Unt.Subscriber);function $Se(r){var e=r.subscriber,t=r.context;t&&e.closeContext(t),e.closed||(r.context=e.openContext(),r.context.closeAction=this.schedule(r,r.bufferTimeSpan))}function Gnt(r){var e=r.bufferCreationInterval,t=r.bufferTimeSpan,n=r.subscriber,i=r.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule(VSe,t,{subscriber:n,context:o})),s.schedule(r,e))}function VSe(r){var e=r.subscriber,t=r.context;e.closeContext(t)}});var YSe=C(fA=>{"use strict";var Knt=fA&&fA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fA,"__esModule",{value:!0});var Ynt=Il(),KSe=hT(),Jnt=fT();function Xnt(r,e){return function(n){return n.lift(new Qnt(r,e))}}fA.bufferToggle=Xnt;var Qnt=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new Znt(e,this.openings,this.closingSelector))},r}(),Znt=function(r){Knt(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.closingSelector=i,o.contexts=[],o.add(KSe.subscribeToResult(o,n)),o}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(t)},e.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,r.prototype._complete.call(this)},e.prototype.notifyNext=function(t,n){t?this.closeBuffer(t):this.openBuffer(n)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var n=this.closingSelector,i=n.call(this,t);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(t){var n=this.contexts;if(n&&t){var i=t.buffer,o=t.subscription;this.destination.next(i),n.splice(n.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var n=this.contexts,i=[],o=new Ynt.Subscription,s={buffer:i,subscription:o};n.push(s);var a=KSe.subscribeToResult(this,t,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(Jnt.OuterSubscriber)});var JSe=C(hA=>{"use strict";var eit=hA&&hA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(hA,"__esModule",{value:!0});var tit=Il(),f7=zc();function rit(r){return function(e){return e.lift(new nit(r))}}hA.bufferWhen=rit;var nit=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new iit(e,this.closingSelector))},r}(),iit=function(r){eit(e,r);function e(t,n){var i=r.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}t=new tit.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(f7.innerSubscribe(i,new f7.SimpleInnerSubscriber(this))),this.subscribing=!1},e}(f7.SimpleOuterSubscriber)});var XSe=C(pA=>{"use strict";var oit=pA&&pA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pA,"__esModule",{value:!0});var h7=zc();function sit(r){return function(t){var n=new ait(r),i=t.lift(n);return n.caught=i}}pA.catchError=sit;var ait=function(){function r(e){this.selector=e}return r.prototype.call=function(e,t){return t.subscribe(new cit(e,this.selector,this.caught))},r}(),cit=function(r){oit(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.selector=n,o.caught=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(s){r.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new h7.SimpleInnerSubscriber(this);this.add(i);var o=h7.innerSubscribe(n,i);o!==i&&this.add(o)}},e}(h7.SimpleOuterSubscriber)});var QSe=C(p7=>{"use strict";Object.defineProperty(p7,"__esModule",{value:!0});var uit=hj();function lit(r){return function(e){return e.lift(new uit.CombineLatestOperator(r))}}p7.combineAll=lit});var ZSe=C(m7=>{"use strict";Object.defineProperty(m7,"__esModule",{value:!0});var dit=ap(),fit=hj(),hit=Wy();function pit(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=null;return typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&dit.isArray(r[0])&&(r=r[0].slice()),function(n){return n.lift.call(hit.from([n].concat(r)),new fit.CombineLatestOperator(t))}}m7.combineLatest=pit});var eCe=C(g7=>{"use strict";Object.defineProperty(g7,"__esModule",{value:!0});var mit=tA();function git(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(mit.concat.apply(void 0,[t].concat(r)))}}g7.concat=git});var y7=C(v7=>{"use strict";Object.defineProperty(v7,"__esModule",{value:!0});var vit=eA();function yit(r,e){return vit.mergeMap(r,e,1)}v7.concatMap=yit});var tCe=C(_7=>{"use strict";Object.defineProperty(_7,"__esModule",{value:!0});var _it=y7();function bit(r,e){return _it.concatMap(function(){return r},e)}_7.concatMapTo=bit});var rCe=C(mA=>{"use strict";var wit=mA&&mA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mA,"__esModule",{value:!0});var Sit=gi();function Cit(r){return function(e){return e.lift(new Tit(r,e))}}mA.count=Cit;var Tit=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new Dit(e,this.predicate,this.source))},r}(),Dit=function(r){wit(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var n;try{n=this.predicate(t,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(Sit.Subscriber)});var nCe=C(gA=>{"use strict";var Eit=gA&&gA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gA,"__esModule",{value:!0});var b7=zc();function Rit(r){return function(e){return e.lift(new Pit(r))}}gA.debounce=Rit;var Pit=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new xit(e,this.durationSelector))},r}(),xit=function(r){Eit(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){try{var n=this.durationSelector.call(this,t);n&&this._tryNext(t,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,n){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=b7.innerSubscribe(n,new b7.SimpleInnerSubscriber(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,r.prototype._next.call(this,t)}},e}(b7.SimpleOuterSubscriber)});var iCe=C(vA=>{"use strict";var Oit=vA&&vA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vA,"__esModule",{value:!0});var Iit=gi(),kit=cp();function Ait(r,e){return e===void 0&&(e=kit.async),function(t){return t.lift(new Lit(r,e))}}vA.debounceTime=Ait;var Lit=function(){function r(e,t){this.dueTime=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new Nit(e,this.dueTime,this.scheduler))},r}(),Nit=function(r){Oit(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Mit,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;t!==null&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(Iit.Subscriber);function Mit(r){r.debouncedNext()}});var nP=C(yA=>{"use strict";var Fit=yA&&yA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yA,"__esModule",{value:!0});var qit=gi();function jit(r){return r===void 0&&(r=null),function(e){return e.lift(new zit(r))}}yA.defaultIfEmpty=jit;var zit=function(){function r(e){this.defaultValue=e}return r.prototype.call=function(e,t){return t.subscribe(new Uit(e,this.defaultValue))},r}(),Uit=function(r){Fit(e,r);function e(t,n){var i=r.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(qit.Subscriber)});var S7=C(w7=>{"use strict";Object.defineProperty(w7,"__esModule",{value:!0});function Hit(r){return r instanceof Date&&!isNaN(+r)}w7.isDate=Hit});var sCe=C(_A=>{"use strict";var Bit=_A&&_A.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_A,"__esModule",{value:!0});var Wit=cp(),$it=S7(),Vit=gi(),oCe=z1();function Git(r,e){e===void 0&&(e=Wit.async);var t=$it.isDate(r),n=t?+r-e.now():Math.abs(r);return function(i){return i.lift(new Kit(n,e))}}_A.delay=Git;var Kit=function(){function r(e,t){this.delay=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new Yit(e,this.delay,this.scheduler))},r}(),Yit=function(r){Bit(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(t){for(var n=t.source,i=n.queue,o=t.scheduler,s=t.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(t,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(t){this.active=!0;var n=this.destination;n.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var n=this.scheduler,i=new Jit(n.now()+this.delay,t);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(t){this.scheduleNotification(oCe.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(oCe.Notification.createComplete()),this.unsubscribe()},e}(Vit.Subscriber),Jit=function(){function r(e,t){this.time=e,this.notification=t}return r}()});var cCe=C(bA=>{"use strict";var C7=bA&&bA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(bA,"__esModule",{value:!0});var Xit=gi(),Qit=zo(),Zit=fT(),eot=hT();function tot(r,e){return e?function(t){return new not(t,e).lift(new aCe(r))}:function(t){return t.lift(new aCe(r))}}bA.delayWhen=tot;var aCe=function(){function r(e){this.delayDurationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new rot(e,this.delayDurationSelector))},r}(),rot=function(r){C7(e,r);function e(t,n){var i=r.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(t),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(t,n){this._error(t)},e.prototype.notifyComplete=function(t){var n=this.removeSubscription(t);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(t){var n=this.index++;try{var i=this.delayDurationSelector(t,n);i&&this.tryDelay(i,t)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(t);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),t.outerValue},e.prototype.tryDelay=function(t,n){var i=eot.subscribeToResult(this,t,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Zit.OuterSubscriber),not=function(r){C7(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new iot(t,this.source))},e}(Qit.Observable),iot=function(r){C7(e,r);function e(t,n){var i=r.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(Xit.Subscriber)});var uCe=C(wA=>{"use strict";var oot=wA&&wA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(wA,"__esModule",{value:!0});var sot=gi();function aot(){return function(e){return e.lift(new cot)}}wA.dematerialize=aot;var cot=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new uot(e))},r}(),uot=function(r){oot(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){t.observe(this.destination)},e}(sot.Subscriber)});var dCe=C(iP=>{"use strict";var lot=iP&&iP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iP,"__esModule",{value:!0});var T7=zc();function dot(r,e){return function(t){return t.lift(new fot(r,e))}}iP.distinct=dot;var fot=function(){function r(e,t){this.keySelector=e,this.flushes=t}return r.prototype.call=function(e,t){return t.subscribe(new lCe(e,this.keySelector,this.flushes))},r}(),lCe=function(r){lot(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=n,o.values=new Set,i&&o.add(T7.innerSubscribe(i,new T7.SimpleInnerSubscriber(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var n,i=this.destination;try{n=this.keySelector(t)}catch(o){i.error(o);return}this._finalizeNext(n,t)},e.prototype._finalizeNext=function(t,n){var i=this.values;i.has(t)||(i.add(t),this.destination.next(n))},e}(T7.SimpleOuterSubscriber);iP.DistinctSubscriber=lCe});var D7=C(SA=>{"use strict";var hot=SA&&SA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(SA,"__esModule",{value:!0});var pot=gi();function mot(r,e){return function(t){return t.lift(new got(r,e))}}SA.distinctUntilChanged=mot;var got=function(){function r(e,t){this.compare=e,this.keySelector=t}return r.prototype.call=function(e,t){return t.subscribe(new vot(e,this.compare,this.keySelector))},r}(),vot=function(r){hot(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return e.prototype.compare=function(t,n){return t===n},e.prototype._next=function(t){var n;try{var i=this.keySelector;n=i?i(t):t}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=n,this.destination.next(t))},e}(pot.Subscriber)});var fCe=C(E7=>{"use strict";Object.defineProperty(E7,"__esModule",{value:!0});var yot=D7();function _ot(r,e){return yot.distinctUntilChanged(function(t,n){return e?e(t[r],n[r]):t[r]===n[r]})}E7.distinctUntilKeyChanged=_ot});var TA=C(CA=>{"use strict";var bot=CA&&CA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(CA,"__esModule",{value:!0});var wot=ZR(),Sot=gi();function Cot(r){return r===void 0&&(r=Eot),function(e){return e.lift(new Tot(r))}}CA.throwIfEmpty=Cot;var Tot=function(){function r(e){this.errorFactory=e}return r.prototype.call=function(e,t){return t.subscribe(new Dot(e,this.errorFactory))},r}(),Dot=function(r){bot(e,r);function e(t,n){var i=r.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)},e}(Sot.Subscriber);function Eot(){return new wot.EmptyError}});var qj=C(DA=>{"use strict";var Rot=DA&&DA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(DA,"__esModule",{value:!0});var Pot=gi(),xot=QR(),Oot=Hy();function Iot(r){return function(e){return r===0?Oot.empty():e.lift(new kot(r))}}DA.take=Iot;var kot=function(){function r(e){if(this.total=e,this.total<0)throw new xot.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new Aot(e,this.total))},r}(),Aot=function(r){Rot(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){var n=this.total,i=++this.count;i<=n&&(this.destination.next(t),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(Pot.Subscriber)});var pCe=C(R7=>{"use strict";Object.defineProperty(R7,"__esModule",{value:!0});var hCe=QR(),Lot=T0(),Not=TA(),Mot=nP(),Fot=qj();function qot(r,e){if(r<0)throw new hCe.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(n){return n.pipe(Lot.filter(function(i,o){return o===r}),Fot.take(1),t?Mot.defaultIfEmpty(e):Not.throwIfEmpty(function(){return new hCe.ArgumentOutOfRangeError}))}}R7.elementAt=qot});var mCe=C(P7=>{"use strict";Object.defineProperty(P7,"__esModule",{value:!0});var jot=tA(),zot=q1();function Uot(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return jot.concat(t,zot.of.apply(void 0,r))}}P7.endWith=Uot});var gCe=C(EA=>{"use strict";var Hot=EA&&EA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(EA,"__esModule",{value:!0});var Bot=gi();function Wot(r,e){return function(t){return t.lift(new $ot(r,e,t))}}EA.every=Wot;var $ot=function(){function r(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return r.prototype.call=function(e,t){return t.subscribe(new Vot(e,this.predicate,this.thisArg,this.source))},r}(),Vot=function(r){Hot(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.predicate=n,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var n=!1;try{n=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Bot.Subscriber)});var vCe=C(RA=>{"use strict";var Got=RA&&RA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(RA,"__esModule",{value:!0});var x7=zc();function Kot(){return function(r){return r.lift(new Yot)}}RA.exhaust=Kot;var Yot=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new Jot(e))},r}(),Jot=function(r){Got(e,r);function e(t){var n=r.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(x7.innerSubscribe(t,new x7.SimpleInnerSubscriber(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(x7.SimpleOuterSubscriber)});var _Ce=C(PA=>{"use strict";var Xot=PA&&PA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(PA,"__esModule",{value:!0});var Qot=vg(),Zot=Wy(),O7=zc();function yCe(r,e){return e?function(t){return t.pipe(yCe(function(n,i){return Zot.from(r(n,i)).pipe(Qot.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new est(r))}}PA.exhaustMap=yCe;var est=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new tst(e,this.project))},r}(),tst=function(r){Xot(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new O7.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=O7.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(O7.SimpleOuterSubscriber)});var SCe=C(x0=>{"use strict";var rst=x0&&x0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(x0,"__esModule",{value:!0});var I7=zc();function nst(r,e,t){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new bCe(r,e,t))}}x0.expand=nst;var bCe=function(){function r(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return r.prototype.call=function(e,t){return t.subscribe(new wCe(e,this.project,this.concurrent,this.scheduler))},r}();x0.ExpandOperator=bCe;var wCe=function(r){rst(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.project=n,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(t){var n=t.subscriber,i=t.result,o=t.value,s=t.index;n.subscribeToProjection(i,o,s)},e.prototype._next=function(t){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(t);try{var o=this.project,s=o(t,i);if(!this.scheduler)this.subscribeToProjection(s,t,i);else{var a={subscriber:this,result:s,value:t,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,n,i){this.active++;var o=this.destination;o.add(I7.innerSubscribe(t,new I7.SimpleInnerSubscriber(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(I7.SimpleOuterSubscriber);x0.ExpandSubscriber=wCe});var CCe=C(xA=>{"use strict";var ist=xA&&xA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xA,"__esModule",{value:!0});var ost=gi(),sst=Il();function ast(r){return function(e){return e.lift(new cst(r))}}xA.finalize=ast;var cst=function(){function r(e){this.callback=e}return r.prototype.call=function(e,t){return t.subscribe(new ust(e,this.callback))},r}(),ust=function(r){ist(e,r);function e(t,n){var i=r.call(this,t)||this;return i.add(new sst.Subscription(n)),i}return e}(ost.Subscriber)});var k7=C(O0=>{"use strict";var lst=O0&&O0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(O0,"__esModule",{value:!0});var dst=gi();function fst(r,e){if(typeof r!="function")throw new TypeError("predicate is not a function");return function(t){return t.lift(new TCe(r,t,!1,e))}}O0.find=fst;var TCe=function(){function r(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return r.prototype.call=function(e,t){return t.subscribe(new DCe(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}();O0.FindValueOperator=TCe;var DCe=function(r){lst(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.predicate=n,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete(),this.unsubscribe()},e.prototype._next=function(t){var n=this,i=n.predicate,o=n.thisArg,s=this.index++;try{var a=i.call(o||this,t,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:t)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(dst.Subscriber);O0.FindValueSubscriber=DCe});var ECe=C(A7=>{"use strict";Object.defineProperty(A7,"__esModule",{value:!0});var hst=k7();function pst(r,e){return function(t){return t.lift(new hst.FindValueOperator(r,t,!0,e))}}A7.findIndex=pst});var RCe=C(L7=>{"use strict";Object.defineProperty(L7,"__esModule",{value:!0});var mst=ZR(),gst=T0(),vst=qj(),yst=nP(),_st=TA(),bst=lT();function wst(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?gst.filter(function(i,o){return r(i,o,n)}):bst.identity,vst.take(1),t?yst.defaultIfEmpty(e):_st.throwIfEmpty(function(){return new mst.EmptyError}))}}L7.first=wst});var PCe=C(OA=>{"use strict";var Sst=OA&&OA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(OA,"__esModule",{value:!0});var Cst=gi();function Tst(){return function(e){return e.lift(new Dst)}}OA.ignoreElements=Tst;var Dst=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new Est(e))},r}(),Est=function(r){Sst(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._next=function(t){},e}(Cst.Subscriber)});var xCe=C(IA=>{"use strict";var Rst=IA&&IA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(IA,"__esModule",{value:!0});var Pst=gi();function xst(){return function(r){return r.lift(new Ost)}}IA.isEmpty=xst;var Ost=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new Ist(e))},r}(),Ist=function(r){Rst(e,r);function e(t){return r.call(this,t)||this}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Pst.Subscriber)});var jj=C(kA=>{"use strict";var kst=kA&&kA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(kA,"__esModule",{value:!0});var Ast=gi(),Lst=QR(),Nst=Hy();function Mst(r){return function(t){return r===0?Nst.empty():t.lift(new Fst(r))}}kA.takeLast=Mst;var Fst=function(){function r(e){if(this.total=e,this.total<0)throw new Lst.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new qst(e,this.total))},r}(),qst=function(r){kst(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(t){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(t);else{var s=o%i;n[s]=t}},e.prototype._complete=function(){var t=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=n++%i;t.next(o[a])}t.complete()},e}(Ast.Subscriber)});var OCe=C(N7=>{"use strict";Object.defineProperty(N7,"__esModule",{value:!0});var jst=ZR(),zst=T0(),Ust=jj(),Hst=TA(),Bst=nP(),Wst=lT();function $st(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?zst.filter(function(i,o){return r(i,o,n)}):Wst.identity,Ust.takeLast(1),t?Bst.defaultIfEmpty(e):Hst.throwIfEmpty(function(){return new jst.EmptyError}))}}N7.last=$st});var ICe=C(AA=>{"use strict";var Vst=AA&&AA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(AA,"__esModule",{value:!0});var Gst=gi();function Kst(r){return function(e){return e.lift(new Yst(r))}}AA.mapTo=Kst;var Yst=function(){function r(e){this.value=e}return r.prototype.call=function(e,t){return t.subscribe(new Jst(e,this.value))},r}(),Jst=function(r){Vst(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype._next=function(t){this.destination.next(this.value)},e}(Gst.Subscriber)});var kCe=C(LA=>{"use strict";var Xst=LA&&LA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(LA,"__esModule",{value:!0});var Qst=gi(),M7=z1();function Zst(){return function(e){return e.lift(new eat)}}LA.materialize=Zst;var eat=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new tat(e))},r}(),tat=function(r){Xst(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){this.destination.next(M7.Notification.createNext(t))},e.prototype._error=function(t){var n=this.destination;n.next(M7.Notification.createError(t)),n.complete()},e.prototype._complete=function(){var t=this.destination;t.next(M7.Notification.createComplete()),t.complete()},e}(Qst.Subscriber)});var zj=C(NA=>{"use strict";var rat=NA&&NA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(NA,"__esModule",{value:!0});var nat=gi();function iat(r,e){var t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new oat(r,e,t))}}NA.scan=iat;var oat=function(){function r(e,t,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return r.prototype.call=function(e,t){return t.subscribe(new sat(e,this.accumulator,this.seed,this.hasSeed))},r}(),sat=function(r){rat(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(!this.hasSeed)this.seed=t,this.destination.next(t);else return this._tryNext(t)},e.prototype._tryNext=function(t){var n=this.index++,i;try{i=this.accumulator(this.seed,t,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(nat.Subscriber)});var MA=C(F7=>{"use strict";Object.defineProperty(F7,"__esModule",{value:!0});var ACe=zj(),LCe=jj(),aat=nP(),NCe=nj();function cat(r,e){return arguments.length>=2?function(n){return NCe.pipe(ACe.scan(r,e),LCe.takeLast(1),aat.defaultIfEmpty(e))(n)}:function(n){return NCe.pipe(ACe.scan(function(i,o,s){return r(i,o,s+1)}),LCe.takeLast(1))(n)}}F7.reduce=cat});var MCe=C(q7=>{"use strict";Object.defineProperty(q7,"__esModule",{value:!0});var uat=MA();function lat(r){var e=typeof r=="function"?function(t,n){return r(t,n)>0?t:n}:function(t,n){return t>n?t:n};return uat.reduce(e)}q7.max=lat});var FCe=C(j7=>{"use strict";Object.defineProperty(j7,"__esModule",{value:!0});var dat=L9();function fat(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(dat.merge.apply(void 0,[t].concat(r)))}}j7.merge=fat});var jCe=C(z7=>{"use strict";Object.defineProperty(z7,"__esModule",{value:!0});var qCe=eA();function hat(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?qCe.mergeMap(function(){return r},e,t):(typeof e=="number"&&(t=e),qCe.mergeMap(function(){return r},t))}z7.mergeMapTo=hat});var HCe=C(I0=>{"use strict";var pat=I0&&I0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(I0,"__esModule",{value:!0});var U7=zc();function mat(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),function(n){return n.lift(new zCe(r,e,t))}}I0.mergeScan=mat;var zCe=function(){function r(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return r.prototype.call=function(e,t){return t.subscribe(new UCe(e,this.accumulator,this.seed,this.concurrent))},r}();I0.MergeScanOperator=zCe;var UCe=function(r){pat(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(t){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,t,n)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var n=new U7.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=U7.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var n=this.destination;this.acc=t,this.hasValue=!0,n.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(U7.SimpleOuterSubscriber);I0.MergeScanSubscriber=UCe});var BCe=C(H7=>{"use strict";Object.defineProperty(H7,"__esModule",{value:!0});var gat=MA();function vat(r){var e=typeof r=="function"?function(t,n){return r(t,n)<0?t:n}:function(t,n){return t<n?t:n};return gat.reduce(e)}H7.min=vat});var k0=C(Uj=>{"use strict";Object.defineProperty(Uj,"__esModule",{value:!0});var yat=IK();function _at(r,e){return function(n){var i;if(typeof r=="function"?i=r:i=function(){return r},typeof e=="function")return n.lift(new WCe(i,e));var o=Object.create(n,yat.connectableObservableDescriptor);return o.source=n,o.subjectFactory=i,o}}Uj.multicast=_at;var WCe=function(){function r(e,t){this.subjectFactory=e,this.selector=t}return r.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(t.subscribe(i)),o},r}();Uj.MulticastOperator=WCe});var GCe=C(oP=>{"use strict";var bat=oP&&oP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(oP,"__esModule",{value:!0});var wat=Wy(),$Ce=ap(),B7=zc();function Sat(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length===1&&$Ce.isArray(r[0])&&(r=r[0]),function(t){return t.lift(new VCe(r))}}oP.onErrorResumeNext=Sat;function Cat(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0;return r.length===1&&$Ce.isArray(r[0])&&(r=r[0]),t=r.shift(),wat.from(t).lift(new VCe(r))}oP.onErrorResumeNextStatic=Cat;var VCe=function(){function r(e){this.nextSources=e}return r.prototype.call=function(e,t){return t.subscribe(new Tat(e,this.nextSources))},r}(),Tat=function(r){bat(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var n=new B7.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=B7.innerSubscribe(t,n);o!==n&&i.add(o)}else this.destination.complete()},e}(B7.SimpleOuterSubscriber)});var KCe=C(FA=>{"use strict";var Dat=FA&&FA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(FA,"__esModule",{value:!0});var Eat=gi();function Rat(){return function(r){return r.lift(new Pat)}}FA.pairwise=Rat;var Pat=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new xat(e))},r}(),xat=function(r){Dat(e,r);function e(t){var n=r.call(this,t)||this;return n.hasPrev=!1,n}return e.prototype._next=function(t){var n;this.hasPrev?n=[this.prev,t]:this.hasPrev=!0,this.prev=t,n&&this.destination.next(n)},e}(Eat.Subscriber)});var JCe=C(W7=>{"use strict";Object.defineProperty(W7,"__esModule",{value:!0});var Oat=j9(),YCe=T0();function Iat(r,e){return function(t){return[YCe.filter(r,e)(t),YCe.filter(Oat.not(r,e))(t)]}}W7.partition=Iat});var XCe=C($7=>{"use strict";Object.defineProperty($7,"__esModule",{value:!0});var kat=vg();function Aat(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.length;if(t===0)throw new Error("list of properties cannot be empty.");return function(n){return kat.map(Lat(r,t))(n)}}$7.pluck=Aat;function Lat(r,e){var t=function(n){for(var i=n,o=0;o<e;o++){var s=i?.[r[o]];if(s!==void 0)i=s;else return}return i};return t}});var eTe=C(V7=>{"use strict";Object.defineProperty(V7,"__esModule",{value:!0});var QCe=Xf(),ZCe=k0();function Nat(r){return r?ZCe.multicast(function(){return new QCe.Subject},r):ZCe.multicast(new QCe.Subject)}V7.publish=Nat});var tTe=C(G7=>{"use strict";Object.defineProperty(G7,"__esModule",{value:!0});var Mat=LK(),Fat=k0();function qat(r){return function(e){return Fat.multicast(new Mat.BehaviorSubject(r))(e)}}G7.publishBehavior=qat});var rTe=C(K7=>{"use strict";Object.defineProperty(K7,"__esModule",{value:!0});var jat=B1(),zat=k0();function Uat(){return function(r){return zat.multicast(new jat.AsyncSubject)(r)}}K7.publishLast=Uat});var nTe=C(Y7=>{"use strict";Object.defineProperty(Y7,"__esModule",{value:!0});var Hat=uj(),Bat=k0();function Wat(r,e,t,n){t&&typeof t!="function"&&(n=t);var i=typeof t=="function"?t:void 0,o=new Hat.ReplaySubject(r,e,n);return function(s){return Bat.multicast(function(){return o},i)(s)}}Y7.publishReplay=Wat});var iTe=C(J7=>{"use strict";Object.defineProperty(J7,"__esModule",{value:!0});var $at=ap(),Vat=U9();function Gat(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return r.length===1&&$at.isArray(r[0])&&(r=r[0]),n.lift.call(Vat.race.apply(void 0,[n].concat(r)))}}J7.race=Gat});var sTe=C(qA=>{"use strict";var Kat=qA&&qA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(qA,"__esModule",{value:!0});var Yat=gi(),Jat=Hy();function Xat(r){return r===void 0&&(r=-1),function(e){return r===0?Jat.empty():r<0?e.lift(new oTe(-1,e)):e.lift(new oTe(r-1,e))}}qA.repeat=Xat;var oTe=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new Qat(e,this.count,this.source))},r}(),Qat=function(r){Kat(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var t=this,n=t.source,i=t.count;if(i===0)return r.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(Yat.Subscriber)});var aTe=C(jA=>{"use strict";var Zat=jA&&jA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jA,"__esModule",{value:!0});var ect=Xf(),X7=zc();function tct(r){return function(e){return e.lift(new rct(r))}}jA.repeatWhen=tct;var rct=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new nct(e,this.notifier,t))},r}(),nct=function(r){Zat(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return r.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return r.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this,n=t.notifications,i=t.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,r.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},e.prototype.subscribeToRetries=function(){this.notifications=new ect.Subject;var t;try{var n=this.notifier;t=n(this.notifications)}catch{return r.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=X7.innerSubscribe(t,new X7.SimpleInnerSubscriber(this))},e}(X7.SimpleOuterSubscriber)});var cTe=C(zA=>{"use strict";var ict=zA&&zA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zA,"__esModule",{value:!0});var oct=gi();function sct(r){return r===void 0&&(r=-1),function(e){return e.lift(new act(r,e))}}zA.retry=sct;var act=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new cct(e,this.count,this.source))},r}(),cct=function(r){ict(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return r.prototype.error.call(this,t);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(oct.Subscriber)});var uTe=C(UA=>{"use strict";var uct=UA&&UA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(UA,"__esModule",{value:!0});var lct=Xf(),Q7=zc();function dct(r){return function(e){return e.lift(new fct(r,e))}}UA.retryWhen=dct;var fct=function(){function r(e,t){this.notifier=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new hct(e,this.notifier,this.source))},r}(),hct=function(r){uct(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new lct.Subject;try{var s=this.notifier;i=s(n)}catch(a){return r.prototype.error.call(this,a)}o=Q7.innerSubscribe(i,new Q7.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(t)}},e.prototype._unsubscribe=function(){var t=this,n=t.errors,i=t.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(Q7.SimpleOuterSubscriber)});var lTe=C(HA=>{"use strict";var pct=HA&&HA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(HA,"__esModule",{value:!0});var Z7=zc();function mct(r){return function(e){return e.lift(new gct(r))}}HA.sample=mct;var gct=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new vct(e),i=t.subscribe(n);return i.add(Z7.innerSubscribe(this.notifier,new Z7.SimpleInnerSubscriber(n))),i},r}(),vct=function(r){pct(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasValue=!1,t}return e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Z7.SimpleOuterSubscriber)});var dTe=C(BA=>{"use strict";var yct=BA&&BA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(BA,"__esModule",{value:!0});var _ct=gi(),bct=cp();function wct(r,e){return e===void 0&&(e=bct.async),function(t){return t.lift(new Sct(r,e))}}BA.sampleTime=wct;var Sct=function(){function r(e,t){this.period=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new Cct(e,this.period,this.scheduler))},r}(),Cct=function(r){yct(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(Tct,n,{subscriber:o,period:n})),o}return e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(_ct.Subscriber);function Tct(r){var e=r.subscriber,t=r.period;e.notifyNext(),this.schedule(r,t)}});var gTe=C(A0=>{"use strict";var fTe=A0&&A0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(A0,"__esModule",{value:!0});var hTe=gi();function Dct(r,e){return function(t){return t.lift(new pTe(r,e))}}A0.sequenceEqual=Dct;var pTe=function(){function r(e,t){this.compareTo=e,this.comparator=t}return r.prototype.call=function(e,t){return t.subscribe(new mTe(e,this.compareTo,this.comparator))},r}();A0.SequenceEqualOperator=pTe;var mTe=function(r){fTe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new Ect(t,o))),o}return e.prototype._next=function(t){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,n=t._a,i=t._b,o=t.comparator;n.length>0&&i.length>0;){var s=n.shift(),a=i.shift(),c=!1;try{c=o?o(s,a):s===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype.nextB=function(t){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(hTe.Subscriber);A0.SequenceEqualSubscriber=mTe;var Ect=function(r){fTe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.parent=n,i}return e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(hTe.Subscriber)});var vTe=C(eY=>{"use strict";Object.defineProperty(eY,"__esModule",{value:!0});var Rct=k0(),Pct=oj(),xct=Xf();function Oct(){return new xct.Subject}function Ict(){return function(r){return Pct.refCount()(Rct.multicast(Oct)(r))}}eY.share=Ict});var yTe=C(tY=>{"use strict";Object.defineProperty(tY,"__esModule",{value:!0});var kct=uj();function Act(r,e,t){var n;return r&&typeof r=="object"?n=r:n={bufferSize:r,windowTime:e,refCount:!1,scheduler:t},function(i){return i.lift(Lct(n))}}tY.shareReplay=Act;function Lct(r){var e=r.bufferSize,t=e===void 0?Number.POSITIVE_INFINITY:e,n=r.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=r.refCount,s=r.scheduler,a,c=0,u,l=!1,d=!1;return function(p){c++;var _;!a||l?(l=!1,a=new kct.ReplaySubject(t,i,s),_=a.subscribe(this),u=p.subscribe({next:function(D){a.next(D)},error:function(D){l=!0,a.error(D)},complete:function(){d=!0,u=void 0,a.complete()}}),d&&(u=void 0)):_=a.subscribe(this),this.add(function(){c--,_.unsubscribe(),_=void 0,u&&!d&&o&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}});var _Te=C(WA=>{"use strict";var Nct=WA&&WA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(WA,"__esModule",{value:!0});var Mct=gi(),Fct=ZR();function qct(r){return function(e){return e.lift(new jct(r,e))}}WA.single=qct;var jct=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new zct(e,this.predicate,this.source))},r}(),zct=function(r){Nct(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var n=this.index++;this.predicate?this.tryNext(t,n):this.applySingleValue(t)},e.prototype.tryNext=function(t,n){try{this.predicate(t,n,this.source)&&this.applySingleValue(t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new Fct.EmptyError)},e}(Mct.Subscriber)});var bTe=C($A=>{"use strict";var Uct=$A&&$A.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($A,"__esModule",{value:!0});var Hct=gi();function Bct(r){return function(e){return e.lift(new Wct(r))}}$A.skip=Bct;var Wct=function(){function r(e){this.total=e}return r.prototype.call=function(e,t){return t.subscribe(new $ct(e,this.total))},r}(),$ct=function(r){Uct(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(Hct.Subscriber)});var STe=C(VA=>{"use strict";var Vct=VA&&VA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(VA,"__esModule",{value:!0});var wTe=gi(),Gct=QR();function Kct(r){return function(e){return e.lift(new Yct(r))}}VA.skipLast=Kct;var Yct=function(){function r(e){if(this._skipCount=e,this._skipCount<0)throw new Gct.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return this._skipCount===0?t.subscribe(new wTe.Subscriber(e)):t.subscribe(new Jct(e,this._skipCount))},r}(),Jct=function(r){Vct(e,r);function e(t,n){var i=r.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(t){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=t;else{var o=i%n,s=this._ring,a=s[o];s[o]=t,this.destination.next(a)}},e}(wTe.Subscriber)});var CTe=C(GA=>{"use strict";var Xct=GA&&GA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(GA,"__esModule",{value:!0});var rY=zc();function Qct(r){return function(e){return e.lift(new Zct(r))}}GA.skipUntil=Qct;var Zct=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new eut(e,this.notifier))},r}(),eut=function(r){Xct(e,r);function e(t,n){var i=r.call(this,t)||this;i.hasValue=!1;var o=new rY.SimpleInnerSubscriber(i);i.add(o),i.innerSubscription=o;var s=rY.innerSubscribe(n,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(t){this.hasValue&&r.prototype._next.call(this,t)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(rY.SimpleOuterSubscriber)});var TTe=C(KA=>{"use strict";var tut=KA&&KA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(KA,"__esModule",{value:!0});var rut=gi();function nut(r){return function(e){return e.lift(new iut(r))}}KA.skipWhile=nut;var iut=function(){function r(e){this.predicate=e}return r.prototype.call=function(e,t){return t.subscribe(new out(e,this.predicate))},r}(),out=function(r){tut(e,r);function e(t,n){var i=r.call(this,t)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(t){var n=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||n.next(t)},e.prototype.tryCallPredicate=function(t){try{var n=this.predicate(t,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(rut.Subscriber)});var ETe=C(nY=>{"use strict";Object.defineProperty(nY,"__esModule",{value:!0});var DTe=tA(),sut=By();function aut(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return sut.isScheduler(t)?(r.pop(),function(n){return DTe.concat(r,n,t)}):function(n){return DTe.concat(r,n)}}nY.startWith=aut});var RTe=C(YA=>{"use strict";var cut=YA&&YA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(YA,"__esModule",{value:!0});var uut=zo(),iY=GK(),lut=rA(),dut=function(r){cut(e,r);function e(t,n,i){n===void 0&&(n=0),i===void 0&&(i=iY.asap);var o=r.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=i,(!lut.isNumeric(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=iY.asap),o}return e.create=function(t,n,i){return n===void 0&&(n=0),i===void 0&&(i=iY.asap),new e(t,n,i)},e.dispatch=function(t){var n=t.source,i=t.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(t){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,n,{source:i,subscriber:t})},e}(uut.Observable);YA.SubscribeOnObservable=dut});var PTe=C(oY=>{"use strict";Object.defineProperty(oY,"__esModule",{value:!0});var fut=RTe();function hut(r,e){return e===void 0&&(e=0),function(n){return n.lift(new put(r,e))}}oY.subscribeOn=hut;var put=function(){function r(e,t){this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return new fut.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},r}()});var Hj=C(JA=>{"use strict";var mut=JA&&JA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(JA,"__esModule",{value:!0});var gut=vg(),vut=Wy(),sY=zc();function xTe(r,e){return typeof e=="function"?function(t){return t.pipe(xTe(function(n,i){return vut.from(r(n,i)).pipe(gut.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new yut(r))}}JA.switchMap=xTe;var yut=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new _ut(e,this.project))},r}(),_ut=function(r){mut(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},e.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var i=new sY.SimpleInnerSubscriber(this),o=this.destination;o.add(i),this.innerSubscription=sY.innerSubscribe(t,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&r.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(sY.SimpleOuterSubscriber)});var OTe=C(aY=>{"use strict";Object.defineProperty(aY,"__esModule",{value:!0});var but=Hj(),wut=lT();function Sut(){return but.switchMap(wut.identity)}aY.switchAll=Sut});var kTe=C(cY=>{"use strict";Object.defineProperty(cY,"__esModule",{value:!0});var ITe=Hj();function Cut(r,e){return e?ITe.switchMap(function(){return r},e):ITe.switchMap(function(){return r})}cY.switchMapTo=Cut});var ATe=C(XA=>{"use strict";var Tut=XA&&XA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(XA,"__esModule",{value:!0});var uY=zc();function Dut(r){return function(e){return e.lift(new Eut(r))}}XA.takeUntil=Dut;var Eut=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new Rut(e),i=uY.innerSubscribe(this.notifier,new uY.SimpleInnerSubscriber(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},r}(),Rut=function(r){Tut(e,r);function e(t){var n=r.call(this,t)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(uY.SimpleOuterSubscriber)});var LTe=C(QA=>{"use strict";var Put=QA&&QA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(QA,"__esModule",{value:!0});var xut=gi();function Out(r,e){return e===void 0&&(e=!1),function(t){return t.lift(new Iut(r,e))}}QA.takeWhile=Out;var Iut=function(){function r(e,t){this.predicate=e,this.inclusive=t}return r.prototype.call=function(e,t){return t.subscribe(new kut(e,this.predicate,this.inclusive))},r}(),kut=function(r){Put(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return e.prototype._next=function(t){var n=this.destination,i;try{i=this.predicate(t,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(t,i)},e.prototype.nextOrComplete=function(t,n){var i=this.destination;n?i.next(t):(this.inclusive&&i.next(t),i.complete())},e}(xut.Subscriber)});var NTe=C(ZA=>{"use strict";var Aut=ZA&&ZA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ZA,"__esModule",{value:!0});var Lut=gi(),vT=fj(),Nut=BR();function Mut(r,e,t){return function(i){return i.lift(new Fut(r,e,t))}}ZA.tap=Mut;var Fut=function(){function r(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return r.prototype.call=function(e,t){return t.subscribe(new qut(e,this.nextOrObserver,this.error,this.complete))},r}(),qut=function(r){Aut(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s._tapNext=vT.noop,s._tapError=vT.noop,s._tapComplete=vT.noop,s._tapError=i||vT.noop,s._tapComplete=o||vT.noop,Nut.isFunction(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||vT.noop,s._tapError=n.error||vT.noop,s._tapComplete=n.complete||vT.noop),s}return e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()},e}(Lut.Subscriber)});var dY=C(L0=>{"use strict";var jut=L0&&L0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(L0,"__esModule",{value:!0});var lY=zc();L0.defaultThrottleConfig={leading:!0,trailing:!1};function zut(r,e){return e===void 0&&(e=L0.defaultThrottleConfig),function(t){return t.lift(new Uut(r,!!e.leading,!!e.trailing))}}L0.throttle=zut;var Uut=function(){function r(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return r.prototype.call=function(e,t){return t.subscribe(new Hut(e,this.durationSelector,this.leading,this.trailing))},r}(),Hut=function(r){jut(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.destination=t,s.durationSelector=n,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this,n=t._hasValue,i=t._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var n=this.tryDurationSelector(t);n&&this.add(this._throttled=lY.innerSubscribe(n,new lY.SimpleInnerSubscriber(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var t=this,n=t._throttled,i=t._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(lY.SimpleOuterSubscriber)});var MTe=C(eL=>{"use strict";var But=eL&&eL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(eL,"__esModule",{value:!0});var Wut=gi(),$ut=cp(),Vut=dY();function Gut(r,e,t){return e===void 0&&(e=$ut.async),t===void 0&&(t=Vut.defaultThrottleConfig),function(n){return n.lift(new Kut(r,e,t.leading,t.trailing))}}eL.throttleTime=Gut;var Kut=function(){function r(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return r.prototype.call=function(e,t){return t.subscribe(new Yut(e,this.duration,this.scheduler,this.leading,this.trailing))},r}(),Yut=function(r){But(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.duration=n,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Jut,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(Wut.Subscriber);function Jut(r){var e=r.subscriber;e.clearThrottle()}});var qTe=C(Bj=>{"use strict";Object.defineProperty(Bj,"__esModule",{value:!0});var Xut=cp(),Qut=zj(),Zut=vj(),elt=vg();function tlt(r){return r===void 0&&(r=Xut.async),function(e){return Zut.defer(function(){return e.pipe(Qut.scan(function(t,n){var i=t.current;return{value:n,current:r.now(),last:i}},{current:r.now(),value:void 0,last:void 0}),elt.map(function(t){var n=t.current,i=t.last,o=t.value;return new FTe(o,n-i)}))})}}Bj.timeInterval=tlt;var FTe=function(){function r(e,t){this.value=e,this.interval=t}return r}();Bj.TimeInterval=FTe});var hY=C(tL=>{"use strict";var rlt=tL&&tL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(tL,"__esModule",{value:!0});var nlt=cp(),ilt=S7(),fY=zc();function olt(r,e,t){return t===void 0&&(t=nlt.async),function(n){var i=ilt.isDate(r),o=i?+r-t.now():Math.abs(r);return n.lift(new slt(o,i,e,t))}}tL.timeoutWith=olt;var slt=function(){function r(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new alt(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),alt=function(r){rlt(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(t){var n=t.withObservable;t._unsubscribeAndRecycle(),t.add(fY.innerSubscribe(n,new fY.SimpleInnerSubscriber(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,t)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(fY.SimpleOuterSubscriber)});var jTe=C(pY=>{"use strict";Object.defineProperty(pY,"__esModule",{value:!0});var clt=cp(),ult=ZK(),llt=hY(),dlt=cj();function flt(r,e){return e===void 0&&(e=clt.async),llt.timeoutWith(r,dlt.throwError(new ult.TimeoutError),e)}pY.timeout=flt});var UTe=C(Wj=>{"use strict";Object.defineProperty(Wj,"__esModule",{value:!0});var hlt=cp(),plt=vg();function mlt(r){return r===void 0&&(r=hlt.async),plt.map(function(e){return new zTe(e,r.now())})}Wj.timestamp=mlt;var zTe=function(){function r(e,t){this.value=e,this.timestamp=t}return r}();Wj.Timestamp=zTe});var HTe=C(mY=>{"use strict";Object.defineProperty(mY,"__esModule",{value:!0});var glt=MA();function vlt(r,e,t){return t===0?[e]:(r.push(e),r)}function ylt(){return glt.reduce(vlt,[])}mY.toArray=ylt});var WTe=C(rL=>{"use strict";var _lt=rL&&rL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(rL,"__esModule",{value:!0});var BTe=Xf(),gY=zc();function blt(r){return function(t){return t.lift(new wlt(r))}}rL.window=blt;var wlt=function(){function r(e){this.windowBoundaries=e}return r.prototype.call=function(e,t){var n=new Slt(e),i=t.subscribe(n);return i.closed||n.add(gY.innerSubscribe(this.windowBoundaries,new gY.SimpleInnerSubscriber(n))),i},r}(),Slt=function(r){_lt(e,r);function e(t){var n=r.call(this,t)||this;return n.window=new BTe.Subject,t.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var n=this.destination,i=this.window=new BTe.Subject;n.next(i)},e}(gY.SimpleOuterSubscriber)});var VTe=C(nL=>{"use strict";var Clt=nL&&nL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(nL,"__esModule",{value:!0});var Tlt=gi(),$Te=Xf();function Dlt(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Elt(r,e))}}nL.windowCount=Dlt;var Elt=function(){function r(e,t){this.windowSize=e,this.startWindowEvery=t}return r.prototype.call=function(e,t){return t.subscribe(new Rlt(e,this.windowSize,this.startWindowEvery))},r}(),Rlt=function(r){Clt(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.destination=t,o.windowSize=n,o.startWindowEvery=i,o.windows=[new $Te.Subject],o.count=0,t.next(o.windows[0]),o}return e.prototype._next=function(t){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,c=0;c<a&&!this.closed;c++)s[c].next(t);var u=this.count-o+1;if(u>=0&&u%n===0&&!this.closed&&s.shift().complete(),++this.count%n===0&&!this.closed){var l=new $Te.Subject;s.push(l),i.next(l)}},e.prototype._error=function(t){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Tlt.Subscriber)});var JTe=C(iL=>{"use strict";var KTe=iL&&iL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iL,"__esModule",{value:!0});var Plt=Xf(),xlt=cp(),Olt=gi(),GTe=rA(),vY=By();function Ilt(r){var e=xlt.async,t=null,n=Number.POSITIVE_INFINITY;return vY.isScheduler(arguments[3])&&(e=arguments[3]),vY.isScheduler(arguments[2])?e=arguments[2]:GTe.isNumeric(arguments[2])&&(n=Number(arguments[2])),vY.isScheduler(arguments[1])?e=arguments[1]:GTe.isNumeric(arguments[1])&&(t=Number(arguments[1])),function(o){return o.lift(new klt(r,t,n,e))}}iL.windowTime=Ilt;var klt=function(){function r(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new Llt(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},r}(),Alt=function(r){KTe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return e.prototype.next=function(t){this._numberOfNextedValues++,r.prototype.next.call(this,t)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Plt.Subject),Llt=function(r){KTe(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(YTe,n,u)),a.add(s.schedule(Mlt,i,l))}else{var d={subscriber:a,window:c,windowTimeSpan:n};a.add(s.schedule(Nlt,n,d))}return a}return e.prototype._next=function(t){for(var n=this.windows,i=n.length,o=0;o<i;o++){var s=n[o];s.closed||(s.next(t),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(t){for(var n=this.windows;n.length>0;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var n=t.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new Alt;this.windows.push(t);var n=this.destination;return n.next(t),t},e.prototype.closeWindow=function(t){t.complete();var n=this.windows;n.splice(n.indexOf(t),1)},e}(Olt.Subscriber);function Nlt(r){var e=r.subscriber,t=r.windowTimeSpan,n=r.window;n&&e.closeWindow(n),r.window=e.openWindow(),this.schedule(r,t)}function Mlt(r){var e=r.windowTimeSpan,t=r.subscriber,n=r.scheduler,i=r.windowCreationInterval,o=t.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:t,window:o,context:a};a.subscription=n.schedule(YTe,e,c),s.add(a.subscription),s.schedule(r,i)}function YTe(r){var e=r.subscriber,t=r.window,n=r.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(t)}});var QTe=C(oL=>{"use strict";var Flt=oL&&oL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(oL,"__esModule",{value:!0});var qlt=Xf(),jlt=Il(),zlt=fT(),XTe=hT();function Ult(r,e){return function(t){return t.lift(new Hlt(r,e))}}oL.windowToggle=Ult;var Hlt=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new Blt(e,this.openings,this.closingSelector))},r}(),Blt=function(r){Flt(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=XTe.subscribeToResult(o,n,n)),o}return e.prototype._next=function(t){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(t)},e.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var s=n[o];s.window.error(t),s.subscription.unsubscribe()}r.prototype._error.call(this,t)},e.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.complete(),o.subscription.unsubscribe()}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,n,i,o,s){if(t===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(p){return this.error(p)}var u=new qlt.Subject,l=new jlt.Subscription,d={window:u,subscription:l};this.contexts.push(d);var f=XTe.subscribeToResult(this,a,d);f.closed?this.closeWindow(this.contexts.length-1):(f.context=d,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var n=this.contexts,i=n[t],o=i.window,s=i.subscription;n.splice(t,1),o.complete(),s.unsubscribe()}},e}(zlt.OuterSubscriber)});var ZTe=C(sL=>{"use strict";var Wlt=sL&&sL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(sL,"__esModule",{value:!0});var $lt=Xf(),Vlt=fT(),Glt=hT();function Klt(r){return function(t){return t.lift(new Ylt(r))}}sL.windowWhen=Klt;var Ylt=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Jlt(e,this.closingSelector))},r}(),Jlt=function(r){Wlt(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(t,n,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){t===void 0&&(t=null),t&&(this.remove(t),t.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new $lt.Subject;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Glt.subscribeToResult(this,o))},e}(Vlt.OuterSubscriber)});var eDe=C(aL=>{"use strict";var Xlt=aL&&aL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(aL,"__esModule",{value:!0});var Qlt=fT(),Zlt=hT();function edt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){var n;typeof r[r.length-1]=="function"&&(n=r.pop());var i=r;return t.lift(new tdt(i,n))}}aL.withLatestFrom=edt;var tdt=function(){function r(e,t){this.observables=e,this.project=t}return r.prototype.call=function(e,t){return t.subscribe(new rdt(e,this.observables,this.project))},r}(),rdt=function(r){Xlt(e,r);function e(t,n,i){var o=r.call(this,t)||this;o.observables=n,o.project=i,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var c=n[a];o.add(Zlt.subscribeToResult(o,c,void 0,a))}return o}return e.prototype.notifyNext=function(t,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(this.toRespond.length===0){var n=[t].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(t){var n;try{n=this.project.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Qlt.OuterSubscriber)});var tDe=C(yY=>{"use strict";Object.defineProperty(yY,"__esModule",{value:!0});var ndt=Sj();function idt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return n.lift.call(ndt.zip.apply(void 0,[n].concat(r)))}}yY.zip=idt});var rDe=C(_Y=>{"use strict";Object.defineProperty(_Y,"__esModule",{value:!0});var odt=Sj();function sdt(r){return function(e){return e.lift(new odt.ZipOperator(r))}}_Y.zipAll=sdt});var cL=C(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});var adt=u7();ir.audit=adt.audit;var cdt=zSe();ir.auditTime=cdt.auditTime;var udt=USe();ir.buffer=udt.buffer;var ldt=WSe();ir.bufferCount=ldt.bufferCount;var ddt=GSe();ir.bufferTime=ddt.bufferTime;var fdt=YSe();ir.bufferToggle=fdt.bufferToggle;var hdt=JSe();ir.bufferWhen=hdt.bufferWhen;var pdt=XSe();ir.catchError=pdt.catchError;var mdt=QSe();ir.combineAll=mdt.combineAll;var gdt=ZSe();ir.combineLatest=gdt.combineLatest;var vdt=eCe();ir.concat=vdt.concat;var ydt=C9();ir.concatAll=ydt.concatAll;var _dt=y7();ir.concatMap=_dt.concatMap;var bdt=tCe();ir.concatMapTo=bdt.concatMapTo;var wdt=rCe();ir.count=wdt.count;var Sdt=nCe();ir.debounce=Sdt.debounce;var Cdt=iCe();ir.debounceTime=Cdt.debounceTime;var Tdt=nP();ir.defaultIfEmpty=Tdt.defaultIfEmpty;var Ddt=sCe();ir.delay=Ddt.delay;var Edt=cCe();ir.delayWhen=Edt.delayWhen;var Rdt=uCe();ir.dematerialize=Rdt.dematerialize;var Pdt=dCe();ir.distinct=Pdt.distinct;var xdt=D7();ir.distinctUntilChanged=xdt.distinctUntilChanged;var Odt=fCe();ir.distinctUntilKeyChanged=Odt.distinctUntilKeyChanged;var Idt=pCe();ir.elementAt=Idt.elementAt;var kdt=mCe();ir.endWith=kdt.endWith;var Adt=gCe();ir.every=Adt.every;var Ldt=vCe();ir.exhaust=Ldt.exhaust;var Ndt=_Ce();ir.exhaustMap=Ndt.exhaustMap;var Mdt=SCe();ir.expand=Mdt.expand;var Fdt=T0();ir.filter=Fdt.filter;var qdt=CCe();ir.finalize=qdt.finalize;var jdt=k7();ir.find=jdt.find;var zdt=ECe();ir.findIndex=zdt.findIndex;var Udt=RCe();ir.first=Udt.first;var Hdt=AK();ir.groupBy=Hdt.groupBy;var Bdt=PCe();ir.ignoreElements=Bdt.ignoreElements;var Wdt=xCe();ir.isEmpty=Wdt.isEmpty;var $dt=OCe();ir.last=$dt.last;var Vdt=vg();ir.map=Vdt.map;var Gdt=ICe();ir.mapTo=Gdt.mapTo;var Kdt=kCe();ir.materialize=Kdt.materialize;var Ydt=MCe();ir.max=Ydt.max;var Jdt=FCe();ir.merge=Jdt.merge;var Xdt=gj();ir.mergeAll=Xdt.mergeAll;var nDe=eA();ir.mergeMap=nDe.mergeMap;ir.flatMap=nDe.flatMap;var Qdt=jCe();ir.mergeMapTo=Qdt.mergeMapTo;var Zdt=HCe();ir.mergeScan=Zdt.mergeScan;var eft=BCe();ir.min=eft.min;var tft=k0();ir.multicast=tft.multicast;var rft=VK();ir.observeOn=rft.observeOn;var nft=GCe();ir.onErrorResumeNext=nft.onErrorResumeNext;var ift=KCe();ir.pairwise=ift.pairwise;var oft=JCe();ir.partition=oft.partition;var sft=XCe();ir.pluck=sft.pluck;var aft=eTe();ir.publish=aft.publish;var cft=tTe();ir.publishBehavior=cft.publishBehavior;var uft=rTe();ir.publishLast=uft.publishLast;var lft=nTe();ir.publishReplay=lft.publishReplay;var dft=iTe();ir.race=dft.race;var fft=MA();ir.reduce=fft.reduce;var hft=sTe();ir.repeat=hft.repeat;var pft=aTe();ir.repeatWhen=pft.repeatWhen;var mft=cTe();ir.retry=mft.retry;var gft=uTe();ir.retryWhen=gft.retryWhen;var vft=oj();ir.refCount=vft.refCount;var yft=lTe();ir.sample=yft.sample;var _ft=dTe();ir.sampleTime=_ft.sampleTime;var bft=zj();ir.scan=bft.scan;var wft=gTe();ir.sequenceEqual=wft.sequenceEqual;var Sft=vTe();ir.share=Sft.share;var Cft=yTe();ir.shareReplay=Cft.shareReplay;var Tft=_Te();ir.single=Tft.single;var Dft=bTe();ir.skip=Dft.skip;var Eft=STe();ir.skipLast=Eft.skipLast;var Rft=CTe();ir.skipUntil=Rft.skipUntil;var Pft=TTe();ir.skipWhile=Pft.skipWhile;var xft=ETe();ir.startWith=xft.startWith;var Oft=PTe();ir.subscribeOn=Oft.subscribeOn;var Ift=OTe();ir.switchAll=Ift.switchAll;var kft=Hj();ir.switchMap=kft.switchMap;var Aft=kTe();ir.switchMapTo=Aft.switchMapTo;var Lft=qj();ir.take=Lft.take;var Nft=jj();ir.takeLast=Nft.takeLast;var Mft=ATe();ir.takeUntil=Mft.takeUntil;var Fft=LTe();ir.takeWhile=Fft.takeWhile;var qft=NTe();ir.tap=qft.tap;var jft=dY();ir.throttle=jft.throttle;var zft=MTe();ir.throttleTime=zft.throttleTime;var Uft=TA();ir.throwIfEmpty=Uft.throwIfEmpty;var Hft=qTe();ir.timeInterval=Hft.timeInterval;var Bft=jTe();ir.timeout=Bft.timeout;var Wft=hY();ir.timeoutWith=Wft.timeoutWith;var $ft=UTe();ir.timestamp=$ft.timestamp;var Vft=HTe();ir.toArray=Vft.toArray;var Gft=WTe();ir.window=Gft.window;var Kft=VTe();ir.windowCount=Kft.windowCount;var Yft=JTe();ir.windowTime=Yft.windowTime;var Jft=QTe();ir.windowToggle=Jft.windowToggle;var Xft=ZTe();ir.windowWhen=Xft.windowWhen;var Qft=eDe();ir.withLatestFrom=Qft.withLatestFrom;var Zft=tDe();ir.zip=Zft.zip;var eht=rDe();ir.zipAll=eht.zipAll});var aDe=C((g8t,sDe)=>{var sP=1e3,aP=sP*60,cP=aP*60,N0=cP*24,tht=N0*7,rht=N0*365.25;sDe.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return nht(r);if(t==="number"&&isFinite(r))return e.long?oht(r):iht(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function nht(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*rht;case"weeks":case"week":case"w":return t*tht;case"days":case"day":case"d":return t*N0;case"hours":case"hour":case"hrs":case"hr":case"h":return t*cP;case"minutes":case"minute":case"mins":case"min":case"m":return t*aP;case"seconds":case"second":case"secs":case"sec":case"s":return t*sP;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function iht(r){var e=Math.abs(r);return e>=N0?Math.round(r/N0)+"d":e>=cP?Math.round(r/cP)+"h":e>=aP?Math.round(r/aP)+"m":e>=sP?Math.round(r/sP)+"s":r+"ms"}function oht(r){var e=Math.abs(r);return e>=N0?$j(r,e,N0,"day"):e>=cP?$j(r,e,cP,"hour"):e>=aP?$j(r,e,aP,"minute"):e>=sP?$j(r,e,sP,"second"):r+" ms"}function $j(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var wY=C((v8t,cDe)=>{function sht(r){t.debug=t,t.default=t,t.coerce=c,t.disable=o,t.enable=i,t.enabled=s,t.humanize=aDe(),t.destroy=u,Object.keys(r).forEach(l=>{t[l]=r[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(l){let d,f=null,p,_;function D(...x){if(!D.enabled)return;let N=D,A=Number(new Date),U=A-(d||A);N.diff=U,N.prev=d,N.curr=A,d=A,x[0]=t.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let ee=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(we,V)=>{if(we==="%%")return"%";ee++;let W=t.formatters[V];if(typeof W=="function"){let te=x[ee];we=W.call(N,te),x.splice(ee,1),ee--}return we}),t.formatArgs.call(N,x),(N.log||t.log).apply(N,x)}return D.namespace=l,D.useColors=t.useColors(),D.color=t.selectColor(l),D.extend=n,D.destroy=t.destroy,Object.defineProperty(D,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==t.namespaces&&(p=t.namespaces,_=t.enabled(l)),_),set:x=>{f=x}}),typeof t.init=="function"&&t.init(D),D}function n(l,d){let f=t(this.namespace+(typeof d>"u"?":":d)+l);return f.log=this.log,f}function i(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let d,f=(typeof l=="string"?l:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(l=f[d].replace(/\*/g,".*?"),l[0]==="-"?t.skips.push(new RegExp("^"+l.slice(1)+"$")):t.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...t.names.map(a),...t.skips.map(a).map(d=>"-"+d)].join(",");return t.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let d,f;for(d=0,f=t.skips.length;d<f;d++)if(t.skips[d].test(l))return!1;for(d=0,f=t.names.length;d<f;d++)if(t.names[d].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}cDe.exports=sht});var uDe=C((yg,Vj)=>{yg.formatArgs=cht;yg.save=uht;yg.load=lht;yg.useColors=aht;yg.storage=dht();yg.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();yg.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function aht(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function cht(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Vj.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}yg.log=console.debug||console.log||(()=>{});function uht(r){try{r?yg.storage.setItem("debug",r):yg.storage.removeItem("debug")}catch{}}function lht(){let r;try{r=yg.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function dht(){try{return localStorage}catch{}}Vj.exports=wY()(yg);var{formatters:fht}=Vj.exports;fht.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var dDe=C((y8t,lDe)=>{"use strict";lDe.exports=(r,e)=>{e=e||process.argv;let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var hDe=C((_8t,fDe)=>{"use strict";var hht=require("os"),Vy=dDe(),Zf=process.env,uP;Vy("no-color")||Vy("no-colors")||Vy("color=false")?uP=!1:(Vy("color")||Vy("colors")||Vy("color=true")||Vy("color=always"))&&(uP=!0);"FORCE_COLOR"in Zf&&(uP=Zf.FORCE_COLOR.length===0||parseInt(Zf.FORCE_COLOR,10)!==0);function pht(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function mht(r){if(uP===!1)return 0;if(Vy("color=16m")||Vy("color=full")||Vy("color=truecolor"))return 3;if(Vy("color=256"))return 2;if(r&&!r.isTTY&&uP!==!0)return 0;let e=uP?1:0;if(process.platform==="win32"){let t=hht.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in Zf)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in Zf)||Zf.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Zf)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Zf.TEAMCITY_VERSION)?1:0;if(Zf.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Zf){let t=parseInt((Zf.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Zf.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Zf.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Zf.TERM)||"COLORTERM"in Zf?1:(Zf.TERM==="dumb",e)}function SY(r){let e=mht(r);return pht(e)}fDe.exports={supportsColor:SY,stdout:SY(process.stdout),stderr:SY(process.stderr)}});var mDe=C((gd,Kj)=>{var ght=require("tty"),Gj=require("util");gd.init=Cht;gd.log=bht;gd.formatArgs=yht;gd.save=wht;gd.load=Sht;gd.useColors=vht;gd.destroy=Gj.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");gd.colors=[6,2,3,4,5,1];try{let r=hDe();r&&(r.stderr||r).level>=2&&(gd.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}gd.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function vht(){return"colors"in gd.inspectOpts?!!gd.inspectOpts.colors:ght.isatty(process.stderr.fd)}function yht(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(i+"m+"+Kj.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=_ht()+e+" "+r[0]}function _ht(){return gd.inspectOpts.hideDate?"":new Date().toISOString()+" "}function bht(...r){return process.stderr.write(Gj.formatWithOptions(gd.inspectOpts,...r)+`
`)}function wht(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function Sht(){return process.env.DEBUG}function Cht(r){r.inspectOpts={};let e=Object.keys(gd.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=gd.inspectOpts[e[t]]}Kj.exports=wY()(gd);var{formatters:pDe}=Kj.exports;pDe.o=function(r){return this.inspectOpts.colors=this.useColors,Gj.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};pDe.O=function(r){return this.inspectOpts.colors=this.useColors,Gj.inspect(r,this.inspectOpts)}});var Yj=C((b8t,CY)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?CY.exports=uDe():CY.exports=mDe()});var yDe=C(lm=>{"use strict";var Tht=lm&&lm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Dht=lm&&lm.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gDe=lm&&lm.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Tht(e,r,t);return Dht(e,r),e};Object.defineProperty(lm,"__esModule",{value:!0});lm.req=lm.json=lm.toBuffer=void 0;var Eht=gDe(require("http")),Rht=gDe(require("https"));async function vDe(r){let e=0,t=[];for await(let n of r)e+=n.length,t.push(n);return Buffer.concat(t,e)}lm.toBuffer=vDe;async function Pht(r){let t=(await vDe(r)).toString("utf8");try{return JSON.parse(t)}catch(n){let i=n;throw i.message+=` (input: ${t})`,i}}lm.json=Pht;function xht(r,e={}){let n=((typeof r=="string"?r:r.href).startsWith("https:")?Rht:Eht).request(r,e),i=new Promise((o,s)=>{n.once("response",o).once("error",s).end()});return n.then=i.then.bind(i),n}lm.req=xht});var DY=C(_g=>{"use strict";var bDe=_g&&_g.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Oht=_g&&_g.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Iht=_g&&_g.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&bDe(e,r,t);return Oht(e,r),e},kht=_g&&_g.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&bDe(e,r,t)};Object.defineProperty(_g,"__esModule",{value:!0});_g.Agent=void 0;var _De=Iht(require("http"));kht(yDe(),_g);var lb=Symbol("AgentBaseInternalState"),TY=class extends _De.Agent{constructor(e){super(e),this[lb]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}createSocket(e,t,n){let i={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then(()=>this.connect(e,i)).then(o=>{if(o instanceof _De.Agent)return o.addRequest(e,i);this[lb].currentSocket=o,super.createSocket(e,t,n)},n)}createConnection(){let e=this[lb].currentSocket;if(this[lb].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[lb].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[lb]&&(this[lb].defaultPort=e)}get protocol(){return this[lb].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[lb]&&(this[lb].protocol=e)}};_g.Agent=TY});var SDe=C(xv=>{"use strict";var Aht=xv&&xv.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lht=xv&&xv.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wDe=xv&&xv.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Aht(e,r,t);return Lht(e,r),e},Nht=xv&&xv.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xv,"__esModule",{value:!0});xv.HttpProxyAgent=void 0;var Mht=wDe(require("net")),Fht=wDe(require("tls")),qht=Nht(Yj()),jht=require("events"),zht=DY(),lP=(0,qht.default)("http-proxy-agent"),Jj=class extends zht.Agent{constructor(e,t){super(t),this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},lP("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...t?Uht(t,"headers"):null,host:n,port:i}}addRequest(e,t){e._header=null,this.setRequestProps(e,t),super.addRequest(e,t)}setRequestProps(e,t){let{proxy:n}=this,i=t.secureEndpoint?"https:":"http:",o=e.getHeader("host")||"localhost",s=`${i}//${o}`,a=new URL(e.path,s);t.port!==80&&(a.port=String(t.port)),e.path=String(a);let c=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let u=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;c["Proxy-Authorization"]=`Basic ${Buffer.from(u).toString("base64")}`}c["Proxy-Connection"]||(c["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let u of Object.keys(c)){let l=c[u];l&&e.setHeader(u,l)}}async connect(e,t){e._header=null,e.path.includes("://")||this.setRequestProps(e,t);let n,i;lP("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(lP("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,i=n.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+n.substring(i),lP("Output buffer: %o",e.outputData[0].data));let o;return this.proxy.protocol==="https:"?(lP("Creating `tls.Socket`: %o",this.connectOpts),o=Fht.connect(this.connectOpts)):(lP("Creating `net.Socket`: %o",this.connectOpts),o=Mht.connect(this.connectOpts)),await(0,jht.once)(o,"connect"),o}};Jj.protocols=["http","https"];xv.HttpProxyAgent=Jj;function Uht(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var CDe=C(dP=>{"use strict";var Hht=dP&&dP.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dP,"__esModule",{value:!0});dP.parseProxyResponse=void 0;var Bht=Hht(Yj()),Xj=(0,Bht.default)("https-proxy-agent:parse-proxy-response");function Wht(r){return new Promise((e,t)=>{let n=0,i=[];function o(){let l=r.read();l?u(l):r.once("readable",o)}function s(){r.removeListener("end",a),r.removeListener("error",c),r.removeListener("readable",o)}function a(){s(),Xj("onend"),t(new Error("Proxy connection ended before receiving CONNECT response"))}function c(l){s(),Xj("onerror %o",l),t(l)}function u(l){i.push(l),n+=l.length;let d=Buffer.concat(i,n),f=d.indexOf(`\r
\r
`);if(f===-1){Xj("have not received end of HTTP headers yet..."),o();return}let p=d.slice(0,f).toString("ascii").split(`\r
`),_=p.shift();if(!_)return r.destroy(),t(new Error("No header received from proxy CONNECT response"));let D=_.split(" "),x=+D[1],N=D.slice(2).join(" "),A={};for(let U of p){if(!U)continue;let ee=U.indexOf(":");if(ee===-1)return r.destroy(),t(new Error(`Invalid header from proxy CONNECT response: "${U}"`));let he=U.slice(0,ee).toLowerCase(),we=U.slice(ee+1).trimStart(),V=A[he];typeof V=="string"?A[he]=[V,we]:Array.isArray(V)?V.push(we):A[he]=we}Xj("got proxy server response: %o %o",_,A),s(),e({connect:{statusCode:x,statusText:N,headers:A},buffered:d})}r.on("error",c),r.on("end",a),o()})}dP.parseProxyResponse=Wht});var PDe=C(Ov=>{"use strict";var $ht=Ov&&Ov.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Vht=Ov&&Ov.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),EDe=Ov&&Ov.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&$ht(e,r,t);return Vht(e,r),e},RDe=Ov&&Ov.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.HttpsProxyAgent=void 0;var uL=EDe(require("net")),TDe=EDe(require("tls")),Ght=RDe(require("assert")),Kht=RDe(Yj()),Yht=DY(),Jht=CDe(),lL=(0,Kht.default)("https-proxy-agent"),Qj=class extends Yht.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},lL("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?DDe(t,"headers"):null,host:n,port:i}}async connect(e,t){let{proxy:n}=this;if(!t.host)throw new TypeError('No "host" provided');let i;if(n.protocol==="https:"){lL("Creating `tls.Socket`: %o",this.connectOpts);let f=this.connectOpts.servername||this.connectOpts.host;i=TDe.connect({...this.connectOpts,servername:f&&uL.isIP(f)?void 0:f})}else lL("Creating `net.Socket`: %o",this.connectOpts),i=uL.connect(this.connectOpts);let o=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},s=uL.isIPv6(t.host)?`[${t.host}]`:t.host,a=`CONNECT ${s}:${t.port} HTTP/1.1\r
`;if(n.username||n.password){let f=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(f).toString("base64")}`}o.Host=`${s}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let f of Object.keys(o))a+=`${f}: ${o[f]}\r
`;let c=(0,Jht.parseProxyResponse)(i);i.write(`${a}\r
`);let{connect:u,buffered:l}=await c;if(e.emit("proxyConnect",u),this.emit("proxyConnect",u,e),u.statusCode===200){if(e.once("socket",Xht),t.secureEndpoint){lL("Upgrading socket connection to TLS");let f=t.servername||t.host;return TDe.connect({...DDe(t,"host","path","port"),socket:i,servername:uL.isIP(f)?void 0:f})}return i}i.destroy();let d=new uL.Socket({writable:!1});return d.readable=!0,e.once("socket",f=>{lL("Replaying proxy buffer for failed request"),(0,Ght.default)(f.listenerCount("data")>0),f.push(l),f.push(null)}),d}};Qj.protocols=["http","https"];Ov.HttpsProxyAgent=Qj;function Xht(r){r.resume()}function DDe(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var fP=C((I8t,NDe)=>{"use strict";var LDe=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);NDe.exports=r=>r?Object.keys(r).map(e=>[LDe.has(e)?LDe.get(e):e,r[e]]).reduce((e,t)=>(e[t[0]]=t[1],e),Object.create(null)):{}});var sz=C($De=>{"use strict";var MDe=typeof process=="object"&&process?process:{stdout:null,stderr:null},Zht=require("events"),FDe=require("stream"),ept=require("string_decoder"),qDe=ept.StringDecoder,Jw=Symbol("EOF"),Xw=Symbol("maybeEmitEnd"),yT=Symbol("emittedEnd"),ez=Symbol("emittingEnd"),dL=Symbol("emittedError"),tz=Symbol("closed"),jDe=Symbol("read"),rz=Symbol("flush"),zDe=Symbol("flushChunk"),dm=Symbol("encoding"),Qw=Symbol("decoder"),nz=Symbol("flowing"),fL=Symbol("paused"),hP=Symbol("resume"),ju=Symbol("buffer"),db=Symbol("pipes"),vd=Symbol("bufferLength"),RY=Symbol("bufferPush"),PY=Symbol("bufferShift"),cf=Symbol("objectMode"),zu=Symbol("destroyed"),xY=Symbol("error"),OY=Symbol("emitData"),UDe=Symbol("emitEnd"),IY=Symbol("emitEnd2"),Zw=Symbol("async"),kY=Symbol("abort"),iz=Symbol("aborted"),M0=Symbol("signal"),hL=r=>Promise.resolve().then(r),WDe=global._MP_NO_ITERATOR_SYMBOLS_!=="1",HDe=WDe&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),BDe=WDe&&Symbol.iterator||Symbol("iterator not implemented"),tpt=r=>r==="end"||r==="finish"||r==="prefinish",rpt=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,npt=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r),oz=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[hP](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},AY=class extends oz{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=i=>t.emit("error",i),e.on("error",this.proxyErrors)}},LY=class r extends FDe{constructor(e){super(),this[nz]=!1,this[fL]=!1,this[db]=[],this[ju]=[],this[cf]=e&&e.objectMode||!1,this[cf]?this[dm]=null:this[dm]=e&&e.encoding||null,this[dm]==="buffer"&&(this[dm]=null),this[Zw]=e&&!!e.async||!1,this[Qw]=this[dm]?new qDe(this[dm]):null,this[Jw]=!1,this[yT]=!1,this[ez]=!1,this[tz]=!1,this[dL]=null,this.writable=!0,this.readable=!0,this[vd]=0,this[zu]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[ju]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[db]}),this[M0]=e&&e.signal,this[iz]=!1,this[M0]&&(this[M0].addEventListener("abort",()=>this[kY]()),this[M0].aborted&&this[kY]())}get bufferLength(){return this[vd]}get encoding(){return this[dm]}set encoding(e){if(this[cf])throw new Error("cannot set encoding in objectMode");if(this[dm]&&e!==this[dm]&&(this[Qw]&&this[Qw].lastNeed||this[vd]))throw new Error("cannot change encoding");this[dm]!==e&&(this[Qw]=e?new qDe(e):null,this[ju].length&&(this[ju]=this[ju].map(t=>this[Qw].write(t)))),this[dm]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[cf]}set objectMode(e){this[cf]=this[cf]||!!e}get async(){return this[Zw]}set async(e){this[Zw]=this[Zw]||!!e}[kY](){this[iz]=!0,this.emit("abort",this[M0].reason),this.destroy(this[M0].reason)}get aborted(){return this[iz]}set aborted(e){}write(e,t,n){if(this[iz])return!1;if(this[Jw])throw new Error("write after end");if(this[zu])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(n=t,t="utf8"),t||(t="utf8");let i=this[Zw]?hL:o=>o();return!this[cf]&&!Buffer.isBuffer(e)&&(npt(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):rpt(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[cf]?(this.flowing&&this[vd]!==0&&this[rz](!0),this.flowing?this.emit("data",e):this[RY](e),this[vd]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(t===this[dm]&&!this[Qw].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[dm]&&(e=this[Qw].write(e)),this.flowing&&this[vd]!==0&&this[rz](!0),this.flowing?this.emit("data",e):this[RY](e),this[vd]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[vd]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[zu])return null;if(this[vd]===0||e===0||e>this[vd])return this[Xw](),null;this[cf]&&(e=null),this[ju].length>1&&!this[cf]&&(this.encoding?this[ju]=[this[ju].join("")]:this[ju]=[Buffer.concat(this[ju],this[vd])]);let t=this[jDe](e||null,this[ju][0]);return this[Xw](),t}[jDe](e,t){return e===t.length||e===null?this[PY]():(this[ju][0]=t.slice(e),t=t.slice(0,e),this[vd]-=e),this.emit("data",t),!this[ju].length&&!this[Jw]&&this.emit("drain"),t}end(e,t,n){return typeof e=="function"&&(n=e,e=null),typeof t=="function"&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[Jw]=!0,this.writable=!1,(this.flowing||!this[fL])&&this[Xw](),this}[hP](){this[zu]||(this[fL]=!1,this[nz]=!0,this.emit("resume"),this[ju].length?this[rz]():this[Jw]?this[Xw]():this.emit("drain"))}resume(){return this[hP]()}pause(){this[nz]=!1,this[fL]=!0}get destroyed(){return this[zu]}get flowing(){return this[nz]}get paused(){return this[fL]}[RY](e){this[cf]?this[vd]+=1:this[vd]+=e.length,this[ju].push(e)}[PY](){return this[cf]?this[vd]-=1:this[vd]-=this[ju][0].length,this[ju].shift()}[rz](e){do;while(this[zDe](this[PY]())&&this[ju].length);!e&&!this[ju].length&&!this[Jw]&&this.emit("drain")}[zDe](e){return this.emit("data",e),this.flowing}pipe(e,t){if(this[zu])return;let n=this[yT];return t=t||{},e===MDe.stdout||e===MDe.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this[db].push(t.proxyErrors?new AY(this,e,t):new oz(this,e,t)),this[Zw]?hL(()=>this[hP]()):this[hP]()),e}unpipe(e){let t=this[db].find(n=>n.dest===e);t&&(this[db].splice(this[db].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let n=super.on(e,t);return e==="data"&&!this[db].length&&!this.flowing?this[hP]():e==="readable"&&this[vd]!==0?super.emit("readable"):tpt(e)&&this[yT]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[dL]&&(this[Zw]?hL(()=>t.call(this,this[dL])):t.call(this,this[dL])),n}get emittedEnd(){return this[yT]}[Xw](){!this[ez]&&!this[yT]&&!this[zu]&&this[ju].length===0&&this[Jw]&&(this[ez]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[tz]&&this.emit("close"),this[ez]=!1)}emit(e,t,...n){if(e!=="error"&&e!=="close"&&e!==zu&&this[zu])return;if(e==="data")return!this[cf]&&!t?!1:this[Zw]?hL(()=>this[OY](t)):this[OY](t);if(e==="end")return this[UDe]();if(e==="close"){if(this[tz]=!0,!this[yT]&&!this[zu])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[dL]=t,super.emit(xY,t);let o=!this[M0]||this.listeners("error").length?super.emit("error",t):!1;return this[Xw](),o}else if(e==="resume"){let o=super.emit("resume");return this[Xw](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let i=super.emit(e,t,...n);return this[Xw](),i}[OY](e){for(let n of this[db])n.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[Xw](),t}[UDe](){this[yT]||(this[yT]=!0,this.readable=!1,this[Zw]?hL(()=>this[IY]()):this[IY]())}[IY](){if(this[Qw]){let t=this[Qw].end();if(t){for(let n of this[db])n.dest.write(t);super.emit("data",t)}}for(let t of this[db])t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[cf]||(e.dataLength=0);let t=this.promise();return this.on("data",n=>{e.push(n),this[cf]||(e.dataLength+=n.length)}),t.then(()=>e)}concat(){return this[cf]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[cf]?Promise.reject(new Error("cannot concat in objectMode")):this[dm]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(zu,()=>t(new Error("stream destroyed"))),this.on("error",n=>t(n)),this.on("end",()=>e())})}[HDe](){let e=!1,t=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return t();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Jw])return t();let o=null,s=null,a=d=>{this.removeListener("data",c),this.removeListener("end",u),this.removeListener(zu,l),t(),s(d)},c=d=>{this.removeListener("error",a),this.removeListener("end",u),this.removeListener(zu,l),this.pause(),o({value:d,done:!!this[Jw]})},u=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(zu,l),t(),o({done:!0})},l=()=>a(new Error("stream destroyed"));return new Promise((d,f)=>{s=f,o=d,this.once(zu,l),this.once("error",a),this.once("end",u),this.once("data",c)})},throw:t,return:t,[HDe](){return this}}}[BDe](){let e=!1,t=()=>(this.pause(),this.removeListener(xY,t),this.removeListener(zu,t),this.removeListener("end",t),e=!0,{done:!0}),n=()=>{if(e)return t();let i=this.read();return i===null?t():{value:i}};return this.once("end",t),this.once(xY,t),this.once(zu,t),{next:n,throw:t,return:t,[BDe](){return this}}}destroy(e){return this[zu]?(e?this.emit("error",e):this.emit(zu),this):(this[zu]=!0,this[ju].length=0,this[vd]=0,typeof this.close=="function"&&!this[tz]&&this.close(),e?this.emit("error",e):this.emit(zu),this)}static isStream(e){return!!e&&(e instanceof r||e instanceof FDe||e instanceof Zht&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};$De.Minipass=LY});var GDe=C((A8t,VDe)=>{var ipt=require("zlib").constants||{ZLIB_VERNUM:4736};VDe.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},ipt))});var n0e=C((L8t,r0e)=>{"use strict";var KDe=typeof process=="object"&&process?process:{stdout:null,stderr:null},opt=require("events"),YDe=require("stream"),JDe=require("string_decoder").StringDecoder,eS=Symbol("EOF"),tS=Symbol("maybeEmitEnd"),_T=Symbol("emittedEnd"),az=Symbol("emittingEnd"),pL=Symbol("emittedError"),cz=Symbol("closed"),XDe=Symbol("read"),uz=Symbol("flush"),QDe=Symbol("flushChunk"),fm=Symbol("encoding"),rS=Symbol("decoder"),lz=Symbol("flowing"),mL=Symbol("paused"),pP=Symbol("resume"),yd=Symbol("bufferLength"),NY=Symbol("bufferPush"),MY=Symbol("bufferShift"),eh=Symbol("objectMode"),th=Symbol("destroyed"),FY=Symbol("emitData"),ZDe=Symbol("emitEnd"),qY=Symbol("emitEnd2"),nS=Symbol("async"),gL=r=>Promise.resolve().then(r),e0e=global._MP_NO_ITERATOR_SYMBOLS_!=="1",spt=e0e&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),apt=e0e&&Symbol.iterator||Symbol("iterator not implemented"),cpt=r=>r==="end"||r==="finish"||r==="prefinish",upt=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,lpt=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r),dz=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[pP](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},jY=class extends dz{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=i=>t.emit("error",i),e.on("error",this.proxyErrors)}};r0e.exports=class t0e extends YDe{constructor(e){super(),this[lz]=!1,this[mL]=!1,this.pipes=[],this.buffer=[],this[eh]=e&&e.objectMode||!1,this[eh]?this[fm]=null:this[fm]=e&&e.encoding||null,this[fm]==="buffer"&&(this[fm]=null),this[nS]=e&&!!e.async||!1,this[rS]=this[fm]?new JDe(this[fm]):null,this[eS]=!1,this[_T]=!1,this[az]=!1,this[cz]=!1,this[pL]=null,this.writable=!0,this.readable=!0,this[yd]=0,this[th]=!1}get bufferLength(){return this[yd]}get encoding(){return this[fm]}set encoding(e){if(this[eh])throw new Error("cannot set encoding in objectMode");if(this[fm]&&e!==this[fm]&&(this[rS]&&this[rS].lastNeed||this[yd]))throw new Error("cannot change encoding");this[fm]!==e&&(this[rS]=e?new JDe(e):null,this.buffer.length&&(this.buffer=this.buffer.map(t=>this[rS].write(t)))),this[fm]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[eh]}set objectMode(e){this[eh]=this[eh]||!!e}get async(){return this[nS]}set async(e){this[nS]=this[nS]||!!e}write(e,t,n){if(this[eS])throw new Error("write after end");if(this[th])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(n=t,t="utf8"),t||(t="utf8");let i=this[nS]?gL:o=>o();return!this[eh]&&!Buffer.isBuffer(e)&&(lpt(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):upt(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[eh]?(this.flowing&&this[yd]!==0&&this[uz](!0),this.flowing?this.emit("data",e):this[NY](e),this[yd]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(t===this[fm]&&!this[rS].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[fm]&&(e=this[rS].write(e)),this.flowing&&this[yd]!==0&&this[uz](!0),this.flowing?this.emit("data",e):this[NY](e),this[yd]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[yd]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[th])return null;if(this[yd]===0||e===0||e>this[yd])return this[tS](),null;this[eh]&&(e=null),this.buffer.length>1&&!this[eh]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[yd])]);let t=this[XDe](e||null,this.buffer[0]);return this[tS](),t}[XDe](e,t){return e===t.length||e===null?this[MY]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[yd]-=e),this.emit("data",t),!this.buffer.length&&!this[eS]&&this.emit("drain"),t}end(e,t,n){return typeof e=="function"&&(n=e,e=null),typeof t=="function"&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[eS]=!0,this.writable=!1,(this.flowing||!this[mL])&&this[tS](),this}[pP](){this[th]||(this[mL]=!1,this[lz]=!0,this.emit("resume"),this.buffer.length?this[uz]():this[eS]?this[tS]():this.emit("drain"))}resume(){return this[pP]()}pause(){this[lz]=!1,this[mL]=!0}get destroyed(){return this[th]}get flowing(){return this[lz]}get paused(){return this[mL]}[NY](e){this[eh]?this[yd]+=1:this[yd]+=e.length,this.buffer.push(e)}[MY](){return this.buffer.length&&(this[eh]?this[yd]-=1:this[yd]-=this.buffer[0].length),this.buffer.shift()}[uz](e){do;while(this[QDe](this[MY]()));!e&&!this.buffer.length&&!this[eS]&&this.emit("drain")}[QDe](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,t){if(this[th])return;let n=this[_T];return t=t||{},e===KDe.stdout||e===KDe.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this.pipes.push(t.proxyErrors?new jY(this,e,t):new dz(this,e,t)),this[nS]?gL(()=>this[pP]()):this[pP]()),e}unpipe(e){let t=this.pipes.find(n=>n.dest===e);t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let n=super.on(e,t);return e==="data"&&!this.pipes.length&&!this.flowing?this[pP]():e==="readable"&&this[yd]!==0?super.emit("readable"):cpt(e)&&this[_T]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[pL]&&(this[nS]?gL(()=>t.call(this,this[pL])):t.call(this,this[pL])),n}get emittedEnd(){return this[_T]}[tS](){!this[az]&&!this[_T]&&!this[th]&&this.buffer.length===0&&this[eS]&&(this[az]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[cz]&&this.emit("close"),this[az]=!1)}emit(e,t,...n){if(e!=="error"&&e!=="close"&&e!==th&&this[th])return;if(e==="data")return t?this[nS]?gL(()=>this[FY](t)):this[FY](t):!1;if(e==="end")return this[ZDe]();if(e==="close"){if(this[cz]=!0,!this[_T]&&!this[th])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[pL]=t;let o=super.emit("error",t);return this[tS](),o}else if(e==="resume"){let o=super.emit("resume");return this[tS](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let i=super.emit(e,t,...n);return this[tS](),i}[FY](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[tS](),t}[ZDe](){this[_T]||(this[_T]=!0,this.readable=!1,this[nS]?gL(()=>this[qY]()):this[qY]())}[qY](){if(this[rS]){let t=this[rS].end();if(t){for(let n of this.pipes)n.dest.write(t);super.emit("data",t)}}for(let t of this.pipes)t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[eh]||(e.dataLength=0);let t=this.promise();return this.on("data",n=>{e.push(n),this[eh]||(e.dataLength+=n.length)}),t.then(()=>e)}concat(){return this[eh]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[eh]?Promise.reject(new Error("cannot concat in objectMode")):this[fm]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(th,()=>t(new Error("stream destroyed"))),this.on("error",n=>t(n)),this.on("end",()=>e())})}[spt](){return{next:()=>{let t=this.read();if(t!==null)return Promise.resolve({done:!1,value:t});if(this[eS])return Promise.resolve({done:!0});let n=null,i=null,o=u=>{this.removeListener("data",s),this.removeListener("end",a),i(u)},s=u=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:u,done:!!this[eS]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((u,l)=>{i=l,n=u,this.once(th,c),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[apt](){return{next:()=>{let t=this.read();return{value:t,done:t===null}}}}destroy(e){return this[th]?(e?this.emit("error",e):this.emit(th),this):(this[th]=!0,this.buffer.length=0,this[yd]=0,typeof this.close=="function"&&!this[cz]&&this.close(),e?this.emit("error",e):this.emit(th),this)}static isStream(e){return!!e&&(e instanceof t0e||e instanceof YDe||e instanceof opt&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var tJ=C(bg=>{"use strict";var WY=require("assert"),bT=require("buffer").Buffer,s0e=require("zlib"),F0=bg.constants=GDe(),dpt=n0e(),i0e=bT.concat,q0=Symbol("_superWrite"),gP=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},fpt=Symbol("opts"),vL=Symbol("flushFlag"),o0e=Symbol("finishFlushFlag"),eJ=Symbol("fullFlushFlag"),wa=Symbol("handle"),fz=Symbol("onError"),mP=Symbol("sawError"),zY=Symbol("level"),UY=Symbol("strategy"),HY=Symbol("ended"),N8t=Symbol("_defaultFullFlush"),hz=class extends dpt{constructor(e,t){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[mP]=!1,this[HY]=!1,this[fpt]=e,this[vL]=e.flush,this[o0e]=e.finishFlush;try{this[wa]=new s0e[t](e)}catch(n){throw new gP(n)}this[fz]=n=>{this[mP]||(this[mP]=!0,this.close(),this.emit("error",n))},this[wa].on("error",n=>this[fz](new gP(n))),this.once("end",()=>this.close)}close(){this[wa]&&(this[wa].close(),this[wa]=null,this.emit("close"))}reset(){if(!this[mP])return WY(this[wa],"zlib binding closed"),this[wa].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[eJ]),this.write(Object.assign(bT.alloc(0),{[vL]:e})))}end(e,t,n){return e&&this.write(e,t),this.flush(this[o0e]),this[HY]=!0,super.end(null,null,n)}get ended(){return this[HY]}write(e,t,n){if(typeof t=="function"&&(n=t,t="utf8"),typeof e=="string"&&(e=bT.from(e,t)),this[mP])return;WY(this[wa],"zlib binding closed");let i=this[wa]._handle,o=i.close;i.close=()=>{};let s=this[wa].close;this[wa].close=()=>{},bT.concat=u=>u;let a;try{let u=typeof e[vL]=="number"?e[vL]:this[vL];a=this[wa]._processChunk(e,u),bT.concat=i0e}catch(u){bT.concat=i0e,this[fz](new gP(u))}finally{this[wa]&&(this[wa]._handle=i,i.close=o,this[wa].close=s,this[wa].removeAllListeners("error"))}this[wa]&&this[wa].on("error",u=>this[fz](new gP(u)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[q0](bT.from(a[0]));for(let u=1;u<a.length;u++)c=this[q0](a[u])}else c=this[q0](bT.from(a));return n&&n(),c}[q0](e){return super.write(e)}},iS=class extends hz{constructor(e,t){e=e||{},e.flush=e.flush||F0.Z_NO_FLUSH,e.finishFlush=e.finishFlush||F0.Z_FINISH,super(e,t),this[eJ]=F0.Z_FULL_FLUSH,this[zY]=e.level,this[UY]=e.strategy}params(e,t){if(!this[mP]){if(!this[wa])throw new Error("cannot switch params when binding is closed");if(!this[wa].params)throw new Error("not supported in this implementation");if(this[zY]!==e||this[UY]!==t){this.flush(F0.Z_SYNC_FLUSH),WY(this[wa],"zlib binding closed");let n=this[wa].flush;this[wa].flush=(i,o)=>{this.flush(i),o()};try{this[wa].params(e,t)}finally{this[wa].flush=n}this[wa]&&(this[zY]=e,this[UY]=t)}}}},$Y=class extends iS{constructor(e){super(e,"Deflate")}},VY=class extends iS{constructor(e){super(e,"Inflate")}},BY=Symbol("_portable"),GY=class extends iS{constructor(e){super(e,"Gzip"),this[BY]=e&&!!e.portable}[q0](e){return this[BY]?(this[BY]=!1,e[9]=255,super[q0](e)):super[q0](e)}},KY=class extends iS{constructor(e){super(e,"Gunzip")}},YY=class extends iS{constructor(e){super(e,"DeflateRaw")}},JY=class extends iS{constructor(e){super(e,"InflateRaw")}},XY=class extends iS{constructor(e){super(e,"Unzip")}},pz=class extends hz{constructor(e,t){e=e||{},e.flush=e.flush||F0.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||F0.BROTLI_OPERATION_FINISH,super(e,t),this[eJ]=F0.BROTLI_OPERATION_FLUSH}},QY=class extends pz{constructor(e){super(e,"BrotliCompress")}},ZY=class extends pz{constructor(e){super(e,"BrotliDecompress")}};bg.Deflate=$Y;bg.Inflate=VY;bg.Gzip=GY;bg.Gunzip=KY;bg.DeflateRaw=YY;bg.InflateRaw=JY;bg.Unzip=XY;typeof s0e.BrotliCompress=="function"?(bg.BrotliCompress=QY,bg.BrotliDecompress=ZY):bg.BrotliCompress=bg.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var vP=C((q8t,a0e)=>{var hpt=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;a0e.exports=hpt!=="win32"?r=>r:r=>r&&r.replace(/\\/g,"/")});var mz=C((z8t,c0e)=>{"use strict";var{Minipass:ppt}=sz(),rJ=vP(),nJ=Symbol("slurp");c0e.exports=class extends ppt{constructor(e,t,n){switch(super(),this.pause(),this.extended=t,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=rJ(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=rJ(e.linkpath),this.uname=e.uname,this.gname=e.gname,t&&this[nJ](t),n&&this[nJ](n,!0)}write(e){let t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-t),this.blockRemain=Math.max(0,i-t),this.ignore?!0:n>=t?super.write(e):super.write(e.slice(0,n))}[nJ](e,t){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(t&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?rJ(e[n]):e[n])}}});var iJ=C(gz=>{"use strict";gz.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);gz.code=new Map(Array.from(gz.name).map(r=>[r[1],r[0]]))});var f0e=C((H8t,d0e)=>{"use strict";var mpt=(r,e)=>{if(Number.isSafeInteger(r))r<0?vpt(r,e):gpt(r,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},gpt=(r,e)=>{e[0]=128;for(var t=e.length;t>1;t--)e[t-1]=r&255,r=Math.floor(r/256)},vpt=(r,e)=>{e[0]=255;var t=!1;r=r*-1;for(var n=e.length;n>1;n--){var i=r&255;r=Math.floor(r/256),t?e[n-1]=u0e(i):i===0?e[n-1]=0:(t=!0,e[n-1]=l0e(i))}},ypt=r=>{let e=r[0],t=e===128?bpt(r.slice(1,r.length)):e===255?_pt(r):null;if(t===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(t))throw Error("parsed number outside of javascript safe integer range");return t},_pt=r=>{for(var e=r.length,t=0,n=!1,i=e-1;i>-1;i--){var o=r[i],s;n?s=u0e(o):o===0?s=o:(n=!0,s=l0e(o)),s!==0&&(t-=s*Math.pow(256,e-i-1))}return t},bpt=r=>{for(var e=r.length,t=0,n=e-1;n>-1;n--){var i=r[n];i!==0&&(t+=i*Math.pow(256,e-n-1))}return t},u0e=r=>(255^r)&255,l0e=r=>(255^r)+1&255;d0e.exports={encode:mpt,parse:ypt}});var _P=C((B8t,p0e)=>{"use strict";var oJ=iJ(),yP=require("path").posix,h0e=f0e(),sJ=Symbol("slurp"),wg=Symbol("type"),uJ=class{constructor(e,t,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[wg]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,t||0,n,i):e&&this.set(e)}decode(e,t,n,i){if(t||(t=0),!e||!(e.length>=t+512))throw new Error("need 512 bytes for header");if(this.path=j0(e,t,100),this.mode=wT(e,t+100,8),this.uid=wT(e,t+108,8),this.gid=wT(e,t+116,8),this.size=wT(e,t+124,12),this.mtime=aJ(e,t+136,12),this.cksum=wT(e,t+148,12),this[sJ](n),this[sJ](i,!0),this[wg]=j0(e,t+156,1),this[wg]===""&&(this[wg]="0"),this[wg]==="0"&&this.path.slice(-1)==="/"&&(this[wg]="5"),this[wg]==="5"&&(this.size=0),this.linkpath=j0(e,t+157,100),e.slice(t+257,t+265).toString()==="ustar\x0000")if(this.uname=j0(e,t+265,32),this.gname=j0(e,t+297,32),this.devmaj=wT(e,t+329,8),this.devmin=wT(e,t+337,8),e[t+475]!==0){let s=j0(e,t+345,155);this.path=s+"/"+this.path}else{let s=j0(e,t+345,130);s&&(this.path=s+"/"+this.path),this.atime=aJ(e,t+476,12),this.ctime=aJ(e,t+488,12)}let o=8*32;for(let s=t;s<t+148;s++)o+=e[s];for(let s=t+156;s<t+512;s++)o+=e[s];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[sJ](e,t){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(t&&n==="path")&&(this[n]=e[n])}encode(e,t){if(e||(e=this.block=Buffer.alloc(512),t=0),t||(t=0),!(e.length>=t+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=wpt(this.path||"",n),o=i[0],s=i[1];this.needPax=i[2],this.needPax=z0(e,t,100,o)||this.needPax,this.needPax=ST(e,t+100,8,this.mode)||this.needPax,this.needPax=ST(e,t+108,8,this.uid)||this.needPax,this.needPax=ST(e,t+116,8,this.gid)||this.needPax,this.needPax=ST(e,t+124,12,this.size)||this.needPax,this.needPax=cJ(e,t+136,12,this.mtime)||this.needPax,e[t+156]=this[wg].charCodeAt(0),this.needPax=z0(e,t+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",t+257,8),this.needPax=z0(e,t+265,32,this.uname)||this.needPax,this.needPax=z0(e,t+297,32,this.gname)||this.needPax,this.needPax=ST(e,t+329,8,this.devmaj)||this.needPax,this.needPax=ST(e,t+337,8,this.devmin)||this.needPax,this.needPax=z0(e,t+345,n,s)||this.needPax,e[t+475]!==0?this.needPax=z0(e,t+345,155,s)||this.needPax:(this.needPax=z0(e,t+345,130,s)||this.needPax,this.needPax=cJ(e,t+476,12,this.atime)||this.needPax,this.needPax=cJ(e,t+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=t;c<t+148;c++)a+=e[c];for(let c=t+156;c<t+512;c++)a+=e[c];return this.cksum=a,ST(e,t+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let t in e)e[t]!==null&&e[t]!==void 0&&(this[t]=e[t])}get type(){return oJ.name.get(this[wg])||this[wg]}get typeKey(){return this[wg]}set type(e){oJ.code.has(e)?this[wg]=oJ.code.get(e):this[wg]=e}},wpt=(r,e)=>{let n=r,i="",o,s=yP.parse(r).root||".";if(Buffer.byteLength(n)<100)o=[n,i,!1];else{i=yP.dirname(n),n=yP.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(i)<=e?o=[n,i,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(i)<=e?o=[n.slice(0,99),i,!0]:(n=yP.join(yP.basename(i),n),i=yP.dirname(i));while(i!==s&&!o);o||(o=[r.slice(0,99),"",!0])}return o},j0=(r,e,t)=>r.slice(e,e+t).toString("utf8").replace(/\0.*/,""),aJ=(r,e,t)=>Spt(wT(r,e,t)),Spt=r=>r===null?null:new Date(r*1e3),wT=(r,e,t)=>r[e]&128?h0e.parse(r.slice(e,e+t)):Tpt(r,e,t),Cpt=r=>isNaN(r)?null:r,Tpt=(r,e,t)=>Cpt(parseInt(r.slice(e,e+t).toString("utf8").replace(/\0.*$/,"").trim(),8)),Dpt={12:8589934591,8:2097151},ST=(r,e,t,n)=>n===null?!1:n>Dpt[t]||n<0?(h0e.encode(n,r.slice(e,e+t)),!0):(Ept(r,e,t,n),!1),Ept=(r,e,t,n)=>r.write(Rpt(n,t),e,t,"ascii"),Rpt=(r,e)=>Ppt(Math.floor(r).toString(8),e),Ppt=(r,e)=>(r.length===e-1?r:new Array(e-r.length-1).join("0")+r+" ")+"\0",cJ=(r,e,t,n)=>n===null?!1:ST(r,e,t,n.getTime()/1e3),xpt=new Array(156).join("\0"),z0=(r,e,t,n)=>n===null?!1:(r.write(n+xpt,e,t,"utf8"),n.length!==Buffer.byteLength(n)||n.length>t);p0e.exports=uJ});var vz=C((W8t,m0e)=>{"use strict";var Opt=_P(),Ipt=require("path"),yL=class{constructor(e,t){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=t||!1}encode(){let e=this.encodeBody();if(e==="")return null;let t=Buffer.byteLength(e),n=512*Math.ceil(1+t/512),i=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)i[o]=0;new Opt({path:("PaxHeader/"+Ipt.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:t,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(e,512,t,"utf8");for(let o=t+512;o<i.length;o++)i[o]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let t=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+t+`
`,i=Buffer.byteLength(n),o=Math.floor(Math.log(i)/Math.log(10))+1;return i+o>=Math.pow(10,o)&&(o+=1),o+i+n}};yL.parse=(r,e,t)=>new yL(kpt(Apt(r),e),t);var kpt=(r,e)=>e?Object.keys(r).reduce((t,n)=>(t[n]=r[n],t),e):r,Apt=r=>r.replace(/\n$/,"").split(`
`).reduce(Lpt,Object.create(null)),Lpt=(r,e)=>{let t=parseInt(e,10);if(t!==Buffer.byteLength(e)+1)return r;e=e.slice((t+" ").length);let n=e.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return r;let o=n.join("=");return r[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,r};m0e.exports=yL});var bP=C(($8t,g0e)=>{g0e.exports=r=>{let e=r.length-1,t=-1;for(;e>-1&&r.charAt(e)==="/";)t=e,e--;return t===-1?r:r.slice(0,t)}});var yz=C((V8t,v0e)=>{"use strict";v0e.exports=r=>class extends r{warn(e,t,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=t instanceof Error&&t.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(t instanceof Error&&(n=Object.assign(t,n),t=t.message),this.emit("warn",n.tarCode,t,n)):t instanceof Error?this.emit("error",Object.assign(t,n)):this.emit("error",Object.assign(new Error(`${e}: ${t}`),n))}}});var dJ=C((K8t,y0e)=>{"use strict";var _z=["|","<",">","?",":"],lJ=_z.map(r=>String.fromCharCode(61440+r.charCodeAt(0))),Npt=new Map(_z.map((r,e)=>[r,lJ[e]])),Mpt=new Map(lJ.map((r,e)=>[r,_z[e]]));y0e.exports={encode:r=>_z.reduce((e,t)=>e.split(t).join(Npt.get(t)),r),decode:r=>lJ.reduce((e,t)=>e.split(t).join(Mpt.get(t)),r)}});var fJ=C((Y8t,b0e)=>{var{isAbsolute:Fpt,parse:_0e}=require("path").win32;b0e.exports=r=>{let e="",t=_0e(r);for(;Fpt(r)||t.root;){let n=r.charAt(0)==="/"&&r.slice(0,4)!=="//?/"?"/":t.root;r=r.slice(n.length),e+=n,t=_0e(r)}return[e,r]}});var S0e=C((J8t,w0e)=>{"use strict";w0e.exports=(r,e,t)=>(r&=4095,t&&(r=(r|384)&-19),e&&(r&256&&(r|=64),r&32&&(r|=8),r&4&&(r|=1)),r)});var SJ=C((Z8t,M0e)=>{"use strict";var{Minipass:x0e}=sz(),O0e=vz(),I0e=_P(),hb=require("fs"),C0e=require("path"),fb=vP(),qpt=bP(),k0e=(r,e)=>e?(r=fb(r).replace(/^\.(\/|$)/,""),qpt(e)+"/"+r):fb(r),jpt=16*1024*1024,T0e=Symbol("process"),D0e=Symbol("file"),E0e=Symbol("directory"),pJ=Symbol("symlink"),R0e=Symbol("hardlink"),_L=Symbol("header"),bz=Symbol("read"),mJ=Symbol("lstat"),wz=Symbol("onlstat"),gJ=Symbol("onread"),vJ=Symbol("onreadlink"),yJ=Symbol("openfile"),_J=Symbol("onopenfile"),CT=Symbol("close"),Sz=Symbol("mode"),bJ=Symbol("awaitDrain"),hJ=Symbol("ondrain"),pb=Symbol("prefix"),P0e=Symbol("hadError"),A0e=yz(),zpt=dJ(),L0e=fJ(),N0e=S0e(),Cz=A0e(class extends x0e{constructor(e,t){if(t=t||{},super(t),typeof e!="string")throw new TypeError("path is required");this.path=fb(e),this.portable=!!t.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=t.maxReadSize||jpt,this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.preservePaths=!!t.preservePaths,this.cwd=fb(t.cwd||process.cwd()),this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.prefix=t.prefix?fb(t.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof t.onwarn=="function"&&this.on("warn",t.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=L0e(this.path);i&&(this.path=o,n=i)}this.win32=!!t.win32||process.platform==="win32",this.win32&&(this.path=zpt.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=fb(t.absolute||C0e.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[wz](this.statCache.get(this.absolute)):this[mJ]()}emit(e,...t){return e==="error"&&(this[P0e]=!0),super.emit(e,...t)}[mJ](){hb.lstat(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[wz](t)})}[wz](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=Hpt(e),this.emit("stat",e),this[T0e]()}[T0e](){switch(this.type){case"File":return this[D0e]();case"Directory":return this[E0e]();case"SymbolicLink":return this[pJ]();default:return this.end()}}[Sz](e){return N0e(e,this.type==="Directory",this.portable)}[pb](e){return k0e(e,this.prefix)}[_L](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new I0e({path:this[pb](this.path),linkpath:this.type==="Link"?this[pb](this.linkpath):this.linkpath,mode:this[Sz](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new O0e({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[pb](this.path),linkpath:this.type==="Link"?this[pb](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[E0e](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[_L](),this.end()}[pJ](){hb.readlink(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[vJ](t)})}[vJ](e){this.linkpath=fb(e),this[_L](),this.end()}[R0e](e){this.type="Link",this.linkpath=fb(C0e.relative(this.cwd,e)),this.stat.size=0,this[_L](),this.end()}[D0e](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let t=this.linkCache.get(e);if(t.indexOf(this.cwd)===0)return this[R0e](t)}this.linkCache.set(e,this.absolute)}if(this[_L](),this.stat.size===0)return this.end();this[yJ]()}[yJ](){hb.open(this.absolute,"r",(e,t)=>{if(e)return this.emit("error",e);this[_J](t)})}[_J](e){if(this.fd=e,this[P0e])return this[CT]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let t=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(t),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[bz]()}[bz](){let{fd:e,buf:t,offset:n,length:i,pos:o}=this;hb.read(e,t,n,i,o,(s,a)=>{if(s)return this[CT](()=>this.emit("error",s));this[gJ](a)})}[CT](e){hb.close(this.fd,e)}[gJ](e){if(e<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[CT](()=>this.emit("error",i))}if(e>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[CT](()=>this.emit("error",i))}if(e===this.remain)for(let i=e;i<this.length&&e<this.blockRemain;i++)this.buf[i+this.offset]=0,e++,this.remain++;let t=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(t)?this[hJ]():this[bJ](()=>this[hJ]())}[bJ](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let t=new Error("writing more data than expected");return t.path=this.absolute,this.emit("error",t)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[hJ](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[CT](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[bz]()}}),wJ=class extends Cz{[mJ](){this[wz](hb.lstatSync(this.absolute))}[pJ](){this[vJ](hb.readlinkSync(this.absolute))}[yJ](){this[_J](hb.openSync(this.absolute,"r"))}[bz](){let e=!0;try{let{fd:t,buf:n,offset:i,length:o,pos:s}=this,a=hb.readSync(t,n,i,o,s);this[gJ](a),e=!1}finally{if(e)try{this[CT](()=>{})}catch{}}}[bJ](e){e()}[CT](e){hb.closeSync(this.fd),e()}},Upt=A0e(class extends x0e{constructor(e,t){t=t||{},super(t),this.preservePaths=!!t.preservePaths,this.portable=!!t.portable,this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=t.prefix||null,this.path=fb(e.path),this.mode=this[Sz](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:t.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=fb(e.linkpath),typeof t.onwarn=="function"&&this.on("warn",t.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=L0e(this.path);i&&(this.path=o,n=i)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new I0e({path:this[pb](this.path),linkpath:this.type==="Link"?this[pb](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new O0e({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[pb](this.path),linkpath:this.type==="Link"?this[pb](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[pb](e){return k0e(e,this.prefix)}[Sz](e){return N0e(e,this.type==="Directory",this.portable)}write(e){let t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=t,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Cz.Sync=wJ;Cz.Tar=Upt;var Hpt=r=>r.isFile()?"File":r.isDirectory()?"Directory":r.isSymbolicLink()?"SymbolicLink":"Unsupported";M0e.exports=Cz});var kz=C((tKt,W0e)=>{"use strict";var Oz=class{constructor(e,t){this.path=e||"./",this.absolute=t,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:Bpt}=sz(),F0e=tJ(),Wpt=mz(),IJ=SJ(),$pt=IJ.Sync,Vpt=IJ.Tar,Gpt=m2(),q0e=Buffer.alloc(1024),Ez=Symbol("onStat"),Tz=Symbol("ended"),mb=Symbol("queue"),wP=Symbol("current"),U0=Symbol("process"),Dz=Symbol("processing"),j0e=Symbol("processJob"),gb=Symbol("jobs"),CJ=Symbol("jobDone"),Rz=Symbol("addFSEntry"),z0e=Symbol("addTarEntry"),RJ=Symbol("stat"),PJ=Symbol("readdir"),Pz=Symbol("onreaddir"),xz=Symbol("pipe"),U0e=Symbol("entry"),TJ=Symbol("entryOpt"),xJ=Symbol("writeEntryClass"),B0e=Symbol("write"),DJ=Symbol("ondrain"),Iz=require("fs"),H0e=require("path"),Kpt=yz(),EJ=vP(),kJ=Kpt(class extends Bpt{constructor(e){if(super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=EJ(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[xJ]=IJ,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip||e.brotli){if(e.gzip&&e.brotli)throw new TypeError("gzip and brotli are mutually exclusive");e.gzip&&(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new F0e.Gzip(e.gzip)),e.brotli&&(typeof e.brotli!="object"&&(e.brotli={}),this.zip=new F0e.BrotliCompress(e.brotli)),this.zip.on("data",t=>super.write(t)),this.zip.on("end",t=>super.end()),this.zip.on("drain",t=>this[DJ]()),this.on("resume",t=>this.zip.resume())}else this.on("drain",this[DJ]);this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:t=>!0,this[mb]=new Gpt,this[gb]=0,this.jobs=+e.jobs||4,this[Dz]=!1,this[Tz]=!1}[B0e](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[Tz]=!0,this[U0](),this}write(e){if(this[Tz])throw new Error("write after end");return e instanceof Wpt?this[z0e](e):this[Rz](e),this.flowing}[z0e](e){let t=EJ(H0e.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new Oz(e.path,t,!1);n.entry=new Vpt(e,this[TJ](n)),n.entry.on("end",i=>this[CJ](n)),this[gb]+=1,this[mb].push(n)}this[U0]()}[Rz](e){let t=EJ(H0e.resolve(this.cwd,e));this[mb].push(new Oz(e,t)),this[U0]()}[RJ](e){e.pending=!0,this[gb]+=1;let t=this.follow?"stat":"lstat";Iz[t](e.absolute,(n,i)=>{e.pending=!1,this[gb]-=1,n?this.emit("error",n):this[Ez](e,i)})}[Ez](e,t){this.statCache.set(e.absolute,t),e.stat=t,this.filter(e.path,t)||(e.ignore=!0),this[U0]()}[PJ](e){e.pending=!0,this[gb]+=1,Iz.readdir(e.absolute,(t,n)=>{if(e.pending=!1,this[gb]-=1,t)return this.emit("error",t);this[Pz](e,n)})}[Pz](e,t){this.readdirCache.set(e.absolute,t),e.readdir=t,this[U0]()}[U0](){if(!this[Dz]){this[Dz]=!0;for(let e=this[mb].head;e!==null&&this[gb]<this.jobs;e=e.next)if(this[j0e](e.value),e.value.ignore){let t=e.next;this[mb].removeNode(e),e.next=t}this[Dz]=!1,this[Tz]&&!this[mb].length&&this[gb]===0&&(this.zip?this.zip.end(q0e):(super.write(q0e),super.end()))}}get[wP](){return this[mb]&&this[mb].head&&this[mb].head.value}[CJ](e){this[mb].shift(),this[gb]-=1,this[U0]()}[j0e](e){if(!e.pending){if(e.entry){e===this[wP]&&!e.piped&&this[xz](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Ez](e,this.statCache.get(e.absolute)):this[RJ](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Pz](e,this.readdirCache.get(e.absolute)):this[PJ](e),!e.readdir))){if(e.entry=this[U0e](e),!e.entry){e.ignore=!0;return}e===this[wP]&&!e.piped&&this[xz](e)}}}[TJ](e){return{onwarn:(t,n,i)=>this.warn(t,n,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[U0e](e){this[gb]+=1;try{return new this[xJ](e.path,this[TJ](e)).on("end",()=>this[CJ](e)).on("error",t=>this.emit("error",t))}catch(t){this.emit("error",t)}}[DJ](){this[wP]&&this[wP].entry&&this[wP].entry.resume()}[xz](e){e.piped=!0,e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Rz](s+i)});let t=e.entry,n=this.zip;n?t.on("data",i=>{n.write(i)||t.pause()}):t.on("data",i=>{super.write(i)||t.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),OJ=class extends kJ{constructor(e){super(e),this[xJ]=$pt}pause(){}resume(){}[RJ](e){let t=this.follow?"statSync":"lstatSync";this[Ez](e,Iz[t](e.absolute))}[PJ](e,t){this[Pz](e,Iz.readdirSync(e.absolute))}[xz](e){let t=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Rz](s+i)}),n?t.on("data",i=>{n.write(i)}):t.on("data",i=>{super[B0e](i)})}};kJ.Sync=OJ;W0e.exports=kJ});var eEe=C((rKt,Z0e)=>{"use strict";var $0e=typeof process=="object"&&process?process:{stdout:null,stderr:null},Ypt=require("events"),V0e=require("stream"),G0e=require("string_decoder").StringDecoder,oS=Symbol("EOF"),sS=Symbol("maybeEmitEnd"),TT=Symbol("emittedEnd"),Az=Symbol("emittingEnd"),bL=Symbol("emittedError"),Lz=Symbol("closed"),K0e=Symbol("read"),Nz=Symbol("flush"),Y0e=Symbol("flushChunk"),hm=Symbol("encoding"),aS=Symbol("decoder"),Mz=Symbol("flowing"),wL=Symbol("paused"),SP=Symbol("resume"),_d=Symbol("bufferLength"),AJ=Symbol("bufferPush"),LJ=Symbol("bufferShift"),rh=Symbol("objectMode"),nh=Symbol("destroyed"),NJ=Symbol("emitData"),J0e=Symbol("emitEnd"),MJ=Symbol("emitEnd2"),cS=Symbol("async"),SL=r=>Promise.resolve().then(r),X0e=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Jpt=X0e&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Xpt=X0e&&Symbol.iterator||Symbol("iterator not implemented"),Qpt=r=>r==="end"||r==="finish"||r==="prefinish",Zpt=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,emt=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r),Fz=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[SP](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},FJ=class extends Fz{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=i=>t.emit("error",i),e.on("error",this.proxyErrors)}};Z0e.exports=class Q0e extends V0e{constructor(e){super(),this[Mz]=!1,this[wL]=!1,this.pipes=[],this.buffer=[],this[rh]=e&&e.objectMode||!1,this[rh]?this[hm]=null:this[hm]=e&&e.encoding||null,this[hm]==="buffer"&&(this[hm]=null),this[cS]=e&&!!e.async||!1,this[aS]=this[hm]?new G0e(this[hm]):null,this[oS]=!1,this[TT]=!1,this[Az]=!1,this[Lz]=!1,this[bL]=null,this.writable=!0,this.readable=!0,this[_d]=0,this[nh]=!1}get bufferLength(){return this[_d]}get encoding(){return this[hm]}set encoding(e){if(this[rh])throw new Error("cannot set encoding in objectMode");if(this[hm]&&e!==this[hm]&&(this[aS]&&this[aS].lastNeed||this[_d]))throw new Error("cannot change encoding");this[hm]!==e&&(this[aS]=e?new G0e(e):null,this.buffer.length&&(this.buffer=this.buffer.map(t=>this[aS].write(t)))),this[hm]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[rh]}set objectMode(e){this[rh]=this[rh]||!!e}get async(){return this[cS]}set async(e){this[cS]=this[cS]||!!e}write(e,t,n){if(this[oS])throw new Error("write after end");if(this[nh])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(n=t,t="utf8"),t||(t="utf8");let i=this[cS]?SL:o=>o();return!this[rh]&&!Buffer.isBuffer(e)&&(emt(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Zpt(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[rh]?(this.flowing&&this[_d]!==0&&this[Nz](!0),this.flowing?this.emit("data",e):this[AJ](e),this[_d]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(t===this[hm]&&!this[aS].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[hm]&&(e=this[aS].write(e)),this.flowing&&this[_d]!==0&&this[Nz](!0),this.flowing?this.emit("data",e):this[AJ](e),this[_d]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[_d]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[nh])return null;if(this[_d]===0||e===0||e>this[_d])return this[sS](),null;this[rh]&&(e=null),this.buffer.length>1&&!this[rh]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[_d])]);let t=this[K0e](e||null,this.buffer[0]);return this[sS](),t}[K0e](e,t){return e===t.length||e===null?this[LJ]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[_d]-=e),this.emit("data",t),!this.buffer.length&&!this[oS]&&this.emit("drain"),t}end(e,t,n){return typeof e=="function"&&(n=e,e=null),typeof t=="function"&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[oS]=!0,this.writable=!1,(this.flowing||!this[wL])&&this[sS](),this}[SP](){this[nh]||(this[wL]=!1,this[Mz]=!0,this.emit("resume"),this.buffer.length?this[Nz]():this[oS]?this[sS]():this.emit("drain"))}resume(){return this[SP]()}pause(){this[Mz]=!1,this[wL]=!0}get destroyed(){return this[nh]}get flowing(){return this[Mz]}get paused(){return this[wL]}[AJ](e){this[rh]?this[_d]+=1:this[_d]+=e.length,this.buffer.push(e)}[LJ](){return this.buffer.length&&(this[rh]?this[_d]-=1:this[_d]-=this.buffer[0].length),this.buffer.shift()}[Nz](e){do;while(this[Y0e](this[LJ]()));!e&&!this.buffer.length&&!this[oS]&&this.emit("drain")}[Y0e](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,t){if(this[nh])return;let n=this[TT];return t=t||{},e===$0e.stdout||e===$0e.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this.pipes.push(t.proxyErrors?new FJ(this,e,t):new Fz(this,e,t)),this[cS]?SL(()=>this[SP]()):this[SP]()),e}unpipe(e){let t=this.pipes.find(n=>n.dest===e);t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let n=super.on(e,t);return e==="data"&&!this.pipes.length&&!this.flowing?this[SP]():e==="readable"&&this[_d]!==0?super.emit("readable"):Qpt(e)&&this[TT]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[bL]&&(this[cS]?SL(()=>t.call(this,this[bL])):t.call(this,this[bL])),n}get emittedEnd(){return this[TT]}[sS](){!this[Az]&&!this[TT]&&!this[nh]&&this.buffer.length===0&&this[oS]&&(this[Az]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Lz]&&this.emit("close"),this[Az]=!1)}emit(e,t,...n){if(e!=="error"&&e!=="close"&&e!==nh&&this[nh])return;if(e==="data")return t?this[cS]?SL(()=>this[NJ](t)):this[NJ](t):!1;if(e==="end")return this[J0e]();if(e==="close"){if(this[Lz]=!0,!this[TT]&&!this[nh])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[bL]=t;let o=super.emit("error",t);return this[sS](),o}else if(e==="resume"){let o=super.emit("resume");return this[sS](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let i=super.emit(e,t,...n);return this[sS](),i}[NJ](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[sS](),t}[J0e](){this[TT]||(this[TT]=!0,this.readable=!1,this[cS]?SL(()=>this[MJ]()):this[MJ]())}[MJ](){if(this[aS]){let t=this[aS].end();if(t){for(let n of this.pipes)n.dest.write(t);super.emit("data",t)}}for(let t of this.pipes)t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[rh]||(e.dataLength=0);let t=this.promise();return this.on("data",n=>{e.push(n),this[rh]||(e.dataLength+=n.length)}),t.then(()=>e)}concat(){return this[rh]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[rh]?Promise.reject(new Error("cannot concat in objectMode")):this[hm]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(nh,()=>t(new Error("stream destroyed"))),this.on("error",n=>t(n)),this.on("end",()=>e())})}[Jpt](){return{next:()=>{let t=this.read();if(t!==null)return Promise.resolve({done:!1,value:t});if(this[oS])return Promise.resolve({done:!0});let n=null,i=null,o=u=>{this.removeListener("data",s),this.removeListener("end",a),i(u)},s=u=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:u,done:!!this[oS]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((u,l)=>{i=l,n=u,this.once(nh,c),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[Xpt](){return{next:()=>{let t=this.read();return{value:t,done:t===null}}}}destroy(e){return this[nh]?(e?this.emit("error",e):this.emit(nh),this):(this[nh]=!0,this.buffer.length=0,this[_d]=0,typeof this.close=="function"&&!this[Lz]&&this.close(),e?this.emit("error",e):this.emit(nh),this)}static isStream(e){return!!e&&(e instanceof Q0e||e instanceof V0e||e instanceof Ypt&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var OP=C(TL=>{"use strict";var tmt=eEe(),rmt=require("events").EventEmitter,pm=require("fs"),zJ=pm.writev;if(!zJ){let r=process.binding("fs"),e=r.FSReqWrap||r.FSReqCallback;zJ=(t,n,i,o)=>{let s=(c,u)=>o(c,u,n),a=new e;a.oncomplete=s,r.writeBuffers(t,n,i,a)}}var PP=Symbol("_autoClose"),Gy=Symbol("_close"),CL=Symbol("_ended"),ea=Symbol("_fd"),tEe=Symbol("_finished"),ET=Symbol("_flags"),qJ=Symbol("_flush"),UJ=Symbol("_handleChunk"),HJ=Symbol("_makeBuf"),Hz=Symbol("_mode"),qz=Symbol("_needDrain"),EP=Symbol("_onerror"),xP=Symbol("_onopen"),jJ=Symbol("_onread"),TP=Symbol("_onwrite"),RT=Symbol("_open"),uS=Symbol("_path"),H0=Symbol("_pos"),vb=Symbol("_queue"),DP=Symbol("_read"),rEe=Symbol("_readSize"),DT=Symbol("_reading"),jz=Symbol("_remain"),nEe=Symbol("_size"),zz=Symbol("_write"),CP=Symbol("_writing"),Uz=Symbol("_defaultFlag"),RP=Symbol("_errored"),Bz=class extends tmt{constructor(e,t){if(t=t||{},super(t),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[RP]=!1,this[ea]=typeof t.fd=="number"?t.fd:null,this[uS]=e,this[rEe]=t.readSize||16*1024*1024,this[DT]=!1,this[nEe]=typeof t.size=="number"?t.size:1/0,this[jz]=this[nEe],this[PP]=typeof t.autoClose=="boolean"?t.autoClose:!0,typeof this[ea]=="number"?this[DP]():this[RT]()}get fd(){return this[ea]}get path(){return this[uS]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[RT](){pm.open(this[uS],"r",(e,t)=>this[xP](e,t))}[xP](e,t){e?this[EP](e):(this[ea]=t,this.emit("open",t),this[DP]())}[HJ](){return Buffer.allocUnsafe(Math.min(this[rEe],this[jz]))}[DP](){if(!this[DT]){this[DT]=!0;let e=this[HJ]();if(e.length===0)return process.nextTick(()=>this[jJ](null,0,e));pm.read(this[ea],e,0,e.length,null,(t,n,i)=>this[jJ](t,n,i))}}[jJ](e,t,n){this[DT]=!1,e?this[EP](e):this[UJ](t,n)&&this[DP]()}[Gy](){if(this[PP]&&typeof this[ea]=="number"){let e=this[ea];this[ea]=null,pm.close(e,t=>t?this.emit("error",t):this.emit("close"))}}[EP](e){this[DT]=!0,this[Gy](),this.emit("error",e)}[UJ](e,t){let n=!1;return this[jz]-=e,e>0&&(n=super.write(e<t.length?t.slice(0,e):t)),(e===0||this[jz]<=0)&&(n=!1,this[Gy](),super.end()),n}emit(e,t){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[ea]=="number"&&this[DP]();break;case"error":return this[RP]?void 0:(this[RP]=!0,super.emit(e,t));default:return super.emit(e,t)}}},BJ=class extends Bz{[RT](){let e=!0;try{this[xP](null,pm.openSync(this[uS],"r")),e=!1}finally{e&&this[Gy]()}}[DP](){let e=!0;try{if(!this[DT]){this[DT]=!0;do{let t=this[HJ](),n=t.length===0?0:pm.readSync(this[ea],t,0,t.length,null);if(!this[UJ](n,t))break}while(!0);this[DT]=!1}e=!1}finally{e&&this[Gy]()}}[Gy](){if(this[PP]&&typeof this[ea]=="number"){let e=this[ea];this[ea]=null,pm.closeSync(e),this.emit("close")}}},Wz=class extends rmt{constructor(e,t){t=t||{},super(t),this.readable=!1,this.writable=!0,this[RP]=!1,this[CP]=!1,this[CL]=!1,this[qz]=!1,this[vb]=[],this[uS]=e,this[ea]=typeof t.fd=="number"?t.fd:null,this[Hz]=t.mode===void 0?438:t.mode,this[H0]=typeof t.start=="number"?t.start:null,this[PP]=typeof t.autoClose=="boolean"?t.autoClose:!0;let n=this[H0]!==null?"r+":"w";this[Uz]=t.flags===void 0,this[ET]=this[Uz]?n:t.flags,this[ea]===null&&this[RT]()}emit(e,t){if(e==="error"){if(this[RP])return;this[RP]=!0}return super.emit(e,t)}get fd(){return this[ea]}get path(){return this[uS]}[EP](e){this[Gy](),this[CP]=!0,this.emit("error",e)}[RT](){pm.open(this[uS],this[ET],this[Hz],(e,t)=>this[xP](e,t))}[xP](e,t){this[Uz]&&this[ET]==="r+"&&e&&e.code==="ENOENT"?(this[ET]="w",this[RT]()):e?this[EP](e):(this[ea]=t,this.emit("open",t),this[qJ]())}end(e,t){return e&&this.write(e,t),this[CL]=!0,!this[CP]&&!this[vb].length&&typeof this[ea]=="number"&&this[TP](null,0),this}write(e,t){return typeof e=="string"&&(e=Buffer.from(e,t)),this[CL]?(this.emit("error",new Error("write() after end()")),!1):this[ea]===null||this[CP]||this[vb].length?(this[vb].push(e),this[qz]=!0,!1):(this[CP]=!0,this[zz](e),!0)}[zz](e){pm.write(this[ea],e,0,e.length,this[H0],(t,n)=>this[TP](t,n))}[TP](e,t){e?this[EP](e):(this[H0]!==null&&(this[H0]+=t),this[vb].length?this[qJ]():(this[CP]=!1,this[CL]&&!this[tEe]?(this[tEe]=!0,this[Gy](),this.emit("finish")):this[qz]&&(this[qz]=!1,this.emit("drain"))))}[qJ](){if(this[vb].length===0)this[CL]&&this[TP](null,0);else if(this[vb].length===1)this[zz](this[vb].pop());else{let e=this[vb];this[vb]=[],zJ(this[ea],e,this[H0],(t,n)=>this[TP](t,n))}}[Gy](){if(this[PP]&&typeof this[ea]=="number"){let e=this[ea];this[ea]=null,pm.close(e,t=>t?this.emit("error",t):this.emit("close"))}}},WJ=class extends Wz{[RT](){let e;if(this[Uz]&&this[ET]==="r+")try{e=pm.openSync(this[uS],this[ET],this[Hz])}catch(t){if(t.code==="ENOENT")return this[ET]="w",this[RT]();throw t}else e=pm.openSync(this[uS],this[ET],this[Hz]);this[xP](null,e)}[Gy](){if(this[PP]&&typeof this[ea]=="number"){let e=this[ea];this[ea]=null,pm.closeSync(e),this.emit("close")}}[zz](e){let t=!0;try{this[TP](null,pm.writeSync(this[ea],e,0,e.length,this[H0])),t=!1}finally{if(t)try{this[Gy]()}catch{}}}};TL.ReadStream=Bz;TL.ReadStreamSync=BJ;TL.WriteStream=Wz;TL.WriteStreamSync=WJ});var Xz=C((oKt,hEe)=>{"use strict";var nmt=yz(),iEe=_P(),imt=require("events"),omt=m2(),smt=1024*1024,amt=mz(),oEe=vz(),sEe=tJ(),{nextTick:cmt}=require("process"),$J=Buffer.from([31,139]),Iv=Symbol("state"),B0=Symbol("writeEntry"),lS=Symbol("readEntry"),VJ=Symbol("nextEntry"),aEe=Symbol("processEntry"),kv=Symbol("extendedHeader"),DL=Symbol("globalExtendedHeader"),PT=Symbol("meta"),cEe=Symbol("emitMeta"),Sa=Symbol("buffer"),dS=Symbol("queue"),xT=Symbol("ended"),uEe=Symbol("emittedEnd"),W0=Symbol("emit"),bd=Symbol("unzip"),$z=Symbol("consumeChunk"),Vz=Symbol("consumeChunkSub"),GJ=Symbol("consumeBody"),lEe=Symbol("consumeMeta"),dEe=Symbol("consumeHeader"),Gz=Symbol("consuming"),KJ=Symbol("bufferConcat"),YJ=Symbol("maybeEnd"),EL=Symbol("writing"),OT=Symbol("aborted"),Kz=Symbol("onDone"),$0=Symbol("sawValidEntry"),Yz=Symbol("sawNullBlock"),Jz=Symbol("sawEOF"),fEe=Symbol("closeStream"),umt=r=>!0;hEe.exports=nmt(class extends imt{constructor(e){e=e||{},super(e),this.file=e.file||"",this[$0]=null,this.on(Kz,n=>{(this[Iv]==="begin"||this[$0]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(Kz,e.ondone):this.on(Kz,n=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||smt,this.filter=typeof e.filter=="function"?e.filter:umt;let t=e.file&&(e.file.endsWith(".tar.br")||e.file.endsWith(".tbr"));this.brotli=!e.gzip&&e.brotli!==void 0?e.brotli:t?void 0:!1,this.writable=!0,this.readable=!1,this[dS]=new omt,this[Sa]=null,this[lS]=null,this[B0]=null,this[Iv]="begin",this[PT]="",this[kv]=null,this[DL]=null,this[xT]=!1,this[bd]=null,this[OT]=!1,this[Yz]=!1,this[Jz]=!1,this.on("end",()=>this[fEe]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[dEe](e,t){this[$0]===null&&(this[$0]=!1);let n;try{n=new iEe(e,t,this[kv],this[DL])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[Yz]?(this[Jz]=!0,this[Iv]==="begin"&&(this[Iv]="header"),this[W0]("eof")):(this[Yz]=!0,this[W0]("nullBlock"));else if(this[Yz]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[B0]=new amt(n,this[kv],this[DL]);if(!this[$0])if(o.remain){let s=()=>{o.invalid||(this[$0]=!0)};o.on("end",s)}else this[$0]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[W0]("ignoredEntry",o),this[Iv]="ignore",o.resume()):o.size>0&&(this[PT]="",o.on("data",s=>this[PT]+=s),this[Iv]="meta"):(this[kv]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[W0]("ignoredEntry",o),this[Iv]=o.remain?"ignore":"header",o.resume()):(o.remain?this[Iv]="body":(this[Iv]="header",o.end()),this[lS]?this[dS].push(o):(this[dS].push(o),this[VJ]())))}}}[fEe](){cmt(()=>this.emit("close"))}[aEe](e){let t=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[lS]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[VJ]()),t=!1)):(this[lS]=null,t=!1),t}[VJ](){do;while(this[aEe](this[dS].shift()));if(!this[dS].length){let e=this[lS];!e||e.flowing||e.size===e.remain?this[EL]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[GJ](e,t){let n=this[B0],i=n.blockRemain,o=i>=e.length&&t===0?e:e.slice(t,t+i);return n.write(o),n.blockRemain||(this[Iv]="header",this[B0]=null,n.end()),o.length}[lEe](e,t){let n=this[B0],i=this[GJ](e,t);return this[B0]||this[cEe](n),i}[W0](e,t,n){!this[dS].length&&!this[lS]?this.emit(e,t,n):this[dS].push([e,t,n])}[cEe](e){switch(this[W0]("meta",this[PT]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[kv]=oEe.parse(this[PT],this[kv],!1);break;case"GlobalExtendedHeader":this[DL]=oEe.parse(this[PT],this[DL],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[kv]=this[kv]||Object.create(null),this[kv].path=this[PT].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[kv]=this[kv]||Object.create(null),this[kv].linkpath=this[PT].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[OT]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[OT])return;if((this[bd]===null||this.brotli===void 0&&this[bd]===!1)&&e){if(this[Sa]&&(e=Buffer.concat([this[Sa],e]),this[Sa]=null),e.length<$J.length)return this[Sa]=e,!0;for(let o=0;this[bd]===null&&o<$J.length;o++)e[o]!==$J[o]&&(this[bd]=!1);let i=this.brotli===void 0;if(this[bd]===!1&&i)if(e.length<512)if(this[xT])this.brotli=!0;else return this[Sa]=e,!0;else try{new iEe(e.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[bd]===null||this[bd]===!1&&this.brotli){let o=this[xT];this[xT]=!1,this[bd]=this[bd]===null?new sEe.Unzip:new sEe.BrotliDecompress,this[bd].on("data",a=>this[$z](a)),this[bd].on("error",a=>this.abort(a)),this[bd].on("end",a=>{this[xT]=!0,this[$z]()}),this[EL]=!0;let s=this[bd][o?"end":"write"](e);return this[EL]=!1,s}}this[EL]=!0,this[bd]?this[bd].write(e):this[$z](e),this[EL]=!1;let n=this[dS].length?!1:this[lS]?this[lS].flowing:!0;return!n&&!this[dS].length&&this[lS].once("drain",i=>this.emit("drain")),n}[KJ](e){e&&!this[OT]&&(this[Sa]=this[Sa]?Buffer.concat([this[Sa],e]):e)}[YJ](){if(this[xT]&&!this[uEe]&&!this[OT]&&!this[Gz]){this[uEe]=!0;let e=this[B0];if(e&&e.blockRemain){let t=this[Sa]?this[Sa].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${t} available)`,{entry:e}),this[Sa]&&e.write(this[Sa]),e.end()}this[W0](Kz)}}[$z](e){if(this[Gz])this[KJ](e);else if(!e&&!this[Sa])this[YJ]();else{if(this[Gz]=!0,this[Sa]){this[KJ](e);let t=this[Sa];this[Sa]=null,this[Vz](t)}else this[Vz](e);for(;this[Sa]&&this[Sa].length>=512&&!this[OT]&&!this[Jz];){let t=this[Sa];this[Sa]=null,this[Vz](t)}this[Gz]=!1}(!this[Sa]||this[xT])&&this[YJ]()}[Vz](e){let t=0,n=e.length;for(;t+512<=n&&!this[OT]&&!this[Jz];)switch(this[Iv]){case"begin":case"header":this[dEe](e,t),t+=512;break;case"ignore":case"body":t+=this[GJ](e,t);break;case"meta":t+=this[lEe](e,t);break;default:throw new Error("invalid state: "+this[Iv])}t<n&&(this[Sa]?this[Sa]=Buffer.concat([e.slice(t),this[Sa]]):this[Sa]=e.slice(t))}end(e){this[OT]||(this[bd]?this[bd].end(e):(this[xT]=!0,this.brotli===void 0&&(e=e||Buffer.alloc(0)),this.write(e)))}})});var Qz=C((sKt,vEe)=>{"use strict";var lmt=fP(),mEe=Xz(),IP=require("fs"),dmt=OP(),pEe=require("path"),JJ=bP();vEe.exports=(r,e,t)=>{typeof r=="function"?(t=r,e=null,r={}):Array.isArray(r)&&(e=r,r={}),typeof e=="function"&&(t=e,e=null),e?e=Array.from(e):e=[];let n=lmt(r);if(n.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return e.length&&hmt(n,e),n.noResume||fmt(n),n.file&&n.sync?pmt(n):n.file?mmt(n,t):gEe(n)};var fmt=r=>{let e=r.onentry;r.onentry=e?t=>{e(t),t.resume()}:t=>t.resume()},hmt=(r,e)=>{let t=new Map(e.map(o=>[JJ(o),!0])),n=r.filter,i=(o,s)=>{let a=s||pEe.parse(o).root||".",c=o===a?!1:t.has(o)?t.get(o):i(pEe.dirname(o),a);return t.set(o,c),c};r.filter=n?(o,s)=>n(o,s)&&i(JJ(o)):o=>i(JJ(o))},pmt=r=>{let e=gEe(r),t=r.file,n=!0,i;try{let o=IP.statSync(t),s=r.maxReadSize||16*1024*1024;if(o.size<s)e.end(IP.readFileSync(t));else{let a=0,c=Buffer.allocUnsafe(s);for(i=IP.openSync(t,"r");a<o.size;){let u=IP.readSync(i,c,0,s,a);a+=u,e.write(c.slice(0,u))}e.end()}n=!1}finally{if(n&&i)try{IP.closeSync(i)}catch{}}},mmt=(r,e)=>{let t=new mEe(r),n=r.maxReadSize||16*1024*1024,i=r.file,o=new Promise((s,a)=>{t.on("error",a),t.on("end",s),IP.stat(i,(c,u)=>{if(c)a(c);else{let l=new dmt.ReadStream(i,{readSize:n,size:u.size});l.on("error",a),l.pipe(t)}})});return e?o.then(e,e):o},gEe=r=>new mEe(r)});var CEe=C((aKt,SEe)=>{"use strict";var gmt=fP(),Zz=kz(),yEe=OP(),_Ee=Qz(),bEe=require("path");SEe.exports=(r,e,t)=>{if(typeof e=="function"&&(t=e),Array.isArray(r)&&(e=r,r={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=gmt(r);if(n.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?vmt(n,e):n.file?ymt(n,e,t):n.sync?_mt(n,e):bmt(n,e)};var vmt=(r,e)=>{let t=new Zz.Sync(r),n=new yEe.WriteStreamSync(r.file,{mode:r.mode||438});t.pipe(n),wEe(t,e)},ymt=(r,e,t)=>{let n=new Zz(r),i=new yEe.WriteStream(r.file,{mode:r.mode||438});n.pipe(i);let o=new Promise((s,a)=>{i.on("error",a),i.on("close",s),n.on("error",a)});return XJ(n,e),t?o.then(t,t):o},wEe=(r,e)=>{e.forEach(t=>{t.charAt(0)==="@"?_Ee({file:bEe.resolve(r.cwd,t.slice(1)),sync:!0,noResume:!0,onentry:n=>r.add(n)}):r.add(t)}),r.end()},XJ=(r,e)=>{for(;e.length;){let t=e.shift();if(t.charAt(0)==="@")return _Ee({file:bEe.resolve(r.cwd,t.slice(1)),noResume:!0,onentry:n=>r.add(n)}).then(n=>XJ(r,e));r.add(t)}r.end()},_mt=(r,e)=>{let t=new Zz.Sync(r);return wEe(t,e),t},bmt=(r,e)=>{let t=new Zz(r);return XJ(t,e),t}});var QJ=C((cKt,OEe)=>{"use strict";var wmt=fP(),TEe=kz(),Sg=require("fs"),DEe=OP(),EEe=Qz(),REe=require("path"),PEe=_P();OEe.exports=(r,e,t)=>{let n=wmt(r);if(!n.file)throw new TypeError("file is required");if(n.gzip||n.brotli||n.file.endsWith(".br")||n.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?Smt(n,e):Tmt(n,e,t)};var Smt=(r,e)=>{let t=new TEe.Sync(r),n=!0,i,o;try{try{i=Sg.openSync(r.file,"r+")}catch(c){if(c.code==="ENOENT")i=Sg.openSync(r.file,"w+");else throw c}let s=Sg.fstatSync(i),a=Buffer.alloc(512);e:for(o=0;o<s.size;o+=512){for(let l=0,d=0;l<512;l+=d){if(d=Sg.readSync(i,a,l,a.length-l,o+l),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let c=new PEe(a);if(!c.cksumValid)break;let u=512*Math.ceil(c.size/512);if(o+u+512>s.size)break;o+=u,r.mtimeCache&&r.mtimeCache.set(c.path,c.mtime)}n=!1,Cmt(r,t,o,i,e)}finally{if(n)try{Sg.closeSync(i)}catch{}}},Cmt=(r,e,t,n,i)=>{let o=new DEe.WriteStreamSync(r.file,{fd:n,start:t});e.pipe(o),Dmt(e,i)},Tmt=(r,e,t)=>{e=Array.from(e);let n=new TEe(r),i=(s,a,c)=>{let u=(_,D)=>{_?Sg.close(s,x=>c(_)):c(null,D)},l=0;if(a===0)return u(null,0);let d=0,f=Buffer.alloc(512),p=(_,D)=>{if(_)return u(_);if(d+=D,d<512&&D)return Sg.read(s,f,d,f.length-d,l+d,p);if(l===0&&f[0]===31&&f[1]===139)return u(new Error("cannot append to compressed archives"));if(d<512)return u(null,l);let x=new PEe(f);if(!x.cksumValid)return u(null,l);let N=512*Math.ceil(x.size/512);if(l+N+512>a||(l+=N+512,l>=a))return u(null,l);r.mtimeCache&&r.mtimeCache.set(x.path,x.mtime),d=0,Sg.read(s,f,0,512,l,p)};Sg.read(s,f,0,512,l,p)},o=new Promise((s,a)=>{n.on("error",a);let c="r+",u=(l,d)=>{if(l&&l.code==="ENOENT"&&c==="r+")return c="w+",Sg.open(r.file,c,u);if(l)return a(l);Sg.fstat(d,(f,p)=>{if(f)return Sg.close(d,()=>a(f));i(d,p.size,(_,D)=>{if(_)return a(_);let x=new DEe.WriteStream(r.file,{fd:d,start:D});n.pipe(x),x.on("error",a),x.on("close",s),xEe(n,e)})})};Sg.open(r.file,c,u)});return t?o.then(t,t):o},Dmt=(r,e)=>{e.forEach(t=>{t.charAt(0)==="@"?EEe({file:REe.resolve(r.cwd,t.slice(1)),sync:!0,noResume:!0,onentry:n=>r.add(n)}):r.add(t)}),r.end()},xEe=(r,e)=>{for(;e.length;){let t=e.shift();if(t.charAt(0)==="@")return EEe({file:REe.resolve(r.cwd,t.slice(1)),noResume:!0,onentry:n=>r.add(n)}).then(n=>xEe(r,e));r.add(t)}r.end()}});var kEe=C((uKt,IEe)=>{"use strict";var Emt=fP(),Rmt=QJ();IEe.exports=(r,e,t)=>{let n=Emt(r);if(!n.file)throw new TypeError("file is required");if(n.gzip||n.brotli||n.file.endsWith(".br")||n.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),Pmt(n),Rmt(n,e,t)};var Pmt=r=>{let e=r.filter;r.mtimeCache||(r.mtimeCache=new Map),r.filter=e?(t,n)=>e(t,n)&&!(r.mtimeCache.get(t)>n.mtime):(t,n)=>!(r.mtimeCache.get(t)>n.mtime)}});var NEe=C((lKt,LEe)=>{var{promisify:AEe}=require("util"),IT=require("fs"),xmt=r=>{if(!r)r={mode:511,fs:IT};else if(typeof r=="object")r={mode:511,fs:IT,...r};else if(typeof r=="number")r={mode:r,fs:IT};else if(typeof r=="string")r={mode:parseInt(r,8),fs:IT};else throw new TypeError("invalid options argument");return r.mkdir=r.mkdir||r.fs.mkdir||IT.mkdir,r.mkdirAsync=AEe(r.mkdir),r.stat=r.stat||r.fs.stat||IT.stat,r.statAsync=AEe(r.stat),r.statSync=r.statSync||r.fs.statSync||IT.statSync,r.mkdirSync=r.mkdirSync||r.fs.mkdirSync||IT.mkdirSync,r};LEe.exports=xmt});var FEe=C((dKt,MEe)=>{var Omt=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:Imt,parse:kmt}=require("path"),Amt=r=>{if(/\0/.test(r))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:r,code:"ERR_INVALID_ARG_VALUE"});if(r=Imt(r),Omt==="win32"){let e=/[*|"<>?:]/,{root:t}=kmt(r);if(e.test(r.substr(t.length)))throw Object.assign(new Error("Illegal characters in path."),{path:r,code:"EINVAL"})}return r};MEe.exports=Amt});var HEe=C((fKt,UEe)=>{var{dirname:qEe}=require("path"),jEe=(r,e,t=void 0)=>t===e?Promise.resolve():r.statAsync(e).then(n=>n.isDirectory()?t:void 0,n=>n.code==="ENOENT"?jEe(r,qEe(e),e):void 0),zEe=(r,e,t=void 0)=>{if(t!==e)try{return r.statSync(e).isDirectory()?t:void 0}catch(n){return n.code==="ENOENT"?zEe(r,qEe(e),e):void 0}};UEe.exports={findMade:jEe,findMadeSync:zEe}});var tX=C((hKt,WEe)=>{var{dirname:BEe}=require("path"),ZJ=(r,e,t)=>{e.recursive=!1;let n=BEe(r);return n===r?e.mkdirAsync(r,e).catch(i=>{if(i.code!=="EISDIR")throw i}):e.mkdirAsync(r,e).then(()=>t||r,i=>{if(i.code==="ENOENT")return ZJ(n,e).then(o=>ZJ(r,e,o));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(r).then(o=>{if(o.isDirectory())return t;throw i},()=>{throw i})})},eX=(r,e,t)=>{let n=BEe(r);if(e.recursive=!1,n===r)try{return e.mkdirSync(r,e)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return e.mkdirSync(r,e),t||r}catch(i){if(i.code==="ENOENT")return eX(r,e,eX(n,e,t));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(r).isDirectory())throw i}catch{throw i}}};WEe.exports={mkdirpManual:ZJ,mkdirpManualSync:eX}});var GEe=C((pKt,VEe)=>{var{dirname:$Ee}=require("path"),{findMade:Lmt,findMadeSync:Nmt}=HEe(),{mkdirpManual:Mmt,mkdirpManualSync:Fmt}=tX(),qmt=(r,e)=>(e.recursive=!0,$Ee(r)===r?e.mkdirAsync(r,e):Lmt(e,r).then(n=>e.mkdirAsync(r,e).then(()=>n).catch(i=>{if(i.code==="ENOENT")return Mmt(r,e);throw i}))),jmt=(r,e)=>{if(e.recursive=!0,$Ee(r)===r)return e.mkdirSync(r,e);let n=Nmt(e,r);try{return e.mkdirSync(r,e),n}catch(i){if(i.code==="ENOENT")return Fmt(r,e);throw i}};VEe.exports={mkdirpNative:qmt,mkdirpNativeSync:jmt}});var XEe=C((mKt,JEe)=>{var KEe=require("fs"),zmt=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,rX=zmt.replace(/^v/,"").split("."),YEe=+rX[0]>10||+rX[0]==10&&+rX[1]>=12,Umt=YEe?r=>r.mkdir===KEe.mkdir:()=>!1,Hmt=YEe?r=>r.mkdirSync===KEe.mkdirSync:()=>!1;JEe.exports={useNative:Umt,useNativeSync:Hmt}});var nRe=C((gKt,rRe)=>{var kP=NEe(),AP=FEe(),{mkdirpNative:QEe,mkdirpNativeSync:ZEe}=GEe(),{mkdirpManual:eRe,mkdirpManualSync:tRe}=tX(),{useNative:Bmt,useNativeSync:Wmt}=XEe(),LP=(r,e)=>(r=AP(r),e=kP(e),Bmt(e)?QEe(r,e):eRe(r,e)),$mt=(r,e)=>(r=AP(r),e=kP(e),Wmt(e)?ZEe(r,e):tRe(r,e));LP.sync=$mt;LP.native=(r,e)=>QEe(AP(r),kP(e));LP.manual=(r,e)=>eRe(AP(r),kP(e));LP.nativeSync=(r,e)=>ZEe(AP(r),kP(e));LP.manualSync=(r,e)=>tRe(AP(r),kP(e));rRe.exports=LP});var lRe=C((vKt,uRe)=>{"use strict";var Av=require("fs"),V0=require("path"),Vmt=Av.lchown?"lchown":"chown",Gmt=Av.lchownSync?"lchownSync":"chownSync",oRe=Av.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),iRe=(r,e,t)=>{try{return Av[Gmt](r,e,t)}catch(n){if(n.code!=="ENOENT")throw n}},Kmt=(r,e,t)=>{try{return Av.chownSync(r,e,t)}catch(n){if(n.code!=="ENOENT")throw n}},Ymt=oRe?(r,e,t,n)=>i=>{!i||i.code!=="EISDIR"?n(i):Av.chown(r,e,t,n)}:(r,e,t,n)=>n,nX=oRe?(r,e,t)=>{try{return iRe(r,e,t)}catch(n){if(n.code!=="EISDIR")throw n;Kmt(r,e,t)}}:(r,e,t)=>iRe(r,e,t),Jmt=process.version,sRe=(r,e,t)=>Av.readdir(r,e,t),Xmt=(r,e)=>Av.readdirSync(r,e);/^v4\./.test(Jmt)&&(sRe=(r,e,t)=>Av.readdir(r,t));var eU=(r,e,t,n)=>{Av[Vmt](r,e,t,Ymt(r,e,t,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},aRe=(r,e,t,n,i)=>{if(typeof e=="string")return Av.lstat(V0.resolve(r,e),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=e,aRe(r,s,t,n,i)});if(e.isDirectory())iX(V0.resolve(r,e.name),t,n,o=>{if(o)return i(o);let s=V0.resolve(r,e.name);eU(s,t,n,i)});else{let o=V0.resolve(r,e.name);eU(o,t,n,i)}},iX=(r,e,t,n)=>{sRe(r,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!o.length)return eU(r,e,t,n);let s=o.length,a=null,c=u=>{if(!a){if(u)return n(a=u);if(--s===0)return eU(r,e,t,n)}};o.forEach(u=>aRe(r,u,e,t,c))})},Qmt=(r,e,t,n)=>{if(typeof e=="string")try{let i=Av.lstatSync(V0.resolve(r,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&cRe(V0.resolve(r,e.name),t,n),nX(V0.resolve(r,e.name),t,n)},cRe=(r,e,t)=>{let n;try{n=Xmt(r,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return nX(r,e,t);throw i}return n&&n.length&&n.forEach(i=>Qmt(r,i,e,t)),nX(r,e,t)};uRe.exports=iX;iX.sync=cRe});var pRe=C((yKt,oX)=>{"use strict";var dRe=nRe(),Lv=require("fs"),tU=require("path"),fRe=lRe(),Ky=vP(),rU=class extends Error{constructor(e,t){super("Cannot extract through symbolic link"),this.path=t,this.symlink=e}get name(){return"SylinkError"}},nU=class extends Error{constructor(e,t){super(t+": Cannot cd into '"+e+"'"),this.path=e,this.code=t}get name(){return"CwdError"}},iU=(r,e)=>r.get(Ky(e)),RL=(r,e,t)=>r.set(Ky(e),t),Zmt=(r,e)=>{Lv.stat(r,(t,n)=>{(t||!n.isDirectory())&&(t=new nU(r,t&&t.code||"ENOTDIR")),e(t)})};oX.exports=(r,e,t)=>{r=Ky(r);let n=e.umask,i=e.mode|448,o=(i&n)!==0,s=e.uid,a=e.gid,c=typeof s=="number"&&typeof a=="number"&&(s!==e.processUid||a!==e.processGid),u=e.preserve,l=e.unlink,d=e.cache,f=Ky(e.cwd),p=(x,N)=>{x?t(x):(RL(d,r,!0),N&&c?fRe(N,s,a,A=>p(A)):o?Lv.chmod(r,i,t):t())};if(d&&iU(d,r)===!0)return p();if(r===f)return Zmt(r,p);if(u)return dRe(r,{mode:i}).then(x=>p(null,x),p);let D=Ky(tU.relative(f,r)).split("/");oU(f,D,i,d,l,f,null,p)};var oU=(r,e,t,n,i,o,s,a)=>{if(!e.length)return a(null,s);let c=e.shift(),u=Ky(tU.resolve(r+"/"+c));if(iU(n,u))return oU(u,e,t,n,i,o,s,a);Lv.mkdir(u,t,hRe(u,e,t,n,i,o,s,a))},hRe=(r,e,t,n,i,o,s,a)=>c=>{c?Lv.lstat(r,(u,l)=>{if(u)u.path=u.path&&Ky(u.path),a(u);else if(l.isDirectory())oU(r,e,t,n,i,o,s,a);else if(i)Lv.unlink(r,d=>{if(d)return a(d);Lv.mkdir(r,t,hRe(r,e,t,n,i,o,s,a))});else{if(l.isSymbolicLink())return a(new rU(r,r+"/"+e.join("/")));a(c)}}):(s=s||r,oU(r,e,t,n,i,o,s,a))},egt=r=>{let e=!1,t="ENOTDIR";try{e=Lv.statSync(r).isDirectory()}catch(n){t=n.code}finally{if(!e)throw new nU(r,t)}};oX.exports.sync=(r,e)=>{r=Ky(r);let t=e.umask,n=e.mode|448,i=(n&t)!==0,o=e.uid,s=e.gid,a=typeof o=="number"&&typeof s=="number"&&(o!==e.processUid||s!==e.processGid),c=e.preserve,u=e.unlink,l=e.cache,d=Ky(e.cwd),f=x=>{RL(l,r,!0),x&&a&&fRe.sync(x,o,s),i&&Lv.chmodSync(r,n)};if(l&&iU(l,r)===!0)return f();if(r===d)return egt(d),f();if(c)return f(dRe.sync(r,n));let _=Ky(tU.relative(d,r)).split("/"),D=null;for(let x=_.shift(),N=d;x&&(N+="/"+x);x=_.shift())if(N=Ky(tU.resolve(N)),!iU(l,N))try{Lv.mkdirSync(N,n),D=D||N,RL(l,N,!0)}catch{let U=Lv.lstatSync(N);if(U.isDirectory()){RL(l,N,!0);continue}else if(u){Lv.unlinkSync(N),Lv.mkdirSync(N,n),D=D||N,RL(l,N,!0);continue}else if(U.isSymbolicLink())return new rU(N,N+"/"+_.join("/"))}return f(D)}});var aX=C((_Kt,mRe)=>{var sX=Object.create(null),{hasOwnProperty:tgt}=Object.prototype;mRe.exports=r=>(tgt.call(sX,r)||(sX[r]=r.normalize("NFD")),sX[r])});var _Re=C((bKt,yRe)=>{var gRe=require("assert"),rgt=aX(),ngt=bP(),{join:vRe}=require("path"),igt=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,ogt=igt==="win32";yRe.exports=()=>{let r=new Map,e=new Map,t=u=>u.split("/").slice(0,-1).reduce((d,f)=>(d.length&&(f=vRe(d[d.length-1],f)),d.push(f||"/"),d),[]),n=new Set,i=u=>{let l=e.get(u);if(!l)throw new Error("function does not have any path reservations");return{paths:l.paths.map(d=>r.get(d)),dirs:[...l.dirs].map(d=>r.get(d))}},o=u=>{let{paths:l,dirs:d}=i(u);return l.every(f=>f[0]===u)&&d.every(f=>f[0]instanceof Set&&f[0].has(u))},s=u=>n.has(u)||!o(u)?!1:(n.add(u),u(()=>a(u)),!0),a=u=>{if(!n.has(u))return!1;let{paths:l,dirs:d}=e.get(u),f=new Set;return l.forEach(p=>{let _=r.get(p);gRe.equal(_[0],u),_.length===1?r.delete(p):(_.shift(),typeof _[0]=="function"?f.add(_[0]):_[0].forEach(D=>f.add(D)))}),d.forEach(p=>{let _=r.get(p);gRe(_[0]instanceof Set),_[0].size===1&&_.length===1?r.delete(p):_[0].size===1?(_.shift(),f.add(_[0])):_[0].delete(u)}),n.delete(u),f.forEach(p=>s(p)),!0};return{check:o,reserve:(u,l)=>{u=ogt?["win32 parallelization disabled"]:u.map(f=>ngt(vRe(rgt(f))).toLowerCase());let d=new Set(u.map(f=>t(f)).reduce((f,p)=>f.concat(p)));return e.set(l,{dirs:d,paths:u}),u.forEach(f=>{let p=r.get(f);p?p.push(l):r.set(f,[l])}),d.forEach(f=>{let p=r.get(f);p?p[p.length-1]instanceof Set?p[p.length-1].add(l):p.push(new Set([l])):r.set(f,[new Set([l])])}),s(l)}}}});var SRe=C((wKt,wRe)=>{var sgt=process.env.__FAKE_PLATFORM__||process.platform,agt=sgt==="win32",cgt=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:ugt,O_TRUNC:lgt,O_WRONLY:dgt,UV_FS_O_FILEMAP:bRe=0}=cgt.constants,fgt=agt&&!!bRe,hgt=512*1024,pgt=bRe|lgt|ugt|dgt;wRe.exports=fgt?r=>r<hgt?pgt:"w":()=>"w"});var gX=C((SKt,MRe)=>{"use strict";var mgt=require("assert"),ggt=Xz(),ds=require("fs"),vgt=OP(),fS=require("path"),ARe=pRe(),CRe=dJ(),ygt=_Re(),_gt=fJ(),Nv=vP(),bgt=bP(),wgt=aX(),TRe=Symbol("onEntry"),lX=Symbol("checkFs"),DRe=Symbol("checkFs2"),cU=Symbol("pruneCache"),dX=Symbol("isReusable"),Mv=Symbol("makeFs"),fX=Symbol("file"),hX=Symbol("directory"),uU=Symbol("link"),ERe=Symbol("symlink"),RRe=Symbol("hardlink"),PRe=Symbol("unsupported"),xRe=Symbol("checkPath"),kT=Symbol("mkdir"),ih=Symbol("onError"),sU=Symbol("pending"),ORe=Symbol("pend"),NP=Symbol("unpend"),cX=Symbol("ended"),uX=Symbol("maybeClose"),pX=Symbol("skip"),PL=Symbol("doChown"),xL=Symbol("uid"),OL=Symbol("gid"),IL=Symbol("checkedCwd"),LRe=require("crypto"),NRe=SRe(),Sgt=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,kL=Sgt==="win32",Cgt=1024,Tgt=(r,e)=>{if(!kL)return ds.unlink(r,e);let t=r+".DELETE."+LRe.randomBytes(16).toString("hex");ds.rename(r,t,n=>{if(n)return e(n);ds.unlink(t,e)})},Dgt=r=>{if(!kL)return ds.unlinkSync(r);let e=r+".DELETE."+LRe.randomBytes(16).toString("hex");ds.renameSync(r,e),ds.unlinkSync(e)},IRe=(r,e,t)=>r===r>>>0?r:e===e>>>0?e:t,kRe=r=>bgt(Nv(wgt(r))).toLowerCase(),Egt=(r,e)=>{e=kRe(e);for(let t of r.keys()){let n=kRe(t);(n===e||n.indexOf(e+"/")===0)&&r.delete(t)}},Rgt=r=>{for(let e of r.keys())r.delete(e)},AL=class extends ggt{constructor(e){if(e||(e={}),e.ondone=t=>{this[cX]=!0,this[uX]()},super(e),this[IL]=!1,this.reservations=ygt(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[sU]=0,this[cX]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:Cgt,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||kL,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=Nv(fS.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",t=>this[TRe](t))}warn(e,t,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,t,n)}[uX](){this[cX]&&this[sU]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[xRe](e){let t=Nv(e.path),n=t.split("/");if(this.strip){if(n.length<this.strip)return!1;if(e.type==="Link"){let i=Nv(e.linkpath).split("/");if(i.length>=this.strip)e.linkpath=i.slice(this.strip).join("/");else return!1}n.splice(0,this.strip),e.path=n.join("/")}if(isFinite(this.maxDepth)&&n.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:e,path:t,depth:n.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(n.includes("..")||kL&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:t}),!1;let[i,o]=_gt(t);i&&(e.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:t}))}if(fS.isAbsolute(e.path)?e.absolute=Nv(fS.resolve(e.path)):e.absolute=Nv(fS.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:Nv(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:i}=fS.win32.parse(e.absolute);e.absolute=i+CRe.encode(e.absolute.slice(i.length));let{root:o}=fS.win32.parse(e.path);e.path=o+CRe.encode(e.path.slice(o.length))}return!0}[TRe](e){if(!this[xRe](e))return e.resume();switch(mgt.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[lX](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[PRe](e)}}[ih](e,t){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:t}),this[NP](),t.resume())}[kT](e,t,n){ARe(Nv(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t,noChmod:this.noChmod},n)}[PL](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[xL](e){return IRe(this.uid,e.uid,this.processUid)}[OL](e){return IRe(this.gid,e.gid,this.processGid)}[fX](e,t){let n=e.mode&4095||this.fmode,i=new vgt.WriteStream(e.absolute,{flags:NRe(e.size),mode:n,autoClose:!1});i.on("error",c=>{i.fd&&ds.close(i.fd,()=>{}),i.write=()=>!0,this[ih](c,e),t()});let o=1,s=c=>{if(c){i.fd&&ds.close(i.fd,()=>{}),this[ih](c,e),t();return}--o===0&&ds.close(i.fd,u=>{u?this[ih](u,e):this[NP](),t()})};i.on("finish",c=>{let u=e.absolute,l=i.fd;if(e.mtime&&!this.noMtime){o++;let d=e.atime||new Date,f=e.mtime;ds.futimes(l,d,f,p=>p?ds.utimes(u,d,f,_=>s(_&&p)):s())}if(this[PL](e)){o++;let d=this[xL](e),f=this[OL](e);ds.fchown(l,d,f,p=>p?ds.chown(u,d,f,_=>s(_&&p)):s())}s()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>{this[ih](c,e),t()}),e.pipe(a)),a.pipe(i)}[hX](e,t){let n=e.mode&4095||this.dmode;this[kT](e.absolute,n,i=>{if(i){this[ih](i,e),t();return}let o=1,s=a=>{--o===0&&(t(),this[NP](),e.resume())};e.mtime&&!this.noMtime&&(o++,ds.utimes(e.absolute,e.atime||new Date,e.mtime,s)),this[PL](e)&&(o++,ds.chown(e.absolute,this[xL](e),this[OL](e),s)),s()})}[PRe](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[ERe](e,t){this[uU](e,e.linkpath,"symlink",t)}[RRe](e,t){let n=Nv(fS.resolve(this.cwd,e.linkpath));this[uU](e,n,"link",t)}[ORe](){this[sU]++}[NP](){this[sU]--,this[uX]()}[pX](e){this[NP](),e.resume()}[dX](e,t){return e.type==="File"&&!this.unlink&&t.isFile()&&t.nlink<=1&&!kL}[lX](e){this[ORe]();let t=[e.path];e.linkpath&&t.push(e.linkpath),this.reservations.reserve(t,n=>this[DRe](e,n))}[cU](e){e.type==="SymbolicLink"?Rgt(this.dirCache):e.type!=="Directory"&&Egt(this.dirCache,e.absolute)}[DRe](e,t){this[cU](e);let n=a=>{this[cU](e),t(a)},i=()=>{this[kT](this.cwd,this.dmode,a=>{if(a){this[ih](a,e),n();return}this[IL]=!0,o()})},o=()=>{if(e.absolute!==this.cwd){let a=Nv(fS.dirname(e.absolute));if(a!==this.cwd)return this[kT](a,this.dmode,c=>{if(c){this[ih](c,e),n();return}s()})}s()},s=()=>{ds.lstat(e.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>e.mtime)){this[pX](e),n();return}if(a||this[dX](e,c))return this[Mv](null,e,n);if(c.isDirectory()){if(e.type==="Directory"){let u=!this.noChmod&&e.mode&&(c.mode&4095)!==e.mode,l=d=>this[Mv](d,e,n);return u?ds.chmod(e.absolute,e.mode,l):l()}if(e.absolute!==this.cwd)return ds.rmdir(e.absolute,u=>this[Mv](u,e,n))}if(e.absolute===this.cwd)return this[Mv](null,e,n);Tgt(e.absolute,u=>this[Mv](u,e,n))})};this[IL]?o():i()}[Mv](e,t,n){if(e){this[ih](e,t),n();return}switch(t.type){case"File":case"OldFile":case"ContiguousFile":return this[fX](t,n);case"Link":return this[RRe](t,n);case"SymbolicLink":return this[ERe](t,n);case"Directory":case"GNUDumpDir":return this[hX](t,n)}}[uU](e,t,n,i){ds[n](t,e.absolute,o=>{o?this[ih](o,e):(this[NP](),e.resume()),i()})}},aU=r=>{try{return[null,r()]}catch(e){return[e,null]}},mX=class extends AL{[Mv](e,t){return super[Mv](e,t,()=>{})}[lX](e){if(this[cU](e),!this[IL]){let o=this[kT](this.cwd,this.dmode);if(o)return this[ih](o,e);this[IL]=!0}if(e.absolute!==this.cwd){let o=Nv(fS.dirname(e.absolute));if(o!==this.cwd){let s=this[kT](o,this.dmode);if(s)return this[ih](s,e)}}let[t,n]=aU(()=>ds.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[pX](e);if(t||this[dX](e,n))return this[Mv](null,e);if(n.isDirectory()){if(e.type==="Directory"){let s=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[a]=s?aU(()=>{ds.chmodSync(e.absolute,e.mode)}):[];return this[Mv](a,e)}let[o]=aU(()=>ds.rmdirSync(e.absolute));this[Mv](o,e)}let[i]=e.absolute===this.cwd?[]:aU(()=>Dgt(e.absolute));this[Mv](i,e)}[fX](e,t){let n=e.mode&4095||this.fmode,i=a=>{let c;try{ds.closeSync(o)}catch(u){c=u}(a||c)&&this[ih](a||c,e),t()},o;try{o=ds.openSync(e.absolute,NRe(e.size),n)}catch(a){return i(a)}let s=this.transform&&this.transform(e)||e;s!==e&&(s.on("error",a=>this[ih](a,e)),e.pipe(s)),s.on("data",a=>{try{ds.writeSync(o,a,0,a.length)}catch(c){i(c)}}),s.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let u=e.atime||new Date,l=e.mtime;try{ds.futimesSync(o,u,l)}catch(d){try{ds.utimesSync(e.absolute,u,l)}catch{c=d}}}if(this[PL](e)){let u=this[xL](e),l=this[OL](e);try{ds.fchownSync(o,u,l)}catch(d){try{ds.chownSync(e.absolute,u,l)}catch{c=c||d}}}i(c)})}[hX](e,t){let n=e.mode&4095||this.dmode,i=this[kT](e.absolute,n);if(i){this[ih](i,e),t();return}if(e.mtime&&!this.noMtime)try{ds.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[PL](e))try{ds.chownSync(e.absolute,this[xL](e),this[OL](e))}catch{}t(),e.resume()}[kT](e,t){try{return ARe.sync(Nv(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t})}catch(n){return n}}[uU](e,t,n,i){try{ds[n+"Sync"](t,e.absolute),i(),e.resume()}catch(o){return this[ih](o,e)}}};AL.Sync=mX;MRe.exports=AL});var URe=C((CKt,zRe)=>{"use strict";var Pgt=fP(),lU=gX(),qRe=require("fs"),jRe=OP(),FRe=require("path"),vX=bP();zRe.exports=(r,e,t)=>{typeof r=="function"?(t=r,e=null,r={}):Array.isArray(r)&&(e=r,r={}),typeof e=="function"&&(t=e,e=null),e?e=Array.from(e):e=[];let n=Pgt(r);if(n.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return e.length&&xgt(n,e),n.file&&n.sync?Ogt(n):n.file?Igt(n,t):n.sync?kgt(n):Agt(n)};var xgt=(r,e)=>{let t=new Map(e.map(o=>[vX(o),!0])),n=r.filter,i=(o,s)=>{let a=s||FRe.parse(o).root||".",c=o===a?!1:t.has(o)?t.get(o):i(FRe.dirname(o),a);return t.set(o,c),c};r.filter=n?(o,s)=>n(o,s)&&i(vX(o)):o=>i(vX(o))},Ogt=r=>{let e=new lU.Sync(r),t=r.file,n=qRe.statSync(t),i=r.maxReadSize||16*1024*1024;new jRe.ReadStreamSync(t,{readSize:i,size:n.size}).pipe(e)},Igt=(r,e)=>{let t=new lU(r),n=r.maxReadSize||16*1024*1024,i=r.file,o=new Promise((s,a)=>{t.on("error",a),t.on("close",s),qRe.stat(i,(c,u)=>{if(c)a(c);else{let l=new jRe.ReadStream(i,{readSize:n,size:u.size});l.on("error",a),l.pipe(t)}})});return e?o.then(e,e):o},kgt=r=>new lU.Sync(r),Agt=r=>new lU(r)});var HRe=C(kl=>{"use strict";kl.c=kl.create=CEe();kl.r=kl.replace=QJ();kl.t=kl.list=Qz();kl.u=kl.update=kEe();kl.x=kl.extract=URe();kl.Pack=kz();kl.Unpack=gX();kl.Parse=Xz();kl.ReadEntry=mz();kl.WriteEntry=SJ();kl.Header=_P();kl.Pax=vz();kl.types=iJ()});var VRe=C(yX=>{var G0=require("path"),LT=process.platform==="win32",AT=require("fs"),Lgt=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Ngt(){var r;if(Lgt){var e=new Error;r=t}else r=n;return r;function t(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function Mgt(r){return typeof r=="function"?r:Ngt()}var PKt=G0.normalize;LT?hS=/(.*?)(?:[\/\\]+|$)/g:hS=/(.*?)(?:[\/]+|$)/g;var hS;LT?LL=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:LL=/^[\/]*/;var LL;yX.realpathSync=function(e,t){if(e=G0.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n=e,i={},o={},s,a,c,u;l();function l(){var x=LL.exec(e);s=x[0].length,a=x[0],c=x[0],u="",LT&&!o[c]&&(AT.lstatSync(c),o[c]=!0)}for(;s<e.length;){hS.lastIndex=s;var d=hS.exec(e);if(u=a,a+=d[0],c=u+d[1],s=hS.lastIndex,!(o[c]||t&&t[c]===c)){var f;if(t&&Object.prototype.hasOwnProperty.call(t,c))f=t[c];else{var p=AT.lstatSync(c);if(!p.isSymbolicLink()){o[c]=!0,t&&(t[c]=c);continue}var _=null;if(!LT){var D=p.dev.toString(32)+":"+p.ino.toString(32);i.hasOwnProperty(D)&&(_=i[D])}_===null&&(AT.statSync(c),_=AT.readlinkSync(c)),f=G0.resolve(u,_),t&&(t[c]=f),LT||(i[D]=_)}e=G0.resolve(f,e.slice(s)),l()}}return t&&(t[n]=e),e};yX.realpath=function(e,t,n){if(typeof n!="function"&&(n=Mgt(t),t=null),e=G0.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var i=e,o={},s={},a,c,u,l;d();function d(){var x=LL.exec(e);a=x[0].length,c=x[0],u=x[0],l="",LT&&!s[u]?AT.lstat(u,function(N){if(N)return n(N);s[u]=!0,f()}):process.nextTick(f)}function f(){if(a>=e.length)return t&&(t[i]=e),n(null,e);hS.lastIndex=a;var x=hS.exec(e);return l=c,c+=x[0],u=l+x[1],a=hS.lastIndex,s[u]||t&&t[u]===u?process.nextTick(f):t&&Object.prototype.hasOwnProperty.call(t,u)?D(t[u]):AT.lstat(u,p)}function p(x,N){if(x)return n(x);if(!N.isSymbolicLink())return s[u]=!0,t&&(t[u]=u),process.nextTick(f);if(!LT){var A=N.dev.toString(32)+":"+N.ino.toString(32);if(o.hasOwnProperty(A))return _(null,o[A],u)}AT.stat(u,function(U){if(U)return n(U);AT.readlink(u,function(ee,he){LT||(o[A]=he),_(ee,he)})})}function _(x,N,A){if(x)return n(x);var U=G0.resolve(l,N);t&&(t[A]=U),D(U)}function D(x){e=G0.resolve(x,e.slice(a)),d()}}});var SX=C((OKt,JRe)=>{JRe.exports=NT;NT.realpath=NT;NT.sync=wX;NT.realpathSync=wX;NT.monkeypatch=qgt;NT.unmonkeypatch=jgt;var MP=require("fs"),_X=MP.realpath,bX=MP.realpathSync,Fgt=process.version,GRe=/^v[0-5]\./.test(Fgt),KRe=VRe();function YRe(r){return r&&r.syscall==="realpath"&&(r.code==="ELOOP"||r.code==="ENOMEM"||r.code==="ENAMETOOLONG")}function NT(r,e,t){if(GRe)return _X(r,e,t);typeof e=="function"&&(t=e,e=null),_X(r,e,function(n,i){YRe(n)?KRe.realpath(r,e,t):t(n,i)})}function wX(r,e){if(GRe)return bX(r,e);try{return bX(r,e)}catch(t){if(YRe(t))return KRe.realpathSync(r,e);throw t}}function qgt(){MP.realpath=NT,MP.realpathSync=wX}function jgt(){MP.realpath=_X,MP.realpathSync=bX}});var QRe=C((IKt,XRe)=>{XRe.exports=function(r,e){for(var t=[],n=0;n<r.length;n++){var i=e(r[n],n);zgt(i)?t.push.apply(t,i):t.push(i)}return t};var zgt=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"}});var CX=C((kKt,rPe)=>{"use strict";rPe.exports=ePe;function ePe(r,e,t){r instanceof RegExp&&(r=ZRe(r,t)),e instanceof RegExp&&(e=ZRe(e,t));var n=tPe(r,e,t);return n&&{start:n[0],end:n[1],pre:t.slice(0,n[0]),body:t.slice(n[0]+r.length,n[1]),post:t.slice(n[1]+e.length)}}function ZRe(r,e){var t=e.match(r);return t?t[0]:null}ePe.range=tPe;function tPe(r,e,t){var n,i,o,s,a,c=t.indexOf(r),u=t.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(n=[],o=t.length;l>=0&&!a;)l==c?(n.push(l),c=t.indexOf(r,l+1)):n.length==1?a=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,s=u),u=t.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}});var lPe=C((AKt,uPe)=>{var Ugt=QRe(),nPe=CX();uPe.exports=Wgt;var iPe="\0SLASH"+Math.random()+"\0",oPe="\0OPEN"+Math.random()+"\0",DX="\0CLOSE"+Math.random()+"\0",sPe="\0COMMA"+Math.random()+"\0",aPe="\0PERIOD"+Math.random()+"\0";function TX(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function Hgt(r){return r.split("\\\\").join(iPe).split("\\{").join(oPe).split("\\}").join(DX).split("\\,").join(sPe).split("\\.").join(aPe)}function Bgt(r){return r.split(iPe).join("\\").split(oPe).join("{").split(DX).join("}").split(sPe).join(",").split(aPe).join(".")}function cPe(r){if(!r)return[""];var e=[],t=nPe("{","}",r);if(!t)return r.split(",");var n=t.pre,i=t.body,o=t.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=cPe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function Wgt(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),FP(Hgt(r),!0).map(Bgt)):[]}function $gt(r){return"{"+r+"}"}function Vgt(r){return/^-?0\d/.test(r)}function Ggt(r,e){return r<=e}function Kgt(r,e){return r>=e}function FP(r,e){var t=[],n=nPe("{","}",r);if(!n||/\$$/.test(n.pre))return[r];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(r=n.pre+"{"+n.body+DX+n.post,FP(r)):[r];var c;if(s)c=n.body.split(/\.\./);else if(c=cPe(n.body),c.length===1&&(c=FP(c[0],!1).map($gt),c.length===1)){var l=n.post.length?FP(n.post,!1):[""];return l.map(function(ae){return n.pre+c[0]+ae})}var u=n.pre,l=n.post.length?FP(n.post,!1):[""],d;if(s){var f=TX(c[0]),p=TX(c[1]),_=Math.max(c[0].length,c[1].length),D=c.length==3?Math.abs(TX(c[2])):1,x=Ggt,N=p<f;N&&(D*=-1,x=Kgt);var A=c.some(Vgt);d=[];for(var U=f;x(U,p);U+=D){var ee;if(o)ee=String.fromCharCode(U),ee==="\\"&&(ee="");else if(ee=String(U),A){var he=_-ee.length;if(he>0){var we=new Array(he+1).join("0");U<0?ee="-"+we+ee.slice(1):ee=we+ee}}d.push(ee)}}else d=Ugt(c,function(De){return FP(De,!1)});for(var V=0;V<d.length;V++)for(var W=0;W<l.length;W++){var te=u+d[V]+l[W];(!e||s||te)&&t.push(te)}return t}});var K0=C((LKt,mPe)=>{mPe.exports=Cg;Cg.Minimatch=uf;var NL=(()=>{try{return require("path")}catch{}})()||{sep:"/"};Cg.sep=NL.sep;var PX=Cg.GLOBSTAR=uf.GLOBSTAR={},Ygt=lPe(),dPe={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},EX="[^/]",RX=EX+"*?",Jgt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Xgt="(?:(?!(?:\\/|^)\\.).)*?",fPe=Qgt("().*{}+?[]^$\\!");function Qgt(r){return r.split("").reduce(function(e,t){return e[t]=!0,e},{})}var hPe=/\/+/;Cg.filter=Zgt;function Zgt(r,e){return e=e||{},function(t,n,i){return Cg(t,r,e)}}function MT(r,e){r=r||{},e=e||{};let t={};return Object.keys(r).forEach(function(n){t[n]=r[n]}),Object.keys(e).forEach(function(n){t[n]=e[n]}),t}Cg.defaults=function(r){if(!r||typeof r!="object"||!Object.keys(r).length)return Cg;let e=Cg,t=function(i,o,s){return e(i,o,MT(r,s))};return t.Minimatch=function(i,o){return new e.Minimatch(i,MT(r,o))},t.Minimatch.defaults=n=>e.defaults(MT(r,n)).Minimatch,t.filter=function(i,o){return e.filter(i,MT(r,o))},t.defaults=function(i){return e.defaults(MT(r,i))},t.makeRe=function(i,o){return e.makeRe(i,MT(r,o))},t.braceExpand=function(i,o){return e.braceExpand(i,MT(r,o))},t.match=function(n,i,o){return e.match(n,i,MT(r,o))},t};uf.defaults=function(r){return Cg.defaults(r).Minimatch};function Cg(r,e,t){return fU(e),t||(t={}),!t.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?r==="":new uf(e,t).match(r)}function uf(r,e){if(!(this instanceof uf))return new uf(r,e);fU(r),e||(e={}),r=r.trim(),NL.sep!=="/"&&(r=r.split(NL.sep).join("/")),this.options=e,this.set=[],this.pattern=r,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}uf.prototype.debug=function(){};uf.prototype.make=evt;function evt(){if(!this._made){var r=this.pattern,e=this.options;if(!e.nocomment&&r.charAt(0)==="#"){this.comment=!0;return}if(!r){this.empty=!0;return}this.parseNegate();var t=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,t),t=this.globParts=t.map(function(n){return n.split(hPe)}),this.debug(this.pattern,t),t=t.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,t),t=t.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,t),this.set=t}}uf.prototype.parseNegate=tvt;function tvt(){var r=this.pattern,e=!1,t=this.options,n=0;if(!t.nonegate){for(var i=0,o=r.length;i<o&&r.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=r.substr(n)),this.negate=e}}Cg.braceExpand=function(r,e){return pPe(r,e)};uf.prototype.braceExpand=pPe;function pPe(r,e){return e||(this instanceof uf?e=this.options:e={}),r=typeof r>"u"?this.pattern:r,fU(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:Ygt(r)}var rvt=1024*64,fU=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>rvt)throw new TypeError("pattern is too long")};uf.prototype.parse=nvt;var dU={};function nvt(r,e){fU(r);var t=this.options;if(!t.noglobstar&&r==="**")return PX;if(r==="")return"";var n="",i=!1,o=!1,s=[],a=[],c,u=!1,l=-1,d=-1,f=r.charAt(0)==="."?"":t.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function _(){if(c){switch(c){case"*":n+=RX,i=!0;break;case"?":n+=EX,i=!0;break;default:n+="\\"+c;break}p.debug("clearStateChar %j %j",c,n),c=!1}}for(var D=0,x=r.length,N;D<x&&(N=r.charAt(D));D++){if(this.debug("%s	%s %s %j",r,D,n,N),o&&fPe[N]){n+="\\"+N,o=!1;continue}switch(N){case"/":return!1;case"\\":_(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",r,D,n,N),u){this.debug("  in class"),N==="!"&&D===d+1&&(N="^"),n+=N;continue}p.debug("call clearStateChar %j",c),_(),c=N,t.noext&&_();continue;case"(":if(u){n+="(";continue}if(!c){n+="\\(";continue}s.push({type:c,start:D-1,reStart:n.length,open:dPe[c].open,close:dPe[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(u||!s.length){n+="\\)";continue}_(),i=!0;var A=s.pop();n+=A.close,A.type==="!"&&a.push(A),A.reEnd=n.length;continue;case"|":if(u||!s.length||o){n+="\\|",o=!1;continue}_(),n+="|";continue;case"[":if(_(),u){n+="\\"+N;continue}u=!0,d=D,l=n.length,n+=N;continue;case"]":if(D===d+1||!u){n+="\\"+N,o=!1;continue}if(u){var U=r.substring(d+1,D);try{RegExp("["+U+"]")}catch{var ee=this.parse(U,dU);n=n.substr(0,l)+"\\["+ee[0]+"\\]",i=i||ee[1],u=!1;continue}}i=!0,u=!1,n+=N;continue;default:_(),o?o=!1:fPe[N]&&!(N==="^"&&u)&&(n+="\\"),n+=N}}for(u&&(U=r.substr(d+1),ee=this.parse(U,dU),n=n.substr(0,l)+"\\["+ee[0],i=i||ee[1]),A=s.pop();A;A=s.pop()){var he=n.slice(A.reStart+A.open.length);this.debug("setting tail",n,A),he=he.replace(/((?:\\{2}){0,64})(\\?)\|/g,function($e,Ct,ze){return ze||(ze="\\"),Ct+Ct+ze+"|"}),this.debug(`tail=%j
   %s`,he,he,A,n);var we=A.type==="*"?RX:A.type==="?"?EX:"\\"+A.type;i=!0,n=n.slice(0,A.reStart)+we+"\\("+he}_(),o&&(n+="\\\\");var V=!1;switch(n.charAt(0)){case".":case"[":case"(":V=!0}for(var W=a.length-1;W>-1;W--){var te=a[W],De=n.slice(0,te.reStart),ae=n.slice(te.reStart,te.reEnd-8),ue=n.slice(te.reEnd-8,te.reEnd),qe=n.slice(te.reEnd);ue+=qe;var Me=De.split("(").length-1,ce=qe;for(D=0;D<Me;D++)ce=ce.replace(/\)[+*?]?/,"");qe=ce;var Ce="";qe===""&&e!==dU&&(Ce="$");var be=De+ae+qe+Ce+ue;n=be}if(n!==""&&i&&(n="(?=.)"+n),V&&(n=f+n),e===dU)return[n,i];if(!i)return svt(r);var xe=t.nocase?"i":"";try{var Ne=new RegExp("^"+n+"$",xe)}catch{return new RegExp("$.")}return Ne._glob=r,Ne._src=n,Ne}Cg.makeRe=function(r,e){return new uf(r,e||{}).makeRe()};uf.prototype.makeRe=ivt;function ivt(){if(this.regexp||this.regexp===!1)return this.regexp;var r=this.set;if(!r.length)return this.regexp=!1,this.regexp;var e=this.options,t=e.noglobstar?RX:e.dot?Jgt:Xgt,n=e.nocase?"i":"",i=r.map(function(o){return o.map(function(s){return s===PX?t:typeof s=="string"?avt(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}Cg.match=function(r,e,t){t=t||{};let n=new uf(e,t);return r=r.filter(function(i){return n.match(i)}),n.options.nonull&&!r.length&&r.push(e),r};uf.prototype.match=ovt;function ovt(r,e){if(this.debug("match",r,this.pattern),this.comment)return!1;if(this.empty)return r==="";if(r==="/"&&e)return!0;var t=this.options;NL.sep!=="/"&&(r=r.split(NL.sep).join("/")),r=r.split(hPe),this.debug(this.pattern,"split",r);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=r.length-1;o>=0&&(i=r[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],a=r;t.matchBase&&s.length===1&&(a=[i]);var c=this.matchOne(a,s,e);if(c)return t.flipNegate?!0:!this.negate}return t.flipNegate?!1:this.negate}uf.prototype.matchOne=function(r,e,t){var n=this.options;this.debug("matchOne",{this:this,file:r,pattern:e}),this.debug("matchOne",r.length,e.length);for(var i=0,o=0,s=r.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var c=e[o],u=r[i];if(this.debug(e,c,u),c===!1)return!1;if(c===PX){this.debug("GLOBSTAR",[e,c,u]);var l=i,d=o+1;if(d===a){for(this.debug("** at the end");i<s;i++)if(r[i]==="."||r[i]===".."||!n.dot&&r[i].charAt(0)===".")return!1;return!0}for(;l<s;){var f=r[l];if(this.debug(`
globstar while`,r,l,e,d,f),this.matchOne(r.slice(l),e.slice(d),t))return this.debug("globstar found match!",l,s,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",r,l,e,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(t&&(this.debug(`
>>> no match, partial?`,r,l,e,d),l===s))}var p;if(typeof c=="string"?(n.nocase?p=u.toLowerCase()===c.toLowerCase():p=u===c,this.debug("string match",c,u,p)):(p=u.match(c),this.debug("pattern match",c,u,p)),!p)return!1}if(i===s&&o===a)return!0;if(i===s)return t;if(o===a)return i===s-1&&r[i]==="";throw new Error("wtf?")};function svt(r){return r.replace(/\\(.)/g,"$1")}function avt(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var gPe=C((NKt,xX)=>{typeof Object.create=="function"?xX.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:xX.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}});var vPe=C((MKt,IX)=>{try{if(OX=require("util"),typeof OX.inherits!="function")throw"";IX.exports=OX.inherits}catch{IX.exports=gPe()}var OX});var pU=C((FKt,hU)=>{"use strict";function yPe(r){return r.charAt(0)==="/"}function _Pe(r){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,t=e.exec(r),n=t[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(t[2]||i)}hU.exports=process.platform==="win32"?_Pe:yPe;hU.exports.posix=yPe;hU.exports.win32=_Pe});var AX=C(FT=>{FT.setopts=hvt;FT.ownProp=bPe;FT.makeAbs=ML;FT.finish=pvt;FT.mark=mvt;FT.isIgnored=SPe;FT.childrenIgnored=gvt;function bPe(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var cvt=require("fs"),qP=require("path"),uvt=K0(),wPe=pU(),kX=uvt.Minimatch;function lvt(r,e){return r.localeCompare(e,"en")}function dvt(r,e){r.ignore=e.ignore||[],Array.isArray(r.ignore)||(r.ignore=[r.ignore]),r.ignore.length&&(r.ignore=r.ignore.map(fvt))}function fvt(r){var e=null;if(r.slice(-3)==="/**"){var t=r.replace(/(\/\*\*)+$/,"");e=new kX(t,{dot:!0})}return{matcher:new kX(r,{dot:!0}),gmatcher:e}}function hvt(r,e,t){if(t||(t={}),t.matchBase&&e.indexOf("/")===-1){if(t.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}r.silent=!!t.silent,r.pattern=e,r.strict=t.strict!==!1,r.realpath=!!t.realpath,r.realpathCache=t.realpathCache||Object.create(null),r.follow=!!t.follow,r.dot=!!t.dot,r.mark=!!t.mark,r.nodir=!!t.nodir,r.nodir&&(r.mark=!0),r.sync=!!t.sync,r.nounique=!!t.nounique,r.nonull=!!t.nonull,r.nosort=!!t.nosort,r.nocase=!!t.nocase,r.stat=!!t.stat,r.noprocess=!!t.noprocess,r.absolute=!!t.absolute,r.fs=t.fs||cvt,r.maxLength=t.maxLength||1/0,r.cache=t.cache||Object.create(null),r.statCache=t.statCache||Object.create(null),r.symlinks=t.symlinks||Object.create(null),dvt(r,t),r.changedCwd=!1;var n=process.cwd();bPe(t,"cwd")?(r.cwd=qP.resolve(t.cwd),r.changedCwd=r.cwd!==n):r.cwd=n,r.root=t.root||qP.resolve(r.cwd,"/"),r.root=qP.resolve(r.root),process.platform==="win32"&&(r.root=r.root.replace(/\\/g,"/")),r.cwdAbs=wPe(r.cwd)?r.cwd:ML(r,r.cwd),process.platform==="win32"&&(r.cwdAbs=r.cwdAbs.replace(/\\/g,"/")),r.nomount=!!t.nomount,t.nonegate=!0,t.nocomment=!0,r.minimatch=new kX(e,t),r.options=r.minimatch.options}function pvt(r){for(var e=r.nounique,t=e?[]:Object.create(null),n=0,i=r.matches.length;n<i;n++){var o=r.matches[n];if(!o||Object.keys(o).length===0){if(r.nonull){var s=r.minimatch.globSet[n];e?t.push(s):t[s]=!0}}else{var a=Object.keys(o);e?t.push.apply(t,a):a.forEach(function(c){t[c]=!0})}}if(e||(t=Object.keys(t)),r.nosort||(t=t.sort(lvt)),r.mark){for(var n=0;n<t.length;n++)t[n]=r._mark(t[n]);r.nodir&&(t=t.filter(function(c){var u=!/\/$/.test(c),l=r.cache[c]||r.cache[ML(r,c)];return u&&l&&(u=l!=="DIR"&&!Array.isArray(l)),u}))}r.ignore.length&&(t=t.filter(function(c){return!SPe(r,c)})),r.found=t}function mvt(r,e){var t=ML(r,e),n=r.cache[t],i=e;if(n){var o=n==="DIR"||Array.isArray(n),s=e.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var a=ML(r,i);r.statCache[a]=r.statCache[t],r.cache[a]=r.cache[t]}}return i}function ML(r,e){var t=e;return e.charAt(0)==="/"?t=qP.join(r.root,e):wPe(e)||e===""?t=e:r.changedCwd?t=qP.resolve(r.cwd,e):t=qP.resolve(e),process.platform==="win32"&&(t=t.replace(/\\/g,"/")),t}function SPe(r,e){return r.ignore.length?r.ignore.some(function(t){return t.matcher.match(e)||!!(t.gmatcher&&t.gmatcher.match(e))}):!1}function gvt(r,e){return r.ignore.length?r.ignore.some(function(t){return!!(t.gmatcher&&t.gmatcher.match(e))}):!1}});var RPe=C((HKt,EPe)=>{EPe.exports=DPe;DPe.GlobSync=Al;var vvt=SX(),CPe=K0(),jKt=CPe.Minimatch,zKt=MX().Glob,UKt=require("util"),LX=require("path"),TPe=require("assert"),mU=pU(),Y0=AX(),yvt=Y0.setopts,NX=Y0.ownProp,_vt=Y0.childrenIgnored,bvt=Y0.isIgnored;function DPe(r,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Al(r,e).found}function Al(r,e){if(!r)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Al))return new Al(r,e);if(yvt(this,r,e),this.noprocess)return this;var t=this.minimatch.set.length;this.matches=new Array(t);for(var n=0;n<t;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Al.prototype._finish=function(){if(TPe(this instanceof Al),this.realpath){var r=this;this.matches.forEach(function(e,t){var n=r.matches[t]=Object.create(null);for(var i in e)try{i=r._makeAbs(i);var o=vvt.realpathSync(i,r.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[r._makeAbs(i)]=!0;else throw s}})}Y0.finish(this)};Al.prototype._process=function(r,e,t){TPe(this instanceof Al);for(var n=0;typeof r[n]=="string";)n++;var i;switch(n){case r.length:this._processSimple(r.join("/"),e);return;case 0:i=null;break;default:i=r.slice(0,n).join("/");break}var o=r.slice(n),s;i===null?s=".":((mU(i)||mU(r.join("/")))&&(!i||!mU(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!_vt(this,s)){var c=o[0]===CPe.GLOBSTAR;c?this._processGlobStar(i,s,a,o,e,t):this._processReaddir(i,s,a,o,e,t)}};Al.prototype._processReaddir=function(r,e,t,n,i,o){var s=this._readdir(t,o);if(s){for(var a=n[0],c=!!this.minimatch.negate,u=a._glob,l=this.dot||u.charAt(0)===".",d=[],f=0;f<s.length;f++){var p=s[f];if(p.charAt(0)!=="."||l){var _;c&&!r?_=!p.match(a):_=p.match(a),_&&d.push(p)}}var D=d.length;if(D!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<D;f++){var p=d[f];r&&(r.slice(-1)!=="/"?p=r+"/"+p:p=r+p),p.charAt(0)==="/"&&!this.nomount&&(p=LX.join(this.root,p)),this._emitMatch(i,p)}return}n.shift();for(var f=0;f<D;f++){var p=d[f],x;r?x=[r,p]:x=[p],this._process(x.concat(n),i,o)}}}};Al.prototype._emitMatch=function(r,e){if(!bvt(this,e)){var t=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=t),!this.matches[r][e]){if(this.nodir){var n=this.cache[t];if(n==="DIR"||Array.isArray(n))return}this.matches[r][e]=!0,this.stat&&this._stat(e)}}};Al.prototype._readdirInGlobStar=function(r){if(this.follow)return this._readdir(r,!1);var e,t,n;try{t=this.fs.lstatSync(r)}catch(o){if(o.code==="ENOENT")return null}var i=t&&t.isSymbolicLink();return this.symlinks[r]=i,!i&&t&&!t.isDirectory()?this.cache[r]="FILE":e=this._readdir(r,!1),e};Al.prototype._readdir=function(r,e){var t;if(e&&!NX(this.symlinks,r))return this._readdirInGlobStar(r);if(NX(this.cache,r)){var n=this.cache[r];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(r,this.fs.readdirSync(r))}catch(i){return this._readdirError(r,i),null}};Al.prototype._readdirEntries=function(r,e){if(!this.mark&&!this.stat)for(var t=0;t<e.length;t++){var n=e[t];r==="/"?n=r+n:n=r+"/"+n,this.cache[n]=!0}return this.cache[r]=e,e};Al.prototype._readdirError=function(r,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var t=this._makeAbs(r);if(this.cache[t]="FILE",t===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:if(this.cache[this._makeAbs(r)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};Al.prototype._processGlobStar=function(r,e,t,n,i,o){var s=this._readdir(t,o);if(s){var a=n.slice(1),c=r?[r]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length,d=this.symlinks[t];if(!(d&&o))for(var f=0;f<l;f++){var p=s[f];if(!(p.charAt(0)==="."&&!this.dot)){var _=c.concat(s[f],a);this._process(_,i,!0);var D=c.concat(s[f],n);this._process(D,i,!0)}}}};Al.prototype._processSimple=function(r,e){var t=this._stat(r);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!t){if(r&&mU(r)&&!this.nomount){var n=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=LX.join(this.root,r):(r=LX.resolve(this.root,r),n&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(e,r)}};Al.prototype._stat=function(r){var e=this._makeAbs(r),t=r.slice(-1)==="/";if(r.length>this.maxLength)return!1;if(!this.stat&&NX(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!t||s==="DIR")return s;if(t&&s==="FILE")return!1}var n,i=this.statCache[e];if(!i){var o;try{o=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=o}else i=o}this.statCache[e]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,t&&s==="FILE"?!1:s};Al.prototype._mark=function(r){return Y0.mark(this,r)};Al.prototype._makeAbs=function(r){return Y0.makeAbs(this,r)}});var FX=C((BKt,xPe)=>{xPe.exports=PPe;function PPe(r,e){if(r&&e)return PPe(r)(e);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(n){t[n]=r[n]}),t;function t(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=r.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var FL=C((WKt,qX)=>{var OPe=FX();qX.exports=OPe(gU);qX.exports.strict=OPe(IPe);gU.proto=gU(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return gU(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return IPe(this)},configurable:!0})});function gU(r){var e=function(){return e.called?e.value:(e.called=!0,e.value=r.apply(this,arguments))};return e.called=!1,e}function IPe(r){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=r.apply(this,arguments)},t=r.name||"Function wrapped with `once`";return e.onceError=t+" shouldn't be called more than once",e.called=!1,e}});var APe=C(($Kt,kPe)=>{var wvt=FX(),qL=Object.create(null),Svt=FL();kPe.exports=wvt(Cvt);function Cvt(r,e){return qL[r]?(qL[r].push(e),null):(qL[r]=[e],Tvt(r))}function Tvt(r){return Svt(function e(){var t=qL[r],n=t.length,i=Dvt(arguments);try{for(var o=0;o<n;o++)t[o].apply(null,i)}finally{t.length>n?(t.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete qL[r]}})}function Dvt(r){for(var e=r.length,t=[],n=0;n<e;n++)t[n]=r[n];return t}});var MX=C((KKt,NPe)=>{NPe.exports=J0;var Evt=SX(),LPe=K0(),VKt=LPe.Minimatch,Rvt=vPe(),Pvt=require("events").EventEmitter,jX=require("path"),zX=require("assert"),jL=pU(),HX=RPe(),X0=AX(),xvt=X0.setopts,UX=X0.ownProp,BX=APe(),GKt=require("util"),Ovt=X0.childrenIgnored,Ivt=X0.isIgnored,kvt=FL();function J0(r,e,t){if(typeof e=="function"&&(t=e,e={}),e||(e={}),e.sync){if(t)throw new TypeError("callback provided to sync glob");return HX(r,e)}return new Is(r,e,t)}J0.sync=HX;var Avt=J0.GlobSync=HX.GlobSync;J0.glob=J0;function Lvt(r,e){if(e===null||typeof e!="object")return r;for(var t=Object.keys(e),n=t.length;n--;)r[t[n]]=e[t[n]];return r}J0.hasMagic=function(r,e){var t=Lvt({},e);t.noprocess=!0;var n=new Is(r,t),i=n.minimatch.set;if(!r)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};J0.Glob=Is;Rvt(Is,Pvt);function Is(r,e,t){if(typeof e=="function"&&(t=e,e=null),e&&e.sync){if(t)throw new TypeError("callback provided to sync glob");return new Avt(r,e)}if(!(this instanceof Is))return new Is(r,e,t);xvt(this,r,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof t=="function"&&(t=kvt(t),this.on("error",t),this.on("end",function(c){t(null,c)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}Is.prototype._finish=function(){if(zX(this instanceof Is),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();X0.finish(this),this.emit("end",this.found)}};Is.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var r=this.matches.length;if(r===0)return this._finish();for(var e=this,t=0;t<this.matches.length;t++)this._realpathSet(t,n);function n(){--r===0&&e._finish()}};Is.prototype._realpathSet=function(r,e){var t=this.matches[r];if(!t)return e();var n=Object.keys(t),i=this,o=n.length;if(o===0)return e();var s=this.matches[r]=Object.create(null);n.forEach(function(a,c){a=i._makeAbs(a),Evt.realpath(a,i.realpathCache,function(u,l){u?u.syscall==="stat"?s[a]=!0:i.emit("error",u):s[l]=!0,--o===0&&(i.matches[r]=s,e())})})};Is.prototype._mark=function(r){return X0.mark(this,r)};Is.prototype._makeAbs=function(r){return X0.makeAbs(this,r)};Is.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Is.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Is.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var r=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<r.length;e++){var t=r[e];this._emitMatch(t[0],t[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};Is.prototype._process=function(r,e,t,n){if(zX(this instanceof Is),zX(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([r,e,t,n]);return}for(var i=0;typeof r[i]=="string";)i++;var o;switch(i){case r.length:this._processSimple(r.join("/"),e,n);return;case 0:o=null;break;default:o=r.slice(0,i).join("/");break}var s=r.slice(i),a;o===null?a=".":((jL(o)||jL(r.join("/")))&&(!o||!jL(o))&&(o="/"+o),a=o);var c=this._makeAbs(a);if(Ovt(this,a))return n();var u=s[0]===LPe.GLOBSTAR;u?this._processGlobStar(o,a,c,s,e,t,n):this._processReaddir(o,a,c,s,e,t,n)}};Is.prototype._processReaddir=function(r,e,t,n,i,o,s){var a=this;this._readdir(t,o,function(c,u){return a._processReaddir2(r,e,t,n,i,o,u,s)})};Is.prototype._processReaddir2=function(r,e,t,n,i,o,s,a){if(!s)return a();for(var c=n[0],u=!!this.minimatch.negate,l=c._glob,d=this.dot||l.charAt(0)===".",f=[],p=0;p<s.length;p++){var _=s[p];if(_.charAt(0)!=="."||d){var D;u&&!r?D=!_.match(c):D=_.match(c),D&&f.push(_)}}var x=f.length;if(x===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<x;p++){var _=f[p];r&&(r!=="/"?_=r+"/"+_:_=r+_),_.charAt(0)==="/"&&!this.nomount&&(_=jX.join(this.root,_)),this._emitMatch(i,_)}return a()}n.shift();for(var p=0;p<x;p++){var _=f[p],N;r&&(r!=="/"?_=r+"/"+_:_=r+_),this._process([_].concat(n),i,o,a)}a()};Is.prototype._emitMatch=function(r,e){if(!this.aborted&&!Ivt(this,e)){if(this.paused){this._emitQueue.push([r,e]);return}var t=jL(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=t),!this.matches[r][e]){if(this.nodir){var n=this.cache[t];if(n==="DIR"||Array.isArray(n))return}this.matches[r][e]=!0;var i=this.statCache[t];i&&this.emit("stat",e,i),this.emit("match",e)}}};Is.prototype._readdirInGlobStar=function(r,e){if(this.aborted)return;if(this.follow)return this._readdir(r,!1,e);var t="lstat\0"+r,n=this,i=BX(t,o);i&&n.fs.lstat(r,i);function o(s,a){if(s&&s.code==="ENOENT")return e();var c=a&&a.isSymbolicLink();n.symlinks[r]=c,!c&&a&&!a.isDirectory()?(n.cache[r]="FILE",e()):n._readdir(r,!1,e)}};Is.prototype._readdir=function(r,e,t){if(!this.aborted&&(t=BX("readdir\0"+r+"\0"+e,t),!!t)){if(e&&!UX(this.symlinks,r))return this._readdirInGlobStar(r,t);if(UX(this.cache,r)){var n=this.cache[r];if(!n||n==="FILE")return t();if(Array.isArray(n))return t(null,n)}var i=this;i.fs.readdir(r,Nvt(this,r,t))}};function Nvt(r,e,t){return function(n,i){n?r._readdirError(e,n,t):r._readdirEntries(e,i,t)}}Is.prototype._readdirEntries=function(r,e,t){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];r==="/"?i=r+i:i=r+"/"+i,this.cache[i]=!0}return this.cache[r]=e,t(null,e)}};Is.prototype._readdirError=function(r,e,t){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(r);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:this.cache[this._makeAbs(r)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return t()}};Is.prototype._processGlobStar=function(r,e,t,n,i,o,s){var a=this;this._readdir(t,o,function(c,u){a._processGlobStar2(r,e,t,n,i,o,u,s)})};Is.prototype._processGlobStar2=function(r,e,t,n,i,o,s,a){if(!s)return a();var c=n.slice(1),u=r?[r]:[],l=u.concat(c);this._process(l,i,!1,a);var d=this.symlinks[t],f=s.length;if(d&&o)return a();for(var p=0;p<f;p++){var _=s[p];if(!(_.charAt(0)==="."&&!this.dot)){var D=u.concat(s[p],c);this._process(D,i,!0,a);var x=u.concat(s[p],n);this._process(x,i,!0,a)}}a()};Is.prototype._processSimple=function(r,e,t){var n=this;this._stat(r,function(i,o){n._processSimple2(r,e,i,o,t)})};Is.prototype._processSimple2=function(r,e,t,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(r&&jL(r)&&!this.nomount){var o=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=jX.join(this.root,r):(r=jX.resolve(this.root,r),o&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(e,r),i()};Is.prototype._stat=function(r,e){var t=this._makeAbs(r),n=r.slice(-1)==="/";if(r.length>this.maxLength)return e();if(!this.stat&&UX(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var o,s=this.statCache[t];if(s!==void 0){if(s===!1)return e(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,s)}var c=this,u=BX("stat\0"+t,l);u&&c.fs.lstat(t,u);function l(d,f){if(f&&f.isSymbolicLink())return c.fs.stat(t,function(p,_){p?c._stat2(r,t,null,f,e):c._stat2(r,t,p,_,e)});c._stat2(r,t,d,f,e)}};Is.prototype._stat2=function(r,e,t,n,i){if(t&&(t.code==="ENOENT"||t.code==="ENOTDIR"))return this.statCache[e]=!1,i();var o=r.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&s==="FILE"?i():i(null,s,n)}});var WPe=C((YKt,BPe)=>{BPe.exports=VX;VX.sync=HPe;var gs=require("assert"),jPe=require("path"),MPe=require("fs"),_U=MX(),zPe=parseInt("666",8),Mvt={nosort:!0,silent:!0},WX=0,zL=process.platform==="win32";function UPe(r){var e=["unlink","chmod","stat","lstat","rmdir","readdir"];e.forEach(function(t){r[t]=r[t]||MPe[t],t=t+"Sync",r[t]=r[t]||MPe[t]}),r.maxBusyTries=r.maxBusyTries||3,r.emfileWait=r.emfileWait||1e3,r.glob===!1&&(r.disableGlob=!0),r.disableGlob=r.disableGlob||!1,r.glob=r.glob||Mvt}function VX(r,e,t){typeof e=="function"&&(t=e,e={}),gs(r,"rimraf: missing path"),gs.equal(typeof r,"string","rimraf: path should be a string"),gs.equal(typeof t,"function","rimraf: callback function required"),gs(e,"rimraf: invalid options argument provided"),gs.equal(typeof e,"object","rimraf: options should be object"),UPe(e);var n=0,i=null,o=0;if(e.disableGlob||!_U.hasMagic(r))return a(null,[r]);e.lstat(r,function(c,u){if(!c)return a(null,[r]);_U(r,e.glob,a)});function s(c){i=i||c,--o===0&&t(i)}function a(c,u){if(c)return t(c);if(o=u.length,o===0)return t();u.forEach(function(l){$X(l,e,function d(f){if(f){if((f.code==="EBUSY"||f.code==="ENOTEMPTY"||f.code==="EPERM")&&n<e.maxBusyTries){n++;var p=n*100;return setTimeout(function(){$X(l,e,d)},p)}if(f.code==="EMFILE"&&WX<e.emfileWait)return setTimeout(function(){$X(l,e,d)},WX++);f.code==="ENOENT"&&(f=null)}WX=0,s(f)})})}}function $X(r,e,t){gs(r),gs(e),gs(typeof t=="function"),e.lstat(r,function(n,i){if(n&&n.code==="ENOENT")return t(null);if(n&&n.code==="EPERM"&&zL&&FPe(r,e,n,t),i&&i.isDirectory())return vU(r,e,n,t);e.unlink(r,function(o){if(o){if(o.code==="ENOENT")return t(null);if(o.code==="EPERM")return zL?FPe(r,e,o,t):vU(r,e,o,t);if(o.code==="EISDIR")return vU(r,e,o,t)}return t(o)})})}function FPe(r,e,t,n){gs(r),gs(e),gs(typeof n=="function"),t&&gs(t instanceof Error),e.chmod(r,zPe,function(i){i?n(i.code==="ENOENT"?null:t):e.stat(r,function(o,s){o?n(o.code==="ENOENT"?null:t):s.isDirectory()?vU(r,e,t,n):e.unlink(r,n)})})}function qPe(r,e,t){gs(r),gs(e),t&&gs(t instanceof Error);try{e.chmodSync(r,zPe)}catch(i){if(i.code==="ENOENT")return;throw t}try{var n=e.statSync(r)}catch(i){if(i.code==="ENOENT")return;throw t}n.isDirectory()?yU(r,e,t):e.unlinkSync(r)}function vU(r,e,t,n){gs(r),gs(e),t&&gs(t instanceof Error),gs(typeof n=="function"),e.rmdir(r,function(i){i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Fvt(r,e,n):i&&i.code==="ENOTDIR"?n(t):n(i)})}function Fvt(r,e,t){gs(r),gs(e),gs(typeof t=="function"),e.readdir(r,function(n,i){if(n)return t(n);var o=i.length;if(o===0)return e.rmdir(r,t);var s;i.forEach(function(a){VX(jPe.join(r,a),e,function(c){if(!s){if(c)return t(s=c);--o===0&&e.rmdir(r,t)}})})})}function HPe(r,e){e=e||{},UPe(e),gs(r,"rimraf: missing path"),gs.equal(typeof r,"string","rimraf: path should be a string"),gs(e,"rimraf: missing options"),gs.equal(typeof e,"object","rimraf: options should be object");var t;if(e.disableGlob||!_U.hasMagic(r))t=[r];else try{e.lstatSync(r),t=[r]}catch{t=_U.sync(r,e.glob)}if(t.length)for(var n=0;n<t.length;n++){var r=t[n];try{var i=e.lstatSync(r)}catch(s){if(s.code==="ENOENT")return;s.code==="EPERM"&&zL&&qPe(r,e,s)}try{i&&i.isDirectory()?yU(r,e,null):e.unlinkSync(r)}catch(s){if(s.code==="ENOENT")return;if(s.code==="EPERM")return zL?qPe(r,e,s):yU(r,e,s);if(s.code!=="EISDIR")throw s;yU(r,e,s)}}}function yU(r,e,t){gs(r),gs(e),t&&gs(t instanceof Error);try{e.rmdirSync(r)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw t;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&qvt(r,e)}}function qvt(r,e){gs(r),gs(e),e.readdirSync(r).forEach(function(s){HPe(jPe.join(r,s),e)});var t=zL?100:1,n=0;do{var i=!0;try{var o=e.rmdirSync(r,e);return i=!1,o}finally{if(++n<t&&i)continue}}while(!0)}});var KPe=C(Ei=>{"use strict";var mo=require("fs"),$Pe=require("path"),jvt=WPe(),jP=require("fs");Ei.createReadStream=jP.createReadStream;Ei.createWriteStream=jP.createWriteStream;Ei.watch=jP.watch;Ei.watchFile=jP.watchFile;Ei.unwatchFile=jP.unwatchFile;Ei.constants=jP.constants;function zvt(r,e){return ko(mo.access,arguments)}Ei.access=zvt;function Uvt(r,e,t){return ko(mo.appendFile,arguments)}Ei.appendFile=Uvt;function Hvt(r,e){return ko(mo.chmod,arguments)}Ei.chmod=Hvt;function Bvt(r,e,t){return ko(mo.chown,arguments)}Ei.chown=Bvt;function Wvt(r){return ko(mo.close,arguments)}Ei.close=Wvt;function $vt(r,e){return ko(mo.fchmod,arguments)}Ei.fchmod=$vt;function Vvt(r,e,t){return ko(mo.fchown,arguments)}Ei.fchown=Vvt;function Gvt(r){return ko(mo.fstat,arguments)}Ei.fstat=Gvt;function Kvt(r,e){return ko(mo.ftruncate,arguments)}Ei.ftruncate=Kvt;function Yvt(r,e,t){return ko(mo.futimes,arguments)}Ei.futimes=Yvt;function Jvt(r){return ko(mo.fsync,arguments)}Ei.fsync=Jvt;function Xvt(r,e){return ko(mo.lchmod,arguments)}Ei.lchmod=Xvt;function Qvt(r,e,t){return ko(mo.lchown,arguments)}Ei.lchown=Qvt;function Zvt(r,e){return ko(mo.link,arguments)}Ei.link=Zvt;function eyt(r){return ko(mo.lstat,arguments)}Ei.lstat=eyt;function tyt(r,e){return ko(mo.mkdir,arguments)}Ei.mkdir=tyt;function ryt(r){return ko(mo.mkdtemp,arguments)}Ei.mkdtemp=ryt;function nyt(r,e,t){return ko(mo.open,arguments)}Ei.open=nyt;function iyt(r,e,t,n,i){return ko(mo.read,arguments,null,function(){return{bytesRead:arguments[1],buffer:arguments[2]}})}Ei.read=iyt;function oyt(r){return ko(mo.readdir,arguments)}Ei.readdir=oyt;function syt(r,e){return ko(mo.readFile,arguments)}Ei.readFile=syt;function ayt(r){return ko(mo.readlink,arguments)}Ei.readlink=ayt;function cyt(r,e){return ko(mo.realpath,arguments)}Ei.realpath=cyt;function uyt(r,e){return ko(mo.rename,arguments)}Ei.rename=uyt;function lyt(r){return ko(mo.rmdir,arguments)}Ei.rmdir=lyt;function dyt(r){return ko(mo.stat,arguments)}Ei.stat=dyt;function fyt(r,e,t){return ko(mo.symlink,arguments)}Ei.symlink=fyt;function hyt(r,e){return ko(mo.truncate,arguments)}Ei.truncate=hyt;function pyt(r){return ko(mo.unlink,arguments)}Ei.unlink=pyt;function myt(r,e,t){return ko(mo.utimes,arguments)}Ei.utimes=myt;function gyt(r){return ko(mo.write,arguments,null,function(){return{written:arguments[1],buffer:arguments[2]}})}Ei.write=gyt;function vyt(r,e,t){return ko(mo.writeFile,arguments)}Ei.writeFile=vyt;function yyt(r,e,t){return e===void 0&&(e="utf8"),t==null&&(t="r"),ko(mo.readFile,[r,{encoding:e,flags:t}])}Ei.readTextFile=yyt;function _yt(r,e,t,n,i){t===void 0&&(t="utf8"),n==null&&(n="w");var o={encoding:t,flags:n,mode:i};return n[0]==="a"?ko(mo.appendFile,[r,e,o]):ko(mo.writeFile,[r,e,o])}Ei.writeTextFile=_yt;function VPe(r,e){return new Promise((t,n)=>GX(r,e,i=>i?n(i):t()))}Ei.createDirectory=VPe;Ei.mkdirp=VPe;function GPe(r){return new Promise((e,t)=>jvt(r,n=>n?t(n):e()))}Ei.delete=GPe;Ei.rimraf=GPe;function byt(r){return new Promise((e,t)=>mo.lstat(r,n=>n?n.code==="ENOENT"?e(!1):t(n):e(!0)))}Ei.exists=byt;function GX(r,e,t){r=$Pe.resolve(r),mo.mkdir(r,e,n=>{n?n.code==="ENOENT"?GX($Pe.dirname(r),e,i=>i?t(i):GX(r,e,t)):mo.stat(r,(i,o)=>i?t(i):o.isDirectory()?t(null):t(new Error(r+" is already a file"))):t(null)})}function ko(r,e,t,n){return new Promise((i,o)=>{r.apply(t,Array.prototype.slice.call(e).concat([(s,a)=>{s?o(s):n?n.apply(t,arguments):i(a)}]))})}});var QPe=C((XKt,XPe)=>{XPe.exports=bU;function bU(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}bU.prototype.go=function(r){this.pending<this.max?JPe(this,r):this.waiting.push(r)};bU.prototype.wait=function(r){this.pending===0?r(this.error):this.listeners.push(r)};bU.prototype.hold=function(){return YPe(this)};function YPe(r){r.pending+=1;var e=!1;return t;function t(i){if(e)throw new Error("callback called twice");if(e=!0,r.error=r.error||i,r.pending-=1,r.waiting.length>0&&r.pending<r.max)JPe(r,r.waiting.shift());else if(r.pending===0){var o=r.listeners;r.listeners=[],o.forEach(n)}}function n(i){i(r.error)}}function JPe(r,e){e(YPe(r))}});var exe=C(HL=>{var UL=require("fs"),wU=require("util"),KX=require("stream"),ZPe=KX.Readable,YX=KX.Writable,wyt=KX.PassThrough,Syt=QPe(),SU=require("events").EventEmitter;HL.createFromBuffer=Cyt;HL.createFromFd=Tyt;HL.BufferSlicer=mS;HL.FdSlicer=pS;wU.inherits(pS,SU);function pS(r,e){e=e||{},SU.call(this),this.fd=r,this.pend=new Syt,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}pS.prototype.read=function(r,e,t,n,i){var o=this;o.pend.go(function(s){UL.read(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};pS.prototype.write=function(r,e,t,n,i){var o=this;o.pend.go(function(s){UL.write(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};pS.prototype.createReadStream=function(r){return new CU(this,r)};pS.prototype.createWriteStream=function(r){return new TU(this,r)};pS.prototype.ref=function(){this.refCount+=1};pS.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.autoClose&&UL.close(r.fd,e);function e(t){t?r.emit("error",t):r.emit("close")}};wU.inherits(CU,ZPe);function CU(r,e){e=e||{},ZPe.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}CU.prototype._read=function(r){var e=this;if(!e.destroyed){var t=Math.min(e._readableState.highWaterMark,r);if(e.endOffset!=null&&(t=Math.min(t,e.endOffset-e.pos)),t<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=new Buffer(t);UL.read(e.context.fd,i,0,t,e.pos,function(o,s){o?e.destroy(o):s===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=s,e.push(i.slice(0,s))),n()})})}};CU.prototype.destroy=function(r){this.destroyed||(r=r||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",r),this.context.unref())};wU.inherits(TU,YX);function TU(r,e){e=e||{},YX.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}TU.prototype._write=function(r,e,t){var n=this;if(!n.destroyed){if(n.pos+r.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),t(i);return}n.context.pend.go(function(o){if(n.destroyed)return o();UL.write(n.context.fd,r,0,r.length,n.pos,function(s,a){s?(n.destroy(),o(),t(s)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),o(),t())})})}};TU.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};wU.inherits(mS,SU);function mS(r,e){SU.call(this),e=e||{},this.refCount=0,this.buffer=r,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}mS.prototype.read=function(r,e,t,n,i){var o=n+t,s=o-this.buffer.length,a=s>0?s:t;this.buffer.copy(r,e,n,o),setImmediate(function(){i(null,a)})};mS.prototype.write=function(r,e,t,n,i){r.copy(this.buffer,n,e,e+t),setImmediate(function(){i(null,t,r)})};mS.prototype.createReadStream=function(r){r=r||{};var e=new wyt(r);e.destroyed=!1,e.start=r.start||0,e.endOffset=r.end,e.pos=e.endOffset||this.buffer.length;for(var t=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=t.length){n<t.length&&e.write(t.slice(n,t.length));break}e.write(t.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};mS.prototype.createWriteStream=function(r){var e=this;r=r||{};var t=new YX(r);return t.start=r.start||0,t.endOffset=r.end==null?this.buffer.length:+r.end,t.bytesWritten=0,t.pos=t.start,t.destroyed=!1,t._write=function(n,i,o){if(!t.destroyed){var s=t.pos+n.length;if(s>t.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",t.destroyed=!0,o(a);return}n.copy(e.buffer,t.pos,0,n.length),t.bytesWritten+=n.length,t.pos=s,t.emit("progress"),o()}},t.destroy=function(){t.destroyed=!0},t};mS.prototype.ref=function(){this.refCount+=1};mS.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Cyt(r,e){return new mS(r,e)}function Tyt(r,e){return new pS(r,e)}});var nxe=C((ZKt,rxe)=>{var qT=require("buffer").Buffer,JX=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(JX=new Int32Array(JX));function txe(r){if(qT.isBuffer(r))return r;var e=typeof qT.alloc=="function"&&typeof qT.from=="function";if(typeof r=="number")return e?qT.alloc(r):new qT(r);if(typeof r=="string")return e?qT.from(r):new qT(r);throw new Error("input must be buffer, number, or string, received "+typeof r)}function Dyt(r){var e=txe(4);return e.writeInt32BE(r,0),e}function XX(r,e){r=txe(r),qT.isBuffer(e)&&(e=e.readUInt32BE(0));for(var t=~~e^-1,n=0;n<r.length;n++)t=JX[(t^r[n])&255]^t>>>8;return t^-1}function QX(){return Dyt(XX.apply(null,arguments))}QX.signed=function(){return XX.apply(null,arguments)};QX.unsigned=function(){return XX.apply(null,arguments)>>>0};rxe.exports=QX});var lxe=C(_b=>{var ZX=require("fs"),Eyt=require("zlib"),ixe=exe(),Ryt=nxe(),RU=require("util"),PU=require("events").EventEmitter,oxe=require("stream").Transform,eQ=require("stream").PassThrough,Pyt=require("stream").Writable;_b.open=xyt;_b.fromFd=sxe;_b.fromBuffer=Oyt;_b.fromRandomAccessReader=tQ;_b.dosDateTimeToDate=cxe;_b.validateFileName=uxe;_b.ZipFile=jT;_b.Entry=BL;_b.RandomAccessReader=zT;function xyt(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=EU),ZX.open(r,"r",function(n,i){if(n)return t(n);sxe(i,e,function(o,s){o&&ZX.close(i,EU),t(o,s)})})}function sxe(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=EU),ZX.fstat(r,function(n,i){if(n)return t(n);var o=ixe.createFromFd(r,{autoClose:!0});tQ(o,i.size,e,t)})}function Oyt(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=ixe.createFromBuffer(r,{maxChunkSize:65536});tQ(n,r.length,e,t)}function tQ(r,e,t,n){typeof t=="function"&&(n=t,t=null),t==null&&(t={}),t.autoClose==null&&(t.autoClose=!0),t.lazyEntries==null&&(t.lazyEntries=!1),t.decodeStrings==null&&(t.decodeStrings=!0);var i=!!t.decodeStrings;if(t.validateEntrySizes==null&&(t.validateEntrySizes=!0),t.strictFileNames==null&&(t.strictFileNames=!1),n==null&&(n=EU),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");r.ref();var o=22,s=65535,a=Math.min(o+s,e),c=yb(a),u=e-c.length;zP(r,c,0,a,u,function(l){if(l)return n(l);for(var d=a-o;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var f=c.slice(d),p=f.readUInt16LE(4);if(p!==0)return n(new Error("multi-disk zip files are not supported: found disk number: "+p));var _=f.readUInt16LE(10),D=f.readUInt32LE(16),x=f.readUInt16LE(20),N=f.length-o;if(x!==N)return n(new Error("invalid comment length. expected: "+N+". found: "+x));var A=i?DU(f,22,f.length,!1):f.slice(22);if(!(_===65535||D===4294967295))return n(null,new jT(r,D,e,_,A,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames));var U=yb(20),ee=u+d-U.length;zP(r,U,0,U.length,ee,function(he){if(he)return n(he);if(U.readUInt32LE(0)!==117853008)return n(new Error("invalid zip64 end of central directory locator signature"));var we=UP(U,8),V=yb(56);zP(r,V,0,V.length,we,function(W){return W?n(W):V.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(_=UP(V,32),D=UP(V,48),n(null,new jT(r,D,e,_,A,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames)))})});return}n(new Error("end of central directory record signature not found"))})}RU.inherits(jT,PU);function jT(r,e,t,n,i,o,s,a,c,u){var l=this;PU.call(l),l.reader=r,l.reader.on("error",function(d){axe(l,d)}),l.reader.once("close",function(){l.emit("close")}),l.readEntryCursor=e,l.fileSize=t,l.entryCount=n,l.comment=i,l.entriesRead=0,l.autoClose=!!o,l.lazyEntries=!!s,l.decodeStrings=!!a,l.validateEntrySizes=!!c,l.strictFileNames=!!u,l.isOpen=!0,l.emittedError=!1,l.lazyEntries||l._readEntry()}jT.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function Yy(r,e){r.autoClose&&r.close(),axe(r,e)}function axe(r,e){r.emittedError||(r.emittedError=!0,r.emit("error",e))}jT.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};jT.prototype._readEntry=function(){var r=this;if(r.entryCount===r.entriesRead){setImmediate(function(){r.autoClose&&r.close(),!r.emittedError&&r.emit("end")});return}if(!r.emittedError){var e=yb(46);zP(r.reader,e,0,e.length,r.readEntryCursor,function(t){if(t)return Yy(r,t);if(!r.emittedError){var n=new BL,i=e.readUInt32LE(0);if(i!==33639248)return Yy(r,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return Yy(r,new Error("strong encryption is not supported"));r.readEntryCursor+=46,e=yb(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),zP(r.reader,e,0,e.length,r.readEntryCursor,function(o){if(o)return Yy(r,o);if(!r.emittedError){var s=(n.generalPurposeBitFlag&2048)!==0;n.fileName=r.decodeStrings?DU(e,0,n.fileNameLength,s):e.slice(0,n.fileNameLength);var a=n.fileNameLength+n.extraFieldLength,c=e.slice(n.fileNameLength,a);n.extraFields=[];for(var u=0;u<c.length-3;){var l=c.readUInt16LE(u+0),d=c.readUInt16LE(u+2),f=u+4,p=f+d;if(p>c.length)return Yy(r,new Error("extra field length exceeds extra field buffer size"));var _=yb(d);c.copy(_,0,f,p),n.extraFields.push({id:l,data:_}),u=p}if(n.fileComment=r.decodeStrings?DU(e,a,a+n.fileCommentLength,s):e.slice(a,a+n.fileCommentLength),n.comment=n.fileComment,r.readEntryCursor+=e.length,r.entriesRead+=1,n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){for(var D=null,u=0;u<n.extraFields.length;u++){var x=n.extraFields[u];if(x.id===1){D=x.data;break}}if(D==null)return Yy(r,new Error("expected zip64 extended information extra field"));var N=0;if(n.uncompressedSize===4294967295){if(N+8>D.length)return Yy(r,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=UP(D,N),N+=8}if(n.compressedSize===4294967295){if(N+8>D.length)return Yy(r,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=UP(D,N),N+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(N+8>D.length)return Yy(r,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=UP(D,N),N+=8}}if(r.decodeStrings)for(var u=0;u<n.extraFields.length;u++){var x=n.extraFields[u];if(x.id===28789){if(x.data.length<6||x.data.readUInt8(0)!==1)continue;var A=x.data.readUInt32LE(1);if(Ryt.unsigned(e.slice(0,n.fileNameLength))!==A)continue;n.fileName=DU(x.data,5,x.data.length,!0);break}}if(r.validateEntrySizes&&n.compressionMethod===0){var U=n.uncompressedSize;if(n.isEncrypted()&&(U+=12),n.compressedSize!==U){var ee="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return Yy(r,new Error(ee))}}if(r.decodeStrings){r.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var he=uxe(n.fileName,r.validateFileNameOptions);if(he!=null)return Yy(r,new Error(he))}r.emit("entry",n),r.lazyEntries||r._readEntry()}})}})}};jT.prototype.openReadStream=function(r,e,t){var n=this,i=0,o=r.compressedSize;if(t==null)t=e,e={};else{if(e.decrypt!=null){if(!r.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(r.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!r.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(r.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(r.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>r.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(o=e.end,o<0)throw new Error("options.end < 0");if(o>r.compressedSize)throw new Error("options.end > entry.compressedSize");if(o<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return t(new Error("closed"));if(r.isEncrypted()&&e.decrypt!==!1)return t(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var s=yb(30);zP(n.reader,s,0,s.length,r.relativeOffsetOfLocalHeader,function(a){try{if(a)return t(a);var c=s.readUInt32LE(0);if(c!==67324752)return t(new Error("invalid local file header signature: 0x"+c.toString(16)));var u=s.readUInt16LE(26),l=s.readUInt16LE(28),d=r.relativeOffsetOfLocalHeader+s.length+u+l,f;if(r.compressionMethod===0)f=!1;else if(r.compressionMethod===8)f=e.decompress!=null?e.decompress:!0;else return t(new Error("unsupported compression method: "+r.compressionMethod));var p=d,_=p+r.compressedSize;if(r.compressedSize!==0&&_>n.fileSize)return t(new Error("file data overflows file bounds: "+p+" + "+r.compressedSize+" > "+n.fileSize));var D=n.reader.createReadStream({start:p+i,end:p+o}),x=D;if(f){var N=!1,A=Eyt.createInflateRaw();D.on("error",function(U){setImmediate(function(){N||A.emit("error",U)})}),D.pipe(A),n.validateEntrySizes?(x=new WL(r.uncompressedSize),A.on("error",function(U){setImmediate(function(){N||x.emit("error",U)})}),A.pipe(x)):x=A,x.destroy=function(){N=!0,A!==x&&A.unpipe(x),D.unpipe(A),D.destroy()}}t(null,x)}finally{n.reader.unref()}})};function BL(){}BL.prototype.getLastModDate=function(){return cxe(this.lastModFileDate,this.lastModFileTime)};BL.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};BL.prototype.isCompressed=function(){return this.compressionMethod===8};function cxe(r,e){var t=r&31,n=(r>>5&15)-1,i=(r>>9&127)+1980,o=0,s=(e&31)*2,a=e>>5&63,c=e>>11&31;return new Date(i,n,t,c,a,s,o)}function uxe(r){return r.indexOf("\\")!==-1?"invalid characters in fileName: "+r:/^[a-zA-Z]:/.test(r)||/^\//.test(r)?"absolute path: "+r:r.split("/").indexOf("..")!==-1?"invalid relative path: "+r:null}function zP(r,e,t,n,i,o){if(n===0)return setImmediate(function(){o(null,yb(0))});r.read(e,t,n,i,function(s,a){if(s)return o(s);if(a<n)return o(new Error("unexpected EOF"));o()})}RU.inherits(WL,oxe);function WL(r){oxe.call(this),this.actualByteCount=0,this.expectedByteCount=r}WL.prototype._transform=function(r,e,t){if(this.actualByteCount+=r.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return t(new Error(n))}t(null,r)};WL.prototype._flush=function(r){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return r(new Error(e))}r()};RU.inherits(zT,PU);function zT(){PU.call(this),this.refCount=0}zT.prototype.ref=function(){this.refCount+=1};zT.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.close(e);function e(t){if(t)return r.emit("error",t);r.emit("close")}};zT.prototype.createReadStream=function(r){var e=r.start,t=r.end;if(e===t){var n=new eQ;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,t),o=!1,s=new xU(this);i.on("error",function(c){setImmediate(function(){o||s.emit("error",c)})}),s.destroy=function(){i.unpipe(s),s.unref(),i.destroy()};var a=new WL(t-e);return s.on("error",function(c){setImmediate(function(){o||a.emit("error",c)})}),a.destroy=function(){o=!0,s.unpipe(a),s.destroy()},i.pipe(s).pipe(a)};zT.prototype._readStreamForRange=function(r,e){throw new Error("not implemented")};zT.prototype.read=function(r,e,t,n,i){var o=this.createReadStream({start:n,end:n+t}),s=new Pyt,a=0;s._write=function(c,u,l){c.copy(r,e+a,0,c.length),a+=c.length,l()},s.on("finish",i),o.on("error",function(c){i(c)}),o.pipe(s)};zT.prototype.close=function(r){setImmediate(r)};RU.inherits(xU,eQ);function xU(r){eQ.call(this),this.context=r,this.context.ref(),this.unreffedYet=!1}xU.prototype._flush=function(r){this.unref(),r()};xU.prototype.unref=function(r){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var Iyt="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function DU(r,e,t,n){if(n)return r.toString("utf8",e,t);for(var i="",o=e;o<t;o++)i+=Iyt[r[o]];return i}function UP(r,e){var t=r.readUInt32LE(e),n=r.readUInt32LE(e+4);return n*4294967296+t}var yb;typeof Buffer.allocUnsafe=="function"?yb=function(r){return Buffer.allocUnsafe(r)}:yb=function(r){return new Buffer(r)};function EU(r){if(r)throw r}});var COe=C((cYt,SOe)=>{"use strict";SOe.exports=function(r){try{return r()}catch{}}});var POe=C((uYt,ROe)=>{ROe.exports=EOe;EOe.sync=Gyt;var TOe=require("fs");function Vyt(r,e){var t=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i&&r.substr(-i.length).toLowerCase()===i)return!0}return!1}function DOe(r,e,t){return!r.isSymbolicLink()&&!r.isFile()?!1:Vyt(e,t)}function EOe(r,e,t){TOe.stat(r,function(n,i){t(n,n?!1:DOe(i,r,e))})}function Gyt(r,e){return DOe(TOe.statSync(r),r,e)}});var AOe=C((lYt,kOe)=>{kOe.exports=OOe;OOe.sync=Kyt;var xOe=require("fs");function OOe(r,e,t){xOe.stat(r,function(n,i){t(n,n?!1:IOe(i,e))})}function Kyt(r,e){return IOe(xOe.statSync(r),e)}function IOe(r,e){return r.isFile()&&Yyt(r,e)}function Yyt(r,e){var t=r.mode,n=r.uid,i=r.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c,d=t&u||t&c&&i===s||t&a&&n===o||t&l&&o===0;return d}});var fQ=C((fYt,LOe)=>{var dYt=require("fs"),XH;process.platform==="win32"||global.TESTING_WINDOWS?XH=POe():XH=AOe();LOe.exports=dQ;dQ.sync=Jyt;function dQ(r,e,t){if(typeof e=="function"&&(t=e,e={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){dQ(r,e||{},function(o,s){o?i(o):n(s)})})}XH(r,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),t(n,i)})}function Jyt(r,e){try{return XH.sync(r,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var UOe=C((hYt,zOe)=>{zOe.exports=jOe;jOe.sync=Qyt;var hQ=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",NOe=require("path"),Xyt=hQ?";":":",MOe=fQ();function FOe(r){var e=new Error("not found: "+r);return e.code="ENOENT",e}function qOe(r,e){var t=e.colon||Xyt,n=e.path||process.env.PATH||"",i=[""];n=n.split(t);var o="";return hQ&&(n.unshift(process.cwd()),o=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",i=o.split(t),r.indexOf(".")!==-1&&i[0]!==""&&i.unshift("")),(r.match(/\//)||hQ&&r.match(/\\/))&&(n=[""]),{env:n,ext:i,extExe:o}}function jOe(r,e,t){typeof e=="function"&&(t=e,e={});var n=qOe(r,e),i=n.env,o=n.ext,s=n.extExe,a=[];(function c(u,l){if(u===l)return e.all&&a.length?t(null,a):t(FOe(r));var d=i[u];d.charAt(0)==='"'&&d.slice(-1)==='"'&&(d=d.slice(1,-1));var f=NOe.join(d,r);!d&&/^\.[\\\/]/.test(r)&&(f=r.slice(0,2)+f),function p(_,D){if(_===D)return c(u+1,l);var x=o[_];MOe(f+x,{pathExt:s},function(N,A){if(!N&&A)if(e.all)a.push(f+x);else return t(null,f+x);return p(_+1,D)})}(0,o.length)})(0,i.length)}function Qyt(r,e){e=e||{};for(var t=qOe(r,e),n=t.env,i=t.ext,o=t.extExe,s=[],a=0,c=n.length;a<c;a++){var u=n[a];u.charAt(0)==='"'&&u.slice(-1)==='"'&&(u=u.slice(1,-1));var l=NOe.join(u,r);!u&&/^\.[\\\/]/.test(r)&&(l=r.slice(0,2)+l);for(var d=0,f=i.length;d<f;d++){var p=l+i[d],_;try{if(_=MOe.sync(p,{pathExt:o}),_)if(e.all)s.push(p);else return p}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw FOe(r)}});var BOe=C((pYt,HOe)=>{"use strict";HOe.exports=r=>{r=r||{};let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).find(n=>n.toUpperCase()==="PATH")||"Path"}});var GOe=C((mYt,VOe)=>{"use strict";var WOe=require("path"),Zyt=UOe(),e_t=BOe()();function $Oe(r,e){let t=process.cwd(),n=r.options.cwd!=null,i=n&&process.chdir!==void 0;if(i)try{process.chdir(r.options.cwd)}catch{}let o;try{o=Zyt.sync(r.command,{path:(r.options.env||process.env)[e_t],pathExt:e?WOe.delimiter:void 0})}catch{}finally{i&&process.chdir(t)}return o&&(o=WOe.resolve(n?r.options.cwd:"",o)),o}function t_t(r){return $Oe(r)||$Oe(r,!0)}VOe.exports=t_t});var KOe=C((gYt,mQ)=>{"use strict";var pQ=/([()\][%!^"`<>&|;, *?])/g;function r_t(r){return r=r.replace(pQ,"^$1"),r}function n_t(r,e){return r=`${r}`,r=r.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),r=r.replace(/(?=(\\+?)?)\1$/,"$1$1"),r=`"${r}"`,r=r.replace(pQ,"^$1"),e&&(r=r.replace(pQ,"^$1")),r}mQ.exports.command=r_t;mQ.exports.argument=n_t});var JOe=C((vYt,YOe)=>{"use strict";YOe.exports=/^#!.*/});var QOe=C((yYt,XOe)=>{"use strict";var i_t=JOe();XOe.exports=function(r){var e=r.match(i_t);if(!e)return null;var t=e[0].replace(/#! ?/,"").split(" "),n=t[0].split("/").pop(),i=t[1];return n==="env"?i:n+(i?" "+i:"")}});var eIe=C((_Yt,ZOe)=>{"use strict";var gQ=require("fs"),o_t=QOe();function s_t(r){let t;Buffer.alloc?t=Buffer.alloc(150):(t=new Buffer(150),t.fill(0));let n;try{n=gQ.openSync(r,"r"),gQ.readSync(n,t,0,150,0),gQ.closeSync(n)}catch{}return o_t(t.toString())}ZOe.exports=s_t});var vIe=C((Ai,gIe)=>{Ai=gIe.exports=Ao;var js;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?js=function(){var r=Array.prototype.slice.call(arguments,0);r.unshift("SEMVER"),console.log.apply(console,r)}:js=function(){};Ai.SEMVER_SPEC_VERSION="2.0.0";var tN=256,QH=Number.MAX_SAFE_INTEGER||9007199254740991,vQ=16,a_t=tN-6,rN=Ai.re=[],Ta=Ai.safeRe=[],dr=Ai.src=[],So=0,SQ="[a-zA-Z0-9-]",yQ=[["\\s",1],["\\d",tN],[SQ,a_t]];function iB(r){for(var e=0;e<yQ.length;e++){var t=yQ[e][0],n=yQ[e][1];r=r.split(t+"*").join(t+"{0,"+n+"}").split(t+"+").join(t+"{1,"+n+"}")}return r}var rx=So++;dr[rx]="0|[1-9]\\d*";var nx=So++;dr[nx]="\\d+";var CQ=So++;dr[CQ]="\\d*[a-zA-Z-]"+SQ+"*";var rIe=So++;dr[rIe]="("+dr[rx]+")\\.("+dr[rx]+")\\.("+dr[rx]+")";var nIe=So++;dr[nIe]="("+dr[nx]+")\\.("+dr[nx]+")\\.("+dr[nx]+")";var _Q=So++;dr[_Q]="(?:"+dr[rx]+"|"+dr[CQ]+")";var bQ=So++;dr[bQ]="(?:"+dr[nx]+"|"+dr[CQ]+")";var TQ=So++;dr[TQ]="(?:-("+dr[_Q]+"(?:\\."+dr[_Q]+")*))";var DQ=So++;dr[DQ]="(?:-?("+dr[bQ]+"(?:\\."+dr[bQ]+")*))";var wQ=So++;dr[wQ]=SQ+"+";var iN=So++;dr[iN]="(?:\\+("+dr[wQ]+"(?:\\."+dr[wQ]+")*))";var EQ=So++,iIe="v?"+dr[rIe]+dr[TQ]+"?"+dr[iN]+"?";dr[EQ]="^"+iIe+"$";var RQ="[v=\\s]*"+dr[nIe]+dr[DQ]+"?"+dr[iN]+"?",PQ=So++;dr[PQ]="^"+RQ+"$";var cx=So++;dr[cx]="((?:<|>)?=?)";var ZH=So++;dr[ZH]=dr[nx]+"|x|X|\\*";var eB=So++;dr[eB]=dr[rx]+"|x|X|\\*";var eE=So++;dr[eE]="[v=\\s]*("+dr[eB]+")(?:\\.("+dr[eB]+")(?:\\.("+dr[eB]+")(?:"+dr[TQ]+")?"+dr[iN]+"?)?)?";var ox=So++;dr[ox]="[v=\\s]*("+dr[ZH]+")(?:\\.("+dr[ZH]+")(?:\\.("+dr[ZH]+")(?:"+dr[DQ]+")?"+dr[iN]+"?)?)?";var oIe=So++;dr[oIe]="^"+dr[cx]+"\\s*"+dr[eE]+"$";var sIe=So++;dr[sIe]="^"+dr[cx]+"\\s*"+dr[ox]+"$";var aIe=So++;dr[aIe]="(?:^|[^\\d])(\\d{1,"+vQ+"})(?:\\.(\\d{1,"+vQ+"}))?(?:\\.(\\d{1,"+vQ+"}))?(?:$|[^\\d])";var oB=So++;dr[oB]="(?:~>?)";var sx=So++;dr[sx]="(\\s*)"+dr[oB]+"\\s+";rN[sx]=new RegExp(dr[sx],"g");Ta[sx]=new RegExp(iB(dr[sx]),"g");var c_t="$1~",cIe=So++;dr[cIe]="^"+dr[oB]+dr[eE]+"$";var uIe=So++;dr[uIe]="^"+dr[oB]+dr[ox]+"$";var sB=So++;dr[sB]="(?:\\^)";var ax=So++;dr[ax]="(\\s*)"+dr[sB]+"\\s+";rN[ax]=new RegExp(dr[ax],"g");Ta[ax]=new RegExp(iB(dr[ax]),"g");var u_t="$1^",lIe=So++;dr[lIe]="^"+dr[sB]+dr[eE]+"$";var dIe=So++;dr[dIe]="^"+dr[sB]+dr[ox]+"$";var xQ=So++;dr[xQ]="^"+dr[cx]+"\\s*("+RQ+")$|^$";var OQ=So++;dr[OQ]="^"+dr[cx]+"\\s*("+iIe+")$|^$";var tE=So++;dr[tE]="(\\s*)"+dr[cx]+"\\s*("+RQ+"|"+dr[eE]+")";rN[tE]=new RegExp(dr[tE],"g");Ta[tE]=new RegExp(iB(dr[tE]),"g");var l_t="$1$2$3",fIe=So++;dr[fIe]="^\\s*("+dr[eE]+")\\s+-\\s+("+dr[eE]+")\\s*$";var hIe=So++;dr[hIe]="^\\s*("+dr[ox]+")\\s+-\\s+("+dr[ox]+")\\s*$";var pIe=So++;dr[pIe]="(<|>)?=?\\s*\\*";for(bb=0;bb<So;bb++)js(bb,dr[bb]),rN[bb]||(rN[bb]=new RegExp(dr[bb]),Ta[bb]=new RegExp(iB(dr[bb])));var bb;Ai.parse=rE;function rE(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Ao)return r;if(typeof r!="string"||r.length>tN)return null;var t=e.loose?Ta[PQ]:Ta[EQ];if(!t.test(r))return null;try{return new Ao(r,e)}catch{return null}}Ai.valid=d_t;function d_t(r,e){var t=rE(r,e);return t?t.version:null}Ai.clean=f_t;function f_t(r,e){var t=rE(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null}Ai.SemVer=Ao;function Ao(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Ao){if(r.loose===e.loose)return r;r=r.version}else if(typeof r!="string")throw new TypeError("Invalid Version: "+r);if(r.length>tN)throw new TypeError("version is longer than "+tN+" characters");if(!(this instanceof Ao))return new Ao(r,e);js("SemVer",r,e),this.options=e,this.loose=!!e.loose;var t=r.trim().match(e.loose?Ta[PQ]:Ta[EQ]);if(!t)throw new TypeError("Invalid Version: "+r);if(this.raw=r,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>QH||this.major<0)throw new TypeError("Invalid major version");if(this.minor>QH||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>QH||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<QH)return i}return n}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}Ao.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Ao.prototype.toString=function(){return this.version};Ao.prototype.compare=function(r){return js("SemVer.compare",this.version,this.options,r),r instanceof Ao||(r=new Ao(r,this.options)),this.compareMain(r)||this.comparePre(r)};Ao.prototype.compareMain=function(r){return r instanceof Ao||(r=new Ao(r,this.options)),ix(this.major,r.major)||ix(this.minor,r.minor)||ix(this.patch,r.patch)};Ao.prototype.comparePre=function(r){if(r instanceof Ao||(r=new Ao(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var e=0;do{var t=this.prerelease[e],n=r.prerelease[e];if(js("prerelease compare",e,t,n),t===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(t===void 0)return-1;if(t===n)continue;return ix(t,n)}while(++e)};Ao.prototype.inc=function(r,e){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)typeof this.prerelease[t]=="number"&&(this.prerelease[t]++,t=-2);t===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+r)}return this.format(),this.raw=this.version,this};Ai.inc=h_t;function h_t(r,e,t,n){typeof t=="string"&&(n=t,t=void 0);try{return new Ao(r,t).inc(e,n).version}catch{return null}}Ai.diff=p_t;function p_t(r,e){if(IQ(r,e))return null;var t=rE(r),n=rE(e),i="";if(t.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in t)if((s==="major"||s==="minor"||s==="patch")&&t[s]!==n[s])return i+s;return o}Ai.compareIdentifiers=ix;var tIe=/^[0-9]+$/;function ix(r,e){var t=tIe.test(r),n=tIe.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1}Ai.rcompareIdentifiers=m_t;function m_t(r,e){return ix(e,r)}Ai.major=g_t;function g_t(r,e){return new Ao(r,e).major}Ai.minor=v_t;function v_t(r,e){return new Ao(r,e).minor}Ai.patch=y_t;function y_t(r,e){return new Ao(r,e).patch}Ai.compare=_S;function _S(r,e,t){return new Ao(r,t).compare(new Ao(e,t))}Ai.compareLoose=__t;function __t(r,e){return _S(r,e,!0)}Ai.rcompare=b_t;function b_t(r,e,t){return _S(e,r,t)}Ai.sort=w_t;function w_t(r,e){return r.sort(function(t,n){return Ai.compare(t,n,e)})}Ai.rsort=S_t;function S_t(r,e){return r.sort(function(t,n){return Ai.rcompare(t,n,e)})}Ai.gt=nN;function nN(r,e,t){return _S(r,e,t)>0}Ai.lt=tB;function tB(r,e,t){return _S(r,e,t)<0}Ai.eq=IQ;function IQ(r,e,t){return _S(r,e,t)===0}Ai.neq=mIe;function mIe(r,e,t){return _S(r,e,t)!==0}Ai.gte=kQ;function kQ(r,e,t){return _S(r,e,t)>=0}Ai.lte=AQ;function AQ(r,e,t){return _S(r,e,t)<=0}Ai.cmp=rB;function rB(r,e,t,n){switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return IQ(r,t,n);case"!=":return mIe(r,t,n);case">":return nN(r,t,n);case">=":return kQ(r,t,n);case"<":return tB(r,t,n);case"<=":return AQ(r,t,n);default:throw new TypeError("Invalid operator: "+e)}}Ai.Comparator=qv;function qv(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof qv){if(r.loose===!!e.loose)return r;r=r.value}if(!(this instanceof qv))return new qv(r,e);r=r.trim().split(/\s+/).join(" "),js("comparator",r,e),this.options=e,this.loose=!!e.loose,this.parse(r),this.semver===oN?this.value="":this.value=this.operator+this.semver.version,js("comp",this)}var oN={};qv.prototype.parse=function(r){var e=this.options.loose?Ta[xQ]:Ta[OQ],t=r.match(e);if(!t)throw new TypeError("Invalid comparator: "+r);this.operator=t[1],this.operator==="="&&(this.operator=""),t[2]?this.semver=new Ao(t[2],this.options.loose):this.semver=oN};qv.prototype.toString=function(){return this.value};qv.prototype.test=function(r){return js("Comparator.test",r,this.options.loose),this.semver===oN?!0:(typeof r=="string"&&(r=new Ao(r,this.options)),rB(r,this.operator,this.semver,this.options))};qv.prototype.intersects=function(r,e){if(!(r instanceof qv))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var t;if(this.operator==="")return t=new Hc(r.value,e),nB(this.value,t,e);if(r.operator==="")return t=new Hc(this.value,e),nB(r.semver,t,e);var n=(this.operator===">="||this.operator===">")&&(r.operator===">="||r.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(r.operator==="<="||r.operator==="<"),o=this.semver.version===r.semver.version,s=(this.operator===">="||this.operator==="<=")&&(r.operator===">="||r.operator==="<="),a=rB(this.semver,"<",r.semver,e)&&(this.operator===">="||this.operator===">")&&(r.operator==="<="||r.operator==="<"),c=rB(this.semver,">",r.semver,e)&&(this.operator==="<="||this.operator==="<")&&(r.operator===">="||r.operator===">");return n||i||o&&s||a||c};Ai.Range=Hc;function Hc(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Hc)return r.loose===!!e.loose&&r.includePrerelease===!!e.includePrerelease?r:new Hc(r.raw,e);if(r instanceof qv)return new Hc(r.value,e);if(!(this instanceof Hc))return new Hc(r,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=r.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}Hc.prototype.format=function(){return this.range=this.set.map(function(r){return r.join(" ").trim()}).join("||").trim(),this.range};Hc.prototype.toString=function(){return this.range};Hc.prototype.parseRange=function(r){var e=this.options.loose,t=e?Ta[hIe]:Ta[fIe];r=r.replace(t,k_t),js("hyphen replace",r),r=r.replace(Ta[tE],l_t),js("comparator trim",r,Ta[tE]),r=r.replace(Ta[sx],c_t),r=r.replace(Ta[ax],u_t);var n=e?Ta[xQ]:Ta[OQ],i=r.split(" ").map(function(o){return T_t(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(n)})),i=i.map(function(o){return new qv(o,this.options)},this),i};Hc.prototype.intersects=function(r,e){if(!(r instanceof Hc))throw new TypeError("a Range is required");return this.set.some(function(t){return t.every(function(n){return r.set.some(function(i){return i.every(function(o){return n.intersects(o,e)})})})})};Ai.toComparators=C_t;function C_t(r,e){return new Hc(r,e).set.map(function(t){return t.map(function(n){return n.value}).join(" ").trim().split(" ")})}function T_t(r,e){return js("comp",r,e),r=R_t(r,e),js("caret",r),r=D_t(r,e),js("tildes",r),r=x_t(r,e),js("xrange",r),r=I_t(r,e),js("stars",r),r}function lp(r){return!r||r.toLowerCase()==="x"||r==="*"}function D_t(r,e){return r.trim().split(/\s+/).map(function(t){return E_t(t,e)}).join(" ")}function E_t(r,e){var t=e.loose?Ta[uIe]:Ta[cIe];return r.replace(t,function(n,i,o,s,a){js("tilde",r,n,i,o,s,a);var c;return lp(i)?c="":lp(o)?c=">="+i+".0.0 <"+(+i+1)+".0.0":lp(s)?c=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(js("replaceTilde pr",a),c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):c=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",js("tilde return",c),c})}function R_t(r,e){return r.trim().split(/\s+/).map(function(t){return P_t(t,e)}).join(" ")}function P_t(r,e){js("caret",r,e);var t=e.loose?Ta[dIe]:Ta[lIe];return r.replace(t,function(n,i,o,s,a){js("caret",r,n,i,o,s,a);var c;return lp(i)?c="":lp(o)?c=">="+i+".0.0 <"+(+i+1)+".0.0":lp(s)?i==="0"?c=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(js("replaceCaret pr",a),i==="0"?o==="0"?c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(js("no pr"),i==="0"?o==="0"?c=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):c=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),js("caret return",c),c})}function x_t(r,e){return js("replaceXRanges",r,e),r.split(/\s+/).map(function(t){return O_t(t,e)}).join(" ")}function O_t(r,e){r=r.trim();var t=e.loose?Ta[sIe]:Ta[oIe];return r.replace(t,function(n,i,o,s,a,c){js("xRange",r,n,i,o,s,a,c);var u=lp(o),l=u||lp(s),d=l||lp(a),f=d;return i==="="&&f&&(i=""),u?i===">"||i==="<"?n="<0.0.0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),n=i+o+"."+s+"."+a):l?n=">="+o+".0.0 <"+(+o+1)+".0.0":d&&(n=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),js("xRange return",n),n})}function I_t(r,e){return js("replaceStars",r,e),r.trim().replace(Ta[pIe],"")}function k_t(r,e,t,n,i,o,s,a,c,u,l,d,f){return lp(t)?e="":lp(n)?e=">="+t+".0.0":lp(i)?e=">="+t+"."+n+".0":e=">="+e,lp(c)?a="":lp(u)?a="<"+(+c+1)+".0.0":lp(l)?a="<"+c+"."+(+u+1)+".0":d?a="<="+c+"."+u+"."+l+"-"+d:a="<="+a,(e+" "+a).trim()}Hc.prototype.test=function(r){if(!r)return!1;typeof r=="string"&&(r=new Ao(r,this.options));for(var e=0;e<this.set.length;e++)if(A_t(this.set[e],r,this.options))return!0;return!1};function A_t(r,e,t){for(var n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(n=0;n<r.length;n++)if(js(r[n].semver),r[n].semver!==oN&&r[n].semver.prerelease.length>0){var i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}Ai.satisfies=nB;function nB(r,e,t){try{e=new Hc(e,t)}catch{return!1}return e.test(r)}Ai.maxSatisfying=L_t;function L_t(r,e,t){var n=null,i=null;try{var o=new Hc(e,t)}catch{return null}return r.forEach(function(s){o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new Ao(n,t))}),n}Ai.minSatisfying=N_t;function N_t(r,e,t){var n=null,i=null;try{var o=new Hc(e,t)}catch{return null}return r.forEach(function(s){o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new Ao(n,t))}),n}Ai.minVersion=M_t;function M_t(r,e){r=new Hc(r,e);var t=new Ao("0.0.0");if(r.test(t)||(t=new Ao("0.0.0-0"),r.test(t)))return t;t=null;for(var n=0;n<r.set.length;++n){var i=r.set[n];i.forEach(function(o){var s=new Ao(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!t||nN(t,s))&&(t=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return t&&r.test(t)?t:null}Ai.validRange=F_t;function F_t(r,e){try{return new Hc(r,e).range||"*"}catch{return null}}Ai.ltr=q_t;function q_t(r,e,t){return LQ(r,e,"<",t)}Ai.gtr=j_t;function j_t(r,e,t){return LQ(r,e,">",t)}Ai.outside=LQ;function LQ(r,e,t,n){r=new Ao(r,n),e=new Hc(e,n);var i,o,s,a,c;switch(t){case">":i=nN,o=AQ,s=tB,a=">",c=">=";break;case"<":i=tB,o=kQ,s=nN,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(nB(r,e,n))return!1;for(var u=0;u<e.set.length;++u){var l=e.set[u],d=null,f=null;if(l.forEach(function(p){p.semver===oN&&(p=new qv(">=0.0.0")),d=d||p,f=f||p,i(p.semver,d.semver,n)?d=p:s(p.semver,f.semver,n)&&(f=p)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(r,f.semver))return!1;if(f.operator===c&&s(r,f.semver))return!1}return!0}Ai.prerelease=z_t;function z_t(r,e){var t=rE(r,e);return t&&t.prerelease.length?t.prerelease:null}Ai.intersects=U_t;function U_t(r,e,t){return r=new Hc(r,t),e=new Hc(e,t),r.intersects(e)}Ai.coerce=H_t;function H_t(r){if(r instanceof Ao)return r;if(typeof r!="string")return null;var e=r.match(Ta[aIe]);return e==null?null:rE(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var SIe=C((bYt,wIe)=>{"use strict";var B_t=require("path"),W_t=COe(),yIe=GOe(),_Ie=KOe(),$_t=eIe(),V_t=vIe(),bIe=process.platform==="win32",G_t=/\.(?:com|exe)$/i,K_t=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i,Y_t=W_t(()=>V_t.satisfies(process.version,"^4.8.0 || ^5.7.0 || >= 6.0.0",!0))||!1;function J_t(r){r.file=yIe(r);let e=r.file&&$_t(r.file);return e?(r.args.unshift(r.file),r.command=e,yIe(r)):r.file}function X_t(r){if(!bIe)return r;let e=J_t(r),t=!G_t.test(e);if(r.options.forceShell||t){let n=K_t.test(e);r.command=B_t.normalize(r.command),r.command=_Ie.command(r.command),r.args=r.args.map(o=>_Ie.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function Q_t(r){if(Y_t)return r;let e=[r.command].concat(r.args).join(" ");return bIe?(r.command=typeof r.options.shell=="string"?r.options.shell:process.env.comspec||"cmd.exe",r.args=["/d","/s","/c",`"${e}"`],r.options.windowsVerbatimArguments=!0):(typeof r.options.shell=="string"?r.command=r.options.shell:process.platform==="android"?r.command="/system/bin/sh":r.command="/bin/sh",r.args=["-c",e]),r}function Z_t(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?Q_t(n):X_t(n)}wIe.exports=Z_t});var DIe=C((wYt,TIe)=>{"use strict";var NQ=process.platform==="win32";function MQ(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function ebt(r,e){if(!NQ)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=CIe(i,e,"spawn");if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function CIe(r,e){return NQ&&r===1&&!e.file?MQ(e.original,"spawn"):null}function tbt(r,e){return NQ&&r===1&&!e.file?MQ(e.original,"spawnSync"):null}TIe.exports={hookChildProcess:ebt,verifyENOENT:CIe,verifyENOENTSync:tbt,notFoundError:MQ}});var PIe=C((SYt,ux)=>{"use strict";var EIe=require("child_process"),FQ=SIe(),qQ=DIe();function RIe(r,e,t){let n=FQ(r,e,t),i=EIe.spawn(n.command,n.args,n.options);return qQ.hookChildProcess(i,n),i}function rbt(r,e,t){let n=FQ(r,e,t),i=EIe.spawnSync(n.command,n.args,n.options);return i.error=i.error||qQ.verifyENOENTSync(i.status,n),i}ux.exports=RIe;ux.exports.spawn=RIe;ux.exports.sync=rbt;ux.exports._parse=FQ;ux.exports._enoent=qQ});var lx=C(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0});wS.boolean=ybt;wS.string=OIe;wS.number=_bt;wS.error=bbt;wS.func=wbt;wS.array=IIe;wS.stringArray=Sbt;function ybt(r){return r===!0||r===!1}function OIe(r){return typeof r=="string"||r instanceof String}function _bt(r){return typeof r=="number"||r instanceof Number}function bbt(r){return r instanceof Error}function wbt(r){return typeof r=="function"}function IIe(r){return Array.isArray(r)}function Sbt(r){return IIe(r)&&r.every(e=>OIe(e))}});var dZ=C(yn=>{"use strict";var Cbt=yn&&yn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Tbt=yn&&yn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Dbt=yn&&yn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Cbt(t,e,n[i]);return Tbt(t,e),t}}();Object.defineProperty(yn,"__esModule",{value:!0});yn.Message=yn.NotificationType9=yn.NotificationType8=yn.NotificationType7=yn.NotificationType6=yn.NotificationType5=yn.NotificationType4=yn.NotificationType3=yn.NotificationType2=yn.NotificationType1=yn.NotificationType0=yn.NotificationType=yn.RequestType9=yn.RequestType8=yn.RequestType7=yn.RequestType6=yn.RequestType5=yn.RequestType4=yn.RequestType3=yn.RequestType2=yn.RequestType1=yn.RequestType=yn.RequestType0=yn.AbstractMessageSignature=yn.ParameterStructures=yn.ResponseError=yn.ErrorCodes=void 0;var nE=Dbt(lx()),UQ;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(UQ||(yn.ErrorCodes=UQ={}));var HQ=class r extends Error{code;data;constructor(e,t,n){super(t),this.code=nE.number(e)?e:UQ.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};yn.ResponseError=HQ;var WT=class r{kind;static auto=new r("auto");static byPosition=new r("byPosition");static byName=new r("byName");constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};yn.ParameterStructures=WT;var Ua=class{method;numberOfParams;constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return WT.auto}};yn.AbstractMessageSignature=Ua;var BQ=class extends Ua{_;constructor(e){super(e,0)}};yn.RequestType0=BQ;var WQ=class extends Ua{_parameterStructures;_;constructor(e,t=WT.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.RequestType=WQ;var $Q=class extends Ua{_parameterStructures;_;constructor(e,t=WT.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.RequestType1=$Q;var VQ=class extends Ua{_;constructor(e){super(e,2)}};yn.RequestType2=VQ;var GQ=class extends Ua{_;constructor(e){super(e,3)}};yn.RequestType3=GQ;var KQ=class extends Ua{_;constructor(e){super(e,4)}};yn.RequestType4=KQ;var YQ=class extends Ua{_;constructor(e){super(e,5)}};yn.RequestType5=YQ;var JQ=class extends Ua{_;constructor(e){super(e,6)}};yn.RequestType6=JQ;var XQ=class extends Ua{_;constructor(e){super(e,7)}};yn.RequestType7=XQ;var QQ=class extends Ua{_;constructor(e){super(e,8)}};yn.RequestType8=QQ;var ZQ=class extends Ua{_;constructor(e){super(e,9)}};yn.RequestType9=ZQ;var eZ=class extends Ua{_parameterStructures;_;constructor(e,t=WT.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.NotificationType=eZ;var tZ=class extends Ua{_;constructor(e){super(e,0)}};yn.NotificationType0=tZ;var rZ=class extends Ua{_parameterStructures;_;constructor(e,t=WT.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.NotificationType1=rZ;var nZ=class extends Ua{_;constructor(e){super(e,2)}};yn.NotificationType2=nZ;var iZ=class extends Ua{_;constructor(e){super(e,3)}};yn.NotificationType3=iZ;var oZ=class extends Ua{_;constructor(e){super(e,4)}};yn.NotificationType4=oZ;var sZ=class extends Ua{_;constructor(e){super(e,5)}};yn.NotificationType5=sZ;var aZ=class extends Ua{_;constructor(e){super(e,6)}};yn.NotificationType6=aZ;var cZ=class extends Ua{_;constructor(e){super(e,7)}};yn.NotificationType7=cZ;var uZ=class extends Ua{_;constructor(e){super(e,8)}};yn.NotificationType8=uZ;var lZ=class extends Ua{_;constructor(e){super(e,9)}};yn.NotificationType9=lZ;var kIe;(function(r){function e(i){let o=i;return o&&nE.string(o.method)&&(nE.string(o.id)||nE.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&nE.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(nE.string(o.id)||nE.number(o.id)||o.id===null)}r.isResponse=n})(kIe||(yn.Message=kIe={}))});var hZ=C($T=>{"use strict";Object.defineProperty($T,"__esModule",{value:!0});$T.LRUCache=$T.LinkedMap=$T.Touch=void 0;var oh;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(oh||($T.Touch=oh={}));var uB=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}before(e){let t=this._map.get(e);return t?t.previous?.value:void 0}after(e){let t=this._map.get(e);return t?t.next?.value:void 0}has(e){return this._map.has(e)}get(e,t=oh.None){let n=this._map.get(e);if(n)return t!==oh.None&&this.touch(n,t),n.value}set(e,t,n=oh.None){let i=this._map.get(e);if(i)i.value=t,n!==oh.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case oh.None:this.addItemLast(i);break;case oh.First:this.addItemFirst(i);break;case oh.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==oh.First&&t!==oh.Last)){if(t===oh.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===oh.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};$T.LinkedMap=uB;var fZ=class extends uB{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=oh.AsNew){return super.get(e,t)}peek(e){return super.get(e,oh.None)}set(e,t){return super.set(e,t,oh.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};$T.LRUCache=fZ});var LIe=C(lB=>{"use strict";Object.defineProperty(lB,"__esModule",{value:!0});lB.Disposable=void 0;var AIe;(function(r){function e(t){return{dispose:t}}r.create=e})(AIe||(lB.Disposable=AIe={}))});var VT=C(gZ=>{"use strict";Object.defineProperty(gZ,"__esModule",{value:!0});var pZ;function mZ(){if(pZ===void 0)throw new Error("No runtime abstraction layer installed");return pZ}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");pZ=t}r.install=e})(mZ||(mZ={}));gZ.default=mZ});var dx=C(GT=>{"use strict";var Ebt=GT&&GT.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(GT,"__esModule",{value:!0});GT.Emitter=GT.Event=void 0;var Rbt=Ebt(VT()),NIe;(function(r){let e={dispose(){}};r.None=function(){return e}})(NIe||(GT.Event=NIe={}));var vZ=class{_callbacks;_contexts;add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,Rbt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},yZ=class r{_options;static _noop=function(){};_event;_callbacks;constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new vZ),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};GT.Emitter=yZ});var hB=C(gm=>{"use strict";var Pbt=gm&&gm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xbt=gm&&gm.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Obt=gm&&gm.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Pbt(t,e,n[i]);return xbt(t,e),t}}(),Ibt=gm&&gm.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gm,"__esModule",{value:!0});gm.CancellationTokenSource=gm.CancellationToken=void 0;var kbt=Ibt(VT()),Abt=Obt(lx()),_Z=dx(),dB;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_Z.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:_Z.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||Abt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(dB||(gm.CancellationToken=dB={}));var Lbt=Object.freeze(function(r,e){let t=(0,kbt.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),fB=class{_isCancelled=!1;_emitter;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Lbt:(this._emitter||(this._emitter=new _Z.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},bZ=class{_token;get token(){return this._token||(this._token=new fB),this._token}cancel(){this._token?this._token.cancel():this._token=dB.Cancelled}dispose(){this._token?this._token instanceof fB&&this._token.dispose():this._token=dB.None}};gm.CancellationTokenSource=bZ});var MIe=C(fx=>{"use strict";Object.defineProperty(fx,"__esModule",{value:!0});fx.SharedArrayReceiverStrategy=fx.SharedArraySenderStrategy=void 0;var Nbt=hB(),sN;(function(r){r.Continue=0,r.Cancelled=1})(sN||(sN={}));var wZ=class{buffers;constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=sN.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,sN.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};fx.SharedArraySenderStrategy=wZ;var SZ=class{data;constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===sN.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},CZ=class{token;constructor(e){this.token=new SZ(e)}cancel(){}dispose(){}},TZ=class{kind="request";createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new Nbt.CancellationTokenSource:new CZ(t)}};fx.SharedArrayReceiverStrategy=TZ});var EZ=C(hx=>{"use strict";var Mbt=hx&&hx.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hx,"__esModule",{value:!0});hx.Semaphore=void 0;var Fbt=Mbt(VT()),DZ=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Fbt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};hx.Semaphore=DZ});var qIe=C(sh=>{"use strict";var qbt=sh&&sh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jbt=sh&&sh.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zbt=sh&&sh.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&qbt(t,e,n[i]);return jbt(t,e),t}}(),Ubt=sh&&sh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sh,"__esModule",{value:!0});sh.ReadableStreamMessageReader=sh.AbstractMessageReader=sh.MessageReader=void 0;var PZ=Ubt(VT()),px=zbt(lx()),RZ=dx(),Hbt=EZ(),FIe;(function(r){function e(t){let n=t;return n&&px.func(n.listen)&&px.func(n.dispose)&&px.func(n.onError)&&px.func(n.onClose)&&px.func(n.onPartialMessage)}r.is=e})(FIe||(sh.MessageReader=FIe={}));var pB=class{errorEmitter;closeEmitter;partialMessageEmitter;constructor(){this.errorEmitter=new RZ.Emitter,this.closeEmitter=new RZ.Emitter,this.partialMessageEmitter=new RZ.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose(),this.partialMessageEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${px.string(e.message)?e.message:"unknown"}`)}};sh.AbstractMessageReader=pB;var xZ;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,PZ.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(xZ||(xZ={}));var OZ=class extends pB{readable;options;callback;nextMessageLength;messageToken;buffer;partialMessageTimer;_partialMessageTimeout;readSemaphore;constructor(e,t){super(),this.readable=e,this.options=xZ.fromOptions(t),this.buffer=(0,PZ.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Hbt.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(t){this.fireError(t)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,PZ.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};sh.ReadableStreamMessageReader=OZ});var BIe=C(ah=>{"use strict";var Bbt=ah&&ah.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wbt=ah&&ah.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$bt=ah&&ah.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Bbt(t,e,n[i]);return Wbt(t,e),t}}(),Vbt=ah&&ah.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ah,"__esModule",{value:!0});ah.WriteableStreamMessageWriter=ah.AbstractMessageWriter=ah.MessageWriter=void 0;var jIe=Vbt(VT()),aN=$bt(lx()),Gbt=EZ(),zIe=dx(),Kbt="Content-Length: ",UIe=`\r
`,HIe;(function(r){function e(t){let n=t;return n&&aN.func(n.dispose)&&aN.func(n.onClose)&&aN.func(n.onError)&&aN.func(n.write)}r.is=e})(HIe||(ah.MessageWriter=HIe={}));var mB=class{errorEmitter;closeEmitter;constructor(){this.errorEmitter=new zIe.Emitter,this.closeEmitter=new zIe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${aN.string(e.message)?e.message:"unknown"}`)}};ah.AbstractMessageWriter=mB;var IZ;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,jIe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,jIe.default)().applicationJson.encoder}}r.fromOptions=e})(IZ||(IZ={}));var kZ=class extends mB{writable;options;errorCount;writeSemaphore;constructor(e,t){super(),this.writable=e,this.options=IZ.fromOptions(t),this.errorCount=0,this.writeSemaphore=new Gbt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Kbt,n.byteLength.toString(),UIe),i.push(UIe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};ah.WriteableStreamMessageWriter=kZ});var WIe=C(gB=>{"use strict";Object.defineProperty(gB,"__esModule",{value:!0});gB.AbstractMessageBuffer=void 0;var Ybt=13,Jbt=10,Xbt=`\r
`,AZ=class{_encoding;_chunks;_totalLength;constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case Ybt:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case Jbt:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(Xbt);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${l}`);let f=l.substr(0,d),p=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,p)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};gB.AbstractMessageBuffer=AZ});var KIe=C(Kn=>{"use strict";var Qbt=Kn&&Kn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zbt=Kn&&Kn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ewt=Kn&&Kn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Qbt(t,e,n[i]);return Zbt(t,e),t}}(),twt=Kn&&Kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.ConnectionOptions=Kn.MessageStrategy=Kn.CancellationStrategy=Kn.CancellationSenderStrategy=Kn.CancellationReceiverStrategy=Kn.RequestCancellationReceiverStrategy=Kn.IdCancellationReceiverStrategy=Kn.ConnectionStrategy=Kn.ConnectionError=Kn.ConnectionErrors=Kn.LogTraceNotification=Kn.SetTraceNotification=Kn.TraceFormat=Kn.TraceValues=Kn.TraceValue=Kn.Trace=Kn.NullLogger=Kn.ProgressType=Kn.ProgressToken=void 0;Kn.createMessageConnection=rwt;var $Ie=twt(VT()),Bc=ewt(lx()),Mi=dZ(),VIe=hZ(),cN=dx(),LZ=hB(),dN;(function(r){r.type=new Mi.NotificationType("$/cancelRequest")})(dN||(dN={}));var NZ;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(NZ||(Kn.ProgressToken=NZ={}));var uN;(function(r){r.type=new Mi.NotificationType("$/progress")})(uN||(uN={}));var MZ=class{__;_pr;constructor(){}};Kn.ProgressType=MZ;var FZ;(function(r){function e(t){return Bc.func(t)}r.is=e})(FZ||(FZ={}));Kn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var vs;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(vs||(Kn.Trace=vs={}));var qZ;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(qZ||(Kn.TraceValue=qZ={}));Kn.TraceValues=qZ;(function(r){function e(n){if(!Bc.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(vs||(Kn.Trace=vs={}));var Dg;(function(r){r.Text="text",r.JSON="json"})(Dg||(Kn.TraceFormat=Dg={}));(function(r){function e(t){return Bc.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(Dg||(Kn.TraceFormat=Dg={}));var jZ;(function(r){r.type=new Mi.NotificationType("$/setTrace")})(jZ||(Kn.SetTraceNotification=jZ={}));var vB;(function(r){r.type=new Mi.NotificationType("$/logTrace")})(vB||(Kn.LogTraceNotification=vB={}));var lN;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(lN||(Kn.ConnectionErrors=lN={}));var mx=class r extends Error{code;constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};Kn.ConnectionError=mx;var zZ;(function(r){function e(t){let n=t;return n&&Bc.func(n.cancelUndispatched)}r.is=e})(zZ||(Kn.ConnectionStrategy=zZ={}));var yB;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&Bc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Bc.func(n.dispose))}r.is=e})(yB||(Kn.IdCancellationReceiverStrategy=yB={}));var UZ;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&Bc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Bc.func(n.dispose))}r.is=e})(UZ||(Kn.RequestCancellationReceiverStrategy=UZ={}));var _B;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new LZ.CancellationTokenSource}});function e(t){return yB.is(t)||UZ.is(t)}r.is=e})(_B||(Kn.CancellationReceiverStrategy=_B={}));var bB;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(dN.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&Bc.func(n.sendCancellation)&&Bc.func(n.cleanup)}r.is=e})(bB||(Kn.CancellationSenderStrategy=bB={}));var wB;(function(r){r.Message=Object.freeze({receiver:_B.Message,sender:bB.Message});function e(t){let n=t;return n&&_B.is(n.receiver)&&bB.is(n.sender)}r.is=e})(wB||(Kn.CancellationStrategy=wB={}));var SB;(function(r){function e(t){let n=t;return n&&Bc.func(n.handleMessage)}r.is=e})(SB||(Kn.MessageStrategy=SB={}));var GIe;(function(r){function e(t){let n=t;return n&&(wB.is(n.cancellationStrategy)||zZ.is(n.connectionStrategy)||SB.is(n.messageStrategy)||Bc.number(n.maxParallelism))}r.is=e})(GIe||(Kn.ConnectionOptions=GIe={}));var Xy;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(Xy||(Xy={}));function rwt(r,e,t,n){let i=t!==void 0?t:Kn.NullLogger,o=0,s=0,a=0,c="2.0",u=n?.maxParallelism??-1,l=0,d,f=new Map,p,_=new Map,D=new Map,x,N=new VIe.LinkedMap,A=new Map,U=new Set,ee=new Map,he=vs.Off,we=Dg.Text,V,W=Xy.New,te=new cN.Emitter,De=new cN.Emitter,ae=new cN.Emitter,ue=new cN.Emitter,qe=new cN.Emitter,Me=n&&n.cancellationStrategy?n.cancellationStrategy:wB.Message;function ce(Q){}function Ce(){return W===Xy.Listening}function be(){return W===Xy.Closed}function xe(){return W===Xy.Disposed}function Ne(){(W===Xy.New||W===Xy.Listening)&&(W=Xy.Closed,De.fire(void 0))}function $e(Q){te.fire([Q,void 0,void 0])}function Ct(Q){te.fire(Q)}r.onClose(Ne),r.onError($e),e.onClose(Ne),e.onError(Ct);function ze(Q){if(Q===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Q.toString()}function st(Q){return Q===null?"res-unknown-"+(++a).toString():"res-"+Q.toString()}function at(){return"not-"+(++s).toString()}function tt(Q,_e){Mi.Message.isRequest(_e)?Q.set(ze(_e.id),_e):Mi.Message.isResponse(_e)?u===-1?Q.set(st(_e.id),_e):xt(_e):Q.set(at(),_e)}function fr(){x||N.size===0||u!==-1&&l>=u||(x=(0,$Ie.default)().timer.setImmediate(async()=>{if(x=void 0,N.size===0||u!==-1&&l>=u)return;let Q=N.shift(),_e;try{l++;let Je=n?.messageStrategy;SB.is(Je)?_e=Je.handleMessage(Q,Lr):_e=Lr(Q)}catch(Je){i.error(`Processing message queue failed: ${Je.toString()}`)}finally{_e instanceof Promise?_e.then(()=>{l--,fr()}).catch(Je=>{i.error(`Processing message queue failed: ${Je.toString()}`)}):l--,fr()}}))}async function Lr(Q){return Mi.Message.isRequest(Q)?cr(Q):Mi.Message.isNotification(Q)?hr(Q):Mi.Message.isResponse(Q)?xt(Q):Nt(Q)}let zr=Q=>{try{if(Mi.Message.isNotification(Q)&&Q.method===dN.type.method){let _e=Q.params.id,Je=ze(_e),ft=N.get(Je);if(Mi.Message.isRequest(ft)){let rr=n?.connectionStrategy,Jt=rr&&rr.cancelUndispatched?rr.cancelUndispatched(ft,ce):void 0;if(Jt&&(Jt.error!==void 0||Jt.result!==void 0)){N.delete(Je),ee.delete(_e),Jt.id=ft.id,Or(Jt,Q.method,Date.now()),e.write(Jt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Yt=ee.get(_e);if(Yt!==void 0){Yt.cancel(),$r(Q);return}else U.add(_e)}tt(N,Q)}finally{fr()}};async function cr(Q){if(xe())return Promise.resolve();function _e($t,kt,K){let Fe={jsonrpc:c,id:Q.id};return $t instanceof Mi.ResponseError?Fe.error=$t.toJson():Fe.result=$t===void 0?null:$t,Or(Fe,kt,K),e.write(Fe)}function Je($t,kt,K){let Fe={jsonrpc:c,id:Q.id,error:$t.toJson()};return Or(Fe,kt,K),e.write(Fe)}Hn(Q);let ft=f.get(Q.method),Yt,rr;ft&&(Yt=ft.type,rr=ft.handler);let Jt=Date.now();if(rr||d){let $t=Q.id??String(Date.now()),kt=yB.is(Me.receiver)?Me.receiver.createCancellationTokenSource($t):Me.receiver.createCancellationTokenSource(Q);Q.id!==null&&U.has(Q.id)&&kt.cancel(),Q.id!==null&&ee.set($t,kt);try{let K;if(rr)if(Q.params===void 0){if(Yt!==void 0&&Yt.numberOfParams!==0)return Je(new Mi.ResponseError(Mi.ErrorCodes.InvalidParams,`Request ${Q.method} defines ${Yt.numberOfParams} params but received none.`),Q.method,Jt);K=rr(kt.token)}else if(Array.isArray(Q.params)){if(Yt!==void 0&&Yt.parameterStructures===Mi.ParameterStructures.byName)return Je(new Mi.ResponseError(Mi.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by name but received parameters by position`),Q.method,Jt);K=rr(...Q.params,kt.token)}else{if(Yt!==void 0&&Yt.parameterStructures===Mi.ParameterStructures.byPosition)return Je(new Mi.ResponseError(Mi.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by position but received parameters by name`),Q.method,Jt);K=rr(Q.params,kt.token)}else d&&(K=d(Q.method,Q.params,kt.token));let Fe=await K;await _e(Fe,Q.method,Jt)}catch(K){K instanceof Mi.ResponseError?await _e(K,Q.method,Jt):K&&Bc.string(K.message)?await Je(new Mi.ResponseError(Mi.ErrorCodes.InternalError,`Request ${Q.method} failed with message: ${K.message}`),Q.method,Jt):await Je(new Mi.ResponseError(Mi.ErrorCodes.InternalError,`Request ${Q.method} failed unexpectedly without providing any details.`),Q.method,Jt)}finally{ee.delete($t)}}else await Je(new Mi.ResponseError(Mi.ErrorCodes.MethodNotFound,`Unhandled method ${Q.method}`),Q.method,Jt)}function xt(Q){if(!xe())if(Q.id===null)Q.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Q.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let _e=Q.id,Je=A.get(_e);if(dn(Q,Je),Je!==void 0){A.delete(_e);try{if(Q.error){let ft=Q.error;Je.reject(new Mi.ResponseError(ft.code,ft.message,ft.data))}else if(Q.result!==void 0)Je.resolve(Q.result);else throw new Error("Should never happen.")}catch(ft){ft.message?i.error(`Response handler '${Je.method}' failed with message: ${ft.message}`):i.error(`Response handler '${Je.method}' failed unexpectedly.`)}}}}async function hr(Q){if(xe())return;let _e,Je;if(Q.method===dN.type.method){let ft=Q.params.id;U.delete(ft),$r(Q);return}else{let ft=_.get(Q.method);ft&&(Je=ft.handler,_e=ft.type)}if(Je||p)try{if($r(Q),Je)if(Q.params===void 0)_e!==void 0&&_e.numberOfParams!==0&&_e.parameterStructures!==Mi.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines ${_e.numberOfParams} params but received none.`),await Je();else if(Array.isArray(Q.params)){let ft=Q.params;Q.method===uN.type.method&&ft.length===2&&NZ.is(ft[0])?await Je({token:ft[0],value:ft[1]}):(_e!==void 0&&(_e.parameterStructures===Mi.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines parameters by name but received parameters by position`),_e.numberOfParams!==Q.params.length&&i.error(`Notification ${Q.method} defines ${_e.numberOfParams} params but received ${ft.length} arguments`)),await Je(...ft))}else _e!==void 0&&_e.parameterStructures===Mi.ParameterStructures.byPosition&&i.error(`Notification ${Q.method} defines parameters by position but received parameters by name`),await Je(Q.params);else p&&await p(Q.method,Q.params)}catch(ft){ft.message?i.error(`Notification handler '${Q.method}' failed with message: ${ft.message}`):i.error(`Notification handler '${Q.method}' failed unexpectedly.`)}else ae.fire(Q)}function Nt(Q){if(!Q){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Q,null,4)}`);let _e=Q;if(Bc.string(_e.id)||Bc.number(_e.id)){let Je=_e.id,ft=A.get(Je);ft&&ft.reject(new Error("The received response has neither a result nor an error property."))}}function on(Q){if(Q!=null)switch(he){case vs.Verbose:return JSON.stringify(Q,null,4);case vs.Compact:return JSON.stringify(Q);default:return}}function ln(Q){if(!(he===vs.Off||!V))if(we===Dg.Text){let _e;(he===vs.Verbose||he===vs.Compact)&&Q.params&&(_e=`Params: ${on(Q.params)}

`),V.log(`Sending request '${Q.method} - (${Q.id})'.`,_e)}else ii("send-request",Q)}function On(Q){if(!(he===vs.Off||!V))if(we===Dg.Text){let _e;(he===vs.Verbose||he===vs.Compact)&&(Q.params?_e=`Params: ${on(Q.params)}

`:_e=`No parameters provided.

`),V.log(`Sending notification '${Q.method}'.`,_e)}else ii("send-notification",Q)}function Or(Q,_e,Je){if(!(he===vs.Off||!V))if(we===Dg.Text){let ft;(he===vs.Verbose||he===vs.Compact)&&(Q.error&&Q.error.data?ft=`Error data: ${on(Q.error.data)}

`:Q.result?ft=`Result: ${on(Q.result)}

`:Q.error===void 0&&(ft=`No result returned.

`)),V.log(`Sending response '${_e} - (${Q.id})'. Processing request took ${Date.now()-Je}ms`,ft)}else ii("send-response",Q)}function Hn(Q){if(!(he===vs.Off||!V))if(we===Dg.Text){let _e;(he===vs.Verbose||he===vs.Compact)&&Q.params&&(_e=`Params: ${on(Q.params)}

`),V.log(`Received request '${Q.method} - (${Q.id})'.`,_e)}else ii("receive-request",Q)}function $r(Q){if(!(he===vs.Off||!V||Q.method===vB.type.method))if(we===Dg.Text){let _e;(he===vs.Verbose||he===vs.Compact)&&(Q.params?_e=`Params: ${on(Q.params)}

`:_e=`No parameters provided.

`),V.log(`Received notification '${Q.method}'.`,_e)}else ii("receive-notification",Q)}function dn(Q,_e){if(!(he===vs.Off||!V))if(we===Dg.Text){let Je;if((he===vs.Verbose||he===vs.Compact)&&(Q.error&&Q.error.data?Je=`Error data: ${on(Q.error.data)}

`:Q.result?Je=`Result: ${on(Q.result)}

`:Q.error===void 0&&(Je=`No result returned.

`)),_e){let ft=Q.error?` Request failed: ${Q.error.message} (${Q.error.code}).`:"";V.log(`Received response '${_e.method} - (${Q.id})' in ${Date.now()-_e.timerStart}ms.${ft}`,Je)}else V.log(`Received response ${Q.id} without active response promise.`,Je)}else ii("receive-response",Q)}function ii(Q,_e){if(!V||he===vs.Off)return;let Je={isLSPMessage:!0,type:Q,message:_e,timestamp:Date.now()};V.log(Je)}function Vr(){if(be())throw new mx(lN.Closed,"Connection is closed.");if(xe())throw new mx(lN.Disposed,"Connection is disposed.")}function An(){if(Ce())throw new mx(lN.AlreadyListening,"Connection is already listening")}function Pi(){if(!Ce())throw new Error("Call listen() first.")}function Gr(Q){return Q===void 0?null:Q}function Ji(Q){if(Q!==null)return Q}function oi(Q){return Q!=null&&!Array.isArray(Q)&&typeof Q=="object"}function fn(Q,_e){switch(Q){case Mi.ParameterStructures.auto:return oi(_e)?Ji(_e):[Gr(_e)];case Mi.ParameterStructures.byName:if(!oi(_e))throw new Error("Received parameters by name but param is not an object literal.");return Ji(_e);case Mi.ParameterStructures.byPosition:return[Gr(_e)];default:throw new Error(`Unknown parameter structure ${Q.toString()}`)}}function Oe(Q,_e){let Je,ft=Q.numberOfParams;switch(ft){case 0:Je=void 0;break;case 1:Je=fn(Q.parameterStructures,_e[0]);break;default:Je=[];for(let Yt=0;Yt<_e.length&&Yt<ft;Yt++)Je.push(Gr(_e[Yt]));if(_e.length<ft)for(let Yt=_e.length;Yt<ft;Yt++)Je.push(null);break}return Je}let oe={sendNotification:(Q,..._e)=>{Vr();let Je,ft;if(Bc.string(Q)){Je=Q;let rr=_e[0],Jt=0,$t=Mi.ParameterStructures.auto;Mi.ParameterStructures.is(rr)&&(Jt=1,$t=rr);let kt=_e.length,K=kt-Jt;switch(K){case 0:ft=void 0;break;case 1:ft=fn($t,_e[Jt]);break;default:if($t===Mi.ParameterStructures.byName)throw new Error(`Received ${K} parameters for 'by Name' notification parameter structure.`);ft=_e.slice(Jt,kt).map(Fe=>Gr(Fe));break}}else{let rr=_e;Je=Q.method,ft=Oe(Q,rr)}let Yt={jsonrpc:c,method:Je,params:ft};return On(Yt),e.write(Yt).catch(rr=>{throw i.error("Sending notification failed."),rr})},onNotification:(Q,_e)=>{Vr();let Je;return Bc.func(Q)?p=Q:_e&&(Bc.string(Q)?(Je=Q,_.set(Q,{type:void 0,handler:_e})):(Je=Q.method,_.set(Q.method,{type:Q,handler:_e}))),{dispose:()=>{Je!==void 0?_.delete(Je):p=void 0}}},onProgress:(Q,_e,Je)=>{if(D.has(_e))throw new Error(`Progress handler for token ${_e} already registered`);return D.set(_e,Je),{dispose:()=>{D.delete(_e)}}},sendProgress:(Q,_e,Je)=>oe.sendNotification(uN.type,{token:_e,value:Je}),onUnhandledProgress:ue.event,sendRequest:(Q,..._e)=>{Vr(),Pi();function Je(Fe,Ht){let Dr=Me.sender.sendCancellation(Fe,Ht);Dr===void 0?i.log(`Received no promise from cancellation strategy when cancelling id ${Ht}`):Dr.catch(()=>{i.log(`Sending cancellation messages for id ${Ht} failed.`)})}let ft,Yt,rr;if(Bc.string(Q)){ft=Q;let Fe=_e[0],Ht=_e[_e.length-1],Dr=0,He=Mi.ParameterStructures.auto;Mi.ParameterStructures.is(Fe)&&(Dr=1,He=Fe);let ne=_e.length;LZ.CancellationToken.is(Ht)&&(ne=ne-1,rr=Ht);let Pe=ne-Dr;switch(Pe){case 0:Yt=void 0;break;case 1:Yt=fn(He,_e[Dr]);break;default:if(He===Mi.ParameterStructures.byName)throw new Error(`Received ${Pe} parameters for 'by Name' request parameter structure.`);Yt=_e.slice(Dr,ne).map(je=>Gr(je));break}}else{let Fe=_e;ft=Q.method,Yt=Oe(Q,Fe);let Ht=Q.numberOfParams;rr=LZ.CancellationToken.is(Fe[Ht])?Fe[Ht]:void 0}let Jt=o++,$t,kt=!1;rr!==void 0&&(rr.isCancellationRequested?kt=!0:$t=rr.onCancellationRequested(()=>{Je(oe,Jt)}));let K={jsonrpc:c,id:Jt,method:ft,params:Yt};return ln(K),typeof Me.sender.enableCancellation=="function"&&Me.sender.enableCancellation(K),new Promise(async(Fe,Ht)=>{let Dr=Pe=>{Fe(Pe),Me.sender.cleanup(Jt),$t?.dispose()},He=Pe=>{Ht(Pe),Me.sender.cleanup(Jt),$t?.dispose()},ne={method:ft,timerStart:Date.now(),resolve:Dr,reject:He};try{A.set(Jt,ne),await e.write(K),kt&&Je(oe,Jt)}catch(Pe){throw A.delete(Jt),ne.reject(new Mi.ResponseError(Mi.ErrorCodes.MessageWriteError,Pe.message?Pe.message:"Unknown reason")),i.error("Sending request failed."),Pe}})},onRequest:(Q,_e)=>{Vr();let Je=null;return FZ.is(Q)?(Je=void 0,d=Q):Bc.string(Q)?(Je=null,_e!==void 0&&(Je=Q,f.set(Q,{handler:_e,type:void 0}))):_e!==void 0&&(Je=Q.method,f.set(Q.method,{type:Q,handler:_e})),{dispose:()=>{Je!==null&&(Je!==void 0?f.delete(Je):d=void 0)}}},hasPendingResponse:()=>A.size>0,trace:async(Q,_e,Je)=>{let ft=!1,Yt=Dg.Text;Je!==void 0&&(Bc.boolean(Je)?ft=Je:(ft=Je.sendNotification||!1,Yt=Je.traceFormat||Dg.Text)),he=Q,we=Yt,he===vs.Off?V=void 0:V=_e,ft&&!be()&&!xe()&&await oe.sendNotification(jZ.type,{value:vs.toString(Q)})},onError:te.event,onClose:De.event,onUnhandledNotification:ae.event,onDispose:qe.event,end:()=>{e.end()},dispose:()=>{if(xe())return;W=Xy.Disposed,qe.fire(void 0);let Q=new Mi.ResponseError(Mi.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let _e of A.values())_e.reject(Q);A=new Map,ee=new Map,U=new Set,N=new VIe.LinkedMap,Bc.func(e.dispose)&&e.dispose(),Bc.func(r.dispose)&&r.dispose()},listen:()=>{Vr(),An(),W=Xy.Listening,r.listen(zr)},inspect:()=>{(0,$Ie.default)().console.log("inspect")}};return oe.onNotification(vB.type,Q=>{if(he===vs.Off||!V)return;let _e=he===vs.Verbose||he===vs.Compact;V.log(Q.message,_e?Q.verbose:void 0)}),oe.onNotification(uN.type,async Q=>{let _e=D.get(Q.token);_e?await _e(Q.value):ue.fire(Q)}),oe}});var il=C(Pt=>{"use strict";var nwt=Pt&&Pt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.ProgressType=Pt.ProgressToken=Pt.createMessageConnection=Pt.NullLogger=Pt.ConnectionOptions=Pt.ConnectionStrategy=Pt.AbstractMessageBuffer=Pt.WriteableStreamMessageWriter=Pt.AbstractMessageWriter=Pt.MessageWriter=Pt.ReadableStreamMessageReader=Pt.AbstractMessageReader=Pt.MessageReader=Pt.SharedArrayReceiverStrategy=Pt.SharedArraySenderStrategy=Pt.CancellationToken=Pt.CancellationTokenSource=Pt.Emitter=Pt.Event=Pt.Disposable=Pt.LRUCache=Pt.Touch=Pt.LinkedMap=Pt.ParameterStructures=Pt.NotificationType9=Pt.NotificationType8=Pt.NotificationType7=Pt.NotificationType6=Pt.NotificationType5=Pt.NotificationType4=Pt.NotificationType3=Pt.NotificationType2=Pt.NotificationType1=Pt.NotificationType0=Pt.NotificationType=Pt.ErrorCodes=Pt.ResponseError=Pt.RequestType9=Pt.RequestType8=Pt.RequestType7=Pt.RequestType6=Pt.RequestType5=Pt.RequestType4=Pt.RequestType3=Pt.RequestType2=Pt.RequestType1=Pt.RequestType0=Pt.RequestType=Pt.Message=Pt.RAL=void 0;Pt.MessageStrategy=Pt.CancellationStrategy=Pt.CancellationSenderStrategy=Pt.RequestCancellationReceiverStrategy=Pt.IdCancellationReceiverStrategy=Pt.CancellationReceiverStrategy=Pt.ConnectionError=Pt.ConnectionErrors=Pt.LogTraceNotification=Pt.SetTraceNotification=Pt.TraceFormat=Pt.TraceValues=Pt.TraceValue=Pt.Trace=void 0;var Da=dZ();Object.defineProperty(Pt,"Message",{enumerable:!0,get:function(){return Da.Message}});Object.defineProperty(Pt,"RequestType",{enumerable:!0,get:function(){return Da.RequestType}});Object.defineProperty(Pt,"RequestType0",{enumerable:!0,get:function(){return Da.RequestType0}});Object.defineProperty(Pt,"RequestType1",{enumerable:!0,get:function(){return Da.RequestType1}});Object.defineProperty(Pt,"RequestType2",{enumerable:!0,get:function(){return Da.RequestType2}});Object.defineProperty(Pt,"RequestType3",{enumerable:!0,get:function(){return Da.RequestType3}});Object.defineProperty(Pt,"RequestType4",{enumerable:!0,get:function(){return Da.RequestType4}});Object.defineProperty(Pt,"RequestType5",{enumerable:!0,get:function(){return Da.RequestType5}});Object.defineProperty(Pt,"RequestType6",{enumerable:!0,get:function(){return Da.RequestType6}});Object.defineProperty(Pt,"RequestType7",{enumerable:!0,get:function(){return Da.RequestType7}});Object.defineProperty(Pt,"RequestType8",{enumerable:!0,get:function(){return Da.RequestType8}});Object.defineProperty(Pt,"RequestType9",{enumerable:!0,get:function(){return Da.RequestType9}});Object.defineProperty(Pt,"ResponseError",{enumerable:!0,get:function(){return Da.ResponseError}});Object.defineProperty(Pt,"ErrorCodes",{enumerable:!0,get:function(){return Da.ErrorCodes}});Object.defineProperty(Pt,"NotificationType",{enumerable:!0,get:function(){return Da.NotificationType}});Object.defineProperty(Pt,"NotificationType0",{enumerable:!0,get:function(){return Da.NotificationType0}});Object.defineProperty(Pt,"NotificationType1",{enumerable:!0,get:function(){return Da.NotificationType1}});Object.defineProperty(Pt,"NotificationType2",{enumerable:!0,get:function(){return Da.NotificationType2}});Object.defineProperty(Pt,"NotificationType3",{enumerable:!0,get:function(){return Da.NotificationType3}});Object.defineProperty(Pt,"NotificationType4",{enumerable:!0,get:function(){return Da.NotificationType4}});Object.defineProperty(Pt,"NotificationType5",{enumerable:!0,get:function(){return Da.NotificationType5}});Object.defineProperty(Pt,"NotificationType6",{enumerable:!0,get:function(){return Da.NotificationType6}});Object.defineProperty(Pt,"NotificationType7",{enumerable:!0,get:function(){return Da.NotificationType7}});Object.defineProperty(Pt,"NotificationType8",{enumerable:!0,get:function(){return Da.NotificationType8}});Object.defineProperty(Pt,"NotificationType9",{enumerable:!0,get:function(){return Da.NotificationType9}});Object.defineProperty(Pt,"ParameterStructures",{enumerable:!0,get:function(){return Da.ParameterStructures}});var HZ=hZ();Object.defineProperty(Pt,"LinkedMap",{enumerable:!0,get:function(){return HZ.LinkedMap}});Object.defineProperty(Pt,"LRUCache",{enumerable:!0,get:function(){return HZ.LRUCache}});Object.defineProperty(Pt,"Touch",{enumerable:!0,get:function(){return HZ.Touch}});var iwt=LIe();Object.defineProperty(Pt,"Disposable",{enumerable:!0,get:function(){return iwt.Disposable}});var YIe=dx();Object.defineProperty(Pt,"Event",{enumerable:!0,get:function(){return YIe.Event}});Object.defineProperty(Pt,"Emitter",{enumerable:!0,get:function(){return YIe.Emitter}});var JIe=hB();Object.defineProperty(Pt,"CancellationTokenSource",{enumerable:!0,get:function(){return JIe.CancellationTokenSource}});Object.defineProperty(Pt,"CancellationToken",{enumerable:!0,get:function(){return JIe.CancellationToken}});var XIe=MIe();Object.defineProperty(Pt,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return XIe.SharedArraySenderStrategy}});Object.defineProperty(Pt,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return XIe.SharedArrayReceiverStrategy}});var BZ=qIe();Object.defineProperty(Pt,"MessageReader",{enumerable:!0,get:function(){return BZ.MessageReader}});Object.defineProperty(Pt,"AbstractMessageReader",{enumerable:!0,get:function(){return BZ.AbstractMessageReader}});Object.defineProperty(Pt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return BZ.ReadableStreamMessageReader}});var WZ=BIe();Object.defineProperty(Pt,"MessageWriter",{enumerable:!0,get:function(){return WZ.MessageWriter}});Object.defineProperty(Pt,"AbstractMessageWriter",{enumerable:!0,get:function(){return WZ.AbstractMessageWriter}});Object.defineProperty(Pt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return WZ.WriteableStreamMessageWriter}});var owt=WIe();Object.defineProperty(Pt,"AbstractMessageBuffer",{enumerable:!0,get:function(){return owt.AbstractMessageBuffer}});var nl=KIe();Object.defineProperty(Pt,"ConnectionStrategy",{enumerable:!0,get:function(){return nl.ConnectionStrategy}});Object.defineProperty(Pt,"ConnectionOptions",{enumerable:!0,get:function(){return nl.ConnectionOptions}});Object.defineProperty(Pt,"NullLogger",{enumerable:!0,get:function(){return nl.NullLogger}});Object.defineProperty(Pt,"createMessageConnection",{enumerable:!0,get:function(){return nl.createMessageConnection}});Object.defineProperty(Pt,"ProgressToken",{enumerable:!0,get:function(){return nl.ProgressToken}});Object.defineProperty(Pt,"ProgressType",{enumerable:!0,get:function(){return nl.ProgressType}});Object.defineProperty(Pt,"Trace",{enumerable:!0,get:function(){return nl.Trace}});Object.defineProperty(Pt,"TraceValue",{enumerable:!0,get:function(){return nl.TraceValue}});Object.defineProperty(Pt,"TraceFormat",{enumerable:!0,get:function(){return nl.TraceFormat}});Object.defineProperty(Pt,"SetTraceNotification",{enumerable:!0,get:function(){return nl.SetTraceNotification}});Object.defineProperty(Pt,"LogTraceNotification",{enumerable:!0,get:function(){return nl.LogTraceNotification}});Object.defineProperty(Pt,"ConnectionErrors",{enumerable:!0,get:function(){return nl.ConnectionErrors}});Object.defineProperty(Pt,"ConnectionError",{enumerable:!0,get:function(){return nl.ConnectionError}});Object.defineProperty(Pt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return nl.CancellationReceiverStrategy}});Object.defineProperty(Pt,"IdCancellationReceiverStrategy",{enumerable:!0,get:function(){return nl.IdCancellationReceiverStrategy}});Object.defineProperty(Pt,"RequestCancellationReceiverStrategy",{enumerable:!0,get:function(){return nl.RequestCancellationReceiverStrategy}});Object.defineProperty(Pt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return nl.CancellationSenderStrategy}});Object.defineProperty(Pt,"CancellationStrategy",{enumerable:!0,get:function(){return nl.CancellationStrategy}});Object.defineProperty(Pt,"MessageStrategy",{enumerable:!0,get:function(){return nl.MessageStrategy}});Object.defineProperty(Pt,"TraceValues",{enumerable:!0,get:function(){return nl.TraceValues}});var swt=nwt(VT());Pt.RAL=swt.default});var AB={};Qk(AB,{AnnotatedTextEdit:()=>SS,ApplyKind:()=>fee,ChangeAnnotation:()=>KT,ChangeAnnotationIdentifier:()=>wd,CodeAction:()=>Pee,CodeActionContext:()=>Ree,CodeActionKind:()=>Eee,CodeActionTag:()=>xB,CodeActionTriggerKind:()=>yN,CodeDescription:()=>eee,CodeLens:()=>xee,Color:()=>TB,ColorInformation:()=>KZ,ColorPresentation:()=>YZ,Command:()=>iE,CompletionItem:()=>pee,CompletionItemKind:()=>aee,CompletionItemLabelDetails:()=>hee,CompletionItemTag:()=>uee,CompletionList:()=>mee,CreateFile:()=>vx,DeleteFile:()=>_x,Diagnostic:()=>pN,DiagnosticRelatedInformation:()=>DB,DiagnosticSeverity:()=>QZ,DiagnosticTag:()=>ZZ,DocumentHighlight:()=>bee,DocumentHighlightKind:()=>_ee,DocumentLink:()=>Iee,DocumentSymbol:()=>Dee,DocumentUri:()=>$Z,EOL:()=>awt,FoldingRange:()=>XZ,FoldingRangeKind:()=>JZ,FormattingOptions:()=>Oee,Hover:()=>gee,InlayHint:()=>zee,InlayHintKind:()=>OB,InlayHintLabelPart:()=>IB,InlineCompletionContext:()=>$ee,InlineCompletionItem:()=>Uee,InlineCompletionList:()=>Hee,InlineCompletionTriggerKind:()=>Bee,InlineValueContext:()=>jee,InlineValueEvaluatableExpression:()=>qee,InlineValueText:()=>Mee,InlineValueVariableLookup:()=>Fee,InsertReplaceEdit:()=>lee,InsertTextFormat:()=>cee,InsertTextMode:()=>dee,LanguageKind:()=>oee,Location:()=>hN,LocationLink:()=>GZ,MarkedString:()=>vN,MarkupContent:()=>bx,MarkupKind:()=>PB,OptionalVersionedTextDocumentIdentifier:()=>gN,ParameterInformation:()=>vee,Position:()=>jv,Range:()=>Wc,RenameFile:()=>yx,SelectedCompletionInfo:()=>Wee,SelectionRange:()=>kee,SemanticTokenModifiers:()=>Lee,SemanticTokenTypes:()=>Aee,SemanticTokens:()=>Nee,SignatureInformation:()=>yee,SnippetTextEdit:()=>tee,StringValue:()=>kB,SymbolInformation:()=>Cee,SymbolKind:()=>wee,SymbolTag:()=>See,TextDocument:()=>Gee,TextDocumentEdit:()=>mN,TextDocumentIdentifier:()=>nee,TextDocumentItem:()=>see,TextEdit:()=>wb,URI:()=>CB,VersionedTextDocumentIdentifier:()=>iee,WorkspaceChange:()=>ree,WorkspaceEdit:()=>EB,WorkspaceFolder:()=>Vee,WorkspaceSymbol:()=>Tee,integer:()=>VZ,uinteger:()=>fN});var $Z,CB,VZ,fN,jv,Wc,hN,GZ,TB,KZ,YZ,JZ,XZ,DB,QZ,ZZ,eee,pN,iE,wb,KT,wd,SS,mN,vx,yx,_x,EB,gx,tee,RB,ree,nee,iee,gN,oee,see,PB,bx,aee,cee,uee,lee,dee,fee,hee,pee,mee,vN,gee,vee,yee,_ee,bee,wee,See,Cee,Tee,Dee,Eee,yN,Ree,xB,Pee,xee,Oee,Iee,kee,Aee,Lee,Nee,Mee,Fee,qee,jee,OB,IB,zee,kB,Uee,Hee,Bee,Wee,$ee,Vee,awt,Gee,Kee,dt,LB=Ti(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})($Z||($Z={}));(function(r){function e(t){return typeof t=="string"}r.is=e})(CB||(CB={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(VZ||(VZ={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(fN||(fN={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=fN.MAX_VALUE),i===Number.MAX_VALUE&&(i=fN.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.line)&&dt.uinteger(i.character)}r.is=t})(jv||(jv={}));(function(r){function e(n,i,o,s){if(dt.uinteger(n)&&dt.uinteger(i)&&dt.uinteger(o)&&dt.uinteger(s))return{start:jv.create(n,i),end:jv.create(o,s)};if(jv.is(n)&&jv.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&jv.is(i.start)&&jv.is(i.end)}r.is=t})(Wc||(Wc={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Wc.is(i.range)&&(dt.string(i.uri)||dt.undefined(i.uri))}r.is=t})(hN||(hN={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Wc.is(i.targetRange)&&dt.string(i.targetUri)&&Wc.is(i.targetSelectionRange)&&(Wc.is(i.originSelectionRange)||dt.undefined(i.originSelectionRange))}r.is=t})(GZ||(GZ={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.numberRange(i.red,0,1)&&dt.numberRange(i.green,0,1)&&dt.numberRange(i.blue,0,1)&&dt.numberRange(i.alpha,0,1)}r.is=t})(TB||(TB={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Wc.is(i.range)&&TB.is(i.color)}r.is=t})(KZ||(KZ={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.undefined(i.textEdit)||wb.is(i))&&(dt.undefined(i.additionalTextEdits)||dt.typedArray(i.additionalTextEdits,wb.is))}r.is=t})(YZ||(YZ={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(JZ||(JZ={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return dt.defined(o)&&(u.startCharacter=o),dt.defined(s)&&(u.endCharacter=s),dt.defined(a)&&(u.kind=a),dt.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.startLine)&&dt.uinteger(i.startLine)&&(dt.undefined(i.startCharacter)||dt.uinteger(i.startCharacter))&&(dt.undefined(i.endCharacter)||dt.uinteger(i.endCharacter))&&(dt.undefined(i.kind)||dt.string(i.kind))}r.is=t})(XZ||(XZ={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&hN.is(i.location)&&dt.string(i.message)}r.is=t})(DB||(DB={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(QZ||(QZ={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(ZZ||(ZZ={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&dt.string(n.href)}r.is=e})(eee||(eee={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return dt.defined(o)&&(u.severity=o),dt.defined(s)&&(u.code=s),dt.defined(a)&&(u.source=a),dt.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return dt.defined(o)&&Wc.is(o.range)&&dt.string(o.message)&&(dt.number(o.severity)||dt.undefined(o.severity))&&(dt.integer(o.code)||dt.string(o.code)||dt.undefined(o.code))&&(dt.undefined(o.codeDescription)||dt.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(dt.string(o.source)||dt.undefined(o.source))&&(dt.undefined(o.relatedInformation)||dt.typedArray(o.relatedInformation,DB.is))}r.is=t})(pN||(pN={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return dt.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.title)&&(i.tooltip===void 0||dt.string(i.tooltip))&&dt.string(i.command)}r.is=t})(iE||(iE={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return dt.objectLiteral(s)&&dt.string(s.newText)&&Wc.is(s.range)}r.is=i})(wb||(wb={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(dt.string(i.description)||i.description===void 0)}r.is=t})(KT||(KT={}));(function(r){function e(t){let n=t;return dt.string(n)}r.is=e})(wd||(wd={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return wb.is(s)&&(KT.is(s.annotationId)||wd.is(s.annotationId))}r.is=i})(SS||(SS={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&gN.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})(mN||(mN={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&dt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||wd.is(i.annotationId))}r.is=t})(vx||(vx={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&dt.string(i.oldUri)&&dt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||wd.is(i.annotationId))}r.is=t})(yx||(yx={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&dt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||dt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||dt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||wd.is(i.annotationId))}r.is=t})(_x||(_x={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>dt.string(i.kind)?vx.is(i)||yx.is(i)||_x.is(i):mN.is(i)))}r.is=e})(EB||(EB={}));gx=class{constructor(e,t){this.edits=e,this.changeAnnotations=t}insert(e,t,n){let i,o;if(n===void 0?i=wb.insert(e,t):wd.is(n)?(o=n,i=SS.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=SS.insert(e,t,o)),this.edits.push(i),o!==void 0)return o}replace(e,t,n){let i,o;if(n===void 0?i=wb.replace(e,t):wd.is(n)?(o=n,i=SS.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=SS.replace(e,t,o)),this.edits.push(i),o!==void 0)return o}delete(e,t){let n,i;if(t===void 0?n=wb.del(e):wd.is(t)?(i=t,n=SS.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(t),n=SS.del(e,i)),this.edits.push(n),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}};(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&Wc.is(n.range)&&kB.isSnippet(n.snippet)&&(n.annotationId===void 0||KT.is(n.annotationId)||wd.is(n.annotationId))}r.is=e})(tee||(tee={}));RB=class{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,t){let n;if(wd.is(e)?n=e:(n=this.nextId(),t=e),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(t===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=t,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},ree=class{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new RB(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(t=>{if(mN.is(t)){let n=new gx(t.edits,this._changeAnnotations);this._textEditChanges[t.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach(t=>{let n=new gx(e.changes[t]);this._textEditChanges[t]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(gN.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let t={uri:e.uri,version:e.version},n=this._textEditChanges[t.uri];if(!n){let i=[],o={textDocument:t,edits:i};this._workspaceEdit.documentChanges.push(o),n=new gx(i,this._changeAnnotations),this._textEditChanges[t.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let t=this._textEditChanges[e];if(!t){let n=[];this._workspaceEdit.changes[e]=n,t=new gx(n),this._textEditChanges[e]=t}return t}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new RB,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;KT.is(t)||wd.is(t)?i=t:n=t;let o,s;if(i===void 0?o=vx.create(e,n):(s=wd.is(i)?i:this._changeAnnotations.manage(i),o=vx.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(e,t,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;KT.is(n)||wd.is(n)?o=n:i=n;let s,a;if(o===void 0?s=yx.create(e,t,i):(a=wd.is(o)?o:this._changeAnnotations.manage(o),s=yx.create(e,t,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}deleteFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;KT.is(t)||wd.is(t)?i=t:n=t;let o,s;if(i===void 0?o=_x.create(e,n):(s=wd.is(i)?i:this._changeAnnotations.manage(i),o=_x.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}};(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)}r.is=t})(nee||(nee={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.integer(i.version)}r.is=t})(iee||(iee={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&(i.version===null||dt.integer(i.version))}r.is=t})(gN||(gN={}));(function(r){r.ABAP="abap",r.WindowsBat="bat",r.BibTeX="bibtex",r.Clojure="clojure",r.Coffeescript="coffeescript",r.C="c",r.CPP="cpp",r.CSharp="csharp",r.CSS="css",r.D="d",r.Delphi="pascal",r.Diff="diff",r.Dart="dart",r.Dockerfile="dockerfile",r.Elixir="elixir",r.Erlang="erlang",r.FSharp="fsharp",r.GitCommit="git-commit",r.GitRebase="rebase",r.Go="go",r.Groovy="groovy",r.Handlebars="handlebars",r.Haskell="haskell",r.HTML="html",r.Ini="ini",r.Java="java",r.JavaScript="javascript",r.JavaScriptReact="javascriptreact",r.JSON="json",r.LaTeX="latex",r.Less="less",r.Lua="lua",r.Makefile="makefile",r.Markdown="markdown",r.ObjectiveC="objective-c",r.ObjectiveCPP="objective-cpp",r.Pascal="pascal",r.Perl="perl",r.Perl6="perl6",r.PHP="php",r.Powershell="powershell",r.Pug="jade",r.Python="python",r.R="r",r.Razor="razor",r.Ruby="ruby",r.Rust="rust",r.SCSS="scss",r.SASS="sass",r.Scala="scala",r.ShaderLab="shaderlab",r.ShellScript="shellscript",r.SQL="sql",r.Swift="swift",r.TypeScript="typescript",r.TypeScriptReact="typescriptreact",r.TeX="tex",r.VisualBasic="vb",r.XML="xml",r.XSL="xsl",r.YAML="yaml"})(oee||(oee={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.string(i.languageId)&&dt.integer(i.version)&&dt.string(i.text)}r.is=t})(see||(see={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})(PB||(PB={}));(function(r){function e(t){let n=t;return dt.objectLiteral(t)&&PB.is(n.kind)&&dt.string(n.value)}r.is=e})(bx||(bx={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(aee||(aee={}));(function(r){r.PlainText=1,r.Snippet=2})(cee||(cee={}));(function(r){r.Deprecated=1})(uee||(uee={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&dt.string(i.newText)&&Wc.is(i.insert)&&Wc.is(i.replace)}r.is=t})(lee||(lee={}));(function(r){r.asIs=1,r.adjustIndentation=2})(dee||(dee={}));(function(r){r.Replace=1,r.Merge=2})(fee||(fee={}));(function(r){function e(t){let n=t;return n&&(dt.string(n.detail)||n.detail===void 0)&&(dt.string(n.description)||n.description===void 0)}r.is=e})(hee||(hee={}));(function(r){function e(t){return{label:t}}r.create=e})(pee||(pee={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})(mee||(mee={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return dt.string(i)||dt.objectLiteral(i)&&dt.string(i.language)&&dt.string(i.value)}r.is=t})(vN||(vN={}));(function(r){function e(t){let n=t;return!!n&&dt.objectLiteral(n)&&(bx.is(n.contents)||vN.is(n.contents)||dt.typedArray(n.contents,vN.is))&&(t.range===void 0||Wc.is(t.range))}r.is=e})(gee||(gee={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})(vee||(vee={}));(function(r){function e(t,n,...i){let o={label:t};return dt.defined(n)&&(o.documentation=n),dt.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(yee||(yee={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(_ee||(_ee={}));(function(r){function e(t,n){let i={range:t};return dt.number(n)&&(i.kind=n),i}r.create=e})(bee||(bee={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(wee||(wee={}));(function(r){r.Deprecated=1})(See||(See={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(Cee||(Cee={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(Tee||(Tee={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&dt.string(i.name)&&dt.number(i.kind)&&Wc.is(i.range)&&Wc.is(i.selectionRange)&&(i.detail===void 0||dt.string(i.detail))&&(i.deprecated===void 0||dt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})(Dee||(Dee={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorMove="refactor.move",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll",r.Notebook="notebook"})(Eee||(Eee={}));(function(r){r.Invoked=1,r.Automatic=2})(yN||(yN={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.typedArray(i.diagnostics,pN.is)&&(i.only===void 0||dt.typedArray(i.only,dt.string))&&(i.triggerKind===void 0||i.triggerKind===yN.Invoked||i.triggerKind===yN.Automatic)}r.is=t})(Ree||(Ree={}));(function(r){r.LLMGenerated=1;function e(t){return dt.defined(t)&&t===r.LLMGenerated}r.is=e})(xB||(xB={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):iE.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&dt.string(i.title)&&(i.diagnostics===void 0||dt.typedArray(i.diagnostics,pN.is))&&(i.kind===void 0||dt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||iE.is(i.command))&&(i.isPreferred===void 0||dt.boolean(i.isPreferred))&&(i.edit===void 0||EB.is(i.edit))&&(i.tags===void 0||dt.typedArray(i.tags,xB.is))}r.is=t})(Pee||(Pee={}));(function(r){function e(n,i){let o={range:n};return dt.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return dt.defined(i)&&Wc.is(i.range)&&(dt.undefined(i.command)||iE.is(i.command))}r.is=t})(xee||(xee={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.uinteger(i.tabSize)&&dt.boolean(i.insertSpaces)}r.is=t})(Oee||(Oee={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return dt.defined(i)&&Wc.is(i.range)&&(dt.undefined(i.target)||dt.string(i.target))}r.is=t})(Iee||(Iee={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Wc.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(kee||(kee={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator",r.label="label"})(Aee||(Aee={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(Lee||(Lee={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(Nee||(Nee={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&Wc.is(i.range)&&dt.string(i.text)}r.is=t})(Mee||(Mee={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&Wc.is(i.range)&&dt.boolean(i.caseSensitiveLookup)&&(dt.string(i.variableName)||i.variableName===void 0)}r.is=t})(Fee||(Fee={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&Wc.is(i.range)&&(dt.string(i.expression)||i.expression===void 0)}r.is=t})(qee||(qee={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&Wc.is(n.stoppedLocation)}r.is=t})(jee||(jee={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(OB||(OB={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&(i.tooltip===void 0||dt.string(i.tooltip)||bx.is(i.tooltip))&&(i.location===void 0||hN.is(i.location))&&(i.command===void 0||iE.is(i.command))}r.is=t})(IB||(IB={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&jv.is(i.position)&&(dt.string(i.label)||dt.typedArray(i.label,IB.is))&&(i.kind===void 0||OB.is(i.kind))&&i.textEdits===void 0||dt.typedArray(i.textEdits,wb.is)&&(i.tooltip===void 0||dt.string(i.tooltip)||bx.is(i.tooltip))&&(i.paddingLeft===void 0||dt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||dt.boolean(i.paddingRight))}r.is=t})(zee||(zee={}));(function(r){function e(n){return{kind:"snippet",value:n}}r.createSnippet=e;function t(n){let i=n;return dt.objectLiteral(i)&&i.kind==="snippet"&&dt.string(i.value)}r.isSnippet=t})(kB||(kB={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(Uee||(Uee={}));(function(r){function e(t){return{items:t}}r.create=e})(Hee||(Hee={}));(function(r){r.Invoked=1,r.Automatic=2})(Bee||(Bee={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(Wee||(Wee={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})($ee||($ee={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&CB.is(n.uri)&&dt.string(n.name)}r.is=e})(Vee||(Vee={}));awt=[`
`,`\r
`,"\r"];(function(r){function e(o,s,a,c){return new Kee(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(dt.defined(s)&&dt.string(s.uri)&&(dt.undefined(s.languageId)||dt.string(s.languageId))&&dt.uinteger(s.lineCount)&&dt.func(s.getText)&&dt.func(s.positionAt)&&dt.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),p=o.offsetAt(d.range.end);if(p<=u)a=a.substring(0,f)+d.newText+a.substring(p,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(Gee||(Gee={}));Kee=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return jv.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return jv.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(p){return typeof p<"u"}r.defined=t;function n(p){return typeof p>"u"}r.undefined=n;function i(p){return p===!0||p===!1}r.boolean=i;function o(p){return e.call(p)==="[object String]"}r.string=o;function s(p){return e.call(p)==="[object Number]"}r.number=s;function a(p,_,D){return e.call(p)==="[object Number]"&&_<=p&&p<=D}r.numberRange=a;function c(p){return e.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}r.integer=c;function u(p){return e.call(p)==="[object Number]"&&0<=p&&p<=2147483647}r.uinteger=u;function l(p){return e.call(p)==="[object Function]"}r.func=l;function d(p){return p!==null&&typeof p=="object"}r.objectLiteral=d;function f(p,_){return Array.isArray(p)&&p.every(_)}r.typedArray=f})(dt||(dt={}))});var Ha=C(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.ProtocolNotificationType=vm.ProtocolNotificationType0=vm.ProtocolRequestType=vm.ProtocolRequestType0=vm.RegistrationType=vm.MessageDirection=void 0;var wx=il(),QIe;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})(QIe||(vm.MessageDirection=QIe={}));var Yee=class{____;method;constructor(e){this.method=e}};vm.RegistrationType=Yee;var Jee=class extends wx.RequestType0{__;___;____;_pr;constructor(e){super(e)}};vm.ProtocolRequestType0=Jee;var Xee=class extends wx.RequestType{__;___;____;_pr;constructor(e){super(e,wx.ParameterStructures.byName)}};vm.ProtocolRequestType=Xee;var Qee=class extends wx.NotificationType0{___;____;constructor(e){super(e)}};vm.ProtocolNotificationType0=Qee;var Zee=class extends wx.NotificationType{___;____;constructor(e){super(e,wx.ParameterStructures.byName)}};vm.ProtocolNotificationType=Zee});var NB=C(Qy=>{"use strict";Object.defineProperty(Qy,"__esModule",{value:!0});Qy.boolean=cwt;Qy.string=ZIe;Qy.number=uwt;Qy.error=lwt;Qy.func=dwt;Qy.array=eke;Qy.stringArray=fwt;Qy.typedArray=hwt;Qy.objectLiteral=pwt;function cwt(r){return r===!0||r===!1}function ZIe(r){return typeof r=="string"||r instanceof String}function uwt(r){return typeof r=="number"||r instanceof Number}function lwt(r){return r instanceof Error}function dwt(r){return typeof r=="function"}function eke(r){return Array.isArray(r)}function fwt(r){return eke(r)&&r.every(e=>ZIe(e))}function hwt(r,e){return Array.isArray(r)&&r.every(e)}function pwt(r){return r!==null&&typeof r=="object"}});var nke=C(MB=>{"use strict";Object.defineProperty(MB,"__esModule",{value:!0});MB.ImplementationRequest=void 0;var tke=Ha(),rke;(function(r){r.method="textDocument/implementation",r.messageDirection=tke.MessageDirection.clientToServer,r.type=new tke.ProtocolRequestType(r.method)})(rke||(MB.ImplementationRequest=rke={}))});var ske=C(FB=>{"use strict";Object.defineProperty(FB,"__esModule",{value:!0});FB.TypeDefinitionRequest=void 0;var ike=Ha(),oke;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=ike.MessageDirection.clientToServer,r.type=new ike.ProtocolRequestType(r.method)})(oke||(FB.TypeDefinitionRequest=oke={}))});var uke=C(Sx=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});Sx.DidChangeWorkspaceFoldersNotification=Sx.WorkspaceFoldersRequest=void 0;var qB=Ha(),ake;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=qB.MessageDirection.serverToClient,r.type=new qB.ProtocolRequestType0(r.method)})(ake||(Sx.WorkspaceFoldersRequest=ake={}));var cke;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=qB.MessageDirection.clientToServer,r.type=new qB.ProtocolNotificationType(r.method)})(cke||(Sx.DidChangeWorkspaceFoldersNotification=cke={}))});var fke=C(jB=>{"use strict";Object.defineProperty(jB,"__esModule",{value:!0});jB.ConfigurationRequest=void 0;var lke=Ha(),dke;(function(r){r.method="workspace/configuration",r.messageDirection=lke.MessageDirection.serverToClient,r.type=new lke.ProtocolRequestType(r.method)})(dke||(jB.ConfigurationRequest=dke={}))});var mke=C(Cx=>{"use strict";Object.defineProperty(Cx,"__esModule",{value:!0});Cx.ColorPresentationRequest=Cx.DocumentColorRequest=void 0;var zB=Ha(),hke;(function(r){r.method="textDocument/documentColor",r.messageDirection=zB.MessageDirection.clientToServer,r.type=new zB.ProtocolRequestType(r.method)})(hke||(Cx.DocumentColorRequest=hke={}));var pke;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=zB.MessageDirection.clientToServer,r.type=new zB.ProtocolRequestType(r.method)})(pke||(Cx.ColorPresentationRequest=pke={}))});var yke=C(Tx=>{"use strict";Object.defineProperty(Tx,"__esModule",{value:!0});Tx.FoldingRangeRefreshRequest=Tx.FoldingRangeRequest=void 0;var UB=Ha(),gke;(function(r){r.method="textDocument/foldingRange",r.messageDirection=UB.MessageDirection.clientToServer,r.type=new UB.ProtocolRequestType(r.method)})(gke||(Tx.FoldingRangeRequest=gke={}));var vke;(function(r){r.method="workspace/foldingRange/refresh",r.messageDirection=UB.MessageDirection.serverToClient,r.type=new UB.ProtocolRequestType0(r.method)})(vke||(Tx.FoldingRangeRefreshRequest=vke={}))});var wke=C(HB=>{"use strict";Object.defineProperty(HB,"__esModule",{value:!0});HB.DeclarationRequest=void 0;var _ke=Ha(),bke;(function(r){r.method="textDocument/declaration",r.messageDirection=_ke.MessageDirection.clientToServer,r.type=new _ke.ProtocolRequestType(r.method)})(bke||(HB.DeclarationRequest=bke={}))});var Tke=C(BB=>{"use strict";Object.defineProperty(BB,"__esModule",{value:!0});BB.SelectionRangeRequest=void 0;var Ske=Ha(),Cke;(function(r){r.method="textDocument/selectionRange",r.messageDirection=Ske.MessageDirection.clientToServer,r.type=new Ske.ProtocolRequestType(r.method)})(Cke||(BB.SelectionRangeRequest=Cke={}))});var Pke=C(YT=>{"use strict";Object.defineProperty(YT,"__esModule",{value:!0});YT.WorkDoneProgressCancelNotification=YT.WorkDoneProgressCreateRequest=YT.WorkDoneProgress=void 0;var mwt=il(),WB=Ha(),Dke;(function(r){r.type=new mwt.ProgressType;function e(t){return t===r.type}r.is=e})(Dke||(YT.WorkDoneProgress=Dke={}));var Eke;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=WB.MessageDirection.serverToClient,r.type=new WB.ProtocolRequestType(r.method)})(Eke||(YT.WorkDoneProgressCreateRequest=Eke={}));var Rke;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=WB.MessageDirection.clientToServer,r.type=new WB.ProtocolNotificationType(r.method)})(Rke||(YT.WorkDoneProgressCancelNotification=Rke={}))});var kke=C(JT=>{"use strict";Object.defineProperty(JT,"__esModule",{value:!0});JT.CallHierarchyOutgoingCallsRequest=JT.CallHierarchyIncomingCallsRequest=JT.CallHierarchyPrepareRequest=void 0;var Dx=Ha(),xke;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=Dx.MessageDirection.clientToServer,r.type=new Dx.ProtocolRequestType(r.method)})(xke||(JT.CallHierarchyPrepareRequest=xke={}));var Oke;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=Dx.MessageDirection.clientToServer,r.type=new Dx.ProtocolRequestType(r.method)})(Oke||(JT.CallHierarchyIncomingCallsRequest=Oke={}));var Ike;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=Dx.MessageDirection.clientToServer,r.type=new Dx.ProtocolRequestType(r.method)})(Ike||(JT.CallHierarchyOutgoingCallsRequest=Ike={}))});var qke=C(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.SemanticTokensRefreshRequest=ym.SemanticTokensRangeRequest=ym.SemanticTokensDeltaRequest=ym.SemanticTokensRequest=ym.SemanticTokensRegistrationType=ym.TokenFormat=void 0;var CS=Ha(),Ake;(function(r){r.Relative="relative"})(Ake||(ym.TokenFormat=Ake={}));var _N;(function(r){r.method="textDocument/semanticTokens",r.type=new CS.RegistrationType(r.method)})(_N||(ym.SemanticTokensRegistrationType=_N={}));var Lke;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=CS.MessageDirection.clientToServer,r.type=new CS.ProtocolRequestType(r.method),r.registrationMethod=_N.method})(Lke||(ym.SemanticTokensRequest=Lke={}));var Nke;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=CS.MessageDirection.clientToServer,r.type=new CS.ProtocolRequestType(r.method),r.registrationMethod=_N.method})(Nke||(ym.SemanticTokensDeltaRequest=Nke={}));var Mke;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=CS.MessageDirection.clientToServer,r.type=new CS.ProtocolRequestType(r.method),r.registrationMethod=_N.method})(Mke||(ym.SemanticTokensRangeRequest=Mke={}));var Fke;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=CS.MessageDirection.serverToClient,r.type=new CS.ProtocolRequestType0(r.method)})(Fke||(ym.SemanticTokensRefreshRequest=Fke={}))});var Uke=C($B=>{"use strict";Object.defineProperty($B,"__esModule",{value:!0});$B.ShowDocumentRequest=void 0;var jke=Ha(),zke;(function(r){r.method="window/showDocument",r.messageDirection=jke.MessageDirection.serverToClient,r.type=new jke.ProtocolRequestType(r.method)})(zke||($B.ShowDocumentRequest=zke={}))});var Wke=C(VB=>{"use strict";Object.defineProperty(VB,"__esModule",{value:!0});VB.LinkedEditingRangeRequest=void 0;var Hke=Ha(),Bke;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=Hke.MessageDirection.clientToServer,r.type=new Hke.ProtocolRequestType(r.method)})(Bke||(VB.LinkedEditingRangeRequest=Bke={}))});var Qke=C(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.WillDeleteFilesRequest=ch.DidDeleteFilesNotification=ch.DidRenameFilesNotification=ch.WillRenameFilesRequest=ch.DidCreateFilesNotification=ch.WillCreateFilesRequest=ch.FileOperationPatternKind=void 0;var zv=Ha(),$ke;(function(r){r.file="file",r.folder="folder"})($ke||(ch.FileOperationPatternKind=$ke={}));var Vke;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=zv.MessageDirection.clientToServer,r.type=new zv.ProtocolRequestType(r.method)})(Vke||(ch.WillCreateFilesRequest=Vke={}));var Gke;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=zv.MessageDirection.clientToServer,r.type=new zv.ProtocolNotificationType(r.method)})(Gke||(ch.DidCreateFilesNotification=Gke={}));var Kke;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=zv.MessageDirection.clientToServer,r.type=new zv.ProtocolRequestType(r.method)})(Kke||(ch.WillRenameFilesRequest=Kke={}));var Yke;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=zv.MessageDirection.clientToServer,r.type=new zv.ProtocolNotificationType(r.method)})(Yke||(ch.DidRenameFilesNotification=Yke={}));var Jke;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=zv.MessageDirection.clientToServer,r.type=new zv.ProtocolNotificationType(r.method)})(Jke||(ch.DidDeleteFilesNotification=Jke={}));var Xke;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=zv.MessageDirection.clientToServer,r.type=new zv.ProtocolRequestType(r.method)})(Xke||(ch.WillDeleteFilesRequest=Xke={}))});var n1e=C(XT=>{"use strict";Object.defineProperty(XT,"__esModule",{value:!0});XT.MonikerRequest=XT.MonikerKind=XT.UniquenessLevel=void 0;var Zke=Ha(),e1e;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(e1e||(XT.UniquenessLevel=e1e={}));var t1e;(function(r){r.$import="import",r.$export="export",r.local="local"})(t1e||(XT.MonikerKind=t1e={}));var r1e;(function(r){r.method="textDocument/moniker",r.messageDirection=Zke.MessageDirection.clientToServer,r.type=new Zke.ProtocolRequestType(r.method)})(r1e||(XT.MonikerRequest=r1e={}))});var a1e=C(QT=>{"use strict";Object.defineProperty(QT,"__esModule",{value:!0});QT.TypeHierarchySubtypesRequest=QT.TypeHierarchySupertypesRequest=QT.TypeHierarchyPrepareRequest=void 0;var Ex=Ha(),i1e;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=Ex.MessageDirection.clientToServer,r.type=new Ex.ProtocolRequestType(r.method)})(i1e||(QT.TypeHierarchyPrepareRequest=i1e={}));var o1e;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=Ex.MessageDirection.clientToServer,r.type=new Ex.ProtocolRequestType(r.method)})(o1e||(QT.TypeHierarchySupertypesRequest=o1e={}));var s1e;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=Ex.MessageDirection.clientToServer,r.type=new Ex.ProtocolRequestType(r.method)})(s1e||(QT.TypeHierarchySubtypesRequest=s1e={}))});var l1e=C(Rx=>{"use strict";Object.defineProperty(Rx,"__esModule",{value:!0});Rx.InlineValueRefreshRequest=Rx.InlineValueRequest=void 0;var GB=Ha(),c1e;(function(r){r.method="textDocument/inlineValue",r.messageDirection=GB.MessageDirection.clientToServer,r.type=new GB.ProtocolRequestType(r.method)})(c1e||(Rx.InlineValueRequest=c1e={}));var u1e;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=GB.MessageDirection.serverToClient,r.type=new GB.ProtocolRequestType0(r.method)})(u1e||(Rx.InlineValueRefreshRequest=u1e={}))});var p1e=C(ZT=>{"use strict";Object.defineProperty(ZT,"__esModule",{value:!0});ZT.InlayHintRefreshRequest=ZT.InlayHintResolveRequest=ZT.InlayHintRequest=void 0;var Px=Ha(),d1e;(function(r){r.method="textDocument/inlayHint",r.messageDirection=Px.MessageDirection.clientToServer,r.type=new Px.ProtocolRequestType(r.method)})(d1e||(ZT.InlayHintRequest=d1e={}));var f1e;(function(r){r.method="inlayHint/resolve",r.messageDirection=Px.MessageDirection.clientToServer,r.type=new Px.ProtocolRequestType(r.method)})(f1e||(ZT.InlayHintResolveRequest=f1e={}));var h1e;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=Px.MessageDirection.serverToClient,r.type=new Px.ProtocolRequestType0(r.method)})(h1e||(ZT.InlayHintRefreshRequest=h1e={}))});var w1e=C(Sd=>{"use strict";var gwt=Sd&&Sd.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vwt=Sd&&Sd.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ywt=Sd&&Sd.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&gwt(t,e,n[i]);return vwt(t,e),t}}();Object.defineProperty(Sd,"__esModule",{value:!0});Sd.DiagnosticRefreshRequest=Sd.WorkspaceDiagnosticRequest=Sd.DocumentDiagnosticRequest=Sd.DocumentDiagnosticReportKind=Sd.DiagnosticServerCancellationData=void 0;var b1e=il(),_wt=ywt(NB()),xx=Ha(),m1e;(function(r){function e(t){let n=t;return n&&_wt.boolean(n.retriggerRequest)}r.is=e})(m1e||(Sd.DiagnosticServerCancellationData=m1e={}));var g1e;(function(r){r.Full="full",r.Unchanged="unchanged"})(g1e||(Sd.DocumentDiagnosticReportKind=g1e={}));var v1e;(function(r){r.method="textDocument/diagnostic",r.messageDirection=xx.MessageDirection.clientToServer,r.type=new xx.ProtocolRequestType(r.method),r.partialResult=new b1e.ProgressType})(v1e||(Sd.DocumentDiagnosticRequest=v1e={}));var y1e;(function(r){r.method="workspace/diagnostic",r.messageDirection=xx.MessageDirection.clientToServer,r.type=new xx.ProtocolRequestType(r.method),r.partialResult=new b1e.ProgressType})(y1e||(Sd.WorkspaceDiagnosticRequest=y1e={}));var _1e;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=xx.MessageDirection.serverToClient,r.type=new xx.ProtocolRequestType0(r.method)})(_1e||(Sd.DiagnosticRefreshRequest=_1e={}))});var P1e=C(ta=>{"use strict";var bwt=ta&&ta.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wwt=ta&&ta.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Swt=ta&&ta.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&bwt(t,e,n[i]);return wwt(t,e),t}}();Object.defineProperty(ta,"__esModule",{value:!0});ta.DidCloseNotebookDocumentNotification=ta.DidSaveNotebookDocumentNotification=ta.DidChangeNotebookDocumentNotification=ta.NotebookCellArrayChange=ta.DidOpenNotebookDocumentNotification=ta.NotebookDocumentSyncRegistrationType=ta.NotebookDocument=ta.NotebookCell=ta.ExecutionSummary=ta.NotebookCellKind=void 0;var bN=(LB(),GC(AB)),Zy=Swt(NB()),Sb=Ha(),ete;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(ete||(ta.NotebookCellKind=ete={}));var tte;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return Zy.objectLiteral(o)&&bN.uinteger.is(o.executionOrder)&&(o.success===void 0||Zy.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(tte||(ta.ExecutionSummary=tte={}));var KB;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return Zy.objectLiteral(s)&&ete.is(s.kind)&&bN.DocumentUri.is(s.document)&&(s.metadata===void 0||Zy.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!tte.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(Zy.objectLiteral(o)&&Zy.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(KB||(ta.NotebookCell=KB={}));var S1e;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return Zy.objectLiteral(i)&&Zy.string(i.uri)&&bN.integer.is(i.version)&&Zy.typedArray(i.cells,KB.is)}r.is=t})(S1e||(ta.NotebookDocument=S1e={}));var Ox;(function(r){r.method="notebookDocument/sync",r.messageDirection=Sb.MessageDirection.clientToServer,r.type=new Sb.RegistrationType(r.method)})(Ox||(ta.NotebookDocumentSyncRegistrationType=Ox={}));var C1e;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=Sb.MessageDirection.clientToServer,r.type=new Sb.ProtocolNotificationType(r.method),r.registrationMethod=Ox.method})(C1e||(ta.DidOpenNotebookDocumentNotification=C1e={}));var T1e;(function(r){function e(n){let i=n;return Zy.objectLiteral(i)&&bN.uinteger.is(i.start)&&bN.uinteger.is(i.deleteCount)&&(i.cells===void 0||Zy.typedArray(i.cells,KB.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})(T1e||(ta.NotebookCellArrayChange=T1e={}));var D1e;(function(r){r.method="notebookDocument/didChange",r.messageDirection=Sb.MessageDirection.clientToServer,r.type=new Sb.ProtocolNotificationType(r.method),r.registrationMethod=Ox.method})(D1e||(ta.DidChangeNotebookDocumentNotification=D1e={}));var E1e;(function(r){r.method="notebookDocument/didSave",r.messageDirection=Sb.MessageDirection.clientToServer,r.type=new Sb.ProtocolNotificationType(r.method),r.registrationMethod=Ox.method})(E1e||(ta.DidSaveNotebookDocumentNotification=E1e={}));var R1e;(function(r){r.method="notebookDocument/didClose",r.messageDirection=Sb.MessageDirection.clientToServer,r.type=new Sb.ProtocolNotificationType(r.method),r.registrationMethod=Ox.method})(R1e||(ta.DidCloseNotebookDocumentNotification=R1e={}))});var I1e=C(YB=>{"use strict";Object.defineProperty(YB,"__esModule",{value:!0});YB.InlineCompletionRequest=void 0;var x1e=Ha(),O1e;(function(r){r.method="textDocument/inlineCompletion",r.messageDirection=x1e.MessageDirection.clientToServer,r.type=new x1e.ProtocolRequestType(r.method)})(O1e||(YB.InlineCompletionRequest=O1e={}))});var L1e=C(Ix=>{"use strict";Object.defineProperty(Ix,"__esModule",{value:!0});Ix.TextDocumentContentRefreshRequest=Ix.TextDocumentContentRequest=void 0;var JB=Ha(),k1e;(function(r){r.method="workspace/textDocumentContent",r.messageDirection=JB.MessageDirection.clientToServer,r.type=new JB.ProtocolRequestType(r.method)})(k1e||(Ix.TextDocumentContentRequest=k1e={}));var A1e;(function(r){r.method="workspace/textDocumentContent/refresh",r.messageDirection=JB.MessageDirection.serverToClient,r.type=new JB.ProtocolRequestType(r.method)})(A1e||(Ix.TextDocumentContentRefreshRequest=A1e={}))});var KAe=C(Re=>{"use strict";var Cwt=Re&&Re.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Twt=Re&&Re.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Dwt=Re&&Re.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Cwt(t,e,n[i]);return Twt(t,e),t}}();Object.defineProperty(Re,"__esModule",{value:!0});Re.CodeActionRequest=Re.DocumentSymbolRequest=Re.DocumentHighlightRequest=Re.ReferencesRequest=Re.DefinitionRequest=Re.SignatureHelpRequest=Re.SignatureHelpTriggerKind=Re.HoverRequest=Re.CompletionResolveRequest=Re.CompletionRequest=Re.CompletionTriggerKind=Re.PublishDiagnosticsNotification=Re.WatchKind=Re.GlobPattern=Re.RelativePattern=Re.FileChangeType=Re.DidChangeWatchedFilesNotification=Re.WillSaveTextDocumentWaitUntilRequest=Re.WillSaveTextDocumentNotification=Re.TextDocumentSaveReason=Re.DidSaveTextDocumentNotification=Re.DidCloseTextDocumentNotification=Re.DidChangeTextDocumentNotification=Re.TextDocumentContentChangeEvent=Re.DidOpenTextDocumentNotification=Re.TextDocumentSyncKind=Re.TelemetryEventNotification=Re.LogMessageNotification=Re.ShowMessageRequest=Re.ShowMessageNotification=Re.MessageType=Re.DidChangeConfigurationNotification=Re.ExitNotification=Re.ShutdownRequest=Re.InitializedNotification=Re.InitializeErrorCodes=Re.InitializeRequest=Re.WorkDoneProgressOptions=Re.TextDocumentRegistrationOptions=Re.StaticRegistrationOptions=Re.PositionEncodingKind=Re.RegularExpressionEngineKind=Re.FailureHandlingKind=Re.ResourceOperationKind=Re.UnregistrationRequest=Re.RegistrationRequest=Re.DocumentSelector=Re.NotebookCellTextDocumentFilter=Re.NotebookDocumentFilter=Re.TextDocumentFilter=void 0;Re.UniquenessLevel=Re.WillDeleteFilesRequest=Re.DidDeleteFilesNotification=Re.WillRenameFilesRequest=Re.DidRenameFilesNotification=Re.WillCreateFilesRequest=Re.DidCreateFilesNotification=Re.FileOperationPatternKind=Re.LinkedEditingRangeRequest=Re.ShowDocumentRequest=Re.SemanticTokensRegistrationType=Re.SemanticTokensRefreshRequest=Re.SemanticTokensRangeRequest=Re.SemanticTokensDeltaRequest=Re.SemanticTokensRequest=Re.TokenFormat=Re.CallHierarchyPrepareRequest=Re.CallHierarchyOutgoingCallsRequest=Re.CallHierarchyIncomingCallsRequest=Re.WorkDoneProgressCancelNotification=Re.WorkDoneProgressCreateRequest=Re.WorkDoneProgress=Re.SelectionRangeRequest=Re.DeclarationRequest=Re.FoldingRangeRefreshRequest=Re.FoldingRangeRequest=Re.ColorPresentationRequest=Re.DocumentColorRequest=Re.ConfigurationRequest=Re.DidChangeWorkspaceFoldersNotification=Re.WorkspaceFoldersRequest=Re.TypeDefinitionRequest=Re.ImplementationRequest=Re.ApplyWorkspaceEditRequest=Re.ExecuteCommandRequest=Re.PrepareRenameRequest=Re.RenameRequest=Re.PrepareSupportDefaultBehavior=Re.DocumentOnTypeFormattingRequest=Re.DocumentRangesFormattingRequest=Re.DocumentRangeFormattingRequest=Re.DocumentFormattingRequest=Re.DocumentLinkResolveRequest=Re.DocumentLinkRequest=Re.CodeLensRefreshRequest=Re.CodeLensResolveRequest=Re.CodeLensRequest=Re.WorkspaceSymbolResolveRequest=Re.WorkspaceSymbolRequest=Re.CodeActionResolveRequest=void 0;Re.TextDocumentContentRefreshRequest=Re.TextDocumentContentRequest=Re.InlineCompletionRequest=Re.DidCloseNotebookDocumentNotification=Re.DidSaveNotebookDocumentNotification=Re.DidChangeNotebookDocumentNotification=Re.NotebookCellArrayChange=Re.DidOpenNotebookDocumentNotification=Re.NotebookDocumentSyncRegistrationType=Re.NotebookDocument=Re.NotebookCell=Re.ExecutionSummary=Re.NotebookCellKind=Re.DiagnosticRefreshRequest=Re.WorkspaceDiagnosticRequest=Re.DocumentDiagnosticRequest=Re.DocumentDiagnosticReportKind=Re.DiagnosticServerCancellationData=Re.InlayHintRefreshRequest=Re.InlayHintResolveRequest=Re.InlayHintRequest=Re.InlineValueRefreshRequest=Re.InlineValueRequest=Re.TypeHierarchySupertypesRequest=Re.TypeHierarchySubtypesRequest=Re.TypeHierarchyPrepareRequest=Re.MonikerRequest=Re.MonikerKind=void 0;var Cr=Ha(),N1e=(LB(),GC(AB)),Cd=Dwt(NB()),Ewt=nke();Object.defineProperty(Re,"ImplementationRequest",{enumerable:!0,get:function(){return Ewt.ImplementationRequest}});var Rwt=ske();Object.defineProperty(Re,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Rwt.TypeDefinitionRequest}});var BAe=uke();Object.defineProperty(Re,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return BAe.WorkspaceFoldersRequest}});Object.defineProperty(Re,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return BAe.DidChangeWorkspaceFoldersNotification}});var Pwt=fke();Object.defineProperty(Re,"ConfigurationRequest",{enumerable:!0,get:function(){return Pwt.ConfigurationRequest}});var WAe=mke();Object.defineProperty(Re,"DocumentColorRequest",{enumerable:!0,get:function(){return WAe.DocumentColorRequest}});Object.defineProperty(Re,"ColorPresentationRequest",{enumerable:!0,get:function(){return WAe.ColorPresentationRequest}});var $Ae=yke();Object.defineProperty(Re,"FoldingRangeRequest",{enumerable:!0,get:function(){return $Ae.FoldingRangeRequest}});Object.defineProperty(Re,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return $Ae.FoldingRangeRefreshRequest}});var xwt=wke();Object.defineProperty(Re,"DeclarationRequest",{enumerable:!0,get:function(){return xwt.DeclarationRequest}});var Owt=Tke();Object.defineProperty(Re,"SelectionRangeRequest",{enumerable:!0,get:function(){return Owt.SelectionRangeRequest}});var cte=Pke();Object.defineProperty(Re,"WorkDoneProgress",{enumerable:!0,get:function(){return cte.WorkDoneProgress}});Object.defineProperty(Re,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return cte.WorkDoneProgressCreateRequest}});Object.defineProperty(Re,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return cte.WorkDoneProgressCancelNotification}});var ute=kke();Object.defineProperty(Re,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ute.CallHierarchyIncomingCallsRequest}});Object.defineProperty(Re,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ute.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(Re,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ute.CallHierarchyPrepareRequest}});var kx=qke();Object.defineProperty(Re,"TokenFormat",{enumerable:!0,get:function(){return kx.TokenFormat}});Object.defineProperty(Re,"SemanticTokensRequest",{enumerable:!0,get:function(){return kx.SemanticTokensRequest}});Object.defineProperty(Re,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return kx.SemanticTokensDeltaRequest}});Object.defineProperty(Re,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return kx.SemanticTokensRangeRequest}});Object.defineProperty(Re,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return kx.SemanticTokensRefreshRequest}});Object.defineProperty(Re,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return kx.SemanticTokensRegistrationType}});var Iwt=Uke();Object.defineProperty(Re,"ShowDocumentRequest",{enumerable:!0,get:function(){return Iwt.ShowDocumentRequest}});var kwt=Wke();Object.defineProperty(Re,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return kwt.LinkedEditingRangeRequest}});var oE=Qke();Object.defineProperty(Re,"FileOperationPatternKind",{enumerable:!0,get:function(){return oE.FileOperationPatternKind}});Object.defineProperty(Re,"DidCreateFilesNotification",{enumerable:!0,get:function(){return oE.DidCreateFilesNotification}});Object.defineProperty(Re,"WillCreateFilesRequest",{enumerable:!0,get:function(){return oE.WillCreateFilesRequest}});Object.defineProperty(Re,"DidRenameFilesNotification",{enumerable:!0,get:function(){return oE.DidRenameFilesNotification}});Object.defineProperty(Re,"WillRenameFilesRequest",{enumerable:!0,get:function(){return oE.WillRenameFilesRequest}});Object.defineProperty(Re,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return oE.DidDeleteFilesNotification}});Object.defineProperty(Re,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return oE.WillDeleteFilesRequest}});var lte=n1e();Object.defineProperty(Re,"UniquenessLevel",{enumerable:!0,get:function(){return lte.UniquenessLevel}});Object.defineProperty(Re,"MonikerKind",{enumerable:!0,get:function(){return lte.MonikerKind}});Object.defineProperty(Re,"MonikerRequest",{enumerable:!0,get:function(){return lte.MonikerRequest}});var dte=a1e();Object.defineProperty(Re,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return dte.TypeHierarchyPrepareRequest}});Object.defineProperty(Re,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return dte.TypeHierarchySubtypesRequest}});Object.defineProperty(Re,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return dte.TypeHierarchySupertypesRequest}});var VAe=l1e();Object.defineProperty(Re,"InlineValueRequest",{enumerable:!0,get:function(){return VAe.InlineValueRequest}});Object.defineProperty(Re,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return VAe.InlineValueRefreshRequest}});var fte=p1e();Object.defineProperty(Re,"InlayHintRequest",{enumerable:!0,get:function(){return fte.InlayHintRequest}});Object.defineProperty(Re,"InlayHintResolveRequest",{enumerable:!0,get:function(){return fte.InlayHintResolveRequest}});Object.defineProperty(Re,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return fte.InlayHintRefreshRequest}});var wN=w1e();Object.defineProperty(Re,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return wN.DiagnosticServerCancellationData}});Object.defineProperty(Re,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return wN.DocumentDiagnosticReportKind}});Object.defineProperty(Re,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return wN.DocumentDiagnosticRequest}});Object.defineProperty(Re,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return wN.WorkspaceDiagnosticRequest}});Object.defineProperty(Re,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return wN.DiagnosticRefreshRequest}});var Cb=P1e();Object.defineProperty(Re,"NotebookCellKind",{enumerable:!0,get:function(){return Cb.NotebookCellKind}});Object.defineProperty(Re,"ExecutionSummary",{enumerable:!0,get:function(){return Cb.ExecutionSummary}});Object.defineProperty(Re,"NotebookCell",{enumerable:!0,get:function(){return Cb.NotebookCell}});Object.defineProperty(Re,"NotebookDocument",{enumerable:!0,get:function(){return Cb.NotebookDocument}});Object.defineProperty(Re,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Cb.NotebookDocumentSyncRegistrationType}});Object.defineProperty(Re,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Cb.DidOpenNotebookDocumentNotification}});Object.defineProperty(Re,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Cb.NotebookCellArrayChange}});Object.defineProperty(Re,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Cb.DidChangeNotebookDocumentNotification}});Object.defineProperty(Re,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Cb.DidSaveNotebookDocumentNotification}});Object.defineProperty(Re,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Cb.DidCloseNotebookDocumentNotification}});var Awt=I1e();Object.defineProperty(Re,"InlineCompletionRequest",{enumerable:!0,get:function(){return Awt.InlineCompletionRequest}});var GAe=L1e();Object.defineProperty(Re,"TextDocumentContentRequest",{enumerable:!0,get:function(){return GAe.TextDocumentContentRequest}});Object.defineProperty(Re,"TextDocumentContentRefreshRequest",{enumerable:!0,get:function(){return GAe.TextDocumentContentRefreshRequest}});var rte;(function(r){function e(t){let n=t;return Cd.string(n)||Cd.string(n.language)||Cd.string(n.scheme)||ate.is(n.pattern)}r.is=e})(rte||(Re.TextDocumentFilter=rte={}));var nte;(function(r){function e(t){let n=t;return Cd.objectLiteral(n)&&(Cd.string(n.notebookType)||Cd.string(n.scheme)||Cd.string(n.pattern))}r.is=e})(nte||(Re.NotebookDocumentFilter=nte={}));var ite;(function(r){function e(t){let n=t;return Cd.objectLiteral(n)&&(Cd.string(n.notebook)||nte.is(n.notebook))&&(n.language===void 0||Cd.string(n.language))}r.is=e})(ite||(Re.NotebookCellTextDocumentFilter=ite={}));var ote;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!Cd.string(n)&&!rte.is(n)&&!ite.is(n))return!1;return!0}r.is=e})(ote||(Re.DocumentSelector=ote={}));var M1e;(function(r){r.method="client/registerCapability",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(M1e||(Re.RegistrationRequest=M1e={}));var F1e;(function(r){r.method="client/unregisterCapability",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(F1e||(Re.UnregistrationRequest=F1e={}));var q1e;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(q1e||(Re.ResourceOperationKind=q1e={}));var j1e;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(j1e||(Re.FailureHandlingKind=j1e={}));var z1e;(function(r){r.ES2020="ES2020"})(z1e||(Re.RegularExpressionEngineKind=z1e={}));var U1e;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(U1e||(Re.PositionEncodingKind=U1e={}));var H1e;(function(r){function e(t){let n=t;return n&&Cd.string(n.id)&&n.id.length>0}r.hasId=e})(H1e||(Re.StaticRegistrationOptions=H1e={}));var B1e;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||ote.is(n.documentSelector))}r.is=e})(B1e||(Re.TextDocumentRegistrationOptions=B1e={}));var W1e;(function(r){function e(n){let i=n;return Cd.objectLiteral(i)&&(i.workDoneProgress===void 0||Cd.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&Cd.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(W1e||(Re.WorkDoneProgressOptions=W1e={}));var $1e;(function(r){r.method="initialize",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})($1e||(Re.InitializeRequest=$1e={}));var V1e;(function(r){r.unknownProtocolVersion=1})(V1e||(Re.InitializeErrorCodes=V1e={}));var G1e;(function(r){r.method="initialized",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(G1e||(Re.InitializedNotification=G1e={}));var K1e;(function(r){r.method="shutdown",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType0(r.method)})(K1e||(Re.ShutdownRequest=K1e={}));var Y1e;(function(r){r.method="exit",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType0(r.method)})(Y1e||(Re.ExitNotification=Y1e={}));var J1e;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(J1e||(Re.DidChangeConfigurationNotification=J1e={}));var X1e;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4,r.Debug=5})(X1e||(Re.MessageType=X1e={}));var Q1e;(function(r){r.method="window/showMessage",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(Q1e||(Re.ShowMessageNotification=Q1e={}));var Z1e;(function(r){r.method="window/showMessageRequest",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(Z1e||(Re.ShowMessageRequest=Z1e={}));var eAe;(function(r){r.method="window/logMessage",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(eAe||(Re.LogMessageNotification=eAe={}));var tAe;(function(r){r.method="telemetry/event",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(tAe||(Re.TelemetryEventNotification=tAe={}));var rAe;(function(r){r.None=0,r.Full=1,r.Incremental=2})(rAe||(Re.TextDocumentSyncKind=rAe={}));var nAe;(function(r){r.method="textDocument/didOpen",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(nAe||(Re.DidOpenTextDocumentNotification=nAe={}));var iAe;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(iAe||(Re.TextDocumentContentChangeEvent=iAe={}));var oAe;(function(r){r.method="textDocument/didChange",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(oAe||(Re.DidChangeTextDocumentNotification=oAe={}));var sAe;(function(r){r.method="textDocument/didClose",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(sAe||(Re.DidCloseTextDocumentNotification=sAe={}));var aAe;(function(r){r.method="textDocument/didSave",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(aAe||(Re.DidSaveTextDocumentNotification=aAe={}));var cAe;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(cAe||(Re.TextDocumentSaveReason=cAe={}));var uAe;(function(r){r.method="textDocument/willSave",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(uAe||(Re.WillSaveTextDocumentNotification=uAe={}));var lAe;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(lAe||(Re.WillSaveTextDocumentWaitUntilRequest=lAe={}));var dAe;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(dAe||(Re.DidChangeWatchedFilesNotification=dAe={}));var fAe;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(fAe||(Re.FileChangeType=fAe={}));var ste;(function(r){function e(t){let n=t;return Cd.objectLiteral(n)&&(N1e.URI.is(n.baseUri)||N1e.WorkspaceFolder.is(n.baseUri))&&Cd.string(n.pattern)}r.is=e})(ste||(Re.RelativePattern=ste={}));var ate;(function(r){function e(t){let n=t;return Cd.string(n)||ste.is(n)}r.is=e})(ate||(Re.GlobPattern=ate={}));var hAe;(function(r){r.Create=1,r.Change=2,r.Delete=4})(hAe||(Re.WatchKind=hAe={}));var pAe;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(pAe||(Re.PublishDiagnosticsNotification=pAe={}));var mAe;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(mAe||(Re.CompletionTriggerKind=mAe={}));var gAe;(function(r){r.method="textDocument/completion",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(gAe||(Re.CompletionRequest=gAe={}));var vAe;(function(r){r.method="completionItem/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(vAe||(Re.CompletionResolveRequest=vAe={}));var yAe;(function(r){r.method="textDocument/hover",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(yAe||(Re.HoverRequest=yAe={}));var _Ae;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(_Ae||(Re.SignatureHelpTriggerKind=_Ae={}));var bAe;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(bAe||(Re.SignatureHelpRequest=bAe={}));var wAe;(function(r){r.method="textDocument/definition",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(wAe||(Re.DefinitionRequest=wAe={}));var SAe;(function(r){r.method="textDocument/references",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(SAe||(Re.ReferencesRequest=SAe={}));var CAe;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(CAe||(Re.DocumentHighlightRequest=CAe={}));var TAe;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(TAe||(Re.DocumentSymbolRequest=TAe={}));var DAe;(function(r){r.method="textDocument/codeAction",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(DAe||(Re.CodeActionRequest=DAe={}));var EAe;(function(r){r.method="codeAction/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(EAe||(Re.CodeActionResolveRequest=EAe={}));var RAe;(function(r){r.method="workspace/symbol",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(RAe||(Re.WorkspaceSymbolRequest=RAe={}));var PAe;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(PAe||(Re.WorkspaceSymbolResolveRequest=PAe={}));var xAe;(function(r){r.method="textDocument/codeLens",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(xAe||(Re.CodeLensRequest=xAe={}));var OAe;(function(r){r.method="codeLens/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(OAe||(Re.CodeLensResolveRequest=OAe={}));var IAe;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType0(r.method)})(IAe||(Re.CodeLensRefreshRequest=IAe={}));var kAe;(function(r){r.method="textDocument/documentLink",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(kAe||(Re.DocumentLinkRequest=kAe={}));var AAe;(function(r){r.method="documentLink/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(AAe||(Re.DocumentLinkResolveRequest=AAe={}));var LAe;(function(r){r.method="textDocument/formatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(LAe||(Re.DocumentFormattingRequest=LAe={}));var NAe;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(NAe||(Re.DocumentRangeFormattingRequest=NAe={}));var MAe;(function(r){r.method="textDocument/rangesFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(MAe||(Re.DocumentRangesFormattingRequest=MAe={}));var FAe;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(FAe||(Re.DocumentOnTypeFormattingRequest=FAe={}));var qAe;(function(r){r.Identifier=1})(qAe||(Re.PrepareSupportDefaultBehavior=qAe={}));var jAe;(function(r){r.method="textDocument/rename",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(jAe||(Re.RenameRequest=jAe={}));var zAe;(function(r){r.method="textDocument/prepareRename",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(zAe||(Re.PrepareRenameRequest=zAe={}));var UAe;(function(r){r.method="workspace/executeCommand",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(UAe||(Re.ExecuteCommandRequest=UAe={}));var HAe;(function(r){r.method="workspace/applyEdit",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType("workspace/applyEdit")})(HAe||(Re.ApplyWorkspaceEditRequest=HAe={}))});var JAe=C(hte=>{"use strict";Object.defineProperty(hte,"__esModule",{value:!0});hte.createProtocolConnection=Lwt;var YAe=il();function Lwt(r,e,t,n){return YAe.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,YAe.createMessageConnection)(r,e,t,n)}});var an=C(_m=>{"use strict";var Nwt=_m&&_m.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),XB=_m&&_m.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Nwt(e,r,t)};Object.defineProperty(_m,"__esModule",{value:!0});_m.LSPErrorCodes=_m.createProtocolConnection=void 0;XB(il(),_m);XB((LB(),GC(AB)),_m);XB(Ha(),_m);XB(KAe(),_m);var Mwt=JAe();Object.defineProperty(_m,"createProtocolConnection",{enumerable:!0,get:function(){return Mwt.createProtocolConnection}});var XAe;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(XAe||(_m.LSPErrorCodes=XAe={}))});var Hv=C(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.boolean=Fwt;Uv.string=QAe;Uv.number=qwt;Uv.error=jwt;Uv.func=ZAe;Uv.array=eLe;Uv.stringArray=zwt;Uv.typedArray=Uwt;Uv.thenable=tLe;Uv.asPromise=Hwt;function Fwt(r){return r===!0||r===!1}function QAe(r){return typeof r=="string"||r instanceof String}function qwt(r){return typeof r=="number"||r instanceof Number}function jwt(r){return r instanceof Error}function ZAe(r){return typeof r=="function"}function eLe(r){return Array.isArray(r)}function zwt(r){return eLe(r)&&r.every(e=>QAe(e))}function Uwt(r,e){return Array.isArray(r)&&r.every(e)}function tLe(r){return r&&ZAe(r.then)}function Hwt(r){return r instanceof Promise?r:tLe(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}});var QB=C(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.Semaphore=e_.Delayer=void 0;e_.setTestMode=Bwt;e_.clearTestMode=Wwt;e_.map=$wt;e_.mapAsync=Vwt;e_.forEach=Gwt;var CN=an(),pte=class{defaultDelay;timeout;completionPromise;onSuccess;task;constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;let n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,CN.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};e_.Delayer=pte;var mte=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,CN.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};e_.Semaphore=mte;var gte=!1;function Bwt(){gte=!0}function Wwt(){gte=!1}var rLe=15,SN=class{yieldAfter;startTime;counter;total;counterInterval;constructor(e=rLe){this.yieldAfter=gte===!0?Math.max(e,2):Math.max(e,rLe),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function $wt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new SN(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,CN.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}async function Vwt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new SN(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,CN.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}async function Gwt(r,e,t,n){if(r.length===0)return;let i=new SN(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,CN.RAL)().timer.setImmediate(()=>{a(o(s))})})}});var yte=C(TS=>{"use strict";var Kwt=TS&&TS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ywt=TS&&TS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Jwt=TS&&TS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Kwt(t,e,n[i]);return Ywt(t,e),t}}();Object.defineProperty(TS,"__esModule",{value:!0});var Xwt=Jwt(require("vscode")),vte=class extends Xwt.CompletionItem{data;fromEdit;documentationFormat;originalItemKind;deprecated;insertTextMode;constructor(e){super(e)}};TS.default=vte});var bte=C(DS=>{"use strict";var Qwt=DS&&DS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zwt=DS&&DS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),eSt=DS&&DS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Qwt(t,e,n[i]);return Zwt(t,e),t}}();Object.defineProperty(DS,"__esModule",{value:!0});var tSt=eSt(require("vscode")),_te=class extends tSt.CodeLens{data;constructor(e){super(e)}};DS.default=_te});var Ste=C(ES=>{"use strict";var rSt=ES&&ES.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nSt=ES&&ES.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),iSt=ES&&ES.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&rSt(t,e,n[i]);return nSt(t,e),t}}();Object.defineProperty(ES,"__esModule",{value:!0});var oSt=iSt(require("vscode")),wte=class extends oSt.DocumentLink{data;constructor(e,t){super(e,t)}};ES.default=wte});var Tte=C(RS=>{"use strict";var sSt=RS&&RS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),aSt=RS&&RS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cSt=RS&&RS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&sSt(t,e,n[i]);return aSt(t,e),t}}();Object.defineProperty(RS,"__esModule",{value:!0});var uSt=cSt(require("vscode")),Cte=class extends uSt.CodeAction{data;constructor(e,t){super(e),this.data=t}};RS.default=Cte});var Rte=C(Bv=>{"use strict";var lSt=Bv&&Bv.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dSt=Bv&&Bv.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),iLe=Bv&&Bv.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&lSt(t,e,n[i]);return dSt(t,e),t}}();Object.defineProperty(Bv,"__esModule",{value:!0});Bv.ProtocolDiagnostic=Bv.DiagnosticCode=void 0;var fSt=iLe(require("vscode")),Dte=iLe(Hv()),nLe;(function(r){function e(t){let n=t;return n!=null&&(Dte.number(n.value)||Dte.string(n.value))&&Dte.string(n.target)}r.is=e})(nLe||(Bv.DiagnosticCode=nLe={}));var Ete=class extends fSt.Diagnostic{data;hasDiagnosticCode;constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};Bv.ProtocolDiagnostic=Ete});var xte=C(PS=>{"use strict";var hSt=PS&&PS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pSt=PS&&PS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),mSt=PS&&PS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&hSt(t,e,n[i]);return pSt(t,e),t}}();Object.defineProperty(PS,"__esModule",{value:!0});var gSt=mSt(require("vscode")),Pte=class extends gSt.CallHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};PS.default=Pte});var Ite=C(xS=>{"use strict";var vSt=xS&&xS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ySt=xS&&xS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_St=xS&&xS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&vSt(t,e,n[i]);return ySt(t,e),t}}();Object.defineProperty(xS,"__esModule",{value:!0});var bSt=_St(require("vscode")),Ote=class extends bSt.TypeHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};xS.default=Ote});var Ate=C(OS=>{"use strict";var wSt=OS&&OS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),SSt=OS&&OS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),CSt=OS&&OS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&wSt(t,e,n[i]);return SSt(t,e),t}}();Object.defineProperty(OS,"__esModule",{value:!0});var ZB=CSt(require("vscode")),kte=class extends ZB.SymbolInformation{data;hasRange;constructor(e,t,n,i,o){let s=!(i instanceof ZB.Uri);super(e,t,n,s?i:new ZB.Location(i,new ZB.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};OS.default=kte});var Nte=C(IS=>{"use strict";var TSt=IS&&IS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),DSt=IS&&IS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ESt=IS&&IS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&TSt(t,e,n[i]);return DSt(t,e),t}}();Object.defineProperty(IS,"__esModule",{value:!0});var RSt=ESt(require("vscode")),Lte=class extends RSt.InlayHint{data;constructor(e,t,n){super(e,t,n)}};IS.default=Lte});var cLe=C(t_=>{"use strict";var PSt=t_&&t_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xSt=t_&&t_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),eW=t_&&t_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&PSt(t,e,n[i]);return xSt(t,e),t}}(),eD=t_&&t_.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(t_,"__esModule",{value:!0});t_.createConverter=FSt;var hu=eW(require("vscode")),Di=eW(an()),sE=eW(Hv()),oLe=eW(QB()),OSt=eD(yte()),ISt=eD(bte()),kSt=eD(Ste()),sLe=eD(Tte()),aLe=Rte(),ASt=eD(xte()),LSt=eD(Ite()),NSt=eD(Ate()),MSt=eD(Nte()),Mte;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(Mte||(Mte={}));function FSt(r){let t=r||(S=>S.toString());function n(S){return t(S)}function i(S){return{uri:t(S.uri)}}function o(S){return{uri:t(S.uri),languageId:S.languageId,version:S.version,text:S.getText()}}function s(S){return{uri:t(S.uri),version:S.version}}function a(S){return{textDocument:o(S)}}function c(S){let de=S;return!!de.document&&!!de.contentChanges}function u(S){let de=S;return!!de.uri&&!!de.version}function l(S,de,Ye){if(u(S))return{textDocument:{uri:t(S.uri),version:S.version},contentChanges:[{text:S.getText()}]};if(c(S)){let Tr=de,Wr=Ye;return{textDocument:{uri:t(Tr),version:Wr},contentChanges:S.contentChanges.map(qn=>{let xi=qn.range;return{range:{start:{line:xi.start.line,character:xi.start.character},end:{line:xi.end.line,character:xi.end.character}},rangeLength:qn.rangeLength,text:qn.text}})}}else throw Error("Unsupported text document change parameter")}function d(S){return{textDocument:i(S)}}function f(S,de=!1){let Ye={textDocument:i(S)};return de&&(Ye.text=S.getText()),Ye}function p(S){switch(S){case hu.TextDocumentSaveReason.Manual:return Di.TextDocumentSaveReason.Manual;case hu.TextDocumentSaveReason.AfterDelay:return Di.TextDocumentSaveReason.AfterDelay;case hu.TextDocumentSaveReason.FocusOut:return Di.TextDocumentSaveReason.FocusOut}return Di.TextDocumentSaveReason.Manual}function _(S){return{textDocument:i(S.document),reason:p(S.reason)}}function D(S){return{files:S.files.map(de=>({uri:t(de)}))}}function x(S){return{files:S.files.map(de=>({oldUri:t(de.oldUri),newUri:t(de.newUri)}))}}function N(S){return{files:S.files.map(de=>({uri:t(de)}))}}function A(S){return{files:S.files.map(de=>({uri:t(de)}))}}function U(S){return{files:S.files.map(de=>({oldUri:t(de.oldUri),newUri:t(de.newUri)}))}}function ee(S){return{files:S.files.map(de=>({uri:t(de)}))}}function he(S,de){return{textDocument:i(S),position:ce(de)}}function we(S){switch(S){case hu.CompletionTriggerKind.TriggerCharacter:return Di.CompletionTriggerKind.TriggerCharacter;case hu.CompletionTriggerKind.TriggerForIncompleteCompletions:return Di.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Di.CompletionTriggerKind.Invoked}}function V(S,de,Ye){return{textDocument:i(S),position:ce(de),context:{triggerKind:we(Ye.triggerKind),triggerCharacter:Ye.triggerCharacter}}}function W(S){switch(S){case hu.SignatureHelpTriggerKind.Invoke:return Di.SignatureHelpTriggerKind.Invoked;case hu.SignatureHelpTriggerKind.TriggerCharacter:return Di.SignatureHelpTriggerKind.TriggerCharacter;case hu.SignatureHelpTriggerKind.ContentChange:return Di.SignatureHelpTriggerKind.ContentChange}}function te(S){return{label:S.label}}function De(S){return S.map(te)}function ae(S){return{label:S.label,parameters:De(S.parameters)}}function ue(S){return S.map(ae)}function qe(S){return S===void 0?S:{signatures:ue(S.signatures),activeSignature:S.activeSignature,activeParameter:S.activeParameter}}function Me(S,de,Ye){return{textDocument:i(S),position:ce(de),context:{isRetrigger:Ye.isRetrigger,triggerCharacter:Ye.triggerCharacter,triggerKind:W(Ye.triggerKind),activeSignatureHelp:qe(Ye.activeSignatureHelp)}}}function ce(S){return{line:S.line,character:S.character}}function Ce(S){return S==null?S:{line:S.line>Di.uinteger.MAX_VALUE?Di.uinteger.MAX_VALUE:S.line,character:S.character>Di.uinteger.MAX_VALUE?Di.uinteger.MAX_VALUE:S.character}}function be(S,de){return oLe.map(S,Ce,de)}function xe(S){return S.map(Ce)}function Ne(S){return S==null?S:{start:Ce(S.start),end:Ce(S.end)}}function $e(S){return S.map(Ne)}function Ct(S){return S==null?S:Di.Location.create(n(S.uri),Ne(S.range))}function ze(S){switch(S){case hu.DiagnosticSeverity.Error:return Di.DiagnosticSeverity.Error;case hu.DiagnosticSeverity.Warning:return Di.DiagnosticSeverity.Warning;case hu.DiagnosticSeverity.Information:return Di.DiagnosticSeverity.Information;case hu.DiagnosticSeverity.Hint:return Di.DiagnosticSeverity.Hint}}function st(S){if(!S)return;let de=[];for(let Ye of S){let Tr=at(Ye);Tr!==void 0&&de.push(Tr)}return de.length>0?de:void 0}function at(S){switch(S){case hu.DiagnosticTag.Unnecessary:return Di.DiagnosticTag.Unnecessary;case hu.DiagnosticTag.Deprecated:return Di.DiagnosticTag.Deprecated;default:return}}function tt(S){return{message:S.message,location:Ct(S.location)}}function fr(S){return S.map(tt)}function Lr(S){if(S!=null)return sE.number(S)||sE.string(S)?S:{value:S.value,target:n(S.target)}}function zr(S){let de=Di.Diagnostic.create(Ne(S.range),S.message),Ye=S instanceof aLe.ProtocolDiagnostic?S:void 0;Ye!==void 0&&Ye.data!==void 0&&(de.data=Ye.data);let Tr=Lr(S.code);return aLe.DiagnosticCode.is(Tr)?Ye!==void 0&&Ye.hasDiagnosticCode?de.code=Tr:(de.code=Tr.value,de.codeDescription={href:Tr.target}):de.code=Tr,sE.number(S.severity)&&(de.severity=ze(S.severity)),Array.isArray(S.tags)&&(de.tags=st(S.tags)),S.relatedInformation&&(de.relatedInformation=fr(S.relatedInformation)),S.source&&(de.source=S.source),de}function cr(S,de){return S==null?S:oLe.map(S,zr,de)}function xt(S){return S==null?S:S.map(zr)}function hr(S,de){switch(S){case"$string":return de;case Di.MarkupKind.PlainText:return{kind:S,value:de};case Di.MarkupKind.Markdown:return{kind:S,value:de.value};default:return`Unsupported Markup content received. Kind is: ${S}`}}function Nt(S){switch(S){case hu.CompletionItemTag.Deprecated:return Di.CompletionItemTag.Deprecated}}function on(S){if(S===void 0)return S;let de=[];for(let Ye of S){let Tr=Nt(Ye);Tr!==void 0&&de.push(Tr)}return de}function ln(S,de){return de!==void 0?de:S+1}function On(S,de=!1){let Ye,Tr;sE.string(S.label)?Ye=S.label:(Ye=S.label.label,de&&(S.label.detail!==void 0||S.label.description!==void 0)&&(Tr={detail:S.label.detail,description:S.label.description}));let Wr={label:Ye};Tr!==void 0&&(Wr.labelDetails=Tr);let Xr=S instanceof OSt.default?S:void 0;S.detail&&(Wr.detail=S.detail),S.documentation&&(!Xr||Xr.documentationFormat==="$string"?Wr.documentation=S.documentation:Wr.documentation=hr(Xr.documentationFormat,S.documentation)),S.filterText&&(Wr.filterText=S.filterText),Or(Wr,S),sE.number(S.kind)&&(Wr.kind=ln(S.kind,Xr&&Xr.originalItemKind)),S.sortText&&(Wr.sortText=S.sortText),S.additionalTextEdits&&(Wr.additionalTextEdits=dn(S.additionalTextEdits)),S.commitCharacters&&(Wr.commitCharacters=S.commitCharacters.slice()),S.command&&(Wr.command=rr(S.command)),(S.preselect===!0||S.preselect===!1)&&(Wr.preselect=S.preselect);let qn=on(S.tags);if(Xr){if(Xr.data!==void 0&&(Wr.data=Xr.data),Xr.deprecated===!0||Xr.deprecated===!1){if(Xr.deprecated===!0&&qn!==void 0&&qn.length>0){let xi=qn.indexOf(hu.CompletionItemTag.Deprecated);xi!==-1&&qn.splice(xi,1)}Wr.deprecated=Xr.deprecated}Xr.insertTextMode!==void 0&&(Wr.insertTextMode=Xr.insertTextMode)}return qn!==void 0&&qn.length>0&&(Wr.tags=qn),Wr.insertTextMode===void 0&&S.keepWhitespace===!0&&(Wr.insertTextMode=Di.InsertTextMode.adjustIndentation),Wr}function Or(S,de){let Ye=Di.InsertTextFormat.PlainText,Tr,Wr;de.textEdit?(Tr=de.textEdit.newText,Wr=de.textEdit.range):de.insertText instanceof hu.SnippetString?(Ye=Di.InsertTextFormat.Snippet,Tr=de.insertText.value):Tr=de.insertText,de.range&&(Wr=de.range),S.insertTextFormat=Ye,de.fromEdit&&Tr!==void 0&&Wr!==void 0?S.textEdit=Hn(Tr,Wr):S.insertText=Tr}function Hn(S,de){return Mte.is(de)?Di.InsertReplaceEdit.create(S,Ne(de.inserting),Ne(de.replacing)):{newText:S,range:Ne(de)}}function $r(S){return{range:Ne(S.range),newText:S.newText}}function dn(S){return S==null?S:S.map($r)}function ii(S){return S<=hu.SymbolKind.TypeParameter?S+1:Di.SymbolKind.Property}function Vr(S){return S}function An(S){return S.map(Vr)}function Pi(S,de,Ye){return{textDocument:i(S),position:ce(de),context:{includeDeclaration:Ye.includeDeclaration}}}async function Gr(S,de){let Ye=Di.CodeAction.create(S.title);if(S instanceof sLe.default&&S.data!==void 0&&(Ye.data=S.data),S.kind!==void 0&&(Ye.kind=oe(S.kind)),S.diagnostics!==void 0&&(Ye.diagnostics=await cr(S.diagnostics,de)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(Ye.command=rr(S.command)),S.isPreferred!==void 0&&(Ye.isPreferred=S.isPreferred),S.disabled!==void 0&&(Ye.disabled={reason:S.disabled.reason}),S.isAI&&(Ye.tags??=[],Ye.tags.push(Di.CodeActionTag.LLMGenerated)),Ye}function Ji(S){let de=Di.CodeAction.create(S.title);if(S instanceof sLe.default&&S.data!==void 0&&(de.data=S.data),S.kind!==void 0&&(de.kind=oe(S.kind)),S.diagnostics!==void 0&&(de.diagnostics=xt(S.diagnostics)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(de.command=rr(S.command)),S.isPreferred!==void 0&&(de.isPreferred=S.isPreferred),S.disabled!==void 0&&(de.disabled={reason:S.disabled.reason}),S.isAI&&(de.tags??=[],de.tags.push(Di.CodeActionTag.LLMGenerated)),de}async function oi(S,de){if(S==null)return S;let Ye;return S.only&&sE.string(S.only.value)&&(Ye=[S.only.value]),Di.CodeActionContext.create(await cr(S.diagnostics,de),Ye,Oe(S.triggerKind))}function fn(S){if(S==null)return S;let de;return S.only&&sE.string(S.only.value)&&(de=[S.only.value]),Di.CodeActionContext.create(xt(S.diagnostics),de,Oe(S.triggerKind))}function Oe(S){switch(S){case hu.CodeActionTriggerKind.Invoke:return Di.CodeActionTriggerKind.Invoked;case hu.CodeActionTriggerKind.Automatic:return Di.CodeActionTriggerKind.Automatic;default:return}}function oe(S){if(S!=null)return S.value}function Q(S){return Di.InlineValueContext.create(S.frameId,Ne(S.stoppedLocation))}function _e(S,de,Ye){return{textDocument:i(S),position:Ce(de),context:Je(Ye)}}function Je(S){return{triggerKind:ft(S.triggerKind),selectedCompletionInfo:Yt(S.selectedCompletionInfo)}}function ft(S){switch(S){case hu.InlineCompletionTriggerKind.Invoke:return Di.InlineCompletionTriggerKind.Invoked;case hu.InlineCompletionTriggerKind.Automatic:return Di.InlineCompletionTriggerKind.Automatic}}function Yt(S){if(S!=null)return{range:Ne(S.range),text:S.text}}function rr(S){let de=Di.Command.create(S.title,S.command);return S.tooltip&&(de.tooltip=S.tooltip),S.arguments&&(de.arguments=S.arguments),de}function Jt(S){let de=Di.CodeLens.create(Ne(S.range));return S.command&&(de.command=rr(S.command)),S instanceof ISt.default&&S.data&&(de.data=S.data),de}function $t(S,de){let Ye={tabSize:S.tabSize,insertSpaces:S.insertSpaces};return de.trimTrailingWhitespace&&(Ye.trimTrailingWhitespace=!0),de.trimFinalNewlines&&(Ye.trimFinalNewlines=!0),de.insertFinalNewline&&(Ye.insertFinalNewline=!0),Ye}function kt(S){return{textDocument:i(S)}}function K(S){return{textDocument:i(S)}}function Fe(S){let de=Di.DocumentLink.create(Ne(S.range));S.target&&(de.target=n(S.target)),S.tooltip!==void 0&&(de.tooltip=S.tooltip);let Ye=S instanceof kSt.default?S:void 0;return Ye&&Ye.data&&(de.data=Ye.data),de}function Ht(S){return{textDocument:i(S)}}function Dr(S){let de={name:S.name,kind:ii(S.kind),uri:n(S.uri),range:Ne(S.range),selectionRange:Ne(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(de.detail=S.detail),S.tags!==void 0&&(de.tags=An(S.tags)),S instanceof ASt.default&&S.data!==void 0&&(de.data=S.data),de}function He(S){let de={name:S.name,kind:ii(S.kind),uri:n(S.uri),range:Ne(S.range),selectionRange:Ne(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(de.detail=S.detail),S.tags!==void 0&&(de.tags=An(S.tags)),S instanceof LSt.default&&S.data!==void 0&&(de.data=S.data),de}function ne(S){let de=S instanceof NSt.default?{name:S.name,kind:ii(S.kind),location:S.hasRange?Ct(S.location):{uri:t(S.location.uri)},data:S.data}:{name:S.name,kind:ii(S.kind),location:Ct(S.location)};return S.tags!==void 0&&(de.tags=An(S.tags)),S.containerName!==""&&(de.containerName=S.containerName),de}function Pe(S){let de=typeof S.label=="string"?S.label:S.label.map(je),Ye=Di.InlayHint.create(Ce(S.position),de);return S.kind!==void 0&&(Ye.kind=S.kind),S.textEdits!==void 0&&(Ye.textEdits=dn(S.textEdits)),S.tooltip!==void 0&&(Ye.tooltip=fe(S.tooltip)),S.paddingLeft!==void 0&&(Ye.paddingLeft=S.paddingLeft),S.paddingRight!==void 0&&(Ye.paddingRight=S.paddingRight),S instanceof MSt.default&&S.data!==void 0&&(Ye.data=S.data),Ye}function je(S){let de=Di.InlayHintLabelPart.create(S.value);return S.location!==void 0&&(de.location=Ct(S.location)),S.command!==void 0&&(de.command=rr(S.command)),S.tooltip!==void 0&&(de.tooltip=fe(S.tooltip)),de}function fe(S){return typeof S=="string"?S:{kind:Di.MarkupKind.Markdown,value:S.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:_,asDidCreateFilesParams:D,asDidRenameFilesParams:x,asDidDeleteFilesParams:N,asWillCreateFilesParams:A,asWillRenameFilesParams:U,asWillDeleteFilesParams:ee,asTextDocumentPositionParams:he,asCompletionParams:V,asSignatureHelpParams:Me,asWorkerPosition:ce,asRange:Ne,asRanges:$e,asPosition:Ce,asPositions:be,asPositionsSync:xe,asLocation:Ct,asDiagnosticSeverity:ze,asDiagnosticTag:at,asDiagnostic:zr,asDiagnostics:cr,asDiagnosticsSync:xt,asCompletionItem:On,asTextEdit:$r,asSymbolKind:ii,asSymbolTag:Vr,asSymbolTags:An,asReferenceParams:Pi,asCodeAction:Gr,asCodeActionSync:Ji,asCodeActionContext:oi,asCodeActionContextSync:fn,asInlineValueContext:Q,asCommand:rr,asCodeLens:Jt,asFormattingOptions:$t,asDocumentSymbolParams:kt,asCodeLensParams:K,asDocumentLink:Fe,asDocumentLinkParams:Ht,asCallHierarchyItem:Dr,asTypeHierarchyItem:He,asInlayHint:Pe,asWorkspaceSymbol:ne,asInlineCompletionParams:_e,asInlineCompletionContext:Je}}});var nW=C(r_=>{"use strict";var qSt=r_&&r_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jSt=r_&&r_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rW=r_&&r_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&qSt(t,e,n[i]);return jSt(t,e),t}}(),tD=r_&&r_.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(r_,"__esModule",{value:!0});r_.createConverter=KSt;var kr=rW(require("vscode")),Un=rW(an()),Eg=rW(Hv()),Yo=rW(QB()),zSt=tD(yte()),USt=tD(bte()),HSt=tD(Ste()),BSt=tD(Tte()),uLe=Rte(),WSt=tD(xte()),$St=tD(Ite()),VSt=tD(Ate()),GSt=tD(Nte()),lLe=an(),tW;(function(r){function e(t){let n=t;return n&&Eg.string(n.language)&&Eg.string(n.value)}r.is=e})(tW||(tW={}));function KSt(r,e,t,n){let o=r||(M=>kr.Uri.parse(M));function s(M){return o(M)}function a(M){let Le=[];for(let rt of M)if(typeof rt=="string")Le.push(rt);else if(lLe.NotebookCellTextDocumentFilter.is(rt))if(typeof rt.notebook=="string")Le.push({notebookType:rt.notebook,language:rt.language});else{let zt=rt.notebook.notebookType??"*";Le.push({notebookType:zt,scheme:rt.notebook.scheme,pattern:Fr(rt.notebook.pattern),language:rt.language})}else lLe.TextDocumentFilter.is(rt)&&Le.push({language:rt.language,scheme:rt.scheme,pattern:Fr(rt.pattern)});return Le}async function c(M,Le){return Yo.map(M,l,Le)}function u(M){let Le=new Array(M.length);for(let rt=0;rt<M.length;rt++)Le[rt]=l(M[rt]);return Le}function l(M){let Le=new uLe.ProtocolDiagnostic(D(M.range),M.message,N(M.severity),M.data);if(M.code!==void 0){if(typeof M.code=="string"||typeof M.code=="number")Un.CodeDescription.is(M.codeDescription)?Le.code={value:M.code,target:s(M.codeDescription.href)}:Le.code=M.code;else if(uLe.DiagnosticCode.is(M.code)){Le.hasDiagnosticCode=!0;let rt=M.code;Le.code={value:rt.value,target:s(rt.target)}}}return M.source&&(Le.source=M.source),M.relatedInformation&&(Le.relatedInformation=d(M.relatedInformation)),Array.isArray(M.tags)&&(Le.tags=f(M.tags)),Le}function d(M){let Le=new Array(M.length);for(let rt=0;rt<M.length;rt++){let zt=M[rt];Le[rt]=new kr.DiagnosticRelatedInformation(tt(zt.location),zt.message)}return Le}function f(M){if(!M)return;let Le=[];for(let rt of M){let zt=p(rt);zt!==void 0&&Le.push(zt)}return Le.length>0?Le:void 0}function p(M){switch(M){case Un.DiagnosticTag.Unnecessary:return kr.DiagnosticTag.Unnecessary;case Un.DiagnosticTag.Deprecated:return kr.DiagnosticTag.Deprecated;default:return}}function _(M){return M?new kr.Position(M.line,M.character):void 0}function D(M){return M?new kr.Range(M.start.line,M.start.character,M.end.line,M.end.character):void 0}async function x(M,Le){return Yo.map(M,rt=>new kr.Range(rt.start.line,rt.start.character,rt.end.line,rt.end.character),Le)}function N(M){if(M==null)return kr.DiagnosticSeverity.Error;switch(M){case Un.DiagnosticSeverity.Error:return kr.DiagnosticSeverity.Error;case Un.DiagnosticSeverity.Warning:return kr.DiagnosticSeverity.Warning;case Un.DiagnosticSeverity.Information:return kr.DiagnosticSeverity.Information;case Un.DiagnosticSeverity.Hint:return kr.DiagnosticSeverity.Hint}return kr.DiagnosticSeverity.Error}function A(M){if(Eg.string(M))return ee(M);if(tW.is(M))return ee().appendCodeblock(M.value,M.language);if(Array.isArray(M)){let Le=[];for(let rt of M){let zt=ee();tW.is(rt)?zt.appendCodeblock(rt.value,rt.language):zt.appendMarkdown(rt),Le.push(zt)}return Le}else return ee(M)}function U(M){if(Eg.string(M))return M;switch(M.kind){case Un.MarkupKind.Markdown:return ee(M.value);case Un.MarkupKind.PlainText:return M.value;default:return`Unsupported Markup content received. Kind is: ${M.kind}`}}function ee(M){let Le;if(M===void 0||typeof M=="string")Le=new kr.MarkdownString(M);else switch(M.kind){case Un.MarkupKind.Markdown:Le=new kr.MarkdownString(M.value);break;case Un.MarkupKind.PlainText:Le=new kr.MarkdownString,Le.appendText(M.value);break;default:Le=new kr.MarkdownString,Le.appendText(`Unsupported Markup content received. Kind is: ${M.kind}`);break}return Le.isTrusted=e,Le.supportHtml=t,Le.supportThemeIcons=n,Le}function he(M){if(M)return new kr.Hover(A(M.contents),D(M.range))}async function we(M,Le,rt){if(!M)return;if(Array.isArray(M))return Yo.map(M,ao=>ae(ao,Le),rt);let zt=M,{defaultRange:Ln,commitCharacters:Cn}=V(zt,Le),Mn=await Yo.map(zt.items,ao=>ae(ao,Cn,zt.applyKind?.commitCharacters,Ln,zt.itemDefaults?.insertTextMode,zt.itemDefaults?.insertTextFormat,zt.itemDefaults?.data,zt.applyKind?.data),rt);return new kr.CompletionList(Mn,zt.isIncomplete)}function V(M,Le){let rt=M.itemDefaults?.editRange,zt=M.itemDefaults?.commitCharacters??Le;return Un.Range.is(rt)?{defaultRange:D(rt),commitCharacters:zt}:rt!==void 0?{defaultRange:{inserting:D(rt.insert),replacing:D(rt.replace)},commitCharacters:zt}:{defaultRange:void 0,commitCharacters:zt}}function W(M){return Un.CompletionItemKind.Text<=M&&M<=Un.CompletionItemKind.TypeParameter?[M-1,void 0]:[kr.CompletionItemKind.Text,M]}function te(M){switch(M){case Un.CompletionItemTag.Deprecated:return kr.CompletionItemTag.Deprecated}}function De(M){if(M==null)return[];let Le=[];for(let rt of M){let zt=te(rt);zt!==void 0&&Le.push(zt)}return Le}function ae(M,Le,rt,zt,Ln,Cn,Mn,ao){let ji=De(M.tags),Ro=Me(M),$i=new zSt.default(Ro);M.detail&&($i.detail=M.detail),M.documentation&&($i.documentation=U(M.documentation),$i.documentationFormat=Eg.string(M.documentation)?"$string":M.documentation.kind),M.filterText&&($i.filterText=M.filterText);let Jn=ce(M,zt,Cn);if(Jn&&($i.insertText=Jn.text,$i.range=Jn.range,$i.fromEdit=Jn.fromEdit),Eg.number(M.kind)){let[pl,Ni]=W(M.kind);$i.kind=pl,Ni&&($i.originalItemKind=Ni)}M.sortText&&($i.sortText=M.sortText),M.additionalTextEdits&&($i.additionalTextEdits=Ne(M.additionalTextEdits));let _u=ue(M,Le,rt);_u&&($i.commitCharacters=_u.slice()),M.command&&($i.command=An(M.command)),(M.deprecated===!0||M.deprecated===!1)&&($i.deprecated=M.deprecated,M.deprecated===!0&&ji.push(kr.CompletionItemTag.Deprecated)),(M.preselect===!0||M.preselect===!1)&&($i.preselect=M.preselect);let ts=qe(M,Mn,ao);ts!==void 0&&($i.data=ts),ji.length>0&&($i.tags=ji);let yo=M.insertTextMode??Ln;return yo!==void 0&&($i.insertTextMode=yo,yo===Un.InsertTextMode.asIs&&($i.keepWhitespace=!0)),$i}function ue(M,Le,rt){if(rt===Un.ApplyKind.Merge){if(!Le&&!M.commitCharacters)return;let zt=new Set;if(Le)for(let Ln of Le)zt.add(Ln);if(Eg.stringArray(M.commitCharacters))for(let Ln of M.commitCharacters)zt.add(Ln);return Array.from(zt)}return M.commitCharacters!==void 0?Eg.stringArray(M.commitCharacters)?M.commitCharacters:void 0:Le}function qe(M,Le,rt){if(rt===Un.ApplyKind.Merge){let zt={...Le};return M.data&&Object.entries(M.data).forEach(([Ln,Cn])=>{Cn!=null&&(zt[Ln]=Cn)}),zt}return M.data??Le}function Me(M){return Un.CompletionItemLabelDetails.is(M.labelDetails)?{label:M.label,detail:M.labelDetails.detail,description:M.labelDetails.description}:M.label}function ce(M,Le,rt){let zt=M.insertTextFormat??rt;if(M.textEdit!==void 0||Le!==void 0){let[Ln,Cn]=M.textEdit!==void 0?Ce(M.textEdit):[Le,M.textEditText??M.label];return zt===Un.InsertTextFormat.Snippet?{text:new kr.SnippetString(Cn),range:Ln,fromEdit:!0}:{text:Cn,range:Ln,fromEdit:!0}}else return M.insertText?zt===Un.InsertTextFormat.Snippet?{text:new kr.SnippetString(M.insertText),fromEdit:!1}:{text:M.insertText,fromEdit:!1}:void 0}function Ce(M){return Un.InsertReplaceEdit.is(M)?[{inserting:D(M.insert),replacing:D(M.replace)},M.newText]:[D(M.range),M.newText]}function be(M){if(M)return new kr.TextEdit(D(M.range),M.newText)}async function xe(M,Le){if(M)return Yo.map(M,be,Le)}function Ne(M){if(!M)return;let Le=new Array(M.length);for(let rt=0;rt<M.length;rt++)Le[rt]=be(M[rt]);return Le}async function $e(M,Le){if(!M)return;let rt=new kr.SignatureHelp;return Eg.number(M.activeSignature)?rt.activeSignature=M.activeSignature:rt.activeSignature=0,Eg.number(M.activeParameter)?rt.activeParameter=M.activeParameter:M.activeParameter===null?rt.activeParameter=-1:rt.activeParameter=0,M.signatures&&(rt.signatures=await Ct(M.signatures,Le)),rt}async function Ct(M,Le){return Yo.mapAsync(M,ze,Le)}async function ze(M,Le){let rt=new kr.SignatureInformation(M.label);return M.documentation!==void 0&&(rt.documentation=U(M.documentation)),M.parameters!==void 0&&(rt.parameters=await st(M.parameters,Le)),M.activeParameter!==void 0&&(rt.activeParameter=M.activeParameter??-1),rt}function st(M,Le){return Yo.map(M,at,Le)}function at(M){let Le=new kr.ParameterInformation(M.label);return M.documentation&&(Le.documentation=U(M.documentation)),Le}function tt(M){return M?new kr.Location(o(M.uri),D(M.range)):void 0}async function fr(M,Le){if(M)return cr(M,Le)}async function Lr(M,Le){if(M)return cr(M,Le)}function zr(M){if(!M)return;let Le={targetUri:o(M.targetUri),targetRange:D(M.targetRange),originSelectionRange:D(M.originSelectionRange),targetSelectionRange:D(M.targetSelectionRange)};if(!Le.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Le}async function cr(M,Le){if(M)if(Eg.array(M)){if(M.length===0)return[];if(Un.LocationLink.is(M[0])){let rt=M;return Yo.map(rt,zr,Le)}else{let rt=M;return Yo.map(rt,tt,Le)}}else return Un.LocationLink.is(M)?[zr(M)]:tt(M)}async function xt(M,Le){if(M)return Yo.map(M,tt,Le)}async function hr(M,Le){if(M)return Yo.map(M,Nt,Le)}function Nt(M){let Le=new kr.DocumentHighlight(D(M.range));return Eg.number(M.kind)&&(Le.kind=on(M.kind)),Le}function on(M){switch(M){case Un.DocumentHighlightKind.Text:return kr.DocumentHighlightKind.Text;case Un.DocumentHighlightKind.Read:return kr.DocumentHighlightKind.Read;case Un.DocumentHighlightKind.Write:return kr.DocumentHighlightKind.Write}return kr.DocumentHighlightKind.Text}async function ln(M,Le){if(M)return Yo.map(M,$r,Le)}function On(M){return M<=Un.SymbolKind.TypeParameter?M-1:kr.SymbolKind.Property}function Or(M){switch(M){case Un.SymbolTag.Deprecated:return kr.SymbolTag.Deprecated;default:return}}function Hn(M){if(M==null)return;let Le=[];for(let rt of M){let zt=Or(rt);zt!==void 0&&Le.push(zt)}return Le.length===0?void 0:Le}function $r(M){let Le=M.data,rt=M.location,zt=rt.range===void 0||Le!==void 0?new VSt.default(M.name,On(M.kind),M.containerName??"",rt.range===void 0?o(rt.uri):new kr.Location(o(M.location.uri),D(rt.range)),Le):new kr.SymbolInformation(M.name,On(M.kind),M.containerName??"",new kr.Location(o(M.location.uri),D(rt.range)));return Vr(zt,M),zt}async function dn(M,Le){if(M!=null)return Yo.map(M,ii,Le)}function ii(M){let Le=new kr.DocumentSymbol(M.name,M.detail||"",On(M.kind),D(M.range),D(M.selectionRange));if(Vr(Le,M),M.children!==void 0&&M.children.length>0){let rt=[];for(let zt of M.children)rt.push(ii(zt));Le.children=rt}return Le}function Vr(M,Le){M.tags=Hn(Le.tags),Le.deprecated&&(M.tags?M.tags.includes(kr.SymbolTag.Deprecated)||(M.tags=M.tags.concat(kr.SymbolTag.Deprecated)):M.tags=[kr.SymbolTag.Deprecated])}function An(M){let Le={title:M.title,command:M.command};return M.tooltip&&(Le.tooltip=M.tooltip),M.arguments&&(Le.arguments=M.arguments),Le}async function Pi(M,Le){if(M)return Yo.map(M,An,Le)}let Gr=new Map;Gr.set(Un.CodeActionKind.Empty,kr.CodeActionKind.Empty),Gr.set(Un.CodeActionKind.QuickFix,kr.CodeActionKind.QuickFix),Gr.set(Un.CodeActionKind.Refactor,kr.CodeActionKind.Refactor),Gr.set(Un.CodeActionKind.RefactorExtract,kr.CodeActionKind.RefactorExtract),Gr.set(Un.CodeActionKind.RefactorInline,kr.CodeActionKind.RefactorInline),Gr.set(Un.CodeActionKind.RefactorRewrite,kr.CodeActionKind.RefactorRewrite),Gr.set(Un.CodeActionKind.Source,kr.CodeActionKind.Source),Gr.set(Un.CodeActionKind.SourceOrganizeImports,kr.CodeActionKind.SourceOrganizeImports);function Ji(M){if(M==null)return;let Le=Gr.get(M);if(Le)return Le;let rt=M.split(".");Le=kr.CodeActionKind.Empty;for(let zt of rt)Le=Le.append(zt);return Le}function oi(M){if(M!=null)return M.map(Le=>Ji(Le))}function fn(M){if(M!=null)return M.map(Le=>({kind:Ji(Le.kind),command:An(Le.command)}))}async function Oe(M,Le){if(M==null)return;let rt=new BSt.default(M.title,M.data);return M.kind!==void 0&&(rt.kind=Ji(M.kind)),M.diagnostics!==void 0&&(rt.diagnostics=u(M.diagnostics)),M.edit!==void 0&&(rt.edit=await Je(M.edit,Le)),M.command!==void 0&&(rt.command=An(M.command)),M.isPreferred!==void 0&&(rt.isPreferred=M.isPreferred),M.disabled!==void 0&&(rt.disabled={reason:M.disabled.reason}),M.tags?.includes(Un.CodeActionTag.LLMGenerated)&&(rt.isAI=!0),rt}function oe(M,Le){return Yo.mapAsync(M,async rt=>Un.Command.is(rt)?An(rt):Oe(rt,Le),Le)}function Q(M){if(!M)return;let Le=new USt.default(D(M.range));return M.command&&(Le.command=An(M.command)),M.data!==void 0&&M.data!==null&&(Le.data=M.data),Le}async function _e(M,Le){if(M)return Yo.map(M,Q,Le)}async function Je(M,Le){if(!M)return;let rt=new Map;if(M.changeAnnotations!==void 0){let Cn=M.changeAnnotations;await Yo.forEach(Object.keys(Cn),Mn=>{let ao=ft(Cn[Mn]);rt.set(Mn,ao)},Le)}let zt=Cn=>{if(Cn!==void 0)return rt.get(Cn)},Ln=new kr.WorkspaceEdit;if(M.documentChanges){let Cn=M.documentChanges;await Yo.forEach(Cn,Mn=>{if(Un.CreateFile.is(Mn))Ln.createFile(o(Mn.uri),Mn.options,zt(Mn.annotationId));else if(Un.RenameFile.is(Mn))Ln.renameFile(o(Mn.oldUri),o(Mn.newUri),Mn.options,zt(Mn.annotationId));else if(Un.DeleteFile.is(Mn))Ln.deleteFile(o(Mn.uri),Mn.options,zt(Mn.annotationId));else if(Un.TextDocumentEdit.is(Mn)){let ao=o(Mn.textDocument.uri),ji=[];for(let Ro of Mn.edits)Un.AnnotatedTextEdit.is(Ro)?ji.push([new kr.TextEdit(D(Ro.range),Ro.newText),zt(Ro.annotationId)]):Un.SnippetTextEdit.is(Ro)?ji.push([new kr.SnippetTextEdit(D(Ro.range),new kr.SnippetString(Ro.snippet.value)),zt(Ro.annotationId)]):ji.push([new kr.TextEdit(D(Ro.range),Ro.newText),void 0]);Ln.set(ao,ji)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Mn,void 0,4)}`)},Le)}else if(M.changes){let Cn=M.changes;await Yo.forEach(Object.keys(Cn),Mn=>{Ln.set(o(Mn),Ne(Cn[Mn]))},Le)}return Ln}function ft(M){if(M!==void 0)return{label:M.label,needsConfirmation:!!M.needsConfirmation,description:M.description}}function Yt(M){let Le=D(M.range),rt=M.target?s(M.target):void 0,zt=new HSt.default(Le,rt);return M.tooltip!==void 0&&(zt.tooltip=M.tooltip),M.data!==void 0&&M.data!==null&&(zt.data=M.data),zt}async function rr(M,Le){if(M)return Yo.map(M,Yt,Le)}function Jt(M){return new kr.Color(M.red,M.green,M.blue,M.alpha)}function $t(M){return new kr.ColorInformation(D(M.range),Jt(M.color))}async function kt(M,Le){if(M)return Yo.map(M,$t,Le)}function K(M){let Le=new kr.ColorPresentation(M.label);return Le.additionalTextEdits=Ne(M.additionalTextEdits),M.textEdit&&(Le.textEdit=be(M.textEdit)),Le}async function Fe(M,Le){if(M)return Yo.map(M,K,Le)}function Ht(M){if(M)switch(M){case Un.FoldingRangeKind.Comment:return kr.FoldingRangeKind.Comment;case Un.FoldingRangeKind.Imports:return kr.FoldingRangeKind.Imports;case Un.FoldingRangeKind.Region:return kr.FoldingRangeKind.Region}}function Dr(M){return new kr.FoldingRange(M.startLine,M.endLine,Ht(M.kind))}async function He(M,Le){if(M)return Yo.map(M,Dr,Le)}function ne(M){return new kr.SelectionRange(D(M.range),M.parent?ne(M.parent):void 0)}async function Pe(M,Le){return Array.isArray(M)?Yo.map(M,ne,Le):[]}function je(M){return Un.InlineValueText.is(M)?new kr.InlineValueText(D(M.range),M.text):Un.InlineValueVariableLookup.is(M)?new kr.InlineValueVariableLookup(D(M.range),M.variableName,M.caseSensitiveLookup):new kr.InlineValueEvaluatableExpression(D(M.range),M.expression)}async function fe(M,Le){return Array.isArray(M)?Yo.map(M,je,Le):[]}async function S(M,Le){let rt=typeof M.label=="string"?M.label:await Yo.map(M.label,de,Le),zt=new GSt.default(_(M.position),rt);return M.kind!==void 0&&(zt.kind=M.kind),M.textEdits!==void 0&&(zt.textEdits=await xe(M.textEdits,Le)),M.tooltip!==void 0&&(zt.tooltip=Ye(M.tooltip)),M.paddingLeft!==void 0&&(zt.paddingLeft=M.paddingLeft),M.paddingRight!==void 0&&(zt.paddingRight=M.paddingRight),M.data!==void 0&&(zt.data=M.data),zt}function de(M){let Le=new kr.InlayHintLabelPart(M.value);return M.location!==void 0&&(Le.location=tt(M.location)),M.tooltip!==void 0&&(Le.tooltip=Ye(M.tooltip)),M.command!==void 0&&(Le.command=An(M.command)),Le}function Ye(M){return typeof M=="string"?M:ee(M)}async function Tr(M,Le){if(Array.isArray(M))return Yo.mapAsync(M,S,Le)}function Wr(M){if(M===null)return;let Le=new WSt.default(On(M.kind),M.name,M.detail||"",s(M.uri),D(M.range),D(M.selectionRange),M.data);return M.tags!==void 0&&(Le.tags=Hn(M.tags)),Le}async function Xr(M,Le){if(M!==null)return Yo.map(M,Wr,Le)}async function qn(M,Le){return new kr.CallHierarchyIncomingCall(Wr(M.from),await x(M.fromRanges,Le))}async function xi(M,Le){if(M!==null)return Yo.mapAsync(M,qn,Le)}async function As(M,Le){return new kr.CallHierarchyOutgoingCall(Wr(M.to),await x(M.fromRanges,Le))}async function Sn(M,Le){if(M!==null)return Yo.mapAsync(M,As,Le)}async function es(M,Le){if(M!=null)return new kr.SemanticTokens(new Uint32Array(M.data),M.resultId)}function Ws(M){return new kr.SemanticTokensEdit(M.start,M.deleteCount,M.data!==void 0?new Uint32Array(M.data):void 0)}async function na(M,Le){if(M!=null)return new kr.SemanticTokensEdits(M.edits.map(Ws),M.resultId)}function Fo(M){return M}async function Eo(M,Le){if(M!=null)return new kr.LinkedEditingRanges(await x(M.ranges,Le),H(M.wordPattern))}function H(M){if(M!=null)return new RegExp(M)}function Ue(M){if(M===null)return;let Le=new $St.default(On(M.kind),M.name,M.detail||"",s(M.uri),D(M.range),D(M.selectionRange),M.data);return M.tags!==void 0&&(Le.tags=Hn(M.tags)),Le}async function vt(M,Le){if(M!==null)return Yo.map(M,Ue,Le)}function Fr(M){if(Eg.string(M))return M;if(Un.RelativePattern.is(M)){if(Un.URI.is(M.baseUri))return new kr.RelativePattern(s(M.baseUri),M.pattern);if(Un.WorkspaceFolder.is(M.baseUri)){let Le=kr.workspace.getWorkspaceFolder(s(M.baseUri.uri));return Le!==void 0?new kr.RelativePattern(Le,M.pattern):void 0}}}async function so(M,Le){if(!M)return;if(Array.isArray(M))return Yo.map(M,Ln=>Bi(Ln),Le);let rt=M,zt=await Yo.map(rt.items,Ln=>Bi(Ln),Le);return new kr.InlineCompletionList(zt)}function Bi(M){let Le;typeof M.insertText=="string"?Le=M.insertText:Le=new kr.SnippetString(M.insertText.value);let rt;M.command&&(rt=An(M.command));let zt=new kr.InlineCompletionItem(Le,D(M.range),rt);return M.filterText&&(zt.filterText=M.filterText),zt}return{asUri:s,asDocumentSelector:a,asDiagnostics:c,asDiagnostic:l,asRange:D,asRanges:x,asPosition:_,asDiagnosticSeverity:N,asDiagnosticTag:p,asHover:he,asCompletionResult:we,asCompletionItem:ae,asTextEdit:be,asTextEdits:xe,asSignatureHelp:$e,asSignatureInformations:Ct,asSignatureInformation:ze,asParameterInformations:st,asParameterInformation:at,asDeclarationResult:fr,asDefinitionResult:Lr,asLocation:tt,asReferences:xt,asDocumentHighlights:hr,asDocumentHighlight:Nt,asDocumentHighlightKind:on,asSymbolKind:On,asSymbolTag:Or,asSymbolTags:Hn,asSymbolInformations:ln,asSymbolInformation:$r,asDocumentSymbols:dn,asDocumentSymbol:ii,asCommand:An,asCommands:Pi,asCodeAction:Oe,asCodeActionKind:Ji,asCodeActionKinds:oi,asCodeActionDocumentations:fn,asCodeActionResult:oe,asCodeLens:Q,asCodeLenses:_e,asWorkspaceEdit:Je,asDocumentLink:Yt,asDocumentLinks:rr,asFoldingRangeKind:Ht,asFoldingRange:Dr,asFoldingRanges:He,asColor:Jt,asColorInformation:$t,asColorInformations:kt,asColorPresentation:K,asColorPresentations:Fe,asSelectionRange:ne,asSelectionRanges:Pe,asInlineValue:je,asInlineValues:fe,asInlayHint:S,asInlayHints:Tr,asSemanticTokensLegend:Fo,asSemanticTokens:es,asSemanticTokensEdit:Ws,asSemanticTokensEdits:na,asCallHierarchyItem:Wr,asCallHierarchyItems:Xr,asCallHierarchyIncomingCall:qn,asCallHierarchyIncomingCalls:xi,asCallHierarchyOutgoingCall:As,asCallHierarchyOutgoingCalls:Sn,asLinkedEditingRanges:Eo,asTypeHierarchyItem:Ue,asTypeHierarchyItems:vt,asGlobPattern:Fr,asInlineCompletionResult:so,asInlineCompletionItem:Bi}}});var Ba=C(rD=>{"use strict";Object.defineProperty(rD,"__esModule",{value:!0});rD.empty=void 0;rD.v4=dLe;rD.isUUID=fLe;rD.parse=JSt;rD.generateUuid=XSt;var TN=class{_value;constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Fte=class r extends TN{static _chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];static _timeHighBits=["8","9","a","b"];static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}};rD.empty=new TN("00000000-0000-0000-0000-000000000000");function dLe(){return new Fte}var YSt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function fLe(r){return YSt.test(r)}function JSt(r){if(!fLe(r))throw new Error("invalid uuid");return new TN(r)}function XSt(){return dLe().asHex()}});var jte=C(Tb=>{"use strict";var QSt=Tb&&Tb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ZSt=Tb&&Tb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),eCt=Tb&&Tb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&QSt(t,e,n[i]);return ZSt(t,e),t}}();Object.defineProperty(Tb,"__esModule",{value:!0});Tb.ProgressPart=void 0;var hLe=require("vscode"),pLe=an(),mLe=eCt(Hv()),qte=class{_client;_token;_infinite;_reported;_lspProgressDisposable;_progress;_cancellationToken;_tokenDisposable;_resolve;_reject;constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(pLe.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&hLe.window.withProgress({location:hLe.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(pLe.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&mLe.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(mLe.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};Tb.ProgressPart=qte});var Lo=C($c=>{"use strict";var tCt=$c&&$c.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rCt=$c&&$c.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_Le=$c&&$c.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&tCt(t,e,n[i]);return rCt(t,e),t}}();Object.defineProperty($c,"__esModule",{value:!0});$c.WorkspaceFeature=$c.TextDocumentLanguageFeature=$c.TextDocumentEventFeature=$c.DynamicDocumentFeature=$c.DynamicFeature=$c.StaticFeature=$c.LSPCancellationError=void 0;$c.ensure=nCt;var nD=require("vscode"),zte=an(),dp=_Le(Hv()),gLe=_Le(Ba()),Ute=class extends nD.CancellationError{data;constructor(e){super(),this.data=e}};$c.LSPCancellationError=Ute;function nCt(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var vLe;(function(r){function e(t){let n=t;return n!=null&&dp.func(n.fillClientCapabilities)&&dp.func(n.initialize)&&dp.func(n.getState)&&dp.func(n.clear)&&(n.fillInitializeParams===void 0||dp.func(n.fillInitializeParams))}r.is=e})(vLe||($c.StaticFeature=vLe={}));var yLe;(function(r){function e(t){let n=t;return n!=null&&dp.func(n.fillClientCapabilities)&&dp.func(n.initialize)&&dp.func(n.getState)&&dp.func(n.clear)&&(n.fillInitializeParams===void 0||dp.func(n.fillInitializeParams))&&dp.func(n.register)&&dp.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(yLe||($c.DynamicFeature=yLe={}));var DN=class{_client;constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of nD.workspace.textDocuments)if(nD.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};$c.DynamicDocumentFeature=DN;var Hte=class extends DN{_event;_type;_middleware;_createParams;_textDocument;_selectorFilter;_listener;_selectors;_onNotificationSent;static textDocumentFilter(e,t){for(let n of e)if(nD.languages.match(n,t)>0)return!0;return!1}constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new nD.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(n),this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._onNotificationSent=new nD.EventEmitter,this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(nD.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};$c.TextDocumentEventFeature=Hte;var Bte=class extends DN{_registrationType;_registrations;constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(zte.TextDocumentRegistrationOptions.is(t)){let n=zte.StaticRegistrationOptions.hasId(t)?t.id:gLe.generateUuid(),i=t.documentSelector??e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(dp.boolean(t)&&t===!0||zte.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=dp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[gLe.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return dp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&nD.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};$c.TextDocumentLanguageFeature=Bte;var Wte=class{_client;_registrationType;_registrations;constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};$c.WorkspaceFeature=Wte});var RLe=C((OJt,ELe)=>{var bLe=CX();ELe.exports=sCt;var wLe="\0SLASH"+Math.random()+"\0",SLe="\0OPEN"+Math.random()+"\0",Vte="\0CLOSE"+Math.random()+"\0",CLe="\0COMMA"+Math.random()+"\0",TLe="\0PERIOD"+Math.random()+"\0";function $te(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function iCt(r){return r.split("\\\\").join(wLe).split("\\{").join(SLe).split("\\}").join(Vte).split("\\,").join(CLe).split("\\.").join(TLe)}function oCt(r){return r.split(wLe).join("\\").split(SLe).join("{").split(Vte).join("}").split(CLe).join(",").split(TLe).join(".")}function DLe(r){if(!r)return[""];var e=[],t=bLe("{","}",r);if(!t)return r.split(",");var n=t.pre,i=t.body,o=t.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=DLe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function sCt(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),EN(iCt(r),!0).map(oCt)):[]}function aCt(r){return"{"+r+"}"}function cCt(r){return/^-?0\d/.test(r)}function uCt(r,e){return r<=e}function lCt(r,e){return r>=e}function EN(r,e){var t=[],n=bLe("{","}",r);if(!n)return[r];var i=n.pre,o=n.post.length?EN(n.post,!1):[""];if(/\$$/.test(n.pre))for(var s=0;s<o.length;s++){var a=i+"{"+n.body+"}"+o[s];t.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=c||u,d=n.body.indexOf(",")>=0;if(!l&&!d)return n.post.match(/,.*\}/)?(r=n.pre+"{"+n.body+Vte+n.post,EN(r)):[r];var f;if(l)f=n.body.split(/\.\./);else if(f=DLe(n.body),f.length===1&&(f=EN(f[0],!1).map(aCt),f.length===1))return o.map(function(De){return n.pre+f[0]+De});var p;if(l){var _=$te(f[0]),D=$te(f[1]),x=Math.max(f[0].length,f[1].length),N=f.length==3?Math.abs($te(f[2])):1,A=uCt,U=D<_;U&&(N*=-1,A=lCt);var ee=f.some(cCt);p=[];for(var he=_;A(he,D);he+=N){var we;if(u)we=String.fromCharCode(he),we==="\\"&&(we="");else if(we=String(he),ee){var V=x-we.length;if(V>0){var W=new Array(V+1).join("0");he<0?we="-"+W+we.slice(1):we=W+we}}p.push(we)}}else{p=[];for(var te=0;te<f.length;te++)p.push.apply(p,EN(f[te],!1))}for(var te=0;te<p.length;te++)for(var s=0;s<o.length;s++){var a=i+p[te]+o[s];(!e||l||a)&&t.push(a)}}return t}});var PLe=C(iW=>{"use strict";Object.defineProperty(iW,"__esModule",{value:!0});iW.assertValidPattern=void 0;var dCt=1024*64,fCt=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>dCt)throw new TypeError("pattern is too long")};iW.assertValidPattern=fCt});var OLe=C(oW=>{"use strict";Object.defineProperty(oW,"__esModule",{value:!0});oW.parseClass=void 0;var hCt={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},RN=r=>r.replace(/[[\]\\-]/g,"\\$&"),pCt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),xLe=r=>r.join(""),mCt=(r,e)=>{let t=e;if(r.charAt(t)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=t+1,s=!1,a=!1,c=!1,u=!1,l=t,d="";e:for(;o<r.length;){let D=r.charAt(o);if((D==="!"||D==="^")&&o===t+1){u=!0,o++;continue}if(D==="]"&&s&&!c){l=o+1;break}if(s=!0,D==="\\"&&!c){c=!0,o++;continue}if(D==="["&&!c){for(let[x,[N,A,U]]of Object.entries(hCt))if(r.startsWith(x,o)){if(d)return["$.",!1,r.length-t,!0];o+=x.length,U?i.push(N):n.push(N),a=a||A;continue e}}if(c=!1,d){D>d?n.push(RN(d)+"-"+RN(D)):D===d&&n.push(RN(D)),d="",o++;continue}if(r.startsWith("-]",o+1)){n.push(RN(D+"-")),o+=2;continue}if(r.startsWith("-",o+1)){d=D,o+=2;continue}n.push(RN(D)),o++}if(l<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,r.length-t,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let D=n[0].length===2?n[0].slice(-1):n[0];return[pCt(D),!1,l-t,!1]}let f="["+(u?"^":"")+xLe(n)+"]",p="["+(u?"":"^")+xLe(i)+"]";return[n.length&&i.length?"("+f+"|"+p+")":n.length?f:p,a,l-t,!0]};oW.parseClass=mCt});var aW=C(sW=>{"use strict";Object.defineProperty(sW,"__esModule",{value:!0});sW.unescape=void 0;var gCt=(r,{windowsPathsNoEscape:e=!1}={})=>e?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");sW.unescape=gCt});var Yte=C(lW=>{"use strict";Object.defineProperty(lW,"__esModule",{value:!0});lW.AST=void 0;var vCt=OLe(),cW=aW(),yCt=new Set(["!","?","+","*","@"]),ILe=r=>yCt.has(r),_Ct="(?!(?:^|/)\\.\\.?(?:$|/))",uW="(?!\\.)",bCt=new Set(["[","."]),wCt=new Set(["..","."]),SCt=new Set("().*{}+?[]^$\\!"),CCt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Kte="[^/]",kLe=Kte+"*?",ALe=Kte+"+?",Gte=class r{type;#t;#n;#o=!1;#e=[];#r;#s;#c;#a=!1;#i;#u;#d=!1;constructor(e,t,n={}){this.type=e,e&&(this.#n=!0),this.#r=t,this.#t=this.#r?this.#r.#t:this,this.#i=this.#t===this?n:this.#t.#i,this.#c=this.#t===this?[]:this.#t.#c,e==="!"&&!this.#t.#a&&this.#c.push(this),this.#s=this.#r?this.#r.#e.length:0}get hasMagic(){if(this.#n!==void 0)return this.#n;for(let e of this.#e)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#n=!0;return this.#n}toString(){return this.#u!==void 0?this.#u:this.type?this.#u=this.type+"("+this.#e.map(e=>String(e)).join("|")+")":this.#u=this.#e.map(e=>String(e)).join("")}#h(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let t=e,n=t.#r;for(;n;){for(let i=t.#s+1;!n.type&&i<n.#e.length;i++)for(let o of e.#e){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(n.#e[i])}t=n,n=t.#r}}return this}push(...e){for(let t of e)if(t!==""){if(typeof t!="string"&&!(t instanceof r&&t.#r===this))throw new Error("invalid part: "+t);this.#e.push(t)}}toJSON(){let e=this.type===null?this.#e.slice().map(t=>typeof t=="string"?t:t.toJSON()):[this.type,...this.#e.map(t=>t.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#r?.type==="!")&&e.push({}),e}isStart(){if(this.#t===this)return!0;if(!this.#r?.isStart())return!1;if(this.#s===0)return!0;let e=this.#r;for(let t=0;t<this.#s;t++){let n=e.#e[t];if(!(n instanceof r&&n.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let e=this.#r?this.#r.#e.length:0;return this.#s===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let t=new r(this.type,e);for(let n of this.#e)t.copyIn(n);return t}static#l(e,t,n,i){let o=!1,s=!1,a=-1,c=!1;if(t.type===null){let p=n,_="";for(;p<e.length;){let D=e.charAt(p++);if(o||D==="\\"){o=!o,_+=D;continue}if(s){p===a+1?(D==="^"||D==="!")&&(c=!0):D==="]"&&!(p===a+2&&c)&&(s=!1),_+=D;continue}else if(D==="["){s=!0,a=p,c=!1,_+=D;continue}if(!i.noext&&ILe(D)&&e.charAt(p)==="("){t.push(_),_="";let x=new r(D,t);p=r.#l(e,x,p,i),t.push(x);continue}_+=D}return t.push(_),p}let u=n+1,l=new r(null,t),d=[],f="";for(;u<e.length;){let p=e.charAt(u++);if(o||p==="\\"){o=!o,f+=p;continue}if(s){u===a+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===a+2&&c)&&(s=!1),f+=p;continue}else if(p==="["){s=!0,a=u,c=!1,f+=p;continue}if(ILe(p)&&e.charAt(u)==="("){l.push(f),f="";let _=new r(p,l);l.push(_),u=r.#l(e,_,u,i);continue}if(p==="|"){l.push(f),f="",d.push(l),l=new r(null,t);continue}if(p===")")return f===""&&t.#e.length===0&&(t.#d=!0),l.push(f),f="",t.push(...d,l),u;f+=p}return t.type=null,t.#n=void 0,t.#e=[e.substring(n-1)],u}static fromGlob(e,t={}){let n=new r(null,void 0,t);return r.#l(e,n,0,t),n}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();let e=this.toString(),[t,n,i,o]=this.toRegExpSource();if(!(i||this.#n||this.#i.nocase&&!this.#i.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#i.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${t}$`,a),{_src:t,_glob:e})}get options(){return this.#i}toRegExpSource(e){let t=e??!!this.#i.dot;if(this.#t===this&&this.#h(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#e.map(p=>{let[_,D,x,N]=typeof p=="string"?r.#p(p,this.#n,c):p.toRegExpSource(e);return this.#n=this.#n||x,this.#o=this.#o||N,_}).join(""),l="";if(this.isStart()&&typeof this.#e[0]=="string"&&!(this.#e.length===1&&wCt.has(this.#e[0]))){let _=bCt,D=t&&_.has(u.charAt(0))||u.startsWith("\\.")&&_.has(u.charAt(2))||u.startsWith("\\.\\.")&&_.has(u.charAt(4)),x=!t&&!e&&_.has(u.charAt(0));l=D?_Ct:x?uW:""}let d="";return this.isEnd()&&this.#t.#a&&this.#r?.type==="!"&&(d="(?:$|\\/)"),[l+u+d,(0,cW.unescape)(u),this.#n=!!this.#n,this.#o]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=this.#f(t);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let c=this.toString();return this.#e=[c],this.type=null,this.#n=void 0,[c,(0,cW.unescape)(this.toString()),!1,!1]}let s=!n||e||t||!uW?"":this.#f(!0);s===o&&(s=""),s&&(o=`(?:${o})(?:${s})*?`);let a="";if(this.type==="!"&&this.#d)a=(this.isStart()&&!t?uW:"")+ALe;else{let c=this.type==="!"?"))"+(this.isStart()&&!t&&!e?uW:"")+kLe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&s?")":this.type==="*"&&s?")?":`)${this.type}`;a=i+o+c}return[a,(0,cW.unescape)(o),this.#n=!!this.#n,this.#o]}#f(e){return this.#e.map(t=>{if(typeof t=="string")throw new Error("string type in extglob ast??");let[n,i,o,s]=t.toRegExpSource(e);return this.#o=this.#o||s,n}).filter(t=>!(this.isStart()&&this.isEnd())||!!t).join("|")}static#p(e,t,n=!1){let i=!1,o="",s=!1;for(let a=0;a<e.length;a++){let c=e.charAt(a);if(i){i=!1,o+=(SCt.has(c)?"\\":"")+c;continue}if(c==="\\"){a===e.length-1?o+="\\\\":i=!0;continue}if(c==="["){let[u,l,d,f]=(0,vCt.parseClass)(e,a);if(d){o+=u,s=s||l,a+=d-1,t=t||f;continue}}if(c==="*"){n&&e==="*"?o+=ALe:o+=kLe,t=!0;continue}if(c==="?"){o+=Kte,t=!0;continue}o+=CCt(c)}return[o,(0,cW.unescape)(e),!!t,s]}};lW.AST=Gte});var Jte=C(dW=>{"use strict";Object.defineProperty(dW,"__esModule",{value:!0});dW.escape=void 0;var TCt=(r,{windowsPathsNoEscape:e=!1}={})=>e?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");dW.escape=TCt});var Xte=C(_n=>{"use strict";var DCt=_n&&_n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_n,"__esModule",{value:!0});_n.unescape=_n.escape=_n.AST=_n.Minimatch=_n.match=_n.makeRe=_n.braceExpand=_n.defaults=_n.filter=_n.GLOBSTAR=_n.sep=_n.minimatch=void 0;var ECt=DCt(RLe()),fW=PLe(),MLe=Yte(),RCt=Jte(),PCt=aW(),xCt=(r,e,t={})=>((0,fW.assertValidPattern)(e),!t.nocomment&&e.charAt(0)==="#"?!1:new aE(e,t).match(r));_n.minimatch=xCt;var OCt=/^\*+([^+@!?\*\[\(]*)$/,ICt=r=>e=>!e.startsWith(".")&&e.endsWith(r),kCt=r=>e=>e.endsWith(r),ACt=r=>(r=r.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(r)),LCt=r=>(r=r.toLowerCase(),e=>e.toLowerCase().endsWith(r)),NCt=/^\*+\.\*+$/,MCt=r=>!r.startsWith(".")&&r.includes("."),FCt=r=>r!=="."&&r!==".."&&r.includes("."),qCt=/^\.\*+$/,jCt=r=>r!=="."&&r!==".."&&r.startsWith("."),zCt=/^\*+$/,UCt=r=>r.length!==0&&!r.startsWith("."),HCt=r=>r.length!==0&&r!=="."&&r!=="..",BCt=/^\?+([^+@!?\*\[\(]*)?$/,WCt=([r,e=""])=>{let t=FLe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},$Ct=([r,e=""])=>{let t=qLe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},VCt=([r,e=""])=>{let t=qLe([r]);return e?n=>t(n)&&n.endsWith(e):t},GCt=([r,e=""])=>{let t=FLe([r]);return e?n=>t(n)&&n.endsWith(e):t},FLe=([r])=>{let e=r.length;return t=>t.length===e&&!t.startsWith(".")},qLe=([r])=>{let e=r.length;return t=>t.length===e&&t!=="."&&t!==".."},jLe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",LLe={win32:{sep:"\\"},posix:{sep:"/"}};_n.sep=jLe==="win32"?LLe.win32.sep:LLe.posix.sep;_n.minimatch.sep=_n.sep;_n.GLOBSTAR=Symbol("globstar **");_n.minimatch.GLOBSTAR=_n.GLOBSTAR;var KCt="[^/]",YCt=KCt+"*?",JCt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",XCt="(?:(?!(?:\\/|^)\\.).)*?",QCt=(r,e={})=>t=>(0,_n.minimatch)(t,r,e);_n.filter=QCt;_n.minimatch.filter=_n.filter;var Wv=(r,e={})=>Object.assign({},r,e),ZCt=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return _n.minimatch;let e=_n.minimatch;return Object.assign((n,i,o={})=>e(n,i,Wv(r,o)),{Minimatch:class extends e.Minimatch{constructor(i,o={}){super(i,Wv(r,o))}static defaults(i){return e.defaults(Wv(r,i)).Minimatch}},AST:class extends e.AST{constructor(i,o,s={}){super(i,o,Wv(r,s))}static fromGlob(i,o={}){return e.AST.fromGlob(i,Wv(r,o))}},unescape:(n,i={})=>e.unescape(n,Wv(r,i)),escape:(n,i={})=>e.escape(n,Wv(r,i)),filter:(n,i={})=>e.filter(n,Wv(r,i)),defaults:n=>e.defaults(Wv(r,n)),makeRe:(n,i={})=>e.makeRe(n,Wv(r,i)),braceExpand:(n,i={})=>e.braceExpand(n,Wv(r,i)),match:(n,i,o={})=>e.match(n,i,Wv(r,o)),sep:e.sep,GLOBSTAR:_n.GLOBSTAR})};_n.defaults=ZCt;_n.minimatch.defaults=_n.defaults;var eTt=(r,e={})=>((0,fW.assertValidPattern)(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:(0,ECt.default)(r));_n.braceExpand=eTt;_n.minimatch.braceExpand=_n.braceExpand;var tTt=(r,e={})=>new aE(r,e).makeRe();_n.makeRe=tTt;_n.minimatch.makeRe=_n.makeRe;var rTt=(r,e,t={})=>{let n=new aE(e,t);return r=r.filter(i=>n.match(i)),n.options.nonull&&!r.length&&r.push(e),r};_n.match=rTt;_n.minimatch.match=_n.match;var NLe=/[?*]|[+@!]\(.*?\)|\[|\]/,nTt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),aE=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,fW.assertValidPattern)(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||jLe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=t.windowsNoMagicRoot!==void 0?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if(typeof t!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,s,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=o[0]===""&&o[1]===""&&(o[2]==="?"||!NLe.test(o[2]))&&!NLe.test(o[3]),u=/^[a-z]:/i.test(o[0]);if(c)return[...o.slice(0,4),...o.slice(4).map(l=>this.parse(l))];if(u)return[o[0],...o.slice(1).map(l=>this.parse(l))]}return o.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let s=this.set[o];s[0]===""&&s[1]===""&&this.globParts[o][2]==="?"&&typeof s[3]=="string"&&/^[a-z]:$/i.test(s[3])&&(s[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):t>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(t=>{let n=-1;for(;(n=t.indexOf("**",n+1))!==-1;){let i=n;for(;t[i+1]==="**";)i++;i!==n&&t.splice(n,i-n)}return t})}levelOneOptimize(e){return e.map(t=>(t=t.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),t.length===0?[""]:t))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let o=e[i];i===1&&o===""&&e[0]===""||(o==="."||o==="")&&(t=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(t=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let s=i;for(;n[s+1]==="**";)s++;s>i&&n.splice(i+1,s-i);let a=n[i+1],c=n[i+2],u=n[i+3];if(a!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;t=!0,n.splice(i,1);let l=n.slice(0);l[i]="**",e.push(l),i--}if(!this.preserveMultipleSlashes){for(let s=1;s<n.length-1;s++){let a=n[s];s===1&&a===""&&n[0]===""||(a==="."||a==="")&&(t=!0,n.splice(s,1),s--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(t=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let s=n[o-1];if(s&&s!=="."&&s!==".."&&s!=="**"){t=!0;let c=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...c),n.length===0&&n.push(""),o-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){let i=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);if(i){e[t]=[],e[n]=i;break}}return e.filter(t=>t.length)}partsMatch(e,t,n=!1){let i=0,o=0,s=[],a="";for(;i<e.length&&o<t.length;)if(e[i]===t[o])s.push(a==="b"?t[o]:e[i]),i++,o++;else if(n&&e[i]==="**"&&t[o]===e[i+1])s.push(e[i]),i++;else if(n&&t[o]==="**"&&e[i]===t[o+1])s.push(t[o]),o++;else if(e[i]==="*"&&t[o]&&(this.options.dot||!t[o].startsWith("."))&&t[o]!=="**"){if(a==="b")return!1;a="a",s.push(e[i]),i++,o++}else if(t[o]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",s.push(t[o]),i++,o++}else return!1;return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){let i=this.options;if(this.isWindows){let D=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),x=!D&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),N=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),A=!N&&t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),U=x?3:D?0:void 0,ee=A?3:N?0:void 0;if(typeof U=="number"&&typeof ee=="number"){let[he,we]=[e[U],t[ee]];he.toLowerCase()===we.toLowerCase()&&(t[ee]=he,ee>U?t=t.slice(ee):U>ee&&(e=e.slice(U)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,a=0,c=e.length,u=t.length;s<c&&a<u;s++,a++){this.debug("matchOne loop");var l=t[a],d=e[s];if(this.debug(t,l,d),l===!1)return!1;if(l===_n.GLOBSTAR){this.debug("GLOBSTAR",[t,l,d]);var f=s,p=a+1;if(p===u){for(this.debug("** at the end");s<c;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;f<c;){var _=e[f];if(this.debug(`
globstar while`,e,f,t,p,_),this.matchOne(e.slice(f),t.slice(p),n))return this.debug("globstar found match!",f,c,_),!0;if(_==="."||_===".."||!i.dot&&_.charAt(0)==="."){this.debug("dot detected!",e,f,t,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,f,t,p),f===c))}let D;if(typeof l=="string"?(D=d===l,this.debug("string match",l,d,D)):(D=l.test(d),this.debug("pattern match",l,d,D)),!D)return!1}if(s===c&&a===u)return!0;if(s===c)return n;if(a===u)return s===c-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return(0,_n.braceExpand)(this.pattern,this.options)}parse(e){(0,fW.assertValidPattern)(e);let t=this.options;if(e==="**")return _n.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(zCt))?i=t.dot?HCt:UCt:(n=e.match(OCt))?i=(t.nocase?t.dot?LCt:ACt:t.dot?kCt:ICt)(n[1]):(n=e.match(BCt))?i=(t.nocase?t.dot?$Ct:WCt:t.dot?VCt:GCt)(n):(n=e.match(NCt))?i=t.dot?FCt:MCt:(n=e.match(qCt))&&(i=jCt);let o=MLe.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:i}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,n=t.noglobstar?YCt:t.dot?JCt:XCt,i=new Set(t.nocase?["i"]:[]),o=e.map(c=>{let u=c.map(l=>{if(l instanceof RegExp)for(let d of l.flags.split(""))i.add(d);return typeof l=="string"?nTt(l):l===_n.GLOBSTAR?_n.GLOBSTAR:l._src});return u.forEach((l,d)=>{let f=u[d+1],p=u[d-1];l!==_n.GLOBSTAR||p===_n.GLOBSTAR||(p===void 0?f!==void 0&&f!==_n.GLOBSTAR?u[d+1]="(?:\\/|"+n+"\\/)?"+f:u[d]=n:f===void 0?u[d-1]=p+"(?:\\/|"+n+")?":f!==_n.GLOBSTAR&&(u[d-1]=p+"(?:\\/|\\/"+n+"\\/)"+f,u[d+1]=_n.GLOBSTAR))}),u.filter(l=>l!==_n.GLOBSTAR).join("/")}).join("|"),[s,a]=e.length>1?["(?:",")"]:["",""];o="^"+s+o+a+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let s=i[i.length-1];if(!s)for(let a=i.length-2;!s&&a>=0;a--)s=i[a];for(let a=0;a<o.length;a++){let c=o[a],u=i;if(n.matchBase&&c.length===1&&(u=[s]),this.matchOne(u,c,t))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return _n.minimatch.defaults(e).Minimatch}};_n.Minimatch=aE;var iTt=Yte();Object.defineProperty(_n,"AST",{enumerable:!0,get:function(){return iTt.AST}});var oTt=Jte();Object.defineProperty(_n,"escape",{enumerable:!0,get:function(){return oTt.escape}});var sTt=aW();Object.defineProperty(_n,"unescape",{enumerable:!0,get:function(){return sTt.unescape}});_n.minimatch.AST=MLe.AST;_n.minimatch.Minimatch=aE;_n.minimatch.escape=RCt.escape;_n.minimatch.unescape=PCt.unescape});var Qte=C(kS=>{"use strict";var aTt=kS&&kS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cTt=kS&&kS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uTt=kS&&kS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&aTt(t,e,n[i]);return cTt(t,e),t}}();Object.defineProperty(kS,"__esModule",{value:!0});kS.matchGlobPattern=fTt;var lTt=uTt(Xte()),dTt=require("vscode");function fTt(r,e){let t;if(typeof r=="string")t=r.replace(/\\/g,"/");else try{let i=dTt.Uri.parse(typeof r.baseUri=="string"?r.baseUri:r.baseUri.uri);t=i.with({path:i.path+"/"+r.pattern}).fsPath.replace(/\\/g,"/")}catch{return!1}let n=new lTt.Minimatch(t,{noext:!0});return n.makeRe()?n.match(e.fsPath):!1}});var pW=C(iD=>{"use strict";Object.defineProperty(iD,"__esModule",{value:!0});iD.DiagnosticFeature=iD.DiagnosticPullMode=iD.vsdiag=void 0;var vc=require("vscode"),Wa=an(),hTt=Ba(),pTt=Qte(),Zte=Lo();function hW(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var $v;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})($v||(iD.vsdiag=$v={}));var PN;(function(r){r.onType="onType",r.onSave="onSave",r.onFocus="onFocus"})(PN||(iD.DiagnosticPullMode=PN={}));var uh;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(uh||(uh={}));var Td;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(Td||(Td={}));var AS;(function(r){function e(t){return t instanceof vc.Uri?t.toString():t.uri.toString()}r.asKey=e})(AS||(AS={}));var ere=class{documentPullStates;workspacePullStates;constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===Td.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof vc.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===Td.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof vc.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=AS.asKey(t);(e===Td.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=AS.asKey(t);return(e===Td.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=AS.asKey(t);return(e===Td.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},tre=class{isDisposed;client;tabs;options;onDidChangeDiagnosticsEmitter;provider;diagnostics;openRequests;documentStates;workspaceErrorCounter;workspaceCancellation;workspaceTimeout;constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new vc.EventEmitter,this.provider=this.createProvider(),this.diagnostics=vc.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new ere,this.workspaceErrorCounter=0}knows(e,t){let n=t instanceof vc.Uri?t:t.uri;return this.documentStates.tracks(e,t)||this.openRequests.has(n.toString())}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof vc.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof vc.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(Td.document,e,t):this.documentStates.track(Td.document,e);if(s===void 0){let c=new vc.CancellationTokenSource;this.openRequests.set(o,{state:uh.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:$v.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof Zte.LSPCancellationError&&Wa.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:uh.outDated,document:e}),l===void 0&&d instanceof vc.CancellationError)l={state:uh.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(Td.document,e);return}if(l.state===uh.outDated)return;u!==void 0&&(u.kind===$v.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===uh.reschedule&&this.pull(e)}else s.state===uh.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:uh.reschedule,document:s.document})):s.state===uh.outDated&&this.openRequests.set(o,{state:uh.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof vc.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:uh.reschedule,document:e}):this.pull(e,()=>{this.forget(Td.document,e)}):(i!==void 0&&(i.state===uh.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:uh.outDated,document:e})),this.diagnostics.delete(t),this.forget(Td.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,Wa.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof Zte.LSPCancellationError)&&!Wa.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,Wa.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new vc.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===$v.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(Td.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(Td.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof vc.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:$v.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(Wa.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:$v.DocumentDiagnosticReportKind.full,items:[]}:d.kind===Wa.DocumentDiagnosticReportKind.Full?{kind:$v.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:$v.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(Wa.DocumentDiagnosticRequest.type,u,d,{kind:$v.DocumentDiagnosticReportKind.full,items:[]},!0,!0))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===Wa.DocumentDiagnosticReportKind.Full?{kind:$v.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:$v.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l,d)=>{let f=(0,hTt.generateUuid)(),p=this.client.onProgress(Wa.WorkspaceDiagnosticRequest.partialResult,f,async D=>{if(D==null){d(null);return}let x={items:[]};for(let N of D.items)try{x.items.push(await o(N))}catch(A){this.client.error("Converting workspace diagnostics failed.",A)}d(x)}),_={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:f};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(Wa.WorkspaceDiagnosticRequest.type,_,l).then(async D=>{if(l.isCancellationRequested)return{items:[]};let x={items:[]};for(let N of D.items)x.items.push(await o(N));return p.dispose(),d(x),{items:[]}},D=>(p.dispose(),this.client.handleFailedRequest(Wa.DocumentDiagnosticRequest.type,l,D,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===uh.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:uh.outDated,document:t.document});this.diagnostics.dispose()}},rre=class{client;diagnosticRequestor;lastDocumentToPull;documents;timeoutHandle;isDisposed;constructor(e,t){this.client=e,this.diagnosticRequestor=t,this.documents=new Wa.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=AS.asKey(e);this.documents.has(t)||(this.documents.set(t,e,Wa.Touch.Last),this.lastDocumentToPull=e)}remove(e){let t=AS.asKey(e);if(this.documents.delete(t),this.documents.size===0){this.stop();return}else if(t===this.lastDocumentToPullKey()){let n=this.documents.before(t);n===void 0?this.stop():this.lastDocumentToPull=n}}trigger(){this.lastDocumentToPull=this.documents.last,this.runLoop()}runLoop(){if(this.isDisposed!==!0){if(this.documents.size===0){this.stop();return}this.lastDocumentToPull!==void 0&&this.timeoutHandle===void 0&&(this.timeoutHandle=(0,Wa.RAL)().timer.setTimeout(()=>{let e=this.documents.first;if(e===void 0)return;let t=AS.asKey(e);this.diagnosticRequestor.pullAsync(e).catch(n=>{this.client.error(`Document pull failed for text document ${t}`,n,!1)}).finally(()=>{this.timeoutHandle=void 0,this.documents.set(t,e,Wa.Touch.Last),t!==this.lastDocumentToPullKey()&&this.runLoop()})},500))}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear(),this.lastDocumentToPull=void 0}stop(){this.timeoutHandle?.dispose(),this.timeoutHandle=void 0,this.lastDocumentToPull=void 0}lastDocumentToPullKey(){return this.lastDocumentToPull!==void 0?AS.asKey(this.lastDocumentToPull):void 0}},nre=class{disposable;diagnosticRequestor;activeTextDocument;backgroundScheduler;constructor(e,t,n){let i=Object.assign({onChange:!1,onSave:!1,onFocus:!1},e.clientOptions.diagnosticPullOptions),o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=(A,U)=>!(typeof A=="string"||A.language!==void 0&&A.language!=="*"||A.scheme!==void 0&&A.scheme!=="*"&&A.scheme!==U.scheme||A.pattern!==void 0&&!(0,pTt.matchGlobPattern)(A.pattern,U)),c=A=>{let U=n.documentSelector;if(i.match!==void 0)return i.match(U,A);for(let ee of U)if(Wa.TextDocumentFilter.is(ee)&&a(ee,A))return!0;return!1},u=A=>A instanceof vc.Uri?c(A):vc.languages.match(o,A)>0&&t.isVisible(A),l=A=>vc.languages.match(o,A.document)>0&&t.isVisible(A.notebook.uri),d=A=>A instanceof vc.Uri?this.activeTextDocument?.uri.toString()===A.toString():this.activeTextDocument===A;this.diagnosticRequestor=new tre(e,t,n),this.backgroundScheduler=new rre(e,this.diagnosticRequestor);let f=A=>{!u(A)||!n.interFileDependencies||d(A)||i.onChange===!1||this.backgroundScheduler.add(A)},p=(A,U)=>(i.filter===void 0||!i.filter(A,U))&&this.diagnosticRequestor.knows(Td.document,A);this.activeTextDocument=vc.window.activeTextEditor?.document,s.push(vc.window.onDidChangeActiveTextEditor(A=>{let U=this.activeTextDocument;this.activeTextDocument=A?.document,U!==void 0&&f(U),this.activeTextDocument!==void 0&&(this.backgroundScheduler.remove(this.activeTextDocument),i.onFocus===!0&&u(this.activeTextDocument)&&p(this.activeTextDocument,PN.onFocus)&&this.diagnosticRequestor.pull(this.activeTextDocument))}));let _=e.getFeature(Wa.DidOpenTextDocumentNotification.method);s.push(_.onNotificationSent(A=>{let U=A.textDocument;this.diagnosticRequestor.knows(Td.document,U)||u(U)&&this.diagnosticRequestor.pull(U,()=>{f(U)})}));let D=e.getFeature(Wa.NotebookDocumentSyncRegistrationType.method);s.push(D.onOpenNotificationSent(A=>{for(let U of A.getCells())l(U)&&this.diagnosticRequestor.pull(U.document,()=>{f(U.document)})})),s.push(t.onOpen(A=>{for(let U of A){if(this.diagnosticRequestor.knows(Td.document,U))continue;let ee=U.toString(),he;for(let we of vc.workspace.textDocuments)if(ee===we.uri.toString()){he=we;break}he!==void 0&&u(he)&&this.diagnosticRequestor.pull(he,()=>{f(he)})}}));let x=new Set;for(let A of vc.workspace.textDocuments)u(A)&&(this.diagnosticRequestor.pull(A,()=>{f(A)}),x.add(A.uri.toString()));for(let A of vc.workspace.notebookDocuments)for(let U of A.getCells())l(U)&&(this.diagnosticRequestor.pull(U.document,()=>{f(U.document)}),x.add(U.document.uri.toString()));if(i.onTabs===!0)for(let A of t.getTabResources())!x.has(A.toString())&&u(A)&&this.diagnosticRequestor.pull(A,()=>{f(A)});if(i.onChange===!0){let A=e.getFeature(Wa.DidChangeTextDocumentNotification.method);s.push(A.onNotificationSent(async U=>{let ee=U.textDocument;p(ee,PN.onType)&&this.diagnosticRequestor.pull(ee,()=>{this.backgroundScheduler.trigger()})})),s.push(D.onChangeNotificationSent(async U=>{let he=(U.cells?.textContent||[]).map(W=>U.notebook.getCells().find(te=>te.document.uri.toString()===W.document.uri.toString()));for(let W of he)W&&l(W)&&this.diagnosticRequestor.pull(W.document,()=>{this.backgroundScheduler.trigger()});let we=U.cells?.structure?.didClose||[];for(let W of we)this.diagnosticRequestor.forgetDocument(W.document);let V=U.cells?.structure?.didOpen||[];for(let W of V)l(W)&&this.diagnosticRequestor.pull(W.document,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let A=e.getFeature(Wa.DidSaveTextDocumentNotification.method);s.push(A.onNotificationSent(U=>{let ee=U.textDocument;p(ee,PN.onSave)&&this.diagnosticRequestor.pull(U.textDocument)})),s.push(D.onSaveNotificationSent(U=>{for(let ee of U.getCells())l(ee)&&this.diagnosticRequestor.pull(ee.document)}))}let N=e.getFeature(Wa.DidCloseTextDocumentNotification.method);s.push(N.onNotificationSent(A=>{this.cleanUpDocument(A.textDocument)})),s.push(D.onCloseNotificationSent(A=>{for(let U of A.getCells())this.cleanUpDocument(U.document)})),t.onClose(A=>{for(let U of A)this.cleanUpDocument(U)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let A of vc.workspace.textDocuments)u(A)&&this.diagnosticRequestor.pull(A)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=vc.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}forget(e){this.cleanUpDocument(e)}cleanUpDocument(e){this.backgroundScheduler.remove(e),this.diagnosticRequestor.knows(Td.document,e)&&this.diagnosticRequestor.forgetDocument(e)}},ire=class extends Zte.TextDocumentLanguageFeature{constructor(e){super(e,Wa.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=hW(hW(e,"textDocument"),"diagnostic");t.relatedInformation=!0,t.tagSupport={valueSet:[Wa.DiagnosticTag.Unnecessary,Wa.DiagnosticTag.Deprecated]},t.codeDescriptionSupport=!0,t.dataSupport=!0,t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,hW(hW(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(Wa.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}clear(){super.clear()}refresh(){for(let e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}registerLanguageProvider(e){let t=new nre(this._client,this._client.tabsModel,e);return[t.disposable,t]}};iD.DiagnosticFeature=ire});var are=C(Db=>{"use strict";var mTt=Db&&Db.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gTt=Db&&Db.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),yW=Db&&Db.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&mTt(t,e,n[i]);return gTt(t,e),t}}();Object.defineProperty(Db,"__esModule",{value:!0});Db.NotebookDocumentSyncFeature=void 0;var yc=yW(require("vscode")),LS=yW(an()),vTt=yW(Ba()),zLe=yW(Hv()),yTt=Qte();function ULe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var Ax;(function(r){let e;(function(t){function n(f,p){return{version:f.version,uri:p.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,p,_){let D=LS.NotebookDocument.create(_.asUri(f.uri),f.notebookType,f.version,o(p,_));return Object.keys(f.metadata).length>0&&(D.metadata=s(f.metadata)),D}t.asNotebookDocument=i;function o(f,p){return f.map(_=>a(_,p))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,p){let _=LS.NotebookCell.create(c(f.kind),p.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(_.metadata=s(f.metadata)),f.executionSummary!==void 0&&zLe.number(f.executionSummary.executionOrder)&&zLe.boolean(f.executionSummary.success)&&(_.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),_}t.asNotebookCell=a;function c(f){switch(f){case yc.NotebookCellKind.Markup:return LS.NotebookCellKind.Markup;case yc.NotebookCellKind.Code:return LS.NotebookCellKind.Code}}function u(f,p){if(f.has(p))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(p)){let _=[];for(let D of p)if(D!==null&&typeof D=="object"||Array.isArray(D))_.push(u(f,D));else{if(D instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");_.push(D)}return _}else{let _=Object.keys(p),D=Object.create(null);for(let x of _){let N=p[x];if(N!==null&&typeof N=="object"||Array.isArray(N))D[x]=u(f,N);else{if(N instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");D[x]=N}}return D}}function l(f,p){let _=p.asChangeTextDocumentParams(f,f.document.uri,f.document.version);return{document:_.textDocument,changes:_.contentChanges}}t.asTextContentChange=l;function d(f,p){let _=Object.create(null);if(f.metadata&&(_.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let D=Object.create(null),x=f.cells;x.structure&&(D.structure={array:{start:x.structure.array.start,deleteCount:x.structure.array.deleteCount,cells:x.structure.array.cells!==void 0?x.structure.array.cells.map(N=>r.c2p.asNotebookCell(N,p)):void 0},didOpen:x.structure.didOpen!==void 0?x.structure.didOpen.map(N=>p.asOpenTextDocumentParams(N.document).textDocument):void 0,didClose:x.structure.didClose!==void 0?x.structure.didClose.map(N=>p.asCloseTextDocumentParams(N.document).textDocument):void 0}),x.data!==void 0&&(D.data=x.data.map(N=>r.c2p.asNotebookCell(N,p))),x.textContent!==void 0&&(D.textContent=x.textContent.map(N=>r.c2p.asTextContentChange(N,p))),Object.keys(D).length>0&&(_.cells=D)}return _}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(Ax||(Ax={}));var ore;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let p=l-1,_=d-1;for(;p>=0&&_>=0&&t(a[p],c[_],u);)p--,_--;let D=p+1-f,x=f===_+1?void 0:c.slice(f,_+1);return x!==void 0?{start:f,deleteCount:D,cells:x}:{start:f,deleteCount:D}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let p=0;p<d.length;p++){let _=d[p];if(!o(a[_],c[_]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(ore||(ore={}));var mW;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;return!(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme||t.pattern!==void 0&&!(0,yTt.matchGlobPattern)(t.pattern,i))}r.matchNotebook=e})(mW||(mW={}));var gW;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(gW||(gW={}));var vW;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(vW||(vW={}));var Lx=class{client;options;notebookSyncInfo;notebookDidOpen;disposables;selector;onChangeNotificationSent;onOpenNotificationSent;onCloseNotificationSent;onSaveNotificationSent;constructor(e,t,n,i,o,s){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(gW.asDocumentSelector(t)),this.onChangeNotificationSent=n,this.onOpenNotificationSent=i,this.onCloseNotificationSent=o,this.onSaveNotificationSent=s,yc.workspace.onDidOpenNotebookDocument(a=>{this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a)},void 0,this.disposables);for(let a of yc.workspace.notebookDocuments)this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a);yc.workspace.onDidChangeNotebookDocument(a=>this.didChangeNotebookDocument(a),void 0,this.disposables),this.options.save===!0&&yc.workspace.onDidSaveNotebookDocument(a=>this.didSave(a),void 0,this.disposables),yc.workspace.onDidCloseNotebookDocument(a=>{this.didClose(a),this.notebookDidOpen.delete(a.uri.toString())},void 0,this.disposables)}getState(){for(let e of yc.workspace.notebookDocuments)if(this.getMatchingCellsConsideringSyncInfo(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){if(yc.languages.match(this.selector,e)>0)return!0;let t=e.uri.toString();for(let n of this.notebookSyncInfo.values())if(n.uris.has(t))return!0;return!1}didOpenNotebookCellTextDocument(e,t){if(yc.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.getSyncInfo(e),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.mergeCells(e,n,[t]);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t,n){if(yc.languages.match(this.selector,n.document)===0)return;let i=this.getSyncInfo(e);i===void 0||!i.uris.has(t.document.uri.toString())||this.doSendChange({notebook:e,cells:{textContent:[n]}},i.cells).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.getSyncInfo(e);if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t,n=this.getSyncInfo(e)){if(n!==void 0)if(t===void 0&&(t=n.cells.slice()),t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t=this.getMatchingCells(e),t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.getSyncInfo(t);if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCellsFromEvent(t,n,e);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.getSyncInfo(e)!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.getSyncInfo(e)){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){if(this.getSyncInfo(e)!==void 0)throw new Error(`Notebook document ${e.uri.toString()} is already open`);let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,t){let n=async(o,s)=>{let a=s.map(c=>this.client.code2ProtocolConverter.asTextDocumentItem(c.document));try{await this.client.sendNotification(LS.DidOpenNotebookDocumentNotification.type,{notebookDocument:Ax.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),cellTextDocuments:a}),this.onOpenNotificationSent.fire(o)}catch(c){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",c),c}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),vW.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e.notebook);if(t===void 0)throw new Error(`Received changed event for un-synced notebook ${e.notebook.uri.toString()}`);return this.doSendChange(e,t)}async doSendChange(e,t){let n=async o=>{try{await this.client.sendNotification(LS.DidChangeNotebookDocumentNotification.type,{notebookDocument:Ax.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:Ax.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)}),this.onChangeNotificationSent.fire(o)}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),vW.create(t)),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(LS.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}}),this.onSaveNotificationSent.fire(i)}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e);if(t===void 0)throw new Error(`Received close event for un-synced notebook ${e.uri.toString()}`);return this.doSendClose(e,t)}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(LS.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))}),this.onCloseNotificationSent.fire(o)}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}getSynchronizedCells(e){return this.getSyncInfo(e)?.cells}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=Ax.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=ore.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(_=>[_.document.uri.toString(),_])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(_=>[_.document.uri.toString(),_]));for(let _ of Array.from(d.keys()))l.has(_)&&(d.delete(_),l.delete(_));o.cells=o.cells??{};let f=[],p=[];if(l.size>0||d.size>0){for(let _ of l.values())f.push(_);for(let _ of d.values())p.push(_)}o.cells.structure={array:u,didOpen:f,didClose:p}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||mW.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}getMatchingCellsFromEvent(e,t,n){if(this.options.notebookSelector===void 0)return;let i;for(let c of this.options.notebookSelector)if(c.notebook===void 0||mW.matchNotebook(c.notebook,e)){i=c;break}if(i===void 0)return;if((n.cellChanges===void 0||n.cellChanges.length===0)&&(n.contentChanges===void 0||n.contentChanges.length===0))return t.cells;let o;if(n.cellChanges!==void 0&&n.cellChanges.length>0){let c=n.cellChanges.map(l=>l.cell),u=this.filterCells(e,c,i.cells);if(u.length!==c.length){o=new Set(t.uris);for(let l of c)o.delete(l.document.uri.toString());for(let l of u)o.add(l.document.uri.toString())}}if(n.contentChanges!==void 0&&n.contentChanges.length>0){o===void 0&&(o=new Set(t.uris));for(let c of n.contentChanges){for(let l of c.removedCells)o.delete(l.document.uri.toString());let u=this.filterCells(e,new Array(...c.addedCells),i.cells);for(let l of u)o.add(l.document.uri.toString())}}if(o===void 0)return t.cells;let s=[],a=e.getCells();for(let c of a)o.has(c.document.uri.toString())&&s.push(c);return s}getMatchingCellsFromSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:void 0}getMatchingCellsConsideringSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:this.getMatchingCells(e)}mergeCells(e,t,n){let i=[],o=new Set(t.uris);for(let s of n)o.add(s.document.uri.toString());for(let s of e.getCells())o.has(s.document.uri.toString())&&i.push(s);return i}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}getSyncInfo(e){return this.notebookSyncInfo.get(e.uri.toString())}},sre=class r{static CellScheme="vscode-notebook-cell";client;registrations;dedicatedChannel;_onChangeNotificationSent;_onOpenNotificationSent;_onCloseNotificationSent;_onSaveNotificationSent;constructor(e){this.client=e,this.registrations=new Map,this.registrationType=LS.NotebookDocumentSyncRegistrationType.type,this._onChangeNotificationSent=new yc.EventEmitter,this._onOpenNotificationSent=new yc.EventEmitter,this._onCloseNotificationSent=new yc.EventEmitter,this._onSaveNotificationSent=new yc.EventEmitter,yc.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof Lx&&o.didOpenNotebookCellTextDocument(n,i)}),yc.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i,o]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||o===void 0))for(let s of this.registrations.values())s instanceof Lx&&s.didChangeNotebookCellTextDocument(i,o,t)}),yc.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof Lx&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}registrationType;get onOpenNotificationSent(){return this._onOpenNotificationSent.event}get onChangeNotificationSent(){return this._onChangeNotificationSent.event}get onCloseNotificationSent(){return this._onCloseNotificationSent.event}get onSaveNotificationSent(){return this._onSaveNotificationSent.event}fillClientCapabilities(e){let t=ULe(ULe(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(gW.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??vTt.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new Lx(this.client,e.registerOptions,this._onChangeNotificationSent,this._onOpenNotificationSent,this._onCloseNotificationSent,this._onSaveNotificationSent);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t!==void 0&&(this.registrations.delete(e),t.dispose())}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear(),this._onChangeNotificationSent.dispose(),this._onChangeNotificationSent=new yc.EventEmitter,this._onOpenNotificationSent.dispose(),this._onOpenNotificationSent=new yc.EventEmitter,this._onCloseNotificationSent.dispose(),this._onCloseNotificationSent=new yc.EventEmitter,this._onSaveNotificationSent.dispose(),this._onSaveNotificationSent=new yc.EventEmitter}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&yc.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of yc.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};Db.NotebookDocumentSyncFeature=sre});var WLe=C(Rg=>{"use strict";var _Tt=Rg&&Rg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bTt=Rg&&Rg.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),BLe=Rg&&Rg.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&_Tt(t,e,n[i]);return bTt(t,e),t}}();Object.defineProperty(Rg,"__esModule",{value:!0});Rg.SyncConfigurationFeature=Rg.ConfigurationFeature=void 0;Rg.toJSONObject=cE;var Nx=require("vscode"),xN=an(),wTt=BLe(Hv()),STt=BLe(Ba()),HLe=Lo(),cre=class{_client;constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(xN.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=cE(Nx.workspace.getConfiguration(void 0,e).get(t));else{let o=Nx.workspace.getConfiguration(t.substr(0,i),e);o&&(n=cE(o.get(t.substr(i+1))))}}else{let i=Nx.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=cE(i.get(o)))}return n===void 0&&(n=null),n}clear(){}};Rg.ConfigurationFeature=cre;function cE(r){if(r){if(Array.isArray(r))return r.map(cE);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=cE(r[t]));return e}}return r}var ure=class{_client;isCleared;_listeners;constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return xN.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,HLe.ensure)((0,HLe.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:STt.generateUuid(),registerOptions:{section:e}})}register(e){let t=Nx.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,t){if(this.isCleared)return;let n;if(wTt.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(xN.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(xN.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${xN.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=Nx.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=Nx.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=cE(c)}}return i}};Rg.SyncConfigurationFeature=ure});var $Le=C(ol=>{"use strict";var CTt=ol&&ol.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),TTt=ol&&ol.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),DTt=ol&&ol.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&CTt(t,e,n[i]);return TTt(t,e),t}}();Object.defineProperty(ol,"__esModule",{value:!0});ol.DidSaveTextDocumentFeature=ol.WillSaveWaitUntilFeature=ol.WillSaveFeature=ol.DidChangeTextDocumentFeature=ol.DidCloseTextDocumentFeature=ol.DidOpenTextDocumentFeature=void 0;var bm=require("vscode"),pa=an(),Vc=Lo(),Mx=DTt(Ba()),lre=class extends Vc.TextDocumentEventFeature{_syncedDocuments;_pendingOpenNotifications;_delayOpen;_pendingOpenListeners;constructor(e,t){super(e,bm.workspace.onDidOpenTextDocument,pa.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,Vc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingOpenNotifications=new Map,this._delayOpen=e.clientOptions.textSynchronization?.delayOpenNotifications??!1}async callback(e){if(this._delayOpen){if(!this.matches(e))return;if(this._client.tabsModel.isVisible(e))return super.callback(e);this._pendingOpenNotifications.set(e.uri.toString(),e)}else return super.callback(e)}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Vc.ensure)((0,Vc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:Mx.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return pa.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);if(bm.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&bm.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n))if(this._client.tabsModel.isVisible(n)){let s=this._client.middleware,a=c=>this._client.sendNotification(this._type,this._createParams(c));(s.didOpen?s.didOpen(n,a):a(n)).catch(c=>{this._client.error(`Sending document notification ${this._type.method} failed`,c)}),this._syncedDocuments.set(i,n)}else this._pendingOpenNotifications.set(i,n)}),this._delayOpen&&this._pendingOpenListeners===void 0){this._pendingOpenListeners=[];let n=this._client.tabsModel;this._pendingOpenListeners.push(n.onClose(i=>{for(let o of i)this._pendingOpenNotifications.delete(o.toString())})),this._pendingOpenListeners.push(n.onOpen(i=>{for(let o of i){let s=this._pendingOpenNotifications.get(o.toString());s!==void 0&&(super.callback(s).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._pendingOpenNotifications.delete(o.toString()))}})),this._pendingOpenListeners.push(bm.workspace.onDidCloseTextDocument(i=>{this._pendingOpenNotifications.delete(i.uri.toString())}))}}async sendPendingOpenNotifications(e){let t=Array.from(this._pendingOpenNotifications.values());this._pendingOpenNotifications.clear();for(let n of t)e!==void 0&&n.uri.toString()===e||await super.callback(n)}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,t,n)}clear(){if(this._pendingOpenNotifications.clear(),this._pendingOpenListeners!==void 0){for(let e of this._pendingOpenListeners)e.dispose();this._pendingOpenListeners=void 0}super.clear()}};ol.DidOpenTextDocumentFeature=lre;var dre=class extends Vc.TextDocumentEventFeature{_syncedDocuments;_pendingTextDocumentChanges;constructor(e,t,n){super(e,bm.workspace.onDidCloseTextDocument,pa.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,Vc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingTextDocumentChanges=n}get registrationType(){return pa.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Vc.ensure)((0,Vc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:Mx.generateUuid(),registerOptions:{documentSelector:t}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,t,n)}unregister(e){let t=this._selectors.get(e);if(t===void 0)return;super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(bm.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};ol.DidCloseTextDocumentFeature=dre;var fre=class extends Vc.DynamicDocumentFeature{_listener;_changeData;_onNotificationSent;_onPendingChangeAdded;_pendingTextDocumentChanges;_syncKind;constructor(e,t){super(e),this._changeData=new Map,this._onNotificationSent=new bm.EventEmitter,this._onPendingChangeAdded=new bm.EventEmitter,this._pendingTextDocumentChanges=t,this._syncKind=pa.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return pa.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Vc.ensure)((0,Vc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==pa.TextDocumentSyncKind.None&&this.register({id:Mx.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=bm.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=e.document.uri,n=e.document.version,i=[];for(let o of this._changeData.values())if(bm.languages.match(o.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let s=this._client.middleware;if(o.syncKind===pa.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,t,n);await this._client.sendNotification(pa.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,pa.DidChangeTextDocumentNotification.type,u)};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}else if(o.syncKind===pa.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,o=>{throw this._client.error(`Sending document notification ${pa.DidChangeTextDocumentNotification.type.method} failed`,o),o})}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=pa.TextDocumentSyncKind.None;else{this._syncKind=pa.TextDocumentSyncKind.None;for(let t of this._changeData.values())if(this.updateSyncKind(t.syncKind),this._syncKind===pa.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=pa.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let t;if(e.size===0)t=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{t=[];for(let n of this._pendingTextDocumentChanges)e.has(n[0])||(t.push(n[1]),this._pendingTextDocumentChanges.delete(n[0]))}return t}getProvider(e){for(let t of this._changeData.values())if(bm.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}updateSyncKind(e){if(this._syncKind!==pa.TextDocumentSyncKind.Full)switch(e){case pa.TextDocumentSyncKind.Full:this._syncKind=e;break;case pa.TextDocumentSyncKind.Incremental:this._syncKind===pa.TextDocumentSyncKind.None&&(this._syncKind=pa.TextDocumentSyncKind.Incremental);break}}};ol.DidChangeTextDocumentFeature=fre;var hre=class extends Vc.TextDocumentEventFeature{constructor(e){super(e,bm.workspace.onWillSaveTextDocument,pa.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>Vc.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return pa.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Vc.ensure)((0,Vc.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:Mx.generateUuid(),registerOptions:{documentSelector:t}})}getTextDocument(e){return e.document}};ol.WillSaveFeature=hre;var pre=class extends Vc.DynamicDocumentFeature{_listener;_selectors;constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return pa.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Vc.ensure)((0,Vc.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:Mx.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=bm.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Vc.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(pa.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};ol.WillSaveWaitUntilFeature=pre;var mre=class extends Vc.TextDocumentEventFeature{_includeText;constructor(e){super(e,bm.workspace.onDidSaveTextDocument,pa.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Vc.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return pa.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Vc.ensure)((0,Vc.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:Mx.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};ol.DidSaveTextDocumentFeature=mre});var VLe=C(Eb=>{"use strict";var ETt=Eb&&Eb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),RTt=Eb&&Eb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),PTt=Eb&&Eb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ETt(t,e,n[i]);return RTt(t,e),t}}();Object.defineProperty(Eb,"__esModule",{value:!0});Eb.CompletionItemFeature=void 0;var xTt=require("vscode"),Co=an(),gre=Lo(),OTt=PTt(Ba()),ITt=[Co.CompletionItemKind.Text,Co.CompletionItemKind.Method,Co.CompletionItemKind.Function,Co.CompletionItemKind.Constructor,Co.CompletionItemKind.Field,Co.CompletionItemKind.Variable,Co.CompletionItemKind.Class,Co.CompletionItemKind.Interface,Co.CompletionItemKind.Module,Co.CompletionItemKind.Property,Co.CompletionItemKind.Unit,Co.CompletionItemKind.Value,Co.CompletionItemKind.Enum,Co.CompletionItemKind.Keyword,Co.CompletionItemKind.Snippet,Co.CompletionItemKind.Color,Co.CompletionItemKind.File,Co.CompletionItemKind.Reference,Co.CompletionItemKind.Folder,Co.CompletionItemKind.EnumMember,Co.CompletionItemKind.Constant,Co.CompletionItemKind.Struct,Co.CompletionItemKind.Event,Co.CompletionItemKind.Operator,Co.CompletionItemKind.TypeParameter],vre=class extends gre.TextDocumentLanguageFeature{labelDetailsSupport;constructor(e){super(e,Co.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,gre.ensure)((0,gre.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Co.MarkupKind.Markdown,Co.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Co.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Co.InsertTextMode.asIs,Co.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=Co.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:ITt},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"],applyKindSupport:!0}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:OTt.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,p=(_,D,x,N)=>d.sendRequest(Co.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(_,D,x),N).then(A=>N.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(A,i,N),A=>d.handleFailedRequest(Co.CompletionRequest.type,N,A,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,p):p(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,p)=>u.sendRequest(Co.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),p).then(_=>p.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(_),_=>u.handleFailedRequest(Co.CompletionResolveRequest.type,p,_,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[xTt.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};Eb.CompletionItemFeature=vre});var GLe=C(Rb=>{"use strict";var kTt=Rb&&Rb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ATt=Rb&&Rb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),LTt=Rb&&Rb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&kTt(t,e,n[i]);return ATt(t,e),t}}();Object.defineProperty(Rb,"__esModule",{value:!0});Rb.HoverFeature=void 0;var NTt=require("vscode"),ON=an(),yre=Lo(),MTt=LTt(Ba()),_re=class extends yre.TextDocumentLanguageFeature{constructor(e){super(e,ON.HoverRequest.type)}fillClientCapabilities(e){let t=(0,yre.ensure)((0,yre.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[ON.MarkupKind.Markdown,ON.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:MTt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(ON.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(p),p=>a.handleFailedRequest(ON.HoverRequest.type,f,p,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return NTt.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Rb.HoverFeature=_re});var KLe=C(Pb=>{"use strict";var FTt=Pb&&Pb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qTt=Pb&&Pb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),jTt=Pb&&Pb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&FTt(t,e,n[i]);return qTt(t,e),t}}();Object.defineProperty(Pb,"__esModule",{value:!0});Pb.DefinitionFeature=void 0;var zTt=require("vscode"),bre=an(),wre=Lo(),UTt=jTt(Ba()),Sre=class extends wre.TextDocumentLanguageFeature{constructor(e){super(e,bre.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,wre.ensure)((0,wre.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:UTt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(bre.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(bre.DefinitionRequest.type,f,p,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return zTt.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Pb.DefinitionFeature=Sre});var JLe=C(xb=>{"use strict";var HTt=xb&&xb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),BTt=xb&&xb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),WTt=xb&&xb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&HTt(t,e,n[i]);return BTt(t,e),t}}();Object.defineProperty(xb,"__esModule",{value:!0});xb.SignatureHelpFeature=void 0;var YLe=require("vscode"),IN=an(),Cre=Lo(),$Tt=WTt(Ba()),Tre=class extends Cre.TextDocumentLanguageFeature{constructor(e){super(e,IN.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,Cre.ensure)((0,Cre.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[IN.MarkupKind.Markdown,IN.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.signatureInformation.noActiveParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:$Tt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,p)=>a.sendRequest(IN.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),p).then(_=>p.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(_,p),_=>a.handleFailedRequest(IN.SignatureHelpRequest.type,p,_,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return YLe.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return YLe.languages.registerSignatureHelpProvider(n,t,i)}}};xb.SignatureHelpFeature=Tre});var XLe=C(Ob=>{"use strict";var VTt=Ob&&Ob.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),GTt=Ob&&Ob.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),KTt=Ob&&Ob.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&VTt(t,e,n[i]);return GTt(t,e),t}}();Object.defineProperty(Ob,"__esModule",{value:!0});Ob.DocumentHighlightFeature=void 0;var YTt=require("vscode"),Dre=an(),Ere=Lo(),JTt=KTt(Ba()),Rre=class extends Ere.TextDocumentLanguageFeature{constructor(e){super(e,Dre.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,Ere.ensure)((0,Ere.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:JTt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Dre.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(p,f),p=>a.handleFailedRequest(Dre.DocumentHighlightRequest.type,f,p,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[YTt.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Ob.DocumentHighlightFeature=Rre});var Ore=C(lh=>{"use strict";var XTt=lh&&lh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),QTt=lh&&lh.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ZTt=lh&&lh.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&XTt(t,e,n[i]);return QTt(t,e),t}}();Object.defineProperty(lh,"__esModule",{value:!0});lh.DocumentSymbolFeature=lh.SupportedSymbolTags=lh.SupportedSymbolKinds=void 0;var eDt=require("vscode"),ys=an(),Pre=Lo(),tDt=ZTt(Ba());lh.SupportedSymbolKinds=[ys.SymbolKind.File,ys.SymbolKind.Module,ys.SymbolKind.Namespace,ys.SymbolKind.Package,ys.SymbolKind.Class,ys.SymbolKind.Method,ys.SymbolKind.Property,ys.SymbolKind.Field,ys.SymbolKind.Constructor,ys.SymbolKind.Enum,ys.SymbolKind.Interface,ys.SymbolKind.Function,ys.SymbolKind.Variable,ys.SymbolKind.Constant,ys.SymbolKind.String,ys.SymbolKind.Number,ys.SymbolKind.Boolean,ys.SymbolKind.Array,ys.SymbolKind.Object,ys.SymbolKind.Key,ys.SymbolKind.Null,ys.SymbolKind.EnumMember,ys.SymbolKind.Struct,ys.SymbolKind.Event,ys.SymbolKind.Operator,ys.SymbolKind.TypeParameter];lh.SupportedSymbolTags=[ys.SymbolTag.Deprecated];var xre=class extends Pre.TextDocumentLanguageFeature{constructor(e){super(e,ys.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,Pre.ensure)((0,Pre.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:lh.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:lh.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:tDt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(ys.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d);if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let p=f[0];return ys.DocumentSymbol.is(p)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}}catch(f){return a.handleFailedRequest(ys.DocumentSymbolRequest.type,d,f,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[eDt.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};lh.DocumentSymbolFeature=xre});var ZLe=C(Ib=>{"use strict";var rDt=Ib&&Ib.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nDt=Ib&&Ib.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),iDt=Ib&&Ib.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&rDt(t,e,n[i]);return nDt(t,e),t}}();Object.defineProperty(Ib,"__esModule",{value:!0});Ib.WorkspaceSymbolFeature=void 0;var oDt=require("vscode"),kN=an(),Ire=Lo(),QLe=Ore(),sDt=iDt(Ba()),kre=class extends Ire.WorkspaceFeature{constructor(e){super(e,kN.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,Ire.ensure)((0,Ire.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:QLe.SupportedSymbolKinds},t.tagSupport={valueSet:QLe.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:sDt.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(kN.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(kN.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(kN.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(kN.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[oDt.languages.registerWorkspaceSymbolProvider(t),t]}};Ib.WorkspaceSymbolFeature=kre});var eNe=C(kb=>{"use strict";var aDt=kb&&kb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cDt=kb&&kb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uDt=kb&&kb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&aDt(t,e,n[i]);return cDt(t,e),t}}();Object.defineProperty(kb,"__esModule",{value:!0});kb.ReferencesFeature=void 0;var lDt=require("vscode"),Are=an(),Lre=Lo(),dDt=uDt(Ba()),Nre=class extends Lre.TextDocumentLanguageFeature{constructor(e){super(e,Are.ReferencesRequest.type)}fillClientCapabilities(e){(0,Lre.ensure)((0,Lre.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:dDt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>c.sendRequest(Are.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,p),_).then(D=>_.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(D,_),D=>c.handleFailedRequest(Are.ReferencesRequest.type,_,D,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return lDt.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};kb.ReferencesFeature=Nre});var tNe=C(_W=>{"use strict";Object.defineProperty(_W,"__esModule",{value:!0});_W.TypeDefinitionFeature=void 0;var fDt=require("vscode"),Mre=an(),AN=Lo(),Fre=class extends AN.TextDocumentLanguageFeature{constructor(e){super(e,Mre.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,AN.ensure)((0,AN.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,AN.ensure)((0,AN.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Mre.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(Mre.TypeDefinitionRequest.type,f,p,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return fDt.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};_W.TypeDefinitionFeature=Fre});var rNe=C(bW=>{"use strict";Object.defineProperty(bW,"__esModule",{value:!0});bW.ImplementationFeature=void 0;var hDt=require("vscode"),qre=an(),jre=Lo(),zre=class extends jre.TextDocumentLanguageFeature{constructor(e){super(e,qre.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,jre.ensure)((0,jre.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(qre.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(qre.ImplementationRequest.type,f,p,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return hDt.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};bW.ImplementationFeature=zre});var Bre=C(wW=>{"use strict";Object.defineProperty(wW,"__esModule",{value:!0});wW.ColorProviderFeature=void 0;var pDt=require("vscode"),LN=an(),Ure=Lo(),Hre=class extends Ure.TextDocumentLanguageFeature{constructor(e){super(e,LN.DocumentColorRequest.type)}fillClientCapabilities(e){(0,Ure.ensure)((0,Ure.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(LN.ColorPresentationRequest.type,p,f).then(_=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(_,f),_=>a.handleFailedRequest(LN.ColorPresentationRequest.type,f,_,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(LN.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(LN.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[pDt.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};wW.ColorProviderFeature=Hre});var nNe=C(Ab=>{"use strict";var mDt=Ab&&Ab.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gDt=Ab&&Ab.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vDt=Ab&&Ab.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&mDt(t,e,n[i]);return gDt(t,e),t}}();Object.defineProperty(Ab,"__esModule",{value:!0});Ab.CodeActionFeature=void 0;var yDt=require("vscode"),dh=an(),_Dt=vDt(Ba()),Wre=Lo(),$re=class extends Wre.TextDocumentLanguageFeature{constructor(e){super(e,dh.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,Wre.ensure)((0,Wre.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit","command"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[dh.CodeActionKind.Empty,dh.CodeActionKind.QuickFix,dh.CodeActionKind.Refactor,dh.CodeActionKind.RefactorExtract,dh.CodeActionKind.RefactorInline,dh.CodeActionKind.RefactorMove,dh.CodeActionKind.RefactorRewrite,dh.CodeActionKind.Source,dh.CodeActionKind.SourceOrganizeImports,dh.CodeActionKind.Notebook]}},t.honorsChangeAnnotations=!0,t.documentationSupport=!0,t.tagSupport={valueSet:[dh.CodeActionTag.LLMGenerated]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:_Dt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:c.code2ProtocolConverter.asCodeActionContextSync(p)};return c.sendRequest(dh.CodeActionRequest.type,D,_).then(x=>_.isCancellationRequested||x===null||x===void 0?null:c.protocol2CodeConverter.asCodeActionResult(x,_),x=>c.handleFailedRequest(dh.CodeActionRequest.type,_,x,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(dh.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeActionSync(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(dh.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[yDt.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,this.getMetadata(e)),n]}getMetadata(e){if(!(e.codeActionKinds===void 0&&e.documentation===void 0))return{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds),documentation:this._client.protocol2CodeConverter.asCodeActionDocumentations(e.documentation)}}};Ab.CodeActionFeature=$re});var oNe=C(Lb=>{"use strict";var bDt=Lb&&Lb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wDt=Lb&&Lb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),SDt=Lb&&Lb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&bDt(t,e,n[i]);return wDt(t,e),t}}();Object.defineProperty(Lb,"__esModule",{value:!0});Lb.CodeLensFeature=void 0;var iNe=require("vscode"),Fx=an(),CDt=SDt(Ba()),NN=Lo(),Vre=class extends NN.TextDocumentLanguageFeature{constructor(e){super(e,Fx.CodeLensRequest.type)}fillClientCapabilities(e){let t=(0,NN.ensure)((0,NN.ensure)(e,"textDocument"),"codeLens");t.dynamicRegistration=!0,t.resolveSupport={properties:["command"]},(0,NN.ensure)((0,NN.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Fx.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:CDt.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new iNe.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(Fx.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(Fx.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(Fx.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(Fx.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[iNe.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};Lb.CodeLensFeature=Vre});var sNe=C(wm=>{"use strict";var TDt=wm&&wm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),DDt=wm&&wm.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),EDt=wm&&wm.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&TDt(t,e,n[i]);return DDt(t,e),t}}();Object.defineProperty(wm,"__esModule",{value:!0});wm.DocumentOnTypeFormattingFeature=wm.DocumentRangeFormattingFeature=wm.DocumentFormattingFeature=void 0;var SW=require("vscode"),n_=an(),Jre=EDt(Ba()),NS=Lo(),qx;(function(r){function e(t){let n=SW.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(qx||(qx={}));var Gre=class extends NS.TextDocumentLanguageFeature{constructor(e){super(e,n_.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,NS.ensure)((0,NS.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:Jre.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,qx.fromConfiguration(l))};return a.sendRequest(n_.DocumentFormattingRequest.type,p,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(_,f),_=>a.handleFailedRequest(n_.DocumentFormattingRequest.type,f,_,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[SW.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};wm.DocumentFormattingFeature=Gre;var Kre=class extends NS.TextDocumentLanguageFeature{constructor(e){super(e,n_.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let t=(0,NS.ensure)((0,NS.ensure)(e,"textDocument"),"rangeFormatting");t.dynamicRegistration=!0,t.rangesSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:Jre.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(p,qx.fromConfiguration(d))};return c.sendRequest(n_.DocumentRangeFormattingRequest.type,D,_).then(x=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(x,_),x=>c.handleFailedRequest(n_.DocumentRangeFormattingRequest.type,_,x,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return e.rangesSupport&&(n.provideDocumentRangesFormattingEdits=(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),ranges:c.code2ProtocolConverter.asRanges(f),options:c.code2ProtocolConverter.asFormattingOptions(p,qx.fromConfiguration(d))};return c.sendRequest(n_.DocumentRangesFormattingRequest.type,D,_).then(x=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(x,_),x=>c.handleFailedRequest(n_.DocumentRangesFormattingRequest.type,_,x,null))},l=c.middleware;return l.provideDocumentRangesFormattingEdits?l.provideDocumentRangesFormattingEdits(i,o,s,a,u):u(i,o,s,a)}),[SW.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};wm.DocumentRangeFormattingFeature=Kre;var Yre=class extends NS.TextDocumentLanguageFeature{constructor(e){super(e,n_.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,NS.ensure)((0,NS.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:Jre.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(p,_,D,x,N)=>{let A={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(p),position:l.code2ProtocolConverter.asPosition(_),ch:D,options:l.code2ProtocolConverter.asFormattingOptions(x,qx.fromConfiguration(p))};return l.sendRequest(n_.DocumentOnTypeFormattingRequest.type,A,N).then(U=>N.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(U,N),U=>l.handleFailedRequest(n_.DocumentOnTypeFormattingRequest.type,N,U,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[SW.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};wm.DocumentOnTypeFormattingFeature=Yre});var uNe=C(Nb=>{"use strict";var RDt=Nb&&Nb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),PDt=Nb&&Nb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cNe=Nb&&Nb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&RDt(t,e,n[i]);return PDt(t,e),t}}();Object.defineProperty(Nb,"__esModule",{value:!0});Nb.RenameFeature=void 0;var xDt=require("vscode"),uE=an(),ODt=cNe(Ba()),aNe=cNe(Hv()),Xre=Lo(),Qre=class extends Xre.TextDocumentLanguageFeature{constructor(e){super(e,uE.RenameRequest.type)}fillClientCapabilities(e){let t=(0,Xre.ensure)((0,Xre.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=uE.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(aNe.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:ODt.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:p};return c.sendRequest(uE.RenameRequest.type,D,_).then(x=>_.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(x,_),x=>c.handleFailedRequest(uE.RenameRequest.type,_,x,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(uE.PrepareRenameRequest.type,p,f).then(_=>f.isCancellationRequested?null:uE.Range.is(_)?a.protocol2CodeConverter.asRange(_):this.isDefaultBehavior(_)?_.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):_&&uE.Range.is(_.range)?{range:a.protocol2CodeConverter.asRange(_.range),placeholder:_.placeholder}:Promise.reject(new Error("The element can't be renamed.")),_=>{throw typeof _.message=="string"?new Error(_.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return xDt.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&aNe.boolean(t.defaultBehavior)}};Nb.RenameFeature=Qre});var tne=C(Mb=>{"use strict";var IDt=Mb&&Mb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kDt=Mb&&Mb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ADt=Mb&&Mb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&IDt(t,e,n[i]);return kDt(t,e),t}}();Object.defineProperty(Mb,"__esModule",{value:!0});Mb.DocumentLinkFeature=void 0;var LDt=require("vscode"),MN=an(),Zre=Lo(),NDt=ADt(Ba()),ene=class extends Zre.TextDocumentLanguageFeature{constructor(e){super(e,MN.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,Zre.ensure)((0,Zre.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:NDt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(MN.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(MN.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(MN.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(MN.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[LDt.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Mb.DocumentLinkFeature=ene});var dNe=C(Fb=>{"use strict";var MDt=Fb&&Fb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),FDt=Fb&&Fb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),qDt=Fb&&Fb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&MDt(t,e,n[i]);return FDt(t,e),t}}();Object.defineProperty(Fb,"__esModule",{value:!0});Fb.ExecuteCommandFeature=void 0;var jDt=require("vscode"),rne=an(),zDt=qDt(Ba()),lNe=Lo(),nne=class{_client;_commands;constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return rne.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,lNe.ensure)((0,lNe.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:zDt.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(rne.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(rne.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(jDt.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&(this._commands.delete(e),t.forEach(n=>n.dispose()))}clear(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};Fb.ExecuteCommandFeature=nne});var hNe=C(CW=>{"use strict";Object.defineProperty(CW,"__esModule",{value:!0});CW.FoldingRangeFeature=void 0;var fNe=require("vscode"),lE=an(),FN=Lo(),ine=class extends FN.TextDocumentLanguageFeature{constructor(e){super(e,lE.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,FN.ensure)((0,FN.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[lE.FoldingRangeKind.Comment,lE.FoldingRangeKind.Imports,lE.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1},(0,FN.ensure)((0,FN.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,t){this._client.onRequest(lE.FoldingRangeRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeFoldingRange.fire()});let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new fNe.EventEmitter,i={onDidChangeFoldingRanges:n.event,provideFoldingRanges:(o,s,a)=>{let c=this._client,u=(d,f,p)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d)};return c.sendRequest(lE.FoldingRangeRequest.type,_,p).then(D=>p.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(D,p),D=>c.handleFailedRequest(lE.FoldingRangeRequest.type,p,D,null))},l=c.middleware;return l.provideFoldingRanges?l.provideFoldingRanges(o,s,a,u):u(o,s,a)}};return[fNe.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeFoldingRange:n}]}};CW.FoldingRangeFeature=ine});var cne=C(TW=>{"use strict";Object.defineProperty(TW,"__esModule",{value:!0});TW.DeclarationFeature=void 0;var UDt=require("vscode"),one=an(),sne=Lo(),ane=class extends sne.TextDocumentLanguageFeature{constructor(e){super(e,one.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,sne.ensure)((0,sne.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(one.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(p,f),p=>a.handleFailedRequest(one.DeclarationRequest.type,f,p,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return UDt.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};TW.DeclarationFeature=ane});var fne=C(DW=>{"use strict";Object.defineProperty(DW,"__esModule",{value:!0});DW.SelectionRangeFeature=void 0;var HDt=require("vscode"),une=an(),lne=Lo(),dne=class extends lne.TextDocumentLanguageFeature{constructor(e){super(e,une.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,lne.ensure)((0,lne.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:a.code2ProtocolConverter.asPositionsSync(d,f)};return a.sendRequest(une.SelectionRangeRequest.type,p,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(_,f),_=>a.handleFailedRequest(une.SelectionRangeRequest.type,f,_,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return HDt.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};DW.SelectionRangeFeature=dne});var gne=C(EW=>{"use strict";Object.defineProperty(EW,"__esModule",{value:!0});EW.CallHierarchyFeature=void 0;var BDt=require("vscode"),dE=an(),hne=Lo(),pne=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(dE.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(dE.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(dE.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(dE.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(dE.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(dE.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},mne=class extends hne.TextDocumentLanguageFeature{constructor(e){super(e,dE.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,hne.ensure)((0,hne.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new pne(t);return[BDt.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};EW.CallHierarchyFeature=mne});var mNe=C(qb=>{"use strict";var WDt=qb&&qb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$Dt=qb&&qb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pNe=qb&&qb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&WDt(t,e,n[i]);return $Dt(t,e),t}}();Object.defineProperty(qb,"__esModule",{value:!0});qb.SemanticTokensFeature=void 0;var RW=pNe(require("vscode")),Fi=an(),qN=Lo(),VDt=pNe(Hv()),vne=class extends qN.TextDocumentLanguageFeature{constructor(e){super(e,Fi.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,qN.ensure)((0,qN.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[Fi.SemanticTokenTypes.namespace,Fi.SemanticTokenTypes.type,Fi.SemanticTokenTypes.class,Fi.SemanticTokenTypes.enum,Fi.SemanticTokenTypes.interface,Fi.SemanticTokenTypes.struct,Fi.SemanticTokenTypes.typeParameter,Fi.SemanticTokenTypes.parameter,Fi.SemanticTokenTypes.variable,Fi.SemanticTokenTypes.property,Fi.SemanticTokenTypes.enumMember,Fi.SemanticTokenTypes.event,Fi.SemanticTokenTypes.function,Fi.SemanticTokenTypes.method,Fi.SemanticTokenTypes.macro,Fi.SemanticTokenTypes.keyword,Fi.SemanticTokenTypes.modifier,Fi.SemanticTokenTypes.comment,Fi.SemanticTokenTypes.string,Fi.SemanticTokenTypes.number,Fi.SemanticTokenTypes.regexp,Fi.SemanticTokenTypes.operator,Fi.SemanticTokenTypes.decorator,Fi.SemanticTokenTypes.label],t.tokenModifiers=[Fi.SemanticTokenModifiers.declaration,Fi.SemanticTokenModifiers.definition,Fi.SemanticTokenModifiers.readonly,Fi.SemanticTokenModifiers.static,Fi.SemanticTokenModifiers.deprecated,Fi.SemanticTokenModifiers.abstract,Fi.SemanticTokenModifiers.async,Fi.SemanticTokenModifiers.modification,Fi.SemanticTokenModifiers.documentation,Fi.SemanticTokenModifiers.defaultLibrary],t.formats=[Fi.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,qN.ensure)((0,qN.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Fi.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=VDt.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new RW.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(p,_)=>{let D=this._client,x=D.middleware,N=(A,U)=>{let ee={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(A)};return D.sendRequest(Fi.SemanticTokensRequest.type,ee,U).then(he=>U.isCancellationRequested?null:D.protocol2CodeConverter.asSemanticTokens(he,U),he=>D.handleFailedRequest(Fi.SemanticTokensRequest.type,U,he,null))};return x.provideDocumentSemanticTokens?x.provideDocumentSemanticTokens(p,_,N):N(p,_)},provideDocumentSemanticTokensEdits:i?(p,_,D)=>{let x=this._client,N=x.middleware,A=(U,ee,he)=>{let we={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(U),previousResultId:ee};return x.sendRequest(Fi.SemanticTokensDeltaRequest.type,we,he).then(async V=>he.isCancellationRequested?null:Fi.SemanticTokens.is(V)?await x.protocol2CodeConverter.asSemanticTokens(V,he):await x.protocol2CodeConverter.asSemanticTokensEdits(V,he),V=>x.handleFailedRequest(Fi.SemanticTokensDeltaRequest.type,he,V,null))};return N.provideDocumentSemanticTokensEdits?N.provideDocumentSemanticTokensEdits(p,_,D,A):A(p,_,D)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(p,_,D)=>{let x=this._client,N=x.middleware,A=(U,ee,he)=>{let we={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(U),range:x.code2ProtocolConverter.asRange(ee)};return x.sendRequest(Fi.SemanticTokensRangeRequest.type,we,he).then(V=>he.isCancellationRequested?null:x.protocol2CodeConverter.asSemanticTokens(V,he),V=>x.handleFailedRequest(Fi.SemanticTokensRangeRequest.type,he,V,null))};return N.provideDocumentRangeSemanticTokens?N.provideDocumentRangeSemanticTokens(p,_,D,A):A(p,_,D)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push(RW.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push(RW.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new RW.Disposable(()=>u.forEach(p=>p.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};qb.SemanticTokensFeature=vne});var vNe=C(jb=>{"use strict";var GDt=jb&&jb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),KDt=jb&&jb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gNe=jb&&jb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&GDt(t,e,n[i]);return KDt(t,e),t}}();Object.defineProperty(jb,"__esModule",{value:!0});jb.LinkedEditingFeature=void 0;var YDt=gNe(require("vscode")),yne=gNe(an()),_ne=Lo(),bne=class extends _ne.TextDocumentLanguageFeature{constructor(e){super(e,yne.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,_ne.ensure)((0,_ne.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(yne.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(p,f),p=>a.handleFailedRequest(yne.LinkedEditingRangeRequest.type,f,p,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return YDt.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};jb.LinkedEditingFeature=bne});var Tne=C(PW=>{"use strict";Object.defineProperty(PW,"__esModule",{value:!0});PW.TypeHierarchyFeature=void 0;var JDt=require("vscode"),fE=an(),wne=Lo(),Sne=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(fE.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(fE.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(fE.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(fE.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(fE.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(fE.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},Cne=class extends wne.TextDocumentLanguageFeature{constructor(e){super(e,fE.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,wne.ensure)((0,wne.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new Sne(t);return[JDt.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};PW.TypeHierarchyFeature=Cne});var Ene=C(OW=>{"use strict";Object.defineProperty(OW,"__esModule",{value:!0});OW.InlineValueFeature=void 0;var yNe=require("vscode"),xW=an(),jN=Lo(),Dne=class extends jN.TextDocumentLanguageFeature{constructor(e){super(e,xW.InlineValueRequest.type)}fillClientCapabilities(e){(0,jN.ensure)((0,jN.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,jN.ensure)((0,jN.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(xW.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new yNe.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,p,_,D)=>{let x={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(p),context:u.code2ProtocolConverter.asInlineValueContext(_)};return u.sendRequest(xW.InlineValueRequest.type,x,D).then(N=>D.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(N,D),N=>u.handleFailedRequest(xW.InlineValueRequest.type,D,N,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return yNe.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};OW.InlineValueFeature=Dne});var bNe=C(IW=>{"use strict";Object.defineProperty(IW,"__esModule",{value:!0});IW.InlayHintsFeature=void 0;var _Ne=require("vscode"),jx=an(),zN=Lo(),Rne=class extends zN.TextDocumentLanguageFeature{constructor(e){super(e,jx.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,zN.ensure)((0,zN.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,zN.ensure)((0,zN.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(jx.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new _Ne.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,p)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let D=await c.sendRequest(jx.InlayHintRequest.type,_,p);return p.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(D,p)}catch(D){return c.handleFailedRequest(jx.InlayHintRequest.type,p,D,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(jx.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let p=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:p}catch(f){return a.handleFailedRequest(jx.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return _Ne.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};IW.InlayHintsFeature=Rne});var Ine=C(i_=>{"use strict";var XDt=i_&&i_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),QDt=i_&&i_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ZDt=i_&&i_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&XDt(t,e,n[i]);return QDt(t,e),t}}();Object.defineProperty(i_,"__esModule",{value:!0});i_.WorkspaceFoldersFeature=void 0;i_.arrayDiff=xne;var e0t=ZDt(Ba()),kW=require("vscode"),UN=an();function Pne(r,e){if(r!=null)return r[e]}function xne(r,e){return r.filter(t=>e.indexOf(t)<0)}var One=class{_client;_listeners;_initialFolders;constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return UN.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=kW.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(UN.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=kW.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=Pne(Pne(Pne(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=e0t.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=xne(this._initialFolders,e),i=xne(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${UN.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(UN.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=kW.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${UN.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(kW.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};i_.WorkspaceFoldersFeature=One});var CNe=C(sl=>{"use strict";var t0t=sl&&sl.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),r0t=sl&&sl.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),NW=sl&&sl.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&t0t(t,e,n[i]);return r0t(t,e),t}}();Object.defineProperty(sl,"__esModule",{value:!0});sl.WillDeleteFilesFeature=sl.WillRenameFilesFeature=sl.WillCreateFilesFeature=sl.DidDeleteFilesFeature=sl.DidRenameFilesFeature=sl.DidCreateFilesFeature=void 0;var Vv=NW(require("vscode")),n0t=NW(Xte()),MS=NW(an()),i0t=NW(Ba());function wNe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function o0t(r,e){return r[e]}function SNe(r,e,t){r[e]=t}var HN=class r{_client;_event;_registrationType;_clientCapability;_serverCapability;_listener;_filters;constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=wNe(wNe(e,"workspace"),"fileOperations");SNe(t,"dynamicRegistration",!0),SNe(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?o0t(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:i0t.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new n0t.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.info(`Unable to determine file type for ${s.toString()}. Treating as a match.`),!0;if(l===Vv.FileType.File&&u.kind===MS.FileOperationPatternKind.file||l===Vv.FileType.Directory&&u.kind===MS.FileOperationPatternKind.folder)return!0}else if(u.kind===MS.FileOperationPatternKind.folder&&await r.getFileType(s)===Vv.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await Vv.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let t={dot:!0};return e?.ignoreCase===!0&&(t.nocase=!0),t}},AW=class extends HN{_notificationType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},LW=class extends AW{_willListener;_fsPathFileTypes=new Map;async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await HN.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},kne=class extends AW{constructor(e){super(e,Vv.workspace.onDidCreateFiles,MS.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};sl.DidCreateFilesFeature=kne;var Ane=class extends LW{constructor(e){super(e,Vv.workspace.onDidRenameFiles,MS.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=Vv.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};sl.DidRenameFilesFeature=Ane;var Lne=class extends LW{constructor(e){super(e,Vv.workspace.onDidDeleteFiles,MS.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=Vv.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};sl.DidDeleteFilesFeature=Lne;var BN=class extends HN{_requestType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},Nne=class extends BN{constructor(e){super(e,Vv.workspace.onWillCreateFiles,MS.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};sl.WillCreateFilesFeature=Nne;var Mne=class extends BN{constructor(e){super(e,Vv.workspace.onWillRenameFiles,MS.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};sl.WillRenameFilesFeature=Mne;var Fne=class extends BN{constructor(e){super(e,Vv.workspace.onWillDeleteFiles,MS.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};sl.WillDeleteFilesFeature=Fne});var TNe=C(zb=>{"use strict";var s0t=zb&&zb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),a0t=zb&&zb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),c0t=zb&&zb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&s0t(t,e,n[i]);return a0t(t,e),t}}();Object.defineProperty(zb,"__esModule",{value:!0});zb.InlineCompletionItemFeature=void 0;var u0t=require("vscode"),qne=an(),jne=Lo(),l0t=c0t(Ba()),zne=class extends jne.TextDocumentLanguageFeature{constructor(e){super(e,qne.InlineCompletionRequest.type)}fillClientCapabilities(e){let t=(0,jne.ensure)((0,jne.ensure)(e,"textDocument"),"inlineCompletion");t.dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.inlineCompletionProvider);n&&this.register({id:l0t.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideInlineCompletionItems:(i,o,s,a)=>{let c=this._client,u=this._client.middleware,l=(d,f,p,_)=>c.sendRequest(qne.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(d,f,p),_).then(D=>_.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(D,_),D=>c.handleFailedRequest(qne.InlineCompletionRequest.type,_,D,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,o,s,a,l):l(i,o,s,a)}};return[u0t.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};zb.InlineCompletionItemFeature=zne});var RNe=C(Ub=>{"use strict";var d0t=Ub&&Ub.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),f0t=Ub&&Ub.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ENe=Ub&&Ub.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&d0t(t,e,n[i]);return f0t(t,e),t}}();Object.defineProperty(Ub,"__esModule",{value:!0});Ub.TextDocumentContentFeature=void 0;var Une=ENe(require("vscode")),zx=an(),DNe=Lo(),h0t=ENe(Ba()),Hne=class{_client;_registrations=new Map;constructor(e){this._client=e}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:zx.TextDocumentContentRequest.method,registrations:e}}get registrationType(){return zx.TextDocumentContentRequest.type}getProviders(){let e=[];for(let t of this._registrations.values())e.push(...t.providers);return e}fillClientCapabilities(e){let t=(0,DNe.ensure)((0,DNe.ensure)(e,"workspace"),"textDocumentContent");t.dynamicRegistration=!0}initialize(e){let t=this._client;if(t.onRequest(zx.TextDocumentContentRefreshRequest.type,async o=>{let s=t.protocol2CodeConverter.asUri(o.uri);for(let a of this._registrations.values())for(let c of a.providers)c.scheme!==s.scheme&&c.onDidChangeEmitter.fire(s)}),!e?.workspace?.textDocumentContent)return;let n=e.workspace.textDocumentContent,i=zx.StaticRegistrationOptions.hasId(n)?n.id:h0t.generateUuid();this.register({id:i,registerOptions:n})}register(e){let t=[],n=[];for(let i of e.registerOptions.schemes){let[o,s]=this.registerTextDocumentContentProvider(i);t.push(s),n.push(o)}this._registrations.set(e.id,{disposable:Une.Disposable.from(...n),providers:t})}registerTextDocumentContentProvider(e){let t=new Une.EventEmitter,n={onDidChange:t.event,provideTextDocumentContent:(i,o)=>{let s=this._client,a=(u,l)=>{let d={uri:s.code2ProtocolConverter.asUri(u)};return s.sendRequest(zx.TextDocumentContentRequest.type,d,l).then(f=>l.isCancellationRequested?null:f.text,f=>s.handleFailedRequest(zx.TextDocumentContentRequest.type,l,f,null))},c=s.middleware;return c.provideTextDocumentContent?c.provideTextDocumentContent(i,o,a):a(i,o)}};return[Une.workspace.registerTextDocumentContentProvider(e,n),{scheme:e,onDidChangeEmitter:t,provider:n}]}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}};Ub.TextDocumentContentFeature=Hne});var PNe=C(FW=>{"use strict";Object.defineProperty(FW,"__esModule",{value:!0});FW.FileSystemWatcherFeature=void 0;var p0t=require("vscode"),hE=an(),MW=Lo(),Bne=class{_client;_notifyFileEvent;_watchers;constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return hE.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,MW.ensure)((0,MW.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,MW.ensure)((0,MW.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&hE.WatchKind.Create)!==0,s=(n.kind&hE.WatchKind.Change)!==0,a=(n.kind&hE.WatchKind.Delete)!==0);let c=p0t.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:hE.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:hE.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:hE.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t){this._watchers.delete(e);for(let n of t)n.dispose()}}clear(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};FW.FileSystemWatcherFeature=Bne});var ONe=C(qW=>{"use strict";Object.defineProperty(qW,"__esModule",{value:!0});qW.ProgressFeature=void 0;var xNe=an(),m0t=jte();function g0t(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var Wne=class{_client;activeParts;constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:xNe.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){g0t(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new m0t.ProgressPart(this._client,i.token,t))};e.onRequest(xNe.WorkDoneProgressCreateRequest.type,n)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};qW.ProgressFeature=Wne});var Zne=C(ra=>{"use strict";var v0t=ra&&ra.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),y0t=ra&&ra.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),UW=ra&&ra.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&v0t(t,e,n[i]);return y0t(t,e),t}}();Object.defineProperty(ra,"__esModule",{value:!0});ra.ProposedFeatures=ra.LanguageClient=ra.BaseLanguageClient=ra.ShutdownMode=ra.MessageTransports=ra.SuspendMode=ra.State=ra.CloseAction=ra.ErrorAction=ra.RevealOutputChannelOn=void 0;var Li=require("vscode"),mr=an(),_0t=UW(cLe()),b0t=UW(nW()),o_=UW(Hv()),jW=QB(),INe=UW(Ba()),w0t=jte(),Pg=Lo(),S0t=pW(),Vne=are(),kNe=WLe(),Ux=$Le(),C0t=VLe(),T0t=GLe(),D0t=KLe(),E0t=JLe(),R0t=XLe(),P0t=Ore(),x0t=ZLe(),O0t=eNe(),I0t=tNe(),k0t=rNe(),A0t=Bre(),L0t=nNe(),N0t=oNe(),$ne=sNe(),M0t=uNe(),F0t=tne(),q0t=dNe(),j0t=hNe(),z0t=cne(),U0t=fne(),H0t=gne(),B0t=mNe(),W0t=vNe(),$0t=Tne(),V0t=Ene(),G0t=bNe(),K0t=Ine(),Hx=CNe(),Y0t=TNe(),J0t=RNe(),X0t=PNe(),Q0t=ONe(),pE;(function(r){r[r.Debug=0]="Debug",r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(pE||(ra.RevealOutputChannelOn=pE={}));var WN;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(WN||(ra.ErrorAction=WN={}));var sD;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(sD||(ra.CloseAction=sD={}));var Bx;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.StartFailed=4]="StartFailed",r[r.Running=2]="Running"})(Bx||(ra.State=Bx={}));var ANe;(function(r){r.off="off",r.on="on"})(ANe||(ra.SuspendMode=ANe={}));var Gne;(function(r){function e(t){return t==null?!1:typeof t=="boolean"||typeof t=="object"&&t!==null&&o_.stringArray(t.enabledCommands)?t:!1}r.sanitizeIsTrusted=e})(Gne||(Gne={}));var Kne=class{client;maxRestartCount;restarts;constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:WN.Continue}:{action:WN.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:sD.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:sD.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:sD.Restart})}},no;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(no||(no={}));var LNe;(function(r){function e(t){return t&&mr.MessageReader.is(t.reader)&&mr.MessageWriter.is(t.writer)}r.is=e})(LNe||(ra.MessageTransports=LNe={}));var oD;(function(r){r.Restart="restart",r.Stop="stop"})(oD||(ra.ShutdownMode=oD={}));var Yne=class r{open;_onOpen;_onClose;disposable;constructor(){this.open=new Set,this._onOpen=new Li.EventEmitter,this._onClose=new Li.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(Li.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(Li.Uri.parse(c));this._onOpen.fire(a)}};Li.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Li.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Li.Uri?Li.window.activeTextEditor?.document.uri===e:Li.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof Li.Uri?e:e.uri;return t.scheme===Vne.NotebookDocumentSyncFeature.CellScheme?Li.workspace.notebookDocuments.some(n=>this.open.has(n.uri.toString())?n.getCells().find(o=>o.document.uri.toString()===t.toString())!==void 0:!1):this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of Li.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof Li.TabInputText?a=s.uri:s instanceof Li.TabInputTextDiff?a=s.modified:(s instanceof Li.TabInputCustom||s instanceof Li.TabInputNotebook)&&(a=s.uri),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},zW=class r{_id;_name;_clientOptions;_state;_onStart;_onStop;_connection;_idleInterval;_ignoredRegistrations;_listeners;_disposed;_notificationHandlers;_notificationDisposables;_pendingNotificationHandlers;_requestHandlers;_requestDisposables;_pendingRequestHandlers;_progressHandlers;_pendingProgressHandlers;_progressDisposables;_initializeResult;_outputChannel;_disposeOutputChannel;_traceOutputChannel;_capabilities;_diagnostics;_syncedDocuments;_didChangeTextDocumentFeature;_inFlightOpenNotifications;_pendingChangeSemaphore;_pendingChangeDelayer;_didOpenTextDocumentFeature;_fileEvents;_fileEventDelayer;_telemetryEmitter;_stateChangeEmitter;_trace;_traceFormat=mr.TraceFormat.Text;_tracer;_c2p;_p2c;_tabsModel;constructor(e,t,n){this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1,supportThemeIcons:!1};n.markdown!==void 0&&(i.isTrusted=Gne.sanitizeIsTrusted(n.markdown.isTrusted),i.supportHtml=n.markdown.supportHtml===!0,i.supportThemeIcons=n.markdown.supportThemeIcons===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??pE.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{},textSynchronization:this.createTextSynchronizationOptions(n.textSynchronization)},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=no.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._inFlightOpenNotifications=new Set,this._pendingChangeSemaphore=new jW.Semaphore(1),this._pendingChangeDelayer=new jW.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new jW.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new mr.Emitter,this._stateChangeEmitter=new mr.Emitter,this._trace=mr.Trace.Off,this._tracer={log:(o,s)=>{o_.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=_0t.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=b0t.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml,this._clientOptions.markdown.supportThemeIcons),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}createTextSynchronizationOptions(e){return e?typeof e.delayOpenNotifications=="boolean"?{delayOpenNotifications:e.delayOpenNotifications}:{delayOpenNotifications:!1}:{delayOpenNotifications:!1}}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get tabsModel(){return this._tabsModel===void 0&&(this._tabsModel=new Yne),this._tabsModel}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Li.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case no.Starting:return Bx.Starting;case no.Running:return Bx.Running;case no.StartFailed:return Bx.StartFailed;default:return Bx.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===no.StartFailed||this.$state===no.Stopping||this.$state===no.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(),this._didChangeTextDocumentFeature.syncKind===mr.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(n);let i,o;if(t.length===1?mr.CancellationToken.is(t[0])?o=t[0]:i=t[0]:t.length===2&&(i=t[0],o=t[1]),o!==void 0&&o.isCancellationRequested)return Promise.reject(new mr.ResponseError(mr.LSPErrorCodes.RequestCancelled,"Request got cancelled"));let s=this._clientOptions.middleware?.sendRequest;return s!==void 0?s(e,i,o,(a,c,u)=>{let l=[];return c!==void 0&&l.push(c),u!==void 0&&l.push(u),n.sendRequest(a,...l)}):n.sendRequest(e,...t)}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===no.StartFailed||this.$state===no.Stopping||this.$state===no.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=this._didChangeTextDocumentFeature.syncKind===mr.TextDocumentSyncKind.Full,i;n&&typeof e!="string"&&e.method===mr.DidOpenTextDocumentNotification.method&&(i=t?.textDocument.uri,this._inFlightOpenNotifications.add(i));let o;typeof e!="string"&&e.method===mr.DidCloseTextDocumentNotification.method&&(o=t.textDocument.uri);let s=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(o),n&&await this.sendPendingFullTextDocumentChanges(s),i!==void 0&&this._inFlightOpenNotifications.delete(i);let a=this._clientOptions.middleware?.sendNotification;return a?a(e,s.sendNotification.bind(s),t):s.sendNotification(e,t)}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===no.StartFailed||this.$state===no.Stopping||this.$state===no.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=mr.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new Kne(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof mr.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?o_.string(e.stack)?e.stack:e.message:o_.string(e)?e:e.toString()}debug(e,t,n=!0){this.logOutputMessage(mr.MessageType.Debug,pE.Debug,"Debug",e,t,n)}info(e,t,n=!0){this.logOutputMessage(mr.MessageType.Info,pE.Info,"Info",e,t,n)}warn(e,t,n=!0){this.logOutputMessage(mr.MessageType.Warning,pE.Warn,"Warn",e,t,n)}error(e,t,n=!0){this.logOutputMessage(mr.MessageType.Error,pE.Error,"Error",e,t,n)}logOutputMessage(e,t,n,i,o,s){this.outputChannel.appendLine(`[${n.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),o!=null&&this.outputChannel.appendLine(this.data2String(o)),(s==="force"||s&&this._clientOptions.revealOutputChannelOn<=t)&&this.showNotificationMessage(e,i,o)}showNotificationMessage(e,t,n){t=t??"A request has failed. See the output for more information.",n&&(t+=`
`+this.data2String(n)),(e===mr.MessageType.Error?Li.window.showErrorMessage:e===mr.MessageType.Warning?Li.window.showWarningMessage:Li.window.showInformationMessage)(t,"Go to output").then(o=>{o!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===no.Initial||this.$state===no.Stopping||this.$state===no.Stopped}needsStop(){return this.$state===no.Starting||this.$state===no.Running}activeConnection(){return this.$state===no.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===no.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===no.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=Li.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName??this._id));for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=no.Starting;try{let i=await this.createConnection();i.onNotification(mr.LogMessageNotification.type,o=>{switch(o.type){case mr.MessageType.Error:this.error(o.message,void 0,!1);break;case mr.MessageType.Warning:this.warn(o.message,void 0,!1);break;case mr.MessageType.Info:this.info(o.message,void 0,!1);break;case mr.MessageType.Debug:this.debug(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(mr.ShowMessageNotification.type,o=>{switch(o.type){case mr.MessageType.Error:Li.window.showErrorMessage(o.message);break;case mr.MessageType.Warning:Li.window.showWarningMessage(o.message);break;case mr.MessageType.Info:Li.window.showInformationMessage(o.message);break;default:Li.window.showInformationMessage(o.message)}}),i.onRequest(mr.ShowMessageRequest.type,o=>{let s;switch(o.type){case mr.MessageType.Error:s=Li.window.showErrorMessage;break;case mr.MessageType.Warning:s=Li.window.showWarningMessage;break;case mr.MessageType.Info:s=Li.window.showInformationMessage;break;default:s=Li.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(mr.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(mr.ShowDocumentRequest.type,async(o,s)=>{let a=async u=>{let l=this.protocol2CodeConverter.asUri(u.uri);try{if(u.external===!0)return{success:await Li.env.openExternal(l)};{let d={};return u.selection!==void 0&&(d.selection=this.protocol2CodeConverter.asRange(u.selection)),u.takeFocus===void 0||u.takeFocus===!1?d.preserveFocus=!0:u.takeFocus===!0&&(d.preserveFocus=!1),await Li.window.showTextDocument(l,d),{success:!0}}}catch{return{success:!1}}},c=this._clientOptions.middleware.window?.showDocument;return c!==void 0?c(o,s,a):a(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=no.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:Li.env.appName,version:Li.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(Li.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:o_.func(t)?t():t,trace:mr.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=INe.generateUuid(),a=new w0t.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==mr.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=no.Running;let i;o_.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===mr.TextDocumentSyncKind.None?i={openClose:!1,change:mr.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(mr.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(mr.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(mr.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(mr.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(mr.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof mr.ResponseError&&n.data&&n.data.retry?Li.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&Li.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=Li.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown(oD.Stop,e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t=2e3){if(this.$state===no.Stopped||this.$state===no.Initial)return;if(this.$state===no.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==no.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=no.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,mr.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=no.Stopped,e===oD.Stop&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.clear();(e===oD.Stop||e===oD.Restart)&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=t._fileEvents;t._fileEvents=[];try{await t.sendNotification(mr.DidChangeWatchedFilesNotification.type,{changes:s})}catch(a){throw t._fileEvents.push(...s),a}})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notifying file events failed.",o)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let t=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._inFlightOpenNotifications);if(t.length===0)return;for(let n of t){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(n);await e.sendNotification(mr.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(n,mr.DidChangeTextDocumentNotification.type,i)}}catch(t){throw this.error("Sending pending changes failed",t,!1),t}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}_diagnosticQueue=new Map;_diagnosticQueueState={state:"idle"};handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,mr.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new Li.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).catch(o=>{this.error("Processing diagnostic queue failed.",o)}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}getLocale(){return Li.env.language}async $start(){if(this.$state===no.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s).catch(a=>this.error("Handling connection error failed",a))},t=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=Z0t(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===no.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:sD.DoNotRestart};if(this.$state!==no.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===sD.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp(oD.Stop),this.$state===no.Starting?this.$state=no.StartFailed:this.$state=no.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===sD.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",void 0,!e.handled),this.cleanUp(oD.Restart),this.$state=no.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}async handleConnectionError(e,t,n){let i=await this._clientOptions.errorHandler.error(e,t,n);i.action===WN.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(Li.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=Li.workspace.getConfiguration(this._id),i=mr.Trace.Off,o=mr.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=mr.Trace.fromString(s):(i=mr.Trace.fromString(n.get("trace.server.verbosity","off")),o=mr.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;o_.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(mr.DidChangeWatchedFilesNotification.type.method).registerRaw(INe.generateUuid(),n)}_features=[];_dynamicFeatures=new Map;registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),Pg.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(mr.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof Vne.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new kNe.ConfigurationFeature(this)),this._didOpenTextDocumentFeature=new Ux.DidOpenTextDocumentFeature(this,this._syncedDocuments),this.registerFeature(this._didOpenTextDocumentFeature),this._didChangeTextDocumentFeature=new Ux.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new Ux.WillSaveFeature(this)),this.registerFeature(new Ux.WillSaveWaitUntilFeature(this)),this.registerFeature(new Ux.DidSaveTextDocumentFeature(this)),this.registerFeature(new Ux.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new X0t.FileSystemWatcherFeature(this,t=>this.notifyFileEvent(t))),this.registerFeature(new C0t.CompletionItemFeature(this)),this.registerFeature(new T0t.HoverFeature(this)),this.registerFeature(new E0t.SignatureHelpFeature(this)),this.registerFeature(new D0t.DefinitionFeature(this)),this.registerFeature(new O0t.ReferencesFeature(this)),this.registerFeature(new R0t.DocumentHighlightFeature(this)),this.registerFeature(new P0t.DocumentSymbolFeature(this)),this.registerFeature(new x0t.WorkspaceSymbolFeature(this)),this.registerFeature(new L0t.CodeActionFeature(this)),this.registerFeature(new N0t.CodeLensFeature(this)),this.registerFeature(new $ne.DocumentFormattingFeature(this)),this.registerFeature(new $ne.DocumentRangeFormattingFeature(this)),this.registerFeature(new $ne.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new M0t.RenameFeature(this)),this.registerFeature(new F0t.DocumentLinkFeature(this)),this.registerFeature(new q0t.ExecuteCommandFeature(this)),this.registerFeature(new kNe.SyncConfigurationFeature(this)),this.registerFeature(new I0t.TypeDefinitionFeature(this)),this.registerFeature(new k0t.ImplementationFeature(this)),this.registerFeature(new A0t.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new K0t.WorkspaceFoldersFeature(this)),this.registerFeature(new j0t.FoldingRangeFeature(this)),this.registerFeature(new z0t.DeclarationFeature(this)),this.registerFeature(new U0t.SelectionRangeFeature(this)),this.registerFeature(new Q0t.ProgressFeature(this)),this.registerFeature(new H0t.CallHierarchyFeature(this)),this.registerFeature(new B0t.SemanticTokensFeature(this)),this.registerFeature(new W0t.LinkedEditingFeature(this)),this.registerFeature(new Hx.DidCreateFilesFeature(this)),this.registerFeature(new Hx.DidRenameFilesFeature(this)),this.registerFeature(new Hx.DidDeleteFilesFeature(this)),this.registerFeature(new Hx.WillCreateFilesFeature(this)),this.registerFeature(new Hx.WillRenameFilesFeature(this)),this.registerFeature(new Hx.WillDeleteFilesFeature(this)),this.registerFeature(new $0t.TypeHierarchyFeature(this)),this.registerFeature(new V0t.InlineValueFeature(this)),this.registerFeature(new G0t.InlayHintsFeature(this)),this.registerFeature(new S0t.DiagnosticFeature(this)),this.registerFeature(new Vne.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(Qne.createAll(this))}fillInitializeParams(e){for(let t of this._features)o_.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,Pg.ensure)(e,"workspace").applyEdit=!0;let t=(0,Pg.ensure)((0,Pg.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[mr.ResourceOperationKind.Create,mr.ResourceOperationKind.Rename,mr.ResourceOperationKind.Delete],t.failureHandling=mr.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0},t.metadataSupport=!0,t.snippetEditSupport=!0;let n=(0,Pg.ensure)((0,Pg.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[mr.DiagnosticTag.Unnecessary,mr.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,Pg.ensure)((0,Pg.ensure)(e,"textDocument"),"filters");i.relativePatternSupport=!0;let o=(0,Pg.ensure)(e,"window"),s=(0,Pg.ensure)(o,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let a=(0,Pg.ensure)(o,"showDocument");a.support=!0;let c=(0,Pg.ensure)(e,"general");c.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},c.regularExpressions={engine:"ECMAScript",version:"ES2020"},c.markdown={parser:"marked",version:"1.1.0"},c.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(c.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let u of this._features)u.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)o_.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){let t=this.clientOptions.middleware?.handleRegisterCapability;return t?t(e,n=>this.doRegisterCapability(n)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){let t=this.clientOptions.middleware?.handleUnregisterCapability;return t?t(e,n=>this.doUnregisterCapability(n)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=this.clientOptions.middleware?.workspace?.handleApplyEdit;if(t){let n=await t(e,i=>this.doHandleApplyWorkspaceEdit(i));return n instanceof mr.ResponseError?Promise.reject(n):n}else return this.doHandleApplyWorkspaceEdit(e)}workspaceEditLock=new jW.Semaphore(1);async doHandleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;Li.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(mr.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=this._p2c.asUri(s.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):o_.asPromise(Li.workspace.applyEdit(n,{isRefactoring:e.metadata?.isRefactoring}).then(s=>({applied:s})))}static RequestsToCancelOnContentModified=new Set([mr.SemanticTokensRequest.method,mr.SemanticTokensRangeRequest.method,mr.SemanticTokensDeltaRequest.method]);static CancellableResolveCalls=new Set([mr.CompletionResolveRequest.method,mr.CodeLensResolveRequest.method,mr.CodeActionResolveRequest.method,mr.InlayHintResolveRequest.method,mr.DocumentLinkResolveRequest.method,mr.WorkspaceSymbolResolveRequest.method]);handleFailedRequest(e,t,n,i,o=!0,s=!1){if(n instanceof mr.ResponseError){if(n.code===mr.ErrorCodes.PendingResponseRejected||n.code===mr.ErrorCodes.ConnectionInactive)return i;if(n.code===mr.LSPErrorCodes.RequestCancelled||n.code===mr.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested&&!s)return i;throw n.data!==void 0?new Pg.LSPCancellationError(n.data):new Li.CancellationError}else if(n.code===mr.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method)||r.CancellableResolveCalls.has(e.method))throw new Li.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};ra.BaseLanguageClient=zW;var Jne=class extends zW{serverOptions;constructor(e,t,n,i){super(e,t,i),this.serverOptions=n}async createMessageTransports(e){return this.serverOptions()}};ra.LanguageClient=Jne;var Xne=class{error(e){(0,mr.RAL)().console.error(e)}warn(e){(0,mr.RAL)().console.warn(e)}info(e){(0,mr.RAL)().console.info(e)}log(e){(0,mr.RAL)().console.log(e)}};function Z0t(r,e,t,n,i){let o=new Xne,s=(0,mr.createProtocolConnection)(r,e,o,i);return s.onError(c=>{t(c[0],c[1],c[2])}),s.onClose(n),{listen:()=>s.listen(),sendRequest:s.sendRequest,onRequest:s.onRequest,hasPendingResponse:s.hasPendingResponse,sendNotification:s.sendNotification,onNotification:s.onNotification,onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(c,u,l)=>{let d={sendNotification:!1,traceFormat:mr.TraceFormat.Text};return l===void 0?s.trace(c,u,d):(o_.boolean(l),s.trace(c,u,l))},initialize:c=>s.sendRequest(mr.InitializeRequest.type,c),shutdown:()=>s.sendRequest(mr.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(mr.ExitNotification.type),end:()=>s.end(),dispose:()=>s.dispose()}}var Qne;(function(r){function e(t){return[new Y0t.InlineCompletionItemFeature(t),new J0t.TextDocumentContentFeature(t)]}r.createAll=e})(Qne||(ra.ProposedFeatures=Qne={}))});var MNe=C(FS=>{"use strict";var eEt=FS&&FS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tEt=FS&&FS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rEt=FS&&FS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&eEt(t,e,n[i]);return tEt(t,e),t}}();Object.defineProperty(FS,"__esModule",{value:!0});FS.terminate=aEt;var NNe=rEt(require("child_process")),nEt=require("path"),iEt=process.platform==="win32",oEt=process.platform==="darwin",sEt=process.platform==="linux";function aEt(r,e){if(iEt)try{let t={stdio:["pipe","pipe","ignore"]};return e&&(t.cwd=e),NNe.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],t),!0}catch{return!1}else if(sEt||oEt)try{let t=(0,nEt.join)(__dirname,"terminateProcess.sh");return!NNe.spawnSync(t,[r.pid.toString()]).error}catch{return!1}else return r.kill("SIGKILL"),!0}});var jNe=C(iie=>{"use strict";Object.defineProperty(iie,"__esModule",{value:!0});var FNe=require("util"),qS=il(),eie=class r extends qS.AbstractMessageBuffer{static emptyBuffer=Buffer.allocUnsafe(0);constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new FNe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}},tie=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),qS.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),qS.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),qS.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),qS.Disposable.create(()=>this.stream.off("data",e))}},rie=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),qS.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),qS.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),qS.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},qNe=Object.freeze({messageBuffer:Object.freeze({create:r=>new eie(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new FNe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new tie(r),asWritableStream:r=>new rie(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function nie(){return qNe}(function(r){function e(){qS.RAL.install(qNe)}r.install=e})(nie||(nie={}));iie.default=nie});var lie=C(No=>{"use strict";var UNe=No&&No.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cEt=No&&No.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uie=No&&No.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&UNe(t,e,n[i]);return cEt(t,e),t}}(),uEt=No&&No.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&UNe(e,r,t)},lEt=No&&No.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(No,"__esModule",{value:!0});No.StreamMessageWriter=No.StreamMessageReader=No.SocketMessageWriter=No.SocketMessageReader=No.PortMessageWriter=No.PortMessageReader=No.IPCMessageWriter=No.IPCMessageReader=void 0;No.generateRandomPipeName=gEt;No.createClientPipeTransport=vEt;No.createServerPipeTransport=yEt;No.createClientSocketTransport=_Et;No.createServerSocketTransport=bEt;No.createMessageConnection=CEt;var $N=lEt(jNe());$N.default.install();var dEt=uie(require("path")),fEt=uie(require("os")),hEt=uie(require("fs")),zNe=require("crypto"),WW=require("net"),xg=il();uEt(il(),No);var oie=class extends xg.AbstractMessageReader{process;constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),xg.Disposable.create(()=>this.process.off("message",e))}};No.IPCMessageReader=oie;var sie=class extends xg.AbstractMessageWriter{process;errorCount;constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};No.IPCMessageWriter=sie;var aie=class extends xg.AbstractMessageReader{onData;constructor(e){super(),this.onData=new xg.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};No.PortMessageReader=aie;var cie=class extends xg.AbstractMessageWriter{port;errorCount;constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};No.PortMessageWriter=cie;var mE=class extends xg.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,$N.default)().stream.asReadableStream(e),t)}};No.SocketMessageReader=mE;var gE=class extends xg.WriteableStreamMessageWriter{socket;constructor(e,t){super((0,$N.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};No.SocketMessageWriter=gE;var HW=class extends xg.ReadableStreamMessageReader{constructor(e,t){super((0,$N.default)().stream.asReadableStream(e),t)}};No.StreamMessageReader=HW;var BW=class extends xg.WriteableStreamMessageWriter{constructor(e,t){super((0,$N.default)().stream.asWritableStream(e),t)}};No.StreamMessageWriter=BW;var pEt=process.env.XDG_RUNTIME_DIR,mEt=new Map([["linux",107],["darwin",103]]);function gEt(){if(process.platform==="win32")return`\\\\.\\pipe\\lsp-${(0,zNe.randomBytes)(16).toString("hex")}-sock`;let r=32,e=9,t=hEt.realpathSync(pEt??fEt.tmpdir()),n=mEt.get(process.platform);if(n!==void 0&&(r=Math.min(n-t.length-e,r)),r<16)throw new Error(`Unable to generate a random pipe name with ${r} characters.`);let i=(0,zNe.randomBytes)(Math.floor(r/2)).toString("hex");return dEt.join(t,`lsp-${i}.sock`)}function vEt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,WW.createServer)(a=>{s.close(),t([new mE(a,e),new gE(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function yEt(r,e="utf-8"){let t=(0,WW.createConnection)(r);return[new mE(t,e),new gE(t,e)]}function _Et(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,WW.createServer)(a=>{s.close(),t([new mE(a,e),new gE(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function bEt(r,e="utf-8"){let t=(0,WW.createConnection)(r,"127.0.0.1");return[new mE(t,e),new gE(t,e)]}function wEt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function SEt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function CEt(r,e,t,n){t||(t=xg.NullLogger);let i=wEt(r)?new HW(r):r,o=SEt(e)?new BW(e):e;return xg.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,xg.createMessageConnection)(i,o,t,n)}});var die=C(jS=>{"use strict";var TEt=jS&&jS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),HNe=jS&&jS.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&TEt(e,r,t)};Object.defineProperty(jS,"__esModule",{value:!0});jS.createProtocolConnection=EEt;var DEt=lie();HNe(lie(),jS);HNe(an(),jS);function EEt(r,e,t,n){return(0,DEt.createMessageConnection)(r,e,t,n)}});var VN=C((RXt,BNe)=>{var REt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};BNe.exports=REt});var $W=C((PXt,WNe)=>{var PEt="2.0.0",xEt=Number.MAX_SAFE_INTEGER||9007199254740991,OEt=16,IEt=250,kEt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];WNe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:OEt,MAX_SAFE_BUILD_LENGTH:IEt,MAX_SAFE_INTEGER:xEt,RELEASE_TYPES:kEt,SEMVER_SPEC_VERSION:PEt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var VW=C((Hb,$Ne)=>{var{MAX_SAFE_COMPONENT_LENGTH:fie,MAX_SAFE_BUILD_LENGTH:AEt,MAX_LENGTH:LEt}=$W(),NEt=VN();Hb=$Ne.exports={};var MEt=Hb.re=[],FEt=Hb.safeRe=[],en=Hb.src=[],qEt=Hb.safeSrc=[],tn=Hb.t={},jEt=0,hie="[a-zA-Z0-9-]",zEt=[["\\s",1],["\\d",LEt],[hie,AEt]],UEt=r=>{for(let[e,t]of zEt)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},Ui=(r,e,t)=>{let n=UEt(e),i=jEt++;NEt(r,i,e),tn[r]=i,en[i]=e,qEt[i]=n,MEt[i]=new RegExp(e,t?"g":void 0),FEt[i]=new RegExp(n,t?"g":void 0)};Ui("NUMERICIDENTIFIER","0|[1-9]\\d*");Ui("NUMERICIDENTIFIERLOOSE","\\d+");Ui("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${hie}*`);Ui("MAINVERSION",`(${en[tn.NUMERICIDENTIFIER]})\\.(${en[tn.NUMERICIDENTIFIER]})\\.(${en[tn.NUMERICIDENTIFIER]})`);Ui("MAINVERSIONLOOSE",`(${en[tn.NUMERICIDENTIFIERLOOSE]})\\.(${en[tn.NUMERICIDENTIFIERLOOSE]})\\.(${en[tn.NUMERICIDENTIFIERLOOSE]})`);Ui("PRERELEASEIDENTIFIER",`(?:${en[tn.NUMERICIDENTIFIER]}|${en[tn.NONNUMERICIDENTIFIER]})`);Ui("PRERELEASEIDENTIFIERLOOSE",`(?:${en[tn.NUMERICIDENTIFIERLOOSE]}|${en[tn.NONNUMERICIDENTIFIER]})`);Ui("PRERELEASE",`(?:-(${en[tn.PRERELEASEIDENTIFIER]}(?:\\.${en[tn.PRERELEASEIDENTIFIER]})*))`);Ui("PRERELEASELOOSE",`(?:-?(${en[tn.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${en[tn.PRERELEASEIDENTIFIERLOOSE]})*))`);Ui("BUILDIDENTIFIER",`${hie}+`);Ui("BUILD",`(?:\\+(${en[tn.BUILDIDENTIFIER]}(?:\\.${en[tn.BUILDIDENTIFIER]})*))`);Ui("FULLPLAIN",`v?${en[tn.MAINVERSION]}${en[tn.PRERELEASE]}?${en[tn.BUILD]}?`);Ui("FULL",`^${en[tn.FULLPLAIN]}$`);Ui("LOOSEPLAIN",`[v=\\s]*${en[tn.MAINVERSIONLOOSE]}${en[tn.PRERELEASELOOSE]}?${en[tn.BUILD]}?`);Ui("LOOSE",`^${en[tn.LOOSEPLAIN]}$`);Ui("GTLT","((?:<|>)?=?)");Ui("XRANGEIDENTIFIERLOOSE",`${en[tn.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ui("XRANGEIDENTIFIER",`${en[tn.NUMERICIDENTIFIER]}|x|X|\\*`);Ui("XRANGEPLAIN",`[v=\\s]*(${en[tn.XRANGEIDENTIFIER]})(?:\\.(${en[tn.XRANGEIDENTIFIER]})(?:\\.(${en[tn.XRANGEIDENTIFIER]})(?:${en[tn.PRERELEASE]})?${en[tn.BUILD]}?)?)?`);Ui("XRANGEPLAINLOOSE",`[v=\\s]*(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:${en[tn.PRERELEASELOOSE]})?${en[tn.BUILD]}?)?)?`);Ui("XRANGE",`^${en[tn.GTLT]}\\s*${en[tn.XRANGEPLAIN]}$`);Ui("XRANGELOOSE",`^${en[tn.GTLT]}\\s*${en[tn.XRANGEPLAINLOOSE]}$`);Ui("COERCEPLAIN",`(^|[^\\d])(\\d{1,${fie}})(?:\\.(\\d{1,${fie}}))?(?:\\.(\\d{1,${fie}}))?`);Ui("COERCE",`${en[tn.COERCEPLAIN]}(?:$|[^\\d])`);Ui("COERCEFULL",en[tn.COERCEPLAIN]+`(?:${en[tn.PRERELEASE]})?(?:${en[tn.BUILD]})?(?:$|[^\\d])`);Ui("COERCERTL",en[tn.COERCE],!0);Ui("COERCERTLFULL",en[tn.COERCEFULL],!0);Ui("LONETILDE","(?:~>?)");Ui("TILDETRIM",`(\\s*)${en[tn.LONETILDE]}\\s+`,!0);Hb.tildeTrimReplace="$1~";Ui("TILDE",`^${en[tn.LONETILDE]}${en[tn.XRANGEPLAIN]}$`);Ui("TILDELOOSE",`^${en[tn.LONETILDE]}${en[tn.XRANGEPLAINLOOSE]}$`);Ui("LONECARET","(?:\\^)");Ui("CARETTRIM",`(\\s*)${en[tn.LONECARET]}\\s+`,!0);Hb.caretTrimReplace="$1^";Ui("CARET",`^${en[tn.LONECARET]}${en[tn.XRANGEPLAIN]}$`);Ui("CARETLOOSE",`^${en[tn.LONECARET]}${en[tn.XRANGEPLAINLOOSE]}$`);Ui("COMPARATORLOOSE",`^${en[tn.GTLT]}\\s*(${en[tn.LOOSEPLAIN]})$|^$`);Ui("COMPARATOR",`^${en[tn.GTLT]}\\s*(${en[tn.FULLPLAIN]})$|^$`);Ui("COMPARATORTRIM",`(\\s*)${en[tn.GTLT]}\\s*(${en[tn.LOOSEPLAIN]}|${en[tn.XRANGEPLAIN]})`,!0);Hb.comparatorTrimReplace="$1$2$3";Ui("HYPHENRANGE",`^\\s*(${en[tn.XRANGEPLAIN]})\\s+-\\s+(${en[tn.XRANGEPLAIN]})\\s*$`);Ui("HYPHENRANGELOOSE",`^\\s*(${en[tn.XRANGEPLAINLOOSE]})\\s+-\\s+(${en[tn.XRANGEPLAINLOOSE]})\\s*$`);Ui("STAR","(<|>)?=?\\s*\\*");Ui("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ui("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var GW=C((xXt,VNe)=>{var HEt=Object.freeze({loose:!0}),BEt=Object.freeze({}),WEt=r=>r?typeof r!="object"?HEt:r:BEt;VNe.exports=WEt});var JNe=C((OXt,YNe)=>{var GNe=/^[0-9]+$/,KNe=(r,e)=>{let t=GNe.test(r),n=GNe.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},$Et=(r,e)=>KNe(e,r);YNe.exports={compareIdentifiers:KNe,rcompareIdentifiers:$Et}});var GN=C((IXt,eMe)=>{var KW=VN(),{MAX_LENGTH:XNe,MAX_SAFE_INTEGER:YW}=$W(),{safeRe:QNe,safeSrc:ZNe,t:JW}=VW(),VEt=GW(),{compareIdentifiers:Wx}=JNe(),pie=class r{constructor(e,t){if(t=VEt(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>XNe)throw new TypeError(`version is longer than ${XNe} characters`);KW("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?QNe[JW.LOOSE]:QNe[JW.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>YW||this.major<0)throw new TypeError("Invalid major version");if(this.minor>YW||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>YW||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<YW)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(KW("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),Wx(this.major,e.major)||Wx(this.minor,e.minor)||Wx(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(KW("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Wx(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(KW("build compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Wx(n,i)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(t){let i=new RegExp(`^${this.options.loose?ZNe[JW.PRERELEASELOOSE]:ZNe[JW.PRERELEASE]}$`),o=`-${t}`.match(i);if(!o||o[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),Wx(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};eMe.exports=pie});var nMe=C((kXt,rMe)=>{var tMe=GN(),GEt=(r,e,t=!1)=>{if(r instanceof tMe)return r;try{return new tMe(r,e)}catch(n){if(!t)return null;throw n}};rMe.exports=GEt});var oMe=C((AXt,iMe)=>{var mie=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,t)}return this}};iMe.exports=mie});var vE=C((LXt,aMe)=>{var sMe=GN(),KEt=(r,e,t)=>new sMe(r,t).compare(new sMe(e,t));aMe.exports=KEt});var uMe=C((NXt,cMe)=>{var YEt=vE(),JEt=(r,e,t)=>YEt(r,e,t)===0;cMe.exports=JEt});var dMe=C((MXt,lMe)=>{var XEt=vE(),QEt=(r,e,t)=>XEt(r,e,t)!==0;lMe.exports=QEt});var hMe=C((FXt,fMe)=>{var ZEt=vE(),eRt=(r,e,t)=>ZEt(r,e,t)>0;fMe.exports=eRt});var mMe=C((qXt,pMe)=>{var tRt=vE(),rRt=(r,e,t)=>tRt(r,e,t)>=0;pMe.exports=rRt});var vMe=C((jXt,gMe)=>{var nRt=vE(),iRt=(r,e,t)=>nRt(r,e,t)<0;gMe.exports=iRt});var _Me=C((zXt,yMe)=>{var oRt=vE(),sRt=(r,e,t)=>oRt(r,e,t)<=0;yMe.exports=sRt});var wMe=C((UXt,bMe)=>{var aRt=uMe(),cRt=dMe(),uRt=hMe(),lRt=mMe(),dRt=vMe(),fRt=_Me(),hRt=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return aRt(r,t,n);case"!=":return cRt(r,t,n);case">":return uRt(r,t,n);case">=":return lRt(r,t,n);case"<":return dRt(r,t,n);case"<=":return fRt(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};bMe.exports=hRt});var PMe=C((HXt,RMe)=>{var KN=Symbol("SemVer ANY"),yie=class r{static get ANY(){return KN}constructor(e,t){if(t=SMe(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),vie("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===KN?this.value="":this.value=this.operator+this.semver.version,vie("comp",this)}parse(e){let t=this.options.loose?CMe[TMe.COMPARATORLOOSE]:CMe[TMe.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new DMe(n[2],this.options.loose):this.semver=KN}toString(){return this.value}test(e){if(vie("Comparator.test",e,this.options.loose),this.semver===KN||e===KN)return!0;if(typeof e=="string")try{e=new DMe(e,this.options)}catch{return!1}return gie(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new EMe(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new EMe(this.value,t).test(e.semver):(t=SMe(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||gie(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||gie(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};RMe.exports=yie;var SMe=GW(),{safeRe:CMe,t:TMe}=VW(),gie=wMe(),vie=VN(),DMe=GN(),EMe=_ie()});var _ie=C((BXt,kMe)=>{var pRt=/\s+/g,bie=class r{constructor(e,t){if(t=gRt(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof wie)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(pRt," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!OMe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&CRt(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let n=0;n<t.length;n++)n>0&&(this.formatted+=" "),this.formatted+=t[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&wRt)|(this.options.loose&&SRt))+":"+e,i=xMe.get(n);if(i)return i;let o=this.options.loose,s=o?Sm[fp.HYPHENRANGELOOSE]:Sm[fp.HYPHENRANGE];e=e.replace(s,ARt(this.options.includePrerelease)),$a("hyphen replace",e),e=e.replace(Sm[fp.COMPARATORTRIM],yRt),$a("comparator trim",e),e=e.replace(Sm[fp.TILDETRIM],_Rt),$a("tilde trim",e),e=e.replace(Sm[fp.CARETTRIM],bRt),$a("caret trim",e);let a=e.split(" ").map(d=>TRt(d,this.options)).join(" ").split(/\s+/).map(d=>kRt(d,this.options));o&&(a=a.filter(d=>($a("loose invalid filter",d,this.options),!!d.match(Sm[fp.COMPARATORLOOSE])))),$a("range list",a);let c=new Map,u=a.map(d=>new wie(d,this.options));for(let d of u){if(OMe(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return xMe.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>IMe(n,t)&&e.set.some(i=>IMe(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new vRt(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(LRt(this.set[t],e,this.options))return!0;return!1}};kMe.exports=bie;var mRt=oMe(),xMe=new mRt,gRt=GW(),wie=PMe(),$a=VN(),vRt=GN(),{safeRe:Sm,t:fp,comparatorTrimReplace:yRt,tildeTrimReplace:_Rt,caretTrimReplace:bRt}=VW(),{FLAG_INCLUDE_PRERELEASE:wRt,FLAG_LOOSE:SRt}=$W(),OMe=r=>r.value==="<0.0.0-0",CRt=r=>r.value==="",IMe=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},TRt=(r,e)=>($a("comp",r,e),r=RRt(r,e),$a("caret",r),r=DRt(r,e),$a("tildes",r),r=xRt(r,e),$a("xrange",r),r=IRt(r,e),$a("stars",r),r),hp=r=>!r||r.toLowerCase()==="x"||r==="*",DRt=(r,e)=>r.trim().split(/\s+/).map(t=>ERt(t,e)).join(" "),ERt=(r,e)=>{let t=e.loose?Sm[fp.TILDELOOSE]:Sm[fp.TILDE];return r.replace(t,(n,i,o,s,a)=>{$a("tilde",r,n,i,o,s,a);let c;return hp(i)?c="":hp(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:hp(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?($a("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,$a("tilde return",c),c})},RRt=(r,e)=>r.trim().split(/\s+/).map(t=>PRt(t,e)).join(" "),PRt=(r,e)=>{$a("caret",r,e);let t=e.loose?Sm[fp.CARETLOOSE]:Sm[fp.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{$a("caret",r,i,o,s,a,c);let u;return hp(o)?u="":hp(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:hp(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?($a("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):($a("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),$a("caret return",u),u})},xRt=(r,e)=>($a("replaceXRanges",r,e),r.split(/\s+/).map(t=>ORt(t,e)).join(" ")),ORt=(r,e)=>{r=r.trim();let t=e.loose?Sm[fp.XRANGELOOSE]:Sm[fp.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{$a("xRange",r,n,i,o,s,a,c);let u=hp(o),l=u||hp(s),d=l||hp(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),$a("xRange return",n),n})},IRt=(r,e)=>($a("replaceStars",r,e),r.trim().replace(Sm[fp.STAR],"")),kRt=(r,e)=>($a("replaceGTE0",r,e),r.trim().replace(Sm[e.includePrerelease?fp.GTE0PRE:fp.GTE0],"")),ARt=r=>(e,t,n,i,o,s,a,c,u,l,d,f)=>(hp(n)?t="":hp(i)?t=`>=${n}.0.0${r?"-0":""}`:hp(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,hp(u)?c="":hp(l)?c=`<${+u+1}.0.0-0`:hp(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),LRt=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if($a(r[n].semver),r[n].semver!==wie.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var LMe=C((WXt,AMe)=>{var NRt=_ie(),MRt=(r,e,t)=>{try{e=new NRt(e,t)}catch{return!1}return e.test(r)};AMe.exports=MRt});var XW=C(Og=>{"use strict";var FRt=Og&&Og.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Sie=Og&&Og.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&FRt(e,r,t)};Object.defineProperty(Og,"__esModule",{value:!0});Og.DiagnosticPullMode=Og.vsdiag=void 0;Sie(an(),Og);Sie(Lo(),Og);var NMe=pW();Object.defineProperty(Og,"vsdiag",{enumerable:!0,get:function(){return NMe.vsdiag}});Object.defineProperty(Og,"DiagnosticPullMode",{enumerable:!0,get:function(){return NMe.DiagnosticPullMode}});Sie(Zne(),Og)});var US=C(Dd=>{"use strict";var qMe=Dd&&Dd.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qRt=Dd&&Dd.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),QW=Dd&&Dd.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&qMe(t,e,n[i]);return qRt(t,e),t}}(),jMe=Dd&&Dd.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&qMe(e,r,t)};Object.defineProperty(Dd,"__esModule",{value:!0});Dd.SettingMonitor=Dd.LanguageClient=Dd.TransportKind=void 0;var zS=QW(require("child_process")),Cie=QW(require("fs")),Tie=QW(require("path")),cD=require("vscode"),_c=QW(Hv()),MMe=Zne(),jRt=MNe(),Gc=die(),zRt=nMe(),URt=LMe();jMe(die(),Dd);jMe(XW(),Dd);var FMe="^1.91.0",Kc;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(Kc||(Dd.TransportKind=Kc={}));var aD;(function(r){function e(t){let n=t;return n&&n.kind===Kc.socket&&_c.number(n.port)}r.isSocket=e})(aD||(aD={}));var Die;(function(r){function e(t){return _c.string(t.command)}r.is=e})(Die||(Die={}));var Eie;(function(r){function e(t){return _c.string(t.module)}r.is=e})(Eie||(Eie={}));var Rie;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(Rie||(Rie={}));var Pie;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})(Pie||(Pie={}));var xie=class extends MMe.BaseLanguageClient{_serverOptions;_forceDebug;_serverProcess;_isDetached;_isInDebugMode;constructor(e,t,n,i,o){let s,a,c,u,l;_c.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw _c.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=zRt(cD.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${cD.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!URt(e,FMe))throw new Error(`The language client requires VS Code version ${FMe} but received version ${cD.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}shutdown(e,t=2e3){return super.shutdown(e,t).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,jRt.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(l,d){if(!l&&!d)return;let f=Object.create(null);return Object.keys(process.env).forEach(p=>f[p]=process.env[p]),d&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(p=>f[p]=l[p]),f}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(d=>n.some(f=>d.startsWith(f))||i.some(f=>d===f)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(_c.func(a))return a().then(l=>{if(MMe.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(Rie.is(l))return this._isDetached=!!l.detached,{reader:new Gc.StreamMessageReader(l.reader),writer:new Gc.StreamMessageWriter(l.writer)};{let d;return Pie.is(l)?(d=l.process,this._isDetached=l.detached):(d=l,this._isDetached=!1),d.stderr.on("data",f=>this.outputChannel.append(_c.string(f)?f:f.toString(e))),{reader:new Gc.StreamMessageReader(d.stdout),writer:new Gc.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if(Eie.is(c)&&c.module){let d=c,f=d.transport||Kc.stdio;if(d.runtime){let p=[],_=d.options??Object.create(null);_.execArgv&&_.execArgv.forEach(A=>p.push(A)),p.push(d.module),d.args&&d.args.forEach(A=>p.push(A));let D=Object.create(null);D.cwd=l,D.env=t(_.env,!1);let x=this._getRuntimePath(d.runtime,l),N;if(f===Kc.ipc?(D.stdio=[null,null,null,"ipc"],p.push("--node-ipc")):f===Kc.stdio?p.push("--stdio"):f===Kc.pipe?(N=(0,Gc.generateRandomPipeName)(),p.push(`--pipe=${N}`)):aD.isSocket(f)&&p.push(`--socket=${f.port}`),p.push(`--clientProcessId=${process.pid.toString()}`),f===Kc.ipc||f===Kc.stdio){let A=zS.spawn(x,p,D);return!A||!A.pid?$x(A,`Launching server using runtime ${x} failed.`):(this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(_c.string(U)?U:U.toString(e))),f===Kc.ipc?(A.stdout.on("data",U=>this.outputChannel.append(_c.string(U)?U:U.toString(e))),Promise.resolve({reader:new Gc.IPCMessageReader(A),writer:new Gc.IPCMessageWriter(A)})):Promise.resolve({reader:new Gc.StreamMessageReader(A.stdout),writer:new Gc.StreamMessageWriter(A.stdin)}))}else{if(f===Kc.pipe)return(0,Gc.createClientPipeTransport)(N).then(A=>{let U=zS.spawn(x,p,D);return!U||!U.pid?$x(U,`Launching server using runtime ${x} failed.`):(this._serverProcess=U,U.stderr.on("data",ee=>this.outputChannel.append(_c.string(ee)?ee:ee.toString(e))),U.stdout.on("data",ee=>this.outputChannel.append(_c.string(ee)?ee:ee.toString(e))),A.onConnected().then(ee=>({reader:ee[0],writer:ee[1]})))});if(aD.isSocket(f))return(0,Gc.createClientSocketTransport)(f.port).then(A=>{let U=zS.spawn(x,p,D);return!U||!U.pid?$x(U,`Launching server using runtime ${x} failed.`):(this._serverProcess=U,U.stderr.on("data",ee=>this.outputChannel.append(_c.string(ee)?ee:ee.toString(e))),U.stdout.on("data",ee=>this.outputChannel.append(_c.string(ee)?ee:ee.toString(e))),A.onConnected().then(ee=>({reader:ee[0],writer:ee[1]})))})}}else{let p;return new Promise((_,D)=>{let x=(d.args&&d.args.slice())??[];f===Kc.ipc?x.push("--node-ipc"):f===Kc.stdio?x.push("--stdio"):f===Kc.pipe?(p=(0,Gc.generateRandomPipeName)(),x.push(`--pipe=${p}`)):aD.isSocket(f)&&x.push(`--socket=${f.port}`),x.push(`--clientProcessId=${process.pid.toString()}`);let N=d.options??Object.create(null);if(N.env=t(N.env,!0),N.execArgv=N.execArgv||[],N.cwd=l,N.silent=!0,f===Kc.ipc||f===Kc.stdio){let A=zS.fork(d.module,x||[],N);s(A),this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(_c.string(U)?U:U.toString(e))),f===Kc.ipc?(A.stdout.on("data",U=>this.outputChannel.append(_c.string(U)?U:U.toString(e))),_({reader:new Gc.IPCMessageReader(this._serverProcess),writer:new Gc.IPCMessageWriter(this._serverProcess)})):_({reader:new Gc.StreamMessageReader(A.stdout),writer:new Gc.StreamMessageWriter(A.stdin)})}else f===Kc.pipe?(0,Gc.createClientPipeTransport)(p).then(A=>{let U=zS.fork(d.module,x||[],N);s(U),this._serverProcess=U,U.stderr.on("data",ee=>this.outputChannel.append(_c.string(ee)?ee:ee.toString(e))),U.stdout.on("data",ee=>this.outputChannel.append(_c.string(ee)?ee:ee.toString(e))),A.onConnected().then(ee=>{_({reader:ee[0],writer:ee[1]})},D)},D):aD.isSocket(f)&&(0,Gc.createClientSocketTransport)(f.port).then(A=>{let U=zS.fork(d.module,x||[],N);s(U),this._serverProcess=U,U.stderr.on("data",ee=>this.outputChannel.append(_c.string(ee)?ee:ee.toString(e))),U.stdout.on("data",ee=>this.outputChannel.append(_c.string(ee)?ee:ee.toString(e))),A.onConnected().then(ee=>{_({reader:ee[0],writer:ee[1]})},D)},D)})}}else if(Die.is(c)&&c.command){let d=c,f=c.args!==void 0?c.args.slice(0):[],p,_=c.transport;if(_===Kc.stdio)f.push("--stdio");else if(_===Kc.pipe)p=(0,Gc.generateRandomPipeName)(),f.push(`--pipe=${p}`);else if(aD.isSocket(_))f.push(`--socket=${_.port}`);else if(_===Kc.ipc)throw new Error("Transport kind ipc is not support for command executable");let D=Object.assign({},d.options);if(D.cwd=D.cwd||l,_===void 0||_===Kc.stdio){let x=zS.spawn(d.command,f,D);return!x||!x.pid?$x(x,`Launching server using command ${d.command} failed.`):(x.stderr.on("data",N=>this.outputChannel.append(_c.string(N)?N:N.toString(e))),this._serverProcess=x,this._isDetached=!!D.detached,Promise.resolve({reader:new Gc.StreamMessageReader(x.stdout),writer:new Gc.StreamMessageWriter(x.stdin)}))}else{if(_===Kc.pipe)return(0,Gc.createClientPipeTransport)(p).then(x=>{let N=zS.spawn(d.command,f,D);return!N||!N.pid?$x(N,`Launching server using command ${d.command} failed.`):(this._serverProcess=N,this._isDetached=!!D.detached,N.stderr.on("data",A=>this.outputChannel.append(_c.string(A)?A:A.toString(e))),N.stdout.on("data",A=>this.outputChannel.append(_c.string(A)?A:A.toString(e))),x.onConnected().then(A=>({reader:A[0],writer:A[1]})))});if(aD.isSocket(_))return(0,Gc.createClientSocketTransport)(_.port).then(x=>{let N=zS.spawn(d.command,f,D);return!N||!N.pid?$x(N,`Launching server using command ${d.command} failed.`):(this._serverProcess=N,this._isDetached=!!D.detached,N.stderr.on("data",A=>this.outputChannel.append(_c.string(A)?A:A.toString(e))),N.stdout.on("data",A=>this.outputChannel.append(_c.string(A)?A:A.toString(e))),x.onConnected().then(A=>({reader:A[0],writer:A[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(l,d)=>{l===0?this.info("Server process exited successfully",void 0,!1):l!==null&&this.error(`Server process exited with code ${l}.`,void 0,!1),d!==null&&this.error(`Server process exited with signal ${d}.`,void 0,!1)})})}_getRuntimePath(e,t){if(Tie.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=Tie.join(n,e);if(Cie.existsSync(i))return i}if(t!==void 0){let i=Tie.join(t,e);if(Cie.existsSync(i))return i}return e}_mainGetRootPath(){let e=cD.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{Cie.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}};Dd.LanguageClient=xie;var Oie=class{_client;_setting;_listeners;constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return cD.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new cD.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?cD.workspace.getConfiguration(t).get(n,!1):cD.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};Dd.SettingMonitor=Oie;function $x(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var sFe=C((iFe,oFe)=>{iFe=oFe.exports=function(r){for(var e=0;e<r.length;){if(r[e]==9||r[e]==10||r[e]==13||32<=r[e]&&r[e]<=126){e+=1;continue}if(194<=r[e]&&r[e]<=223&&128<=r[e+1]&&r[e+1]<=191){e+=2;continue}if(r[e]==224&&160<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191||(225<=r[e]&&r[e]<=236||r[e]==238||r[e]==239)&&128<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191||r[e]==237&&128<=r[e+1]&&r[e+1]<=159&&128<=r[e+2]&&r[e+2]<=191){e+=3;continue}if(r[e]==240&&144<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191||241<=r[e]&&r[e]<=243&&128<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191||r[e]==244&&128<=r[e+1]&&r[e+1]<=143&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191){e+=4;continue}return!1}return!0}});var cFe=C((iQt,aFe)=>{"use strict";var $Rt=sFe();aFe.exports=r=>{if(!Buffer.isBuffer(r))throw new TypeError(`Expected a Buffer, got ${typeof r}`);return r[0]===239&&r[1]===187&&r[2]===191&&$Rt(r)?r.slice(3):r}});var nqe=C((RM,ooe)=>{(function(r,e){typeof RM=="object"&&typeof ooe=="object"?ooe.exports=e(require("child_process"),require("crypto")):typeof define=="function"&&define.amd?define(["child_process","crypto"],e):typeof RM=="object"?RM["electron-machine-id"]=e(require("child_process"),require("crypto")):r["electron-machine-id"]=e(r.child_process,r.crypto)})(RM,function(r,e){return function(t){function n(o){if(i[o])return i[o].exports;var s=i[o]={exports:{},id:o,loaded:!1};return t[o].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var i={};return n.m=t,n.c=i,n.p="",n(0)}([function(t,n,i){t.exports=i(34)},function(t,n,i){var o=i(29)("wks"),s=i(33),a=i(2).Symbol,c=typeof a=="function",u=t.exports=function(l){return o[l]||(o[l]=c&&a[l]||(c?a:s)("Symbol."+l))};u.store=o},function(t,n){var i=t.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=i)},function(t,n,i){var o=i(9);t.exports=function(s){if(!o(s))throw TypeError(s+" is not an object!");return s}},function(t,n,i){t.exports=!i(24)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,n,i){var o=i(12),s=i(17);t.exports=i(4)?function(a,c,u){return o.f(a,c,s(1,u))}:function(a,c,u){return a[c]=u,a}},function(t,n){var i=t.exports={version:"2.4.0"};typeof __e=="number"&&(__e=i)},function(t,n,i){var o=i(14);t.exports=function(s,a,c){if(o(s),a===void 0)return s;switch(c){case 1:return function(u){return s.call(a,u)};case 2:return function(u,l){return s.call(a,u,l)};case 3:return function(u,l,d){return s.call(a,u,l,d)}}return function(){return s.apply(a,arguments)}}},function(t,n){var i={}.hasOwnProperty;t.exports=function(o,s){return i.call(o,s)}},function(t,n){t.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},function(t,n){t.exports={}},function(t,n){var i={}.toString;t.exports=function(o){return i.call(o).slice(8,-1)}},function(t,n,i){var o=i(3),s=i(26),a=i(32),c=Object.defineProperty;n.f=i(4)?Object.defineProperty:function(u,l,d){if(o(u),l=a(l,!0),o(d),s)try{return c(u,l,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");return"value"in d&&(u[l]=d.value),u}},function(t,n,i){var o=i(42),s=i(15);t.exports=function(a){return o(s(a))}},function(t,n){t.exports=function(i){if(typeof i!="function")throw TypeError(i+" is not a function!");return i}},function(t,n){t.exports=function(i){if(i==null)throw TypeError("Can't call method on  "+i);return i}},function(t,n,i){var o=i(9),s=i(2).document,a=o(s)&&o(s.createElement);t.exports=function(c){return a?s.createElement(c):{}}},function(t,n){t.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},function(t,n,i){var o=i(12).f,s=i(8),a=i(1)("toStringTag");t.exports=function(c,u,l){c&&!s(c=l?c:c.prototype,a)&&o(c,a,{configurable:!0,value:u})}},function(t,n,i){var o=i(29)("keys"),s=i(33);t.exports=function(a){return o[a]||(o[a]=s(a))}},function(t,n){var i=Math.ceil,o=Math.floor;t.exports=function(s){return isNaN(s=+s)?0:(s>0?o:i)(s)}},function(t,n,i){var o=i(11),s=i(1)("toStringTag"),a=o(function(){return arguments}())=="Arguments",c=function(u,l){try{return u[l]}catch{}};t.exports=function(u){var l,d,f;return u===void 0?"Undefined":u===null?"Null":typeof(d=c(l=Object(u),s))=="string"?d:a?o(l):(f=o(l))=="Object"&&typeof l.callee=="function"?"Arguments":f}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,i){var o=i(2),s=i(6),a=i(7),c=i(5),u="prototype",l=function(d,f,p){var _,D,x,N=d&l.F,A=d&l.G,U=d&l.S,ee=d&l.P,he=d&l.B,we=d&l.W,V=A?s:s[f]||(s[f]={}),W=V[u],te=A?o:U?o[f]:(o[f]||{})[u];A&&(p=f);for(_ in p)D=!N&&te&&te[_]!==void 0,D&&_ in V||(x=D?te[_]:p[_],V[_]=A&&typeof te[_]!="function"?p[_]:he&&D?a(x,o):we&&te[_]==x?function(De){var ae=function(ue,qe,Me){if(this instanceof De){switch(arguments.length){case 0:return new De;case 1:return new De(ue);case 2:return new De(ue,qe)}return new De(ue,qe,Me)}return De.apply(this,arguments)};return ae[u]=De[u],ae}(x):ee&&typeof x=="function"?a(Function.call,x):x,ee&&((V.virtual||(V.virtual={}))[_]=x,d&l.R&&W&&!W[_]&&c(W,_,x)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,n){t.exports=function(i){try{return!!i()}catch{return!0}}},function(t,n,i){t.exports=i(2).document&&document.documentElement},function(t,n,i){t.exports=!i(4)&&!i(24)(function(){return Object.defineProperty(i(16)("div"),"a",{get:function(){return 7}}).a!=7})},function(t,n,i){"use strict";var o=i(28),s=i(23),a=i(57),c=i(5),u=i(8),l=i(10),d=i(45),f=i(18),p=i(52),_=i(1)("iterator"),D=!([].keys&&"next"in[].keys()),x="@@iterator",N="keys",A="values",U=function(){return this};t.exports=function(ee,he,we,V,W,te,De){d(we,he,V);var ae,ue,qe,Me=function(st){if(!D&&st in xe)return xe[st];switch(st){case N:return function(){return new we(this,st)};case A:return function(){return new we(this,st)}}return function(){return new we(this,st)}},ce=he+" Iterator",Ce=W==A,be=!1,xe=ee.prototype,Ne=xe[_]||xe[x]||W&&xe[W],$e=Ne||Me(W),Ct=W?Ce?Me("entries"):$e:void 0,ze=he=="Array"&&xe.entries||Ne;if(ze&&(qe=p(ze.call(new ee)),qe!==Object.prototype&&(f(qe,ce,!0),o||u(qe,_)||c(qe,_,U))),Ce&&Ne&&Ne.name!==A&&(be=!0,$e=function(){return Ne.call(this)}),o&&!De||!D&&!be&&xe[_]||c(xe,_,$e),l[he]=$e,l[ce]=U,W)if(ae={values:Ce?$e:Me(A),keys:te?$e:Me(N),entries:Ct},De)for(ue in ae)ue in xe||a(xe,ue,ae[ue]);else s(s.P+s.F*(D||be),he,ae);return ae}},function(t,n){t.exports=!0},function(t,n,i){var o=i(2),s="__core-js_shared__",a=o[s]||(o[s]={});t.exports=function(c){return a[c]||(a[c]={})}},function(t,n,i){var o,s,a,c=i(7),u=i(41),l=i(25),d=i(16),f=i(2),p=f.process,_=f.setImmediate,D=f.clearImmediate,x=f.MessageChannel,N=0,A={},U="onreadystatechange",ee=function(){var we=+this;if(A.hasOwnProperty(we)){var V=A[we];delete A[we],V()}},he=function(we){ee.call(we.data)};_&&D||(_=function(we){for(var V=[],W=1;arguments.length>W;)V.push(arguments[W++]);return A[++N]=function(){u(typeof we=="function"?we:Function(we),V)},o(N),N},D=function(we){delete A[we]},i(11)(p)=="process"?o=function(we){p.nextTick(c(ee,we,1))}:x?(s=new x,a=s.port2,s.port1.onmessage=he,o=c(a.postMessage,a,1)):f.addEventListener&&typeof postMessage=="function"&&!f.importScripts?(o=function(we){f.postMessage(we+"","*")},f.addEventListener("message",he,!1)):o=U in d("script")?function(we){l.appendChild(d("script"))[U]=function(){l.removeChild(this),ee.call(we)}}:function(we){setTimeout(c(ee,we,1),0)}),t.exports={set:_,clear:D}},function(t,n,i){var o=i(20),s=Math.min;t.exports=function(a){return a>0?s(o(a),9007199254740991):0}},function(t,n,i){var o=i(9);t.exports=function(s,a){if(!o(s))return s;var c,u;if(a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s))||typeof(c=s.valueOf)=="function"&&!o(u=c.call(s))||!a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s)))return u;throw TypeError("Can't convert object to primitive value")}},function(t,n){var i=0,o=Math.random();t.exports=function(s){return"Symbol(".concat(s===void 0?"":s,")_",(++i+o).toString(36))}},function(t,n,i){"use strict";function o(U){return U&&U.__esModule?U:{default:U}}function s(){return process.platform!=="win32"?"":process.arch==="ia32"&&process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?"mixed":"native"}function a(U){return(0,_.createHash)("sha256").update(U).digest("hex")}function c(U){switch(x){case"darwin":return U.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return U.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return U.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return U.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error("Unsupported platform: "+process.platform)}}function u(U){var ee=c((0,p.execSync)(A[x]).toString());return U?ee:a(ee)}function l(U){return new f.default(function(ee,he){return(0,p.exec)(A[x],{},function(we,V,W){if(we)return he(new Error("Error while obtaining machine id: "+we.stack));var te=c(V.toString());return ee(U?te:a(te))})})}Object.defineProperty(n,"__esModule",{value:!0});var d=i(35),f=o(d);n.machineIdSync=u,n.machineId=l;var p=i(70),_=i(71),D=process,x=D.platform,N={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},A={darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:N[s()]+"\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"}},function(t,n,i){t.exports={default:i(36),__esModule:!0}},function(t,n,i){i(66),i(68),i(69),i(67),t.exports=i(6).Promise},function(t,n){t.exports=function(){}},function(t,n){t.exports=function(i,o,s,a){if(!(i instanceof o)||a!==void 0&&a in i)throw TypeError(s+": incorrect invocation!");return i}},function(t,n,i){var o=i(13),s=i(31),a=i(62);t.exports=function(c){return function(u,l,d){var f,p=o(u),_=s(p.length),D=a(d,_);if(c&&l!=l){for(;_>D;)if(f=p[D++],f!=f)return!0}else for(;_>D;D++)if((c||D in p)&&p[D]===l)return c||D||0;return!c&&-1}}},function(t,p,i){var o=i(7),s=i(44),a=i(43),c=i(3),u=i(31),l=i(64),d={},f={},p=t.exports=function(_,D,x,N,A){var U,ee,he,we,V=A?function(){return _}:l(_),W=o(x,N,D?2:1),te=0;if(typeof V!="function")throw TypeError(_+" is not iterable!");if(a(V)){for(U=u(_.length);U>te;te++)if(we=D?W(c(ee=_[te])[0],ee[1]):W(_[te]),we===d||we===f)return we}else for(he=V.call(_);!(ee=he.next()).done;)if(we=s(he,W,ee.value,D),we===d||we===f)return we};p.BREAK=d,p.RETURN=f},function(t,n){t.exports=function(i,o,s){var a=s===void 0;switch(o.length){case 0:return a?i():i.call(s);case 1:return a?i(o[0]):i.call(s,o[0]);case 2:return a?i(o[0],o[1]):i.call(s,o[0],o[1]);case 3:return a?i(o[0],o[1],o[2]):i.call(s,o[0],o[1],o[2]);case 4:return a?i(o[0],o[1],o[2],o[3]):i.call(s,o[0],o[1],o[2],o[3])}return i.apply(s,o)}},function(t,n,i){var o=i(11);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(s){return o(s)=="String"?s.split(""):Object(s)}},function(t,n,i){var o=i(10),s=i(1)("iterator"),a=Array.prototype;t.exports=function(c){return c!==void 0&&(o.Array===c||a[s]===c)}},function(t,n,i){var o=i(3);t.exports=function(s,a,c,u){try{return u?a(o(c)[0],c[1]):a(c)}catch(d){var l=s.return;throw l!==void 0&&o(l.call(s)),d}}},function(t,n,i){"use strict";var o=i(49),s=i(17),a=i(18),c={};i(5)(c,i(1)("iterator"),function(){return this}),t.exports=function(u,l,d){u.prototype=o(c,{next:s(1,d)}),a(u,l+" Iterator")}},function(t,n,i){var o=i(1)("iterator"),s=!1;try{var a=[7][o]();a.return=function(){s=!0},Array.from(a,function(){throw 2})}catch{}t.exports=function(c,u){if(!u&&!s)return!1;var l=!1;try{var d=[7],f=d[o]();f.next=function(){return{done:l=!0}},d[o]=function(){return f},c(d)}catch{}return l}},function(t,n){t.exports=function(i,o){return{value:o,done:!!i}}},function(t,n,i){var o=i(2),s=i(30).set,a=o.MutationObserver||o.WebKitMutationObserver,c=o.process,u=o.Promise,l=i(11)(c)=="process";t.exports=function(){var d,f,p,_=function(){var A,U;for(l&&(A=c.domain)&&A.exit();d;){U=d.fn,d=d.next;try{U()}catch(ee){throw d?p():f=void 0,ee}}f=void 0,A&&A.enter()};if(l)p=function(){c.nextTick(_)};else if(a){var D=!0,x=document.createTextNode("");new a(_).observe(x,{characterData:!0}),p=function(){x.data=D=!D}}else if(u&&u.resolve){var N=u.resolve();p=function(){N.then(_)}}else p=function(){s.call(o,_)};return function(A){var U={fn:A,next:void 0};f&&(f.next=U),d||(d=U,p()),f=U}}},function(t,n,i){var o=i(3),s=i(50),a=i(22),c=i(19)("IE_PROTO"),u=function(){},l="prototype",d=function(){var f,p=i(16)("iframe"),_=a.length,D=">";for(p.style.display="none",i(25).appendChild(p),p.src="javascript:",f=p.contentWindow.document,f.open(),f.write("<script>document.F=Object</script"+D),f.close(),d=f.F;_--;)delete d[l][a[_]];return d()};t.exports=Object.create||function(f,p){var _;return f!==null?(u[l]=o(f),_=new u,u[l]=null,_[c]=f):_=d(),p===void 0?_:s(_,p)}},function(t,n,i){var o=i(12),s=i(3),a=i(54);t.exports=i(4)?Object.defineProperties:function(c,u){s(c);for(var l,d=a(u),f=d.length,p=0;f>p;)o.f(c,l=d[p++],u[l]);return c}},function(t,n,i){var o=i(55),s=i(17),a=i(13),c=i(32),u=i(8),l=i(26),d=Object.getOwnPropertyDescriptor;n.f=i(4)?d:function(f,p){if(f=a(f),p=c(p,!0),l)try{return d(f,p)}catch{}if(u(f,p))return s(!o.f.call(f,p),f[p])}},function(t,n,i){var o=i(8),s=i(63),a=i(19)("IE_PROTO"),c=Object.prototype;t.exports=Object.getPrototypeOf||function(u){return u=s(u),o(u,a)?u[a]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?c:null}},function(t,n,i){var o=i(8),s=i(13),a=i(39)(!1),c=i(19)("IE_PROTO");t.exports=function(u,l){var d,f=s(u),p=0,_=[];for(d in f)d!=c&&o(f,d)&&_.push(d);for(;l.length>p;)o(f,d=l[p++])&&(~a(_,d)||_.push(d));return _}},function(t,n,i){var o=i(53),s=i(22);t.exports=Object.keys||function(a){return o(a,s)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,i){var o=i(5);t.exports=function(s,a,c){for(var u in a)c&&s[u]?s[u]=a[u]:o(s,u,a[u]);return s}},function(t,n,i){t.exports=i(5)},function(t,n,i){var o=i(9),s=i(3),a=function(c,u){if(s(c),!o(u)&&u!==null)throw TypeError(u+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(c,u,l){try{l=i(7)(Function.call,i(51).f(Object.prototype,"__proto__").set,2),l(c,[]),u=!(c instanceof Array)}catch{u=!0}return function(d,f){return a(d,f),u?d.__proto__=f:l(d,f),d}}({},!1):void 0),check:a}},function(t,n,i){"use strict";var o=i(2),s=i(6),a=i(12),c=i(4),u=i(1)("species");t.exports=function(l){var d=typeof s[l]=="function"?s[l]:o[l];c&&d&&!d[u]&&a.f(d,u,{configurable:!0,get:function(){return this}})}},function(t,n,i){var o=i(3),s=i(14),a=i(1)("species");t.exports=function(c,u){var l,d=o(c).constructor;return d===void 0||(l=o(d)[a])==null?u:s(l)}},function(t,n,i){var o=i(20),s=i(15);t.exports=function(a){return function(c,u){var l,d,f=String(s(c)),p=o(u),_=f.length;return p<0||p>=_?a?"":void 0:(l=f.charCodeAt(p),l<55296||l>56319||p+1===_||(d=f.charCodeAt(p+1))<56320||d>57343?a?f.charAt(p):l:a?f.slice(p,p+2):(l-55296<<10)+(d-56320)+65536)}}},function(t,n,i){var o=i(20),s=Math.max,a=Math.min;t.exports=function(c,u){return c=o(c),c<0?s(c+u,0):a(c,u)}},function(t,n,i){var o=i(15);t.exports=function(s){return Object(o(s))}},function(t,n,i){var o=i(21),s=i(1)("iterator"),a=i(10);t.exports=i(6).getIteratorMethod=function(c){if(c!=null)return c[s]||c["@@iterator"]||a[o(c)]}},function(t,n,i){"use strict";var o=i(37),s=i(47),a=i(10),c=i(13);t.exports=i(27)(Array,"Array",function(u,l){this._t=c(u),this._i=0,this._k=l},function(){var u=this._t,l=this._k,d=this._i++;return!u||d>=u.length?(this._t=void 0,s(1)):l=="keys"?s(0,d):l=="values"?s(0,u[d]):s(0,[d,u[d]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(t,n){},function(t,n,i){"use strict";var o,s,a,c=i(28),u=i(2),l=i(7),d=i(21),f=i(23),p=i(9),_=(i(3),i(14)),D=i(38),x=i(40),N=(i(58).set,i(60)),A=i(30).set,U=i(48)(),ee="Promise",he=u.TypeError,V=u.process,we=u[ee],V=u.process,W=d(V)=="process",te=function(){},De=!!function(){try{var ze=we.resolve(1),st=(ze.constructor={})[i(1)("species")]=function(at){at(te,te)};return(W||typeof PromiseRejectionEvent=="function")&&ze.then(te)instanceof st}catch{}}(),ae=function(ze,st){return ze===st||ze===we&&st===a},ue=function(ze){var st;return!(!p(ze)||typeof(st=ze.then)!="function")&&st},qe=function(ze){return ae(we,ze)?new Me(ze):new s(ze)},Me=s=function(ze){var st,at;this.promise=new ze(function(tt,fr){if(st!==void 0||at!==void 0)throw he("Bad Promise constructor");st=tt,at=fr}),this.resolve=_(st),this.reject=_(at)},ce=function(ze){try{ze()}catch(st){return{error:st}}},Ce=function(ze,st){if(!ze._n){ze._n=!0;var at=ze._c;U(function(){for(var tt=ze._v,fr=ze._s==1,Lr=0,zr=function(cr){var xt,hr,Nt=fr?cr.ok:cr.fail,on=cr.resolve,ln=cr.reject,On=cr.domain;try{Nt?(fr||(ze._h==2&&Ne(ze),ze._h=1),Nt===!0?xt=tt:(On&&On.enter(),xt=Nt(tt),On&&On.exit()),xt===cr.promise?ln(he("Promise-chain cycle")):(hr=ue(xt))?hr.call(xt,on,ln):on(xt)):ln(tt)}catch(Or){ln(Or)}};at.length>Lr;)zr(at[Lr++]);ze._c=[],ze._n=!1,st&&!ze._h&&be(ze)})}},be=function(ze){A.call(u,function(){var st,at,tt,fr=ze._v;if(xe(ze)&&(st=ce(function(){W?V.emit("unhandledRejection",fr,ze):(at=u.onunhandledrejection)?at({promise:ze,reason:fr}):(tt=u.console)&&tt.error&&tt.error("Unhandled promise rejection",fr)}),ze._h=W||xe(ze)?2:1),ze._a=void 0,st)throw st.error})},xe=function(ze){if(ze._h==1)return!1;for(var st,at=ze._a||ze._c,tt=0;at.length>tt;)if(st=at[tt++],st.fail||!xe(st.promise))return!1;return!0},Ne=function(ze){A.call(u,function(){var st;W?V.emit("rejectionHandled",ze):(st=u.onrejectionhandled)&&st({promise:ze,reason:ze._v})})},$e=function(ze){var st=this;st._d||(st._d=!0,st=st._w||st,st._v=ze,st._s=2,st._a||(st._a=st._c.slice()),Ce(st,!0))},Ct=function(ze){var st,at=this;if(!at._d){at._d=!0,at=at._w||at;try{if(at===ze)throw he("Promise can't be resolved itself");(st=ue(ze))?U(function(){var tt={_w:at,_d:!1};try{st.call(ze,l(Ct,tt,1),l($e,tt,1))}catch(fr){$e.call(tt,fr)}}):(at._v=ze,at._s=1,Ce(at,!1))}catch(tt){$e.call({_w:at,_d:!1},tt)}}};De||(we=function(ze){D(this,we,ee,"_h"),_(ze),o.call(this);try{ze(l(Ct,this,1),l($e,this,1))}catch(st){$e.call(this,st)}},o=function(ze){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=i(56)(we.prototype,{then:function(ze,st){var at=qe(N(this,we));return at.ok=typeof ze!="function"||ze,at.fail=typeof st=="function"&&st,at.domain=W?V.domain:void 0,this._c.push(at),this._a&&this._a.push(at),this._s&&Ce(this,!1),at.promise},catch:function(ze){return this.then(void 0,ze)}}),Me=function(){var ze=new o;this.promise=ze,this.resolve=l(Ct,ze,1),this.reject=l($e,ze,1)}),f(f.G+f.W+f.F*!De,{Promise:we}),i(18)(we,ee),i(59)(ee),a=i(6)[ee],f(f.S+f.F*!De,ee,{reject:function(ze){var st=qe(this),at=st.reject;return at(ze),st.promise}}),f(f.S+f.F*(c||!De),ee,{resolve:function(ze){if(ze instanceof we&&ae(ze.constructor,this))return ze;var st=qe(this),at=st.resolve;return at(ze),st.promise}}),f(f.S+f.F*!(De&&i(46)(function(ze){we.all(ze).catch(te)})),ee,{all:function(ze){var st=this,at=qe(st),tt=at.resolve,fr=at.reject,Lr=ce(function(){var zr=[],cr=0,xt=1;x(ze,!1,function(hr){var Nt=cr++,on=!1;zr.push(void 0),xt++,st.resolve(hr).then(function(ln){on||(on=!0,zr[Nt]=ln,--xt||tt(zr))},fr)}),--xt||tt(zr)});return Lr&&fr(Lr.error),at.promise},race:function(ze){var st=this,at=qe(st),tt=at.reject,fr=ce(function(){x(ze,!1,function(Lr){st.resolve(Lr).then(at.resolve,tt)})});return fr&&tt(fr.error),at.promise}})},function(t,n,i){"use strict";var o=i(61)(!0);i(27)(String,"String",function(s){this._t=String(s),this._i=0},function(){var s,a=this._t,c=this._i;return c>=a.length?{value:void 0,done:!0}:(s=o(a,c),this._i+=s.length,{value:s,done:!1})})},function(t,n,i){i(65);for(var o=i(2),s=i(5),a=i(10),c=i(1)("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var d=u[l],f=o[d],p=f&&f.prototype;p&&!p[c]&&s(p,c,d),a[d]=a.Array}},function(t,n){t.exports=require("child_process")},function(t,n){t.exports=require("crypto")}])})});var soe=C(aO=>{"use strict";Object.defineProperty(aO,"__esModule",{value:!0});aO.JS_DEBUG_NAME=aO.SERVER_APP_NAME=void 0;aO.SERVER_APP_NAME=".NET Application Server";aO.JS_DEBUG_NAME="Debug Blazor Web Assembly in Browser"});var coe=C((Vnr,dqe)=>{"use strict";var JPt=require("util"),cqe=require("path"),uqe=require("child_process"),aoe=1e3*1e3*10,lqe=JPt.promisify(uqe.execFile),XPt=async()=>{let r;switch(process.arch){case"x64":r="fastlist-0.3.0-x64.exe";break;case"ia32":r="fastlist-0.3.0-x86.exe";break;default:throw new Error(`Unsupported architecture: ${process.arch}`)}let e=cqe.join(__dirname,"vendor",r),{stdout:t}=await lqe(e,{maxBuffer:aoe,windowsHide:!0});return t.trim().split(`\r
`).map(n=>n.split("	")).map(([n,i,o])=>({pid:Number.parseInt(n,10),ppid:Number.parseInt(i,10),name:o}))},QPt=async(r={})=>{let e=(r.all===!1?"":"a")+"wwxo",t={};return await Promise.all(["comm","args","ppid","uid","%cpu","%mem"].map(async n=>{let{stdout:i}=await lqe("ps",[e,`pid,${n}`],{maxBuffer:aoe});for(let o of i.trim().split(`
`).slice(1)){o=o.trim();let[s]=o.split(" ",1),a=o.slice(s.length+1).trim();t[s]===void 0&&(t[s]={}),t[s][n]=a}})),Object.entries(t).filter(([,n])=>n.comm&&n.args&&n.ppid&&n.uid&&n["%cpu"]&&n["%mem"]).map(([n,i])=>({pid:Number.parseInt(n,10),name:cqe.basename(i.comm),cmd:i.args,ppid:Number.parseInt(i.ppid,10),uid:Number.parseInt(i.uid,10),cpu:Number.parseFloat(i["%cpu"]),memory:Number.parseFloat(i["%mem"])}))},aqe="ps output parsing failed",ZPt="pid,ppid,uid,%cpu,%mem,comm,args",ext=/^[ \t]*(?<pid>\d+)[ \t]+(?<ppid>\d+)[ \t]+(?<uid>\d+)[ \t]+(?<cpu>\d+\.\d+)[ \t]+(?<memory>\d+\.\d+)[ \t]+/,txt=async(r={})=>{let e=r.all===!1?"wwxo":"awwxo",[t,n]=await new Promise((l,d)=>{let f=uqe.execFile("ps",[e,ZPt],{maxBuffer:aoe},(p,_)=>{p===null?l([f.pid,_]):d(p)})}),i=n.trim().split(`
`);i.shift();let o,s,a,c=i.map((l,d)=>{let f=ext.exec(l);if(f===null)throw new Error(aqe);let{pid:p,ppid:_,uid:D,cpu:x,memory:N}=f.groups,A={pid:Number.parseInt(p,10),ppid:Number.parseInt(_,10),uid:Number.parseInt(D,10),cpu:Number.parseFloat(x),memory:Number.parseFloat(N),name:void 0,cmd:void 0};return A.pid===t&&(o=d,s=l.indexOf("ps",f[0].length),a=l.indexOf("ps",s+2)),A});if(o===void 0||s===-1||a===-1)throw new Error(aqe);let u=a-s;for(let[l,d]of i.entries())c[l].name=d.slice(s,s+u).trim(),c[l].cmd=d.slice(a).trim();return c.splice(o,1),c},rxt=async(r={})=>{try{return await txt(r)}catch{return QPt(r)}};dqe.exports=process.platform==="win32"?XPt:rxt});var mqe=C($b=>{"use strict";var hqe=$b&&$b.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty($b,"__esModule",{value:!0});$b.onDidTerminateDebugSession=$b.isValidEvent=void 0;var nxt=coe(),fqe=soe(),ixt=r=>r===fqe.JS_DEBUG_NAME||r===fqe.SERVER_APP_NAME;$b.isValidEvent=ixt;var pqe=(r,e)=>{if(r)try{e.logVerbose(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};function oxt(r,e,t){return hqe(this,void 0,void 0,function*(){t&&(typeof t=="number"?sxt(r,e,t):yield axt(r,e,t))})}$b.onDidTerminateDebugSession=oxt;function sxt(r,e,t){(0,$b.isValidEvent)(r.name)&&pqe(t,e)}function axt(r,e,t){return hqe(this,void 0,void 0,function*(){if(!(0,$b.isValidEvent)(r.name))return;let n=[];try{n=yield nxt()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&pqe(i.pid,e)})}});var vqe=C(cO=>{"use strict";var PM=cO&&cO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(cO,"__esModule",{value:!0});cO.BlazorDebugConfigurationProvider=void 0;var cxt=require("fs"),uxt=require("path"),gqe=require("url"),uoe=soe(),lxt=mqe(),loe=class{constructor(e,t){this.logger=e,this.vscodeType=t}resolveDebugConfiguration(e,t){var n;return PM(this,void 0,void 0,function*(){t.request==="launch"&&(yield this.launchApp(e,t));let i="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",o="https://localhost:5001";try{if(e!==void 0){let s=t.cwd?t.cwd:(0,gqe.fileURLToPath)(e.uri.toString());s=s.replace("${workspaceFolder}",(0,gqe.fileURLToPath)(e.uri.toString()));let a=JSON.parse((0,cxt.readFileSync)((0,uxt.join)(s,"Properties","launchSettings.json"),"utf8"));a?.profiles&&(!((n=a?.profiles[Object.keys(a.profiles)[0]])===null||n===void 0)&&n.inspectUri)&&(i=a.profiles[Object.keys(a.profiles)[0]].inspectUri,o=a.profiles[Object.keys(a.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(s){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",s)}yield this.launchBrowser(e,t,i,o)})}launchApp(e,t){return PM(this,void 0,void 0,function*(){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s=Object.assign({name:uoe.SERVER_APP_NAME,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:Object.assign({ASPNETCORE_ENVIRONMENT:"Development"},t.env),launchBrowser:{enabled:!1}},t.dotNetConfig);try{if(yield this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(c=>PM(this,void 0,void 0,function*(){let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;yield(0,lxt.onDidTerminateDebugSession)(c,this.logger,f),a.dispose()}))}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}})}launchBrowser(e,t,n,i){return PM(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({name:uoe.JS_DEBUG_NAME,type:t.browser==="edge"?"pwa-msedge":"pwa-chrome",request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1},t.browserConfig),{cascadeTerminateToConfigurations:[uoe.SERVER_APP_NAME]});try{yield this.vscodeType.debug.startDebugging(e,o)}catch(s){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",s),this.vscodeType.window.showErrorMessage("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info.","View Debug Docs","Ignore").then(c=>PM(this,void 0,void 0,function*(){c==="View Debug Docs"&&(yield this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug"))}))}})}};cO.BlazorDebugConfigurationProvider=loe});var yqe=C(uO=>{"use strict";Object.defineProperty(uO,"__esModule",{value:!0});uO.convertPositionFromSerializable=uO.convertPositionToSerializable=void 0;var dxt=require("vscode");function fxt(r){return{line:r.line,character:r.character}}uO.convertPositionToSerializable=fxt;function hxt(r){return new dxt.Position(r.line,r.character)}uO.convertPositionFromSerializable=hxt});var dO=C(lO=>{"use strict";Object.defineProperty(lO,"__esModule",{value:!0});lO.convertRangeFromSerializable=lO.convertRangeToSerializable=void 0;var pxt=require("vscode"),N$=yqe();function mxt(r){return{start:(0,N$.convertPositionToSerializable)(r.start),end:(0,N$.convertPositionToSerializable)(r.end)}}lO.convertRangeToSerializable=mxt;function gxt(r){return new pxt.Range((0,N$.convertPositionFromSerializable)(r.start),(0,N$.convertPositionFromSerializable)(r.end))}lO.convertRangeFromSerializable=gxt});var xM=C(fO=>{"use strict";Object.defineProperty(fO,"__esModule",{value:!0});fO.convertTextEditFromSerializable=fO.convertTextEditToSerializable=void 0;var vxt=require("vscode"),_qe=dO();function yxt(r){return{range:(0,_qe.convertRangeToSerializable)(r.range),newText:r.newText}}fO.convertTextEditToSerializable=yxt;function _xt(r){return new vxt.TextEdit((0,_qe.convertRangeFromSerializable)(r.range),r.newText)}fO.convertTextEditFromSerializable=_xt});var wqe=C(M$=>{"use strict";Object.defineProperty(M$,"__esModule",{value:!0});M$.convertWorkspaceEditFromSerializable=void 0;var bE=require("vscode"),bqe=xM();function bxt(r){let e=new bE.WorkspaceEdit;if(Array.isArray(r.documentChanges))for(let t of r.documentChanges)if(t.kind==="create")e.createFile(bE.Uri.parse(t.uri),t.options);else if(t.kind==="rename")e.renameFile(bE.Uri.parse(t.oldUri),bE.Uri.parse(t.newUri),t.options);else if(t.kind==="delete")e.deleteFile(bE.Uri.parse(t.uri),t.options);else{let n=t.edits.map(bqe.convertTextEditFromSerializable);e.set(bE.Uri.parse(t.textDocument.uri),n)}if(r.changes!==void 0)for(let t in r.changes){if(!r.changes.hasOwnProperty(t))continue;let n=r.changes[t].map(bqe.convertTextEditFromSerializable);e.set(bE.Uri.parse(t),n)}return e}M$.convertWorkspaceEditFromSerializable=bxt});var Cqe=C(hO=>{"use strict";var wxt=hO&&hO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(hO,"__esModule",{value:!0});hO.RazorCodeActionRunner=void 0;var doe=require("vscode"),Sqe=wqe(),OM=class r{constructor(e,t){this.serverClient=e,this.logger=t}register(){return doe.commands.registerCommand(r.razorCodeActionRunnerCommand,e=>this.runCodeAction(e),this)}runCodeAction(e){return wxt(this,void 0,void 0,function*(){let t=yield this.serverClient.sendRequest(r.codeActionResolveEndpoint,{data:e,title:e.action}),n,i;try{n=(0,Sqe.convertWorkspaceEditFromSerializable)({changes:t.edit.changes}),i=(0,Sqe.convertWorkspaceEditFromSerializable)({documentChanges:t.edit.documentChanges})}catch(o){return this.logger.logError(`Unexpected error deserializing code action for ${e.action}`,o),Promise.resolve(!1)}return doe.workspace.applyEdit(i).then(()=>doe.workspace.applyEdit(n))})}};hO.RazorCodeActionRunner=OM;OM.codeActionResolveEndpoint="textDocument/codeActionResolve";OM.razorCodeActionRunnerCommand="razor/runCodeAction"});var WS=C(IM=>{"use strict";Object.defineProperty(IM,"__esModule",{value:!0});IM.RazorDocumentChangeKind=void 0;var Sxt;(function(r){r[r.added=0]="added",r[r.removed=1]="removed",r[r.opened=2]="opened",r[r.closed=3]="closed",r[r.csharpChanged=4]="csharpChanged",r[r.htmlChanged=5]="htmlChanged"})(Sxt=IM.RazorDocumentChangeKind||(IM.RazorDocumentChangeKind={}))});var Gv=C(kM=>{"use strict";Object.defineProperty(kM,"__esModule",{value:!0});kM.LanguageKind=void 0;var Cxt;(function(r){r[r.CSharp=1]="CSharp",r[r.Html=2]="Html",r[r.Razor=3]="Razor"})(Cxt=kM.LanguageKind||(kM.LanguageKind={}))});var kg=C(F$=>{"use strict";Object.defineProperty(F$,"__esModule",{value:!0});F$.getUriPath=void 0;function Txt(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}F$.getUriPath=Txt});var s_=C(pO=>{"use strict";var Dxt=pO&&pO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(pO,"__esModule",{value:!0});pO.RazorLanguageFeatureBase=void 0;var foe=Gv(),Ext=kg(),hoe=class{constructor(e,t,n,i){this.documentSynchronizer=e,this.documentManager=t,this.serviceClient=n,this.logger=i}getProjection(e,t,n){return Dxt(this,void 0,void 0,function*(){let i=yield this.serviceClient.languageQuery(t,e.uri);switch(i.kind){case foe.LanguageKind.CSharp:case foe.LanguageKind.Html:let o=yield this.documentManager.getDocument(e.uri),s=i.kind===foe.LanguageKind.CSharp?o.csharpDocument:o.htmlDocument;if(i.hostDocumentVersion===void 0)this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find a document version associated with the document '${(0,Ext.getUriPath)(e.uri)}'.`);else if(!(yield this.documentSynchronizer.trySynchronizeProjectedDocument(e,s,i.hostDocumentVersion,n)))return null;return{uri:s.uri,position:i.position,languageKind:i.kind};default:return null}})}};pO.RazorLanguageFeatureBase=hoe});var Tqe=C(q$=>{"use strict";Object.defineProperty(q$,"__esModule",{value:!0});q$.RazorCodeLens=void 0;var Rxt=require("vscode"),poe=class extends Rxt.CodeLens{constructor(e,t,n,i){super(e,i),this.uri=t,this.document=n}};q$.RazorCodeLens=poe});var Rqe=C(mO=>{"use strict";var j$=mO&&mO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(mO,"__esModule",{value:!0});mO.RazorCodeLensProvider=void 0;var z$=require("vscode"),Pxt=WS(),xxt=s_(),Dqe=Gv(),Eqe=Tqe(),moe=class extends xxt.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i);let o=new z$.EventEmitter;this.onDidChangeCodeLenses=o.event,t.onChange(s=>j$(this,void 0,void 0,function*(){if(s.kind!==Pxt.RazorDocumentChangeKind.added)return;z$.workspace.textDocuments.filter(c=>!c.isClosed).map(c=>c.uri).includes(s.document.uri)&&(yield new Promise(c=>setTimeout(c,5e3)),o.fire())}))}provideCodeLenses(e,t){return j$(this,void 0,void 0,function*(){try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return;let i=n.csharpDocument,o=yield z$.commands.executeCommand("vscode.executeCodeLensProvider",i.uri);if(!o)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(Dqe.LanguageKind.CSharp,[a.range],n.uri);if(c&&c.ranges.length>0){let u=new Eqe.RazorCodeLens(c.ranges[0],n.uri,e,a.command);s.push(u)}}return s}catch(n){return this.logger.logWarning(`provideCodeLens failed with ${n}`),[]}})}resolveCodeLens(e,t){return j$(this,void 0,void 0,function*(){if(e instanceof Eqe.RazorCodeLens)return this.resolveRazorCodeLens(e,t)})}resolveRazorCodeLens(e,t){return j$(this,void 0,void 0,function*(){e.command={title:"",command:"",arguments:[]};try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return e;let i=yield this.getProjection(e.document,e.range.start,t);if(!i||i.languageKind!==Dqe.LanguageKind.CSharp)return e;let o=yield z$.commands.executeCommand("vscode.executeReferenceProvider",i.uri,i.position),s=o.length;return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[n.uri,e.range.start,o]},e}catch(n){return this.logger.logWarning(`resolveCodeLens failed with ${n}`),e}})}};mO.RazorCodeLensProvider=moe});var Kv=C(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.asPromise=pu.thenable=pu.typedArray=pu.stringArray=pu.array=pu.func=pu.error=pu.number=pu.string=pu.boolean=void 0;function Oxt(r){return r===!0||r===!1}pu.boolean=Oxt;function Pqe(r){return typeof r=="string"||r instanceof String}pu.string=Pqe;function Ixt(r){return typeof r=="number"||r instanceof Number}pu.number=Ixt;function kxt(r){return r instanceof Error}pu.error=kxt;function xqe(r){return typeof r=="function"}pu.func=xqe;function Oqe(r){return Array.isArray(r)}pu.array=Oqe;function Axt(r){return Oqe(r)&&r.every(e=>Pqe(e))}pu.stringArray=Axt;function Lxt(r,e){return Array.isArray(r)&&r.every(e)}pu.typedArray=Lxt;function Iqe(r){return r&&xqe(r.then)}pu.thenable=Iqe;function Nxt(r){return r instanceof Promise?r:Iqe(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}pu.asPromise=Nxt});var $S=C(yoe=>{"use strict";Object.defineProperty(yoe,"__esModule",{value:!0});var goe;function voe(){if(goe===void 0)throw new Error("No runtime abstraction layer installed");return goe}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");goe=t}r.install=e})(voe||(voe={}));yoe.default=voe});var _oe=C(AM=>{"use strict";Object.defineProperty(AM,"__esModule",{value:!0});AM.Disposable=void 0;var Mxt;(function(r){function e(t){return{dispose:t}}r.create=e})(Mxt=AM.Disposable||(AM.Disposable={}))});var kqe=C(U$=>{"use strict";Object.defineProperty(U$,"__esModule",{value:!0});U$.AbstractMessageBuffer=void 0;var Fxt=13,qxt=10,jxt=`\r
`,boe=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,t=0,n=0,i=0;e:for(;t<this._chunks.length;){let c=this._chunks[t];for(n=0;n<c.length;){switch(c[n]){case Fxt:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case qxt:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=c.byteLength,t++}if(e!==4)return;let o=this._read(i+n),s=new Map,a=this.toString(o,"ascii").split(jxt);if(a.length<2)return s;for(let c=0;c<a.length-2;c++){let u=a[c],l=u.indexOf(":");if(l===-1)throw new Error("Message header must separate key and value using :");let d=u.substr(0,l),f=u.substr(l+1).trim();s.set(d,f)}return s}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};U$.AbstractMessageBuffer=boe});var Nqe=C(Toe=>{"use strict";Object.defineProperty(Toe,"__esModule",{value:!0});var zxt=$S(),Aqe=require("util"),wE=_oe(),Uxt=kqe(),H$=class r extends Uxt.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new Aqe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};H$.emptyBuffer=Buffer.allocUnsafe(0);var woe=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),wE.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),wE.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),wE.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),wE.Disposable.create(()=>this.stream.off("data",e))}},Soe=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),wE.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),wE.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),wE.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},Lqe=Object.freeze({messageBuffer:Object.freeze({create:r=>new H$(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new Aqe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new woe(r),asWritableStream:r=>new Soe(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function Coe(){return Lqe}(function(r){function e(){zxt.default.install(Lqe)}r.install=e})(Coe||(Coe={}));Toe.default=Coe});var gO=C(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.stringArray=ph.array=ph.func=ph.error=ph.number=ph.string=ph.boolean=void 0;function Hxt(r){return r===!0||r===!1}ph.boolean=Hxt;function Mqe(r){return typeof r=="string"||r instanceof String}ph.string=Mqe;function Bxt(r){return typeof r=="number"||r instanceof Number}ph.number=Bxt;function Wxt(r){return r instanceof Error}ph.error=Wxt;function $xt(r){return typeof r=="function"}ph.func=$xt;function Fqe(r){return Array.isArray(r)}ph.array=Fqe;function Vxt(r){return Fqe(r)&&r.every(e=>Mqe(e))}ph.stringArray=Vxt});var Koe=C(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.Message=Pn.NotificationType9=Pn.NotificationType8=Pn.NotificationType7=Pn.NotificationType6=Pn.NotificationType5=Pn.NotificationType4=Pn.NotificationType3=Pn.NotificationType2=Pn.NotificationType1=Pn.NotificationType0=Pn.NotificationType=Pn.RequestType9=Pn.RequestType8=Pn.RequestType7=Pn.RequestType6=Pn.RequestType5=Pn.RequestType4=Pn.RequestType3=Pn.RequestType2=Pn.RequestType1=Pn.RequestType=Pn.RequestType0=Pn.AbstractMessageSignature=Pn.ParameterStructures=Pn.ResponseError=Pn.ErrorCodes=void 0;var SE=gO(),qqe;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(qqe=Pn.ErrorCodes||(Pn.ErrorCodes={}));var Doe=class r extends Error{constructor(e,t,n){super(t),this.code=SE.number(e)?e:qqe.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Pn.ResponseError=Doe;var Dm=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};Pn.ParameterStructures=Dm;Dm.auto=new Dm("auto");Dm.byPosition=new Dm("byPosition");Dm.byName=new Dm("byName");var Ya=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return Dm.auto}};Pn.AbstractMessageSignature=Ya;var Eoe=class extends Ya{constructor(e){super(e,0)}};Pn.RequestType0=Eoe;var Roe=class extends Ya{constructor(e,t=Dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.RequestType=Roe;var Poe=class extends Ya{constructor(e,t=Dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.RequestType1=Poe;var xoe=class extends Ya{constructor(e){super(e,2)}};Pn.RequestType2=xoe;var Ooe=class extends Ya{constructor(e){super(e,3)}};Pn.RequestType3=Ooe;var Ioe=class extends Ya{constructor(e){super(e,4)}};Pn.RequestType4=Ioe;var koe=class extends Ya{constructor(e){super(e,5)}};Pn.RequestType5=koe;var Aoe=class extends Ya{constructor(e){super(e,6)}};Pn.RequestType6=Aoe;var Loe=class extends Ya{constructor(e){super(e,7)}};Pn.RequestType7=Loe;var Noe=class extends Ya{constructor(e){super(e,8)}};Pn.RequestType8=Noe;var Moe=class extends Ya{constructor(e){super(e,9)}};Pn.RequestType9=Moe;var Foe=class extends Ya{constructor(e,t=Dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.NotificationType=Foe;var qoe=class extends Ya{constructor(e){super(e,0)}};Pn.NotificationType0=qoe;var joe=class extends Ya{constructor(e,t=Dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.NotificationType1=joe;var zoe=class extends Ya{constructor(e){super(e,2)}};Pn.NotificationType2=zoe;var Uoe=class extends Ya{constructor(e){super(e,3)}};Pn.NotificationType3=Uoe;var Hoe=class extends Ya{constructor(e){super(e,4)}};Pn.NotificationType4=Hoe;var Boe=class extends Ya{constructor(e){super(e,5)}};Pn.NotificationType5=Boe;var Woe=class extends Ya{constructor(e){super(e,6)}};Pn.NotificationType6=Woe;var $oe=class extends Ya{constructor(e){super(e,7)}};Pn.NotificationType7=$oe;var Voe=class extends Ya{constructor(e){super(e,8)}};Pn.NotificationType8=Voe;var Goe=class extends Ya{constructor(e){super(e,9)}};Pn.NotificationType9=Goe;var Gxt;(function(r){function e(i){let o=i;return o&&SE.string(o.method)&&(SE.string(o.id)||SE.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&SE.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(SE.string(o.id)||SE.number(o.id)||o.id===null)}r.isResponse=n})(Gxt=Pn.Message||(Pn.Message={}))});var Joe=C(VS=>{"use strict";var jqe;Object.defineProperty(VS,"__esModule",{value:!0});VS.LRUCache=VS.LinkedMap=VS.Touch=void 0;var mp;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(mp=VS.Touch||(VS.Touch={}));var B$=class{constructor(){this[jqe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=mp.None){let n=this._map.get(e);if(n)return t!==mp.None&&this.touch(n,t),n.value}set(e,t,n=mp.None){let i=this._map.get(e);if(i)i.value=t,n!==mp.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case mp.None:this.addItemLast(i);break;case mp.First:this.addItemFirst(i);break;case mp.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(jqe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==mp.First&&t!==mp.Last)){if(t===mp.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===mp.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};VS.LinkedMap=B$;var Yoe=class extends B${constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=mp.AsNew){return super.get(e,t)}peek(e){return super.get(e,mp.None)}set(e,t){return super.set(e,t,mp.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};VS.LRUCache=Yoe});var vO=C(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0});CE.Emitter=CE.Event=void 0;var Kxt=$S(),Yxt;(function(r){let e={dispose(){}};r.None=function(){return e}})(Yxt=CE.Event||(CE.Event={}));var Xoe=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,Kxt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},W$=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new Xoe),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};CE.Emitter=W$;W$._noop=function(){}});var tse=C(TE=>{"use strict";Object.defineProperty(TE,"__esModule",{value:!0});TE.CancellationTokenSource=TE.CancellationToken=void 0;var Jxt=$S(),Xxt=gO(),Qoe=vO(),Zoe;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Qoe.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Qoe.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||Xxt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(Zoe=TE.CancellationToken||(TE.CancellationToken={}));var Qxt=Object.freeze(function(r,e){let t=(0,Jxt.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),$$=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Qxt:(this._emitter||(this._emitter=new Qoe.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ese=class{get token(){return this._token||(this._token=new $$),this._token}cancel(){this._token?this._token.cancel():this._token=Zoe.Cancelled}dispose(){this._token?this._token instanceof $$&&this._token.dispose():this._token=Zoe.None}};TE.CancellationTokenSource=ese});var zqe=C(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.ReadableStreamMessageReader=GS.AbstractMessageReader=GS.MessageReader=void 0;var nse=$S(),yO=gO(),rse=vO(),Zxt;(function(r){function e(t){let n=t;return n&&yO.func(n.listen)&&yO.func(n.dispose)&&yO.func(n.onError)&&yO.func(n.onClose)&&yO.func(n.onPartialMessage)}r.is=e})(Zxt=GS.MessageReader||(GS.MessageReader={}));var V$=class{constructor(){this.errorEmitter=new rse.Emitter,this.closeEmitter=new rse.Emitter,this.partialMessageEmitter=new rse.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${yO.string(e.message)?e.message:"unknown"}`)}};GS.AbstractMessageReader=V$;var ise;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,nse.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(ise||(ise={}));var ose=class extends V${constructor(e,t){super(),this.readable=e,this.options=ise.fromOptions(t),this.buffer=(0,nse.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let o=i.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let s=parseInt(o);if(isNaN(s))throw new Error("Content-Length value must be a number.");this.nextMessageLength=s}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(t):n=Promise.resolve(t),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,nse.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};GS.ReadableStreamMessageReader=ose});var Uqe=C(G$=>{"use strict";Object.defineProperty(G$,"__esModule",{value:!0});G$.Semaphore=void 0;var eOt=$S(),sse=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,eOt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};G$.Semaphore=sse});var $qe=C(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.WriteableStreamMessageWriter=KS.AbstractMessageWriter=KS.MessageWriter=void 0;var Hqe=$S(),LM=gO(),tOt=Uqe(),Bqe=vO(),rOt="Content-Length: ",Wqe=`\r
`,nOt;(function(r){function e(t){let n=t;return n&&LM.func(n.dispose)&&LM.func(n.onClose)&&LM.func(n.onError)&&LM.func(n.write)}r.is=e})(nOt=KS.MessageWriter||(KS.MessageWriter={}));var K$=class{constructor(){this.errorEmitter=new Bqe.Emitter,this.closeEmitter=new Bqe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${LM.string(e.message)?e.message:"unknown"}`)}};KS.AbstractMessageWriter=K$;var ase;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,Hqe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,Hqe.default)().applicationJson.encoder}}r.fromOptions=e})(ase||(ase={}));var cse=class extends K${constructor(e,t){super(),this.writable=e,this.options=ase.fromOptions(t),this.errorCount=0,this.writeSemaphore=new tOt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(rOt,n.byteLength.toString(),Wqe),i.push(Wqe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};KS.WriteableStreamMessageWriter=cse});var Xqe=C(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.createMessageConnection=ni.ConnectionOptions=ni.CancellationStrategy=ni.CancellationSenderStrategy=ni.CancellationReceiverStrategy=ni.ConnectionStrategy=ni.ConnectionError=ni.ConnectionErrors=ni.LogTraceNotification=ni.SetTraceNotification=ni.TraceFormat=ni.TraceValues=ni.Trace=ni.NullLogger=ni.ProgressType=ni.ProgressToken=void 0;var Vqe=$S(),Nl=gO(),vi=Koe(),Gqe=Joe(),NM=vO(),use=tse(),FM;(function(r){r.type=new vi.NotificationType("$/cancelRequest")})(FM||(FM={}));var Kqe;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(Kqe=ni.ProgressToken||(ni.ProgressToken={}));var MM;(function(r){r.type=new vi.NotificationType("$/progress")})(MM||(MM={}));var lse=class{constructor(){}};ni.ProgressType=lse;var dse;(function(r){function e(t){return Nl.func(t)}r.is=e})(dse||(dse={}));ni.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var zs;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(zs=ni.Trace||(ni.Trace={}));var iOt;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(iOt=ni.TraceValues||(ni.TraceValues={}));(function(r){function e(n){if(!Nl.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(zs=ni.Trace||(ni.Trace={}));var a_;(function(r){r.Text="text",r.JSON="json"})(a_=ni.TraceFormat||(ni.TraceFormat={}));(function(r){function e(t){return Nl.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(a_=ni.TraceFormat||(ni.TraceFormat={}));var Yqe;(function(r){r.type=new vi.NotificationType("$/setTrace")})(Yqe=ni.SetTraceNotification||(ni.SetTraceNotification={}));var fse;(function(r){r.type=new vi.NotificationType("$/logTrace")})(fse=ni.LogTraceNotification||(ni.LogTraceNotification={}));var Y$;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(Y$=ni.ConnectionErrors||(ni.ConnectionErrors={}));var _O=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};ni.ConnectionError=_O;var Jqe;(function(r){function e(t){let n=t;return n&&Nl.func(n.cancelUndispatched)}r.is=e})(Jqe=ni.ConnectionStrategy||(ni.ConnectionStrategy={}));var hse;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new use.CancellationTokenSource}});function e(t){let n=t;return n&&Nl.func(n.createCancellationTokenSource)}r.is=e})(hse=ni.CancellationReceiverStrategy||(ni.CancellationReceiverStrategy={}));var pse;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(FM.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&Nl.func(n.sendCancellation)&&Nl.func(n.cleanup)}r.is=e})(pse=ni.CancellationSenderStrategy||(ni.CancellationSenderStrategy={}));var mse;(function(r){r.Message=Object.freeze({receiver:hse.Message,sender:pse.Message});function e(t){let n=t;return n&&hse.is(n.receiver)&&pse.is(n.sender)}r.is=e})(mse=ni.CancellationStrategy||(ni.CancellationStrategy={}));var oOt;(function(r){function e(t){let n=t;return n&&(mse.is(n.cancellationStrategy)||Jqe.is(n.connectionStrategy))}r.is=e})(oOt=ni.ConnectionOptions||(ni.ConnectionOptions={}));var c_;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(c_||(c_={}));function sOt(r,e,t,n){let i=t!==void 0?t:ni.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,p=new Map,_,D=new Gqe.LinkedMap,x=new Map,N=new Set,A=new Map,U=zs.Off,ee=a_.Text,he,we=c_.New,V=new NM.Emitter,W=new NM.Emitter,te=new NM.Emitter,De=new NM.Emitter,ae=new NM.Emitter,ue=n&&n.cancellationStrategy?n.cancellationStrategy:mse.Message;function qe(Oe){if(Oe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Oe.toString()}function Me(Oe){return Oe===null?"res-unknown-"+(++a).toString():"res-"+Oe.toString()}function ce(){return"not-"+(++s).toString()}function Ce(Oe,oe){vi.Message.isRequest(oe)?Oe.set(qe(oe.id),oe):vi.Message.isResponse(oe)?Oe.set(Me(oe.id),oe):Oe.set(ce(),oe)}function be(Oe){}function xe(){return we===c_.Listening}function Ne(){return we===c_.Closed}function $e(){return we===c_.Disposed}function Ct(){(we===c_.New||we===c_.Listening)&&(we=c_.Closed,W.fire(void 0))}function ze(Oe){V.fire([Oe,void 0,void 0])}function st(Oe){V.fire(Oe)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(st);function at(){_||D.size===0||(_=(0,Vqe.default)().timer.setImmediate(()=>{_=void 0,tt()}))}function tt(){if(D.size===0)return;let Oe=D.shift();try{vi.Message.isRequest(Oe)?Lr(Oe):vi.Message.isNotification(Oe)?cr(Oe):vi.Message.isResponse(Oe)?zr(Oe):xt(Oe)}finally{at()}}let fr=Oe=>{try{if(vi.Message.isNotification(Oe)&&Oe.method===FM.type.method){let oe=Oe.params.id,Q=qe(oe),_e=D.get(Q);if(vi.Message.isRequest(_e)){let ft=n?.connectionStrategy,Yt=ft&&ft.cancelUndispatched?ft.cancelUndispatched(_e,be):void 0;if(Yt&&(Yt.error!==void 0||Yt.result!==void 0)){D.delete(Q),A.delete(oe),Yt.id=_e.id,ln(Yt,Oe.method,Date.now()),e.write(Yt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Je=A.get(oe);if(Je!==void 0){Je.cancel(),Or(Oe);return}else N.add(oe)}Ce(D,Oe)}finally{at()}};function Lr(Oe){if($e())return;function oe(Jt,$t,kt){let K={jsonrpc:c,id:Oe.id};Jt instanceof vi.ResponseError?K.error=Jt.toJson():K.result=Jt===void 0?null:Jt,ln(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function Q(Jt,$t,kt){let K={jsonrpc:c,id:Oe.id,error:Jt.toJson()};ln(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function _e(Jt,$t,kt){Jt===void 0&&(Jt=null);let K={jsonrpc:c,id:Oe.id,result:Jt};ln(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}On(Oe);let Je=l.get(Oe.method),ft,Yt;Je&&(ft=Je.type,Yt=Je.handler);let rr=Date.now();if(Yt||u){let Jt=Oe.id??String(Date.now()),$t=ue.receiver.createCancellationTokenSource(Jt);Oe.id!==null&&N.has(Oe.id)&&$t.cancel(),Oe.id!==null&&A.set(Jt,$t);try{let kt;if(Yt)if(Oe.params===void 0){if(ft!==void 0&&ft.numberOfParams!==0){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines ${ft.numberOfParams} params but received none.`),Oe.method,rr);return}kt=Yt($t.token)}else if(Array.isArray(Oe.params)){if(ft!==void 0&&ft.parameterStructures===vi.ParameterStructures.byName){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines parameters by name but received parameters by position`),Oe.method,rr);return}kt=Yt(...Oe.params,$t.token)}else{if(ft!==void 0&&ft.parameterStructures===vi.ParameterStructures.byPosition){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines parameters by position but received parameters by name`),Oe.method,rr);return}kt=Yt(Oe.params,$t.token)}else u&&(kt=u(Oe.method,Oe.params,$t.token));let K=kt;kt?K.then?K.then(Fe=>{A.delete(Jt),oe(Fe,Oe.method,rr)},Fe=>{A.delete(Jt),Fe instanceof vi.ResponseError?Q(Fe,Oe.method,rr):Fe&&Nl.string(Fe.message)?Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed with message: ${Fe.message}`),Oe.method,rr):Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed unexpectedly without providing any details.`),Oe.method,rr)}):(A.delete(Jt),oe(kt,Oe.method,rr)):(A.delete(Jt),_e(kt,Oe.method,rr))}catch(kt){A.delete(Jt),kt instanceof vi.ResponseError?oe(kt,Oe.method,rr):kt&&Nl.string(kt.message)?Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed with message: ${kt.message}`),Oe.method,rr):Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed unexpectedly without providing any details.`),Oe.method,rr)}}else Q(new vi.ResponseError(vi.ErrorCodes.MethodNotFound,`Unhandled method ${Oe.method}`),Oe.method,rr)}function zr(Oe){if(!$e())if(Oe.id===null)Oe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Oe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let oe=Oe.id,Q=x.get(oe);if(Hn(Oe,Q),Q!==void 0){x.delete(oe);try{if(Oe.error){let _e=Oe.error;Q.reject(new vi.ResponseError(_e.code,_e.message,_e.data))}else if(Oe.result!==void 0)Q.resolve(Oe.result);else throw new Error("Should never happen.")}catch(_e){_e.message?i.error(`Response handler '${Q.method}' failed with message: ${_e.message}`):i.error(`Response handler '${Q.method}' failed unexpectedly.`)}}}}function cr(Oe){if($e())return;let oe,Q;if(Oe.method===FM.type.method){let _e=Oe.params.id;N.delete(_e),Or(Oe);return}else{let _e=f.get(Oe.method);_e&&(Q=_e.handler,oe=_e.type)}if(Q||d)try{if(Or(Oe),Q)if(Oe.params===void 0)oe!==void 0&&oe.numberOfParams!==0&&oe.parameterStructures!==vi.ParameterStructures.byName&&i.error(`Notification ${Oe.method} defines ${oe.numberOfParams} params but received none.`),Q();else if(Array.isArray(Oe.params)){let _e=Oe.params;Oe.method===MM.type.method&&_e.length===2&&Kqe.is(_e[0])?Q({token:_e[0],value:_e[1]}):(oe!==void 0&&(oe.parameterStructures===vi.ParameterStructures.byName&&i.error(`Notification ${Oe.method} defines parameters by name but received parameters by position`),oe.numberOfParams!==Oe.params.length&&i.error(`Notification ${Oe.method} defines ${oe.numberOfParams} params but received ${_e.length} arguments`)),Q(..._e))}else oe!==void 0&&oe.parameterStructures===vi.ParameterStructures.byPosition&&i.error(`Notification ${Oe.method} defines parameters by position but received parameters by name`),Q(Oe.params);else d&&d(Oe.method,Oe.params)}catch(_e){_e.message?i.error(`Notification handler '${Oe.method}' failed with message: ${_e.message}`):i.error(`Notification handler '${Oe.method}' failed unexpectedly.`)}else te.fire(Oe)}function xt(Oe){if(!Oe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Oe,null,4)}`);let oe=Oe;if(Nl.string(oe.id)||Nl.number(oe.id)){let Q=oe.id,_e=x.get(Q);_e&&_e.reject(new Error("The received response has neither a result nor an error property."))}}function hr(Oe){if(Oe!=null)switch(U){case zs.Verbose:return JSON.stringify(Oe,null,4);case zs.Compact:return JSON.stringify(Oe);default:return}}function Nt(Oe){if(!(U===zs.Off||!he))if(ee===a_.Text){let oe;(U===zs.Verbose||U===zs.Compact)&&Oe.params&&(oe=`Params: ${hr(Oe.params)}

`),he.log(`Sending request '${Oe.method} - (${Oe.id})'.`,oe)}else $r("send-request",Oe)}function on(Oe){if(!(U===zs.Off||!he))if(ee===a_.Text){let oe;(U===zs.Verbose||U===zs.Compact)&&(Oe.params?oe=`Params: ${hr(Oe.params)}

`:oe=`No parameters provided.

`),he.log(`Sending notification '${Oe.method}'.`,oe)}else $r("send-notification",Oe)}function ln(Oe,oe,Q){if(!(U===zs.Off||!he))if(ee===a_.Text){let _e;(U===zs.Verbose||U===zs.Compact)&&(Oe.error&&Oe.error.data?_e=`Error data: ${hr(Oe.error.data)}

`:Oe.result?_e=`Result: ${hr(Oe.result)}

`:Oe.error===void 0&&(_e=`No result returned.

`)),he.log(`Sending response '${oe} - (${Oe.id})'. Processing request took ${Date.now()-Q}ms`,_e)}else $r("send-response",Oe)}function On(Oe){if(!(U===zs.Off||!he))if(ee===a_.Text){let oe;(U===zs.Verbose||U===zs.Compact)&&Oe.params&&(oe=`Params: ${hr(Oe.params)}

`),he.log(`Received request '${Oe.method} - (${Oe.id})'.`,oe)}else $r("receive-request",Oe)}function Or(Oe){if(!(U===zs.Off||!he||Oe.method===fse.type.method))if(ee===a_.Text){let oe;(U===zs.Verbose||U===zs.Compact)&&(Oe.params?oe=`Params: ${hr(Oe.params)}

`:oe=`No parameters provided.

`),he.log(`Received notification '${Oe.method}'.`,oe)}else $r("receive-notification",Oe)}function Hn(Oe,oe){if(!(U===zs.Off||!he))if(ee===a_.Text){let Q;if((U===zs.Verbose||U===zs.Compact)&&(Oe.error&&Oe.error.data?Q=`Error data: ${hr(Oe.error.data)}

`:Oe.result?Q=`Result: ${hr(Oe.result)}

`:Oe.error===void 0&&(Q=`No result returned.

`)),oe){let _e=Oe.error?` Request failed: ${Oe.error.message} (${Oe.error.code}).`:"";he.log(`Received response '${oe.method} - (${Oe.id})' in ${Date.now()-oe.timerStart}ms.${_e}`,Q)}else he.log(`Received response ${Oe.id} without active response promise.`,Q)}else $r("receive-response",Oe)}function $r(Oe,oe){if(!he||U===zs.Off)return;let Q={isLSPMessage:!0,type:Oe,message:oe,timestamp:Date.now()};he.log(Q)}function dn(){if(Ne())throw new _O(Y$.Closed,"Connection is closed.");if($e())throw new _O(Y$.Disposed,"Connection is disposed.")}function ii(){if(xe())throw new _O(Y$.AlreadyListening,"Connection is already listening")}function Vr(){if(!xe())throw new Error("Call listen() first.")}function An(Oe){return Oe===void 0?null:Oe}function Pi(Oe){if(Oe!==null)return Oe}function Gr(Oe){return Oe!=null&&!Array.isArray(Oe)&&typeof Oe=="object"}function Ji(Oe,oe){switch(Oe){case vi.ParameterStructures.auto:return Gr(oe)?Pi(oe):[An(oe)];case vi.ParameterStructures.byName:if(!Gr(oe))throw new Error("Received parameters by name but param is not an object literal.");return Pi(oe);case vi.ParameterStructures.byPosition:return[An(oe)];default:throw new Error(`Unknown parameter structure ${Oe.toString()}`)}}function oi(Oe,oe){let Q,_e=Oe.numberOfParams;switch(_e){case 0:Q=void 0;break;case 1:Q=Ji(Oe.parameterStructures,oe[0]);break;default:Q=[];for(let Je=0;Je<oe.length&&Je<_e;Je++)Q.push(An(oe[Je]));if(oe.length<_e)for(let Je=oe.length;Je<_e;Je++)Q.push(null);break}return Q}let fn={sendNotification:(Oe,...oe)=>{dn();let Q,_e;if(Nl.string(Oe)){Q=Oe;let ft=oe[0],Yt=0,rr=vi.ParameterStructures.auto;vi.ParameterStructures.is(ft)&&(Yt=1,rr=ft);let Jt=oe.length,$t=Jt-Yt;switch($t){case 0:_e=void 0;break;case 1:_e=Ji(rr,oe[Yt]);break;default:if(rr===vi.ParameterStructures.byName)throw new Error(`Received ${$t} parameters for 'by Name' notification parameter structure.`);_e=oe.slice(Yt,Jt).map(kt=>An(kt));break}}else{let ft=oe;Q=Oe.method,_e=oi(Oe,ft)}let Je={jsonrpc:c,method:Q,params:_e};return on(Je),e.write(Je).catch(()=>i.error("Sending notification failed."))},onNotification:(Oe,oe)=>{dn();let Q;return Nl.func(Oe)?d=Oe:oe&&(Nl.string(Oe)?(Q=Oe,f.set(Oe,{type:void 0,handler:oe})):(Q=Oe.method,f.set(Oe.method,{type:Oe,handler:oe}))),{dispose:()=>{Q!==void 0?f.delete(Q):d=void 0}}},onProgress:(Oe,oe,Q)=>{if(p.has(oe))throw new Error(`Progress handler for token ${oe} already registered`);return p.set(oe,Q),{dispose:()=>{p.delete(oe)}}},sendProgress:(Oe,oe,Q)=>fn.sendNotification(MM.type,{token:oe,value:Q}),onUnhandledProgress:De.event,sendRequest:(Oe,...oe)=>{dn(),Vr();let Q,_e,Je;if(Nl.string(Oe)){Q=Oe;let Jt=oe[0],$t=oe[oe.length-1],kt=0,K=vi.ParameterStructures.auto;vi.ParameterStructures.is(Jt)&&(kt=1,K=Jt);let Fe=oe.length;use.CancellationToken.is($t)&&(Fe=Fe-1,Je=$t);let Ht=Fe-kt;switch(Ht){case 0:_e=void 0;break;case 1:_e=Ji(K,oe[kt]);break;default:if(K===vi.ParameterStructures.byName)throw new Error(`Received ${Ht} parameters for 'by Name' request parameter structure.`);_e=oe.slice(kt,Fe).map(Dr=>An(Dr));break}}else{let Jt=oe;Q=Oe.method,_e=oi(Oe,Jt);let $t=Oe.numberOfParams;Je=use.CancellationToken.is(Jt[$t])?Jt[$t]:void 0}let ft=o++,Yt;return Je&&(Yt=Je.onCancellationRequested(()=>{let Jt=ue.sender.sendCancellation(fn,ft);return Jt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ft}`),Promise.resolve()):Jt.catch(()=>{i.log(`Sending cancellation messages for id ${ft} failed`)})})),new Promise((Jt,$t)=>{let kt={jsonrpc:c,id:ft,method:Q,params:_e},K=Dr=>{Jt(Dr),ue.sender.cleanup(ft),Yt?.dispose()},Fe=Dr=>{$t(Dr),ue.sender.cleanup(ft),Yt?.dispose()},Ht={method:Q,timerStart:Date.now(),resolve:K,reject:Fe};Nt(kt);try{e.write(kt).catch(()=>i.error("Sending request failed."))}catch(Dr){Ht.reject(new vi.ResponseError(vi.ErrorCodes.MessageWriteError,Dr.message?Dr.message:"Unknown reason")),Ht=null}Ht&&x.set(ft,Ht)})},onRequest:(Oe,oe)=>{dn();let Q=null;return dse.is(Oe)?(Q=void 0,u=Oe):Nl.string(Oe)?(Q=null,oe!==void 0&&(Q=Oe,l.set(Oe,{handler:oe,type:void 0}))):oe!==void 0&&(Q=Oe.method,l.set(Oe.method,{type:Oe,handler:oe})),{dispose:()=>{Q!==null&&(Q!==void 0?l.delete(Q):u=void 0)}}},hasPendingResponse:()=>x.size>0,trace:async(Oe,oe,Q)=>{let _e=!1,Je=a_.Text;Q!==void 0&&(Nl.boolean(Q)?_e=Q:(_e=Q.sendNotification||!1,Je=Q.traceFormat||a_.Text)),U=Oe,ee=Je,U===zs.Off?he=void 0:he=oe,_e&&!Ne()&&!$e()&&await fn.sendNotification(Yqe.type,{value:zs.toString(Oe)})},onError:V.event,onClose:W.event,onUnhandledNotification:te.event,onDispose:ae.event,end:()=>{e.end()},dispose:()=>{if($e())return;we=c_.Disposed,ae.fire(void 0);let Oe=new vi.ResponseError(vi.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let oe of x.values())oe.reject(Oe);x=new Map,A=new Map,N=new Set,D=new Gqe.LinkedMap,Nl.func(e.dispose)&&e.dispose(),Nl.func(r.dispose)&&r.dispose()},listen:()=>{dn(),ii(),we=c_.Listening,r.listen(fr)},inspect:()=>{(0,Vqe.default)().console.log("inspect")}};return fn.onNotification(fse.type,Oe=>{if(U===zs.Off||!he)return;let oe=U===zs.Verbose||U===zs.Compact;he.log(Oe.message,oe?Oe.verbose:void 0)}),fn.onNotification(MM.type,Oe=>{let oe=p.get(Oe.token);oe?oe(Oe.value):De.fire(Oe)}),fn}ni.createMessageConnection=sOt});var _se=C(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.TraceFormat=Gt.TraceValues=Gt.Trace=Gt.ProgressType=Gt.ProgressToken=Gt.createMessageConnection=Gt.NullLogger=Gt.ConnectionOptions=Gt.ConnectionStrategy=Gt.WriteableStreamMessageWriter=Gt.AbstractMessageWriter=Gt.MessageWriter=Gt.ReadableStreamMessageReader=Gt.AbstractMessageReader=Gt.MessageReader=Gt.CancellationToken=Gt.CancellationTokenSource=Gt.Emitter=Gt.Event=Gt.Disposable=Gt.LRUCache=Gt.Touch=Gt.LinkedMap=Gt.ParameterStructures=Gt.NotificationType9=Gt.NotificationType8=Gt.NotificationType7=Gt.NotificationType6=Gt.NotificationType5=Gt.NotificationType4=Gt.NotificationType3=Gt.NotificationType2=Gt.NotificationType1=Gt.NotificationType0=Gt.NotificationType=Gt.ErrorCodes=Gt.ResponseError=Gt.RequestType9=Gt.RequestType8=Gt.RequestType7=Gt.RequestType6=Gt.RequestType5=Gt.RequestType4=Gt.RequestType3=Gt.RequestType2=Gt.RequestType1=Gt.RequestType0=Gt.RequestType=Gt.Message=Gt.RAL=void 0;Gt.CancellationStrategy=Gt.CancellationSenderStrategy=Gt.CancellationReceiverStrategy=Gt.ConnectionError=Gt.ConnectionErrors=Gt.LogTraceNotification=Gt.SetTraceNotification=void 0;var Ea=Koe();Object.defineProperty(Gt,"Message",{enumerable:!0,get:function(){return Ea.Message}});Object.defineProperty(Gt,"RequestType",{enumerable:!0,get:function(){return Ea.RequestType}});Object.defineProperty(Gt,"RequestType0",{enumerable:!0,get:function(){return Ea.RequestType0}});Object.defineProperty(Gt,"RequestType1",{enumerable:!0,get:function(){return Ea.RequestType1}});Object.defineProperty(Gt,"RequestType2",{enumerable:!0,get:function(){return Ea.RequestType2}});Object.defineProperty(Gt,"RequestType3",{enumerable:!0,get:function(){return Ea.RequestType3}});Object.defineProperty(Gt,"RequestType4",{enumerable:!0,get:function(){return Ea.RequestType4}});Object.defineProperty(Gt,"RequestType5",{enumerable:!0,get:function(){return Ea.RequestType5}});Object.defineProperty(Gt,"RequestType6",{enumerable:!0,get:function(){return Ea.RequestType6}});Object.defineProperty(Gt,"RequestType7",{enumerable:!0,get:function(){return Ea.RequestType7}});Object.defineProperty(Gt,"RequestType8",{enumerable:!0,get:function(){return Ea.RequestType8}});Object.defineProperty(Gt,"RequestType9",{enumerable:!0,get:function(){return Ea.RequestType9}});Object.defineProperty(Gt,"ResponseError",{enumerable:!0,get:function(){return Ea.ResponseError}});Object.defineProperty(Gt,"ErrorCodes",{enumerable:!0,get:function(){return Ea.ErrorCodes}});Object.defineProperty(Gt,"NotificationType",{enumerable:!0,get:function(){return Ea.NotificationType}});Object.defineProperty(Gt,"NotificationType0",{enumerable:!0,get:function(){return Ea.NotificationType0}});Object.defineProperty(Gt,"NotificationType1",{enumerable:!0,get:function(){return Ea.NotificationType1}});Object.defineProperty(Gt,"NotificationType2",{enumerable:!0,get:function(){return Ea.NotificationType2}});Object.defineProperty(Gt,"NotificationType3",{enumerable:!0,get:function(){return Ea.NotificationType3}});Object.defineProperty(Gt,"NotificationType4",{enumerable:!0,get:function(){return Ea.NotificationType4}});Object.defineProperty(Gt,"NotificationType5",{enumerable:!0,get:function(){return Ea.NotificationType5}});Object.defineProperty(Gt,"NotificationType6",{enumerable:!0,get:function(){return Ea.NotificationType6}});Object.defineProperty(Gt,"NotificationType7",{enumerable:!0,get:function(){return Ea.NotificationType7}});Object.defineProperty(Gt,"NotificationType8",{enumerable:!0,get:function(){return Ea.NotificationType8}});Object.defineProperty(Gt,"NotificationType9",{enumerable:!0,get:function(){return Ea.NotificationType9}});Object.defineProperty(Gt,"ParameterStructures",{enumerable:!0,get:function(){return Ea.ParameterStructures}});var gse=Joe();Object.defineProperty(Gt,"LinkedMap",{enumerable:!0,get:function(){return gse.LinkedMap}});Object.defineProperty(Gt,"LRUCache",{enumerable:!0,get:function(){return gse.LRUCache}});Object.defineProperty(Gt,"Touch",{enumerable:!0,get:function(){return gse.Touch}});var aOt=_oe();Object.defineProperty(Gt,"Disposable",{enumerable:!0,get:function(){return aOt.Disposable}});var Qqe=vO();Object.defineProperty(Gt,"Event",{enumerable:!0,get:function(){return Qqe.Event}});Object.defineProperty(Gt,"Emitter",{enumerable:!0,get:function(){return Qqe.Emitter}});var Zqe=tse();Object.defineProperty(Gt,"CancellationTokenSource",{enumerable:!0,get:function(){return Zqe.CancellationTokenSource}});Object.defineProperty(Gt,"CancellationToken",{enumerable:!0,get:function(){return Zqe.CancellationToken}});var vse=zqe();Object.defineProperty(Gt,"MessageReader",{enumerable:!0,get:function(){return vse.MessageReader}});Object.defineProperty(Gt,"AbstractMessageReader",{enumerable:!0,get:function(){return vse.AbstractMessageReader}});Object.defineProperty(Gt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return vse.ReadableStreamMessageReader}});var yse=$qe();Object.defineProperty(Gt,"MessageWriter",{enumerable:!0,get:function(){return yse.MessageWriter}});Object.defineProperty(Gt,"AbstractMessageWriter",{enumerable:!0,get:function(){return yse.AbstractMessageWriter}});Object.defineProperty(Gt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return yse.WriteableStreamMessageWriter}});var mh=Xqe();Object.defineProperty(Gt,"ConnectionStrategy",{enumerable:!0,get:function(){return mh.ConnectionStrategy}});Object.defineProperty(Gt,"ConnectionOptions",{enumerable:!0,get:function(){return mh.ConnectionOptions}});Object.defineProperty(Gt,"NullLogger",{enumerable:!0,get:function(){return mh.NullLogger}});Object.defineProperty(Gt,"createMessageConnection",{enumerable:!0,get:function(){return mh.createMessageConnection}});Object.defineProperty(Gt,"ProgressToken",{enumerable:!0,get:function(){return mh.ProgressToken}});Object.defineProperty(Gt,"ProgressType",{enumerable:!0,get:function(){return mh.ProgressType}});Object.defineProperty(Gt,"Trace",{enumerable:!0,get:function(){return mh.Trace}});Object.defineProperty(Gt,"TraceValues",{enumerable:!0,get:function(){return mh.TraceValues}});Object.defineProperty(Gt,"TraceFormat",{enumerable:!0,get:function(){return mh.TraceFormat}});Object.defineProperty(Gt,"SetTraceNotification",{enumerable:!0,get:function(){return mh.SetTraceNotification}});Object.defineProperty(Gt,"LogTraceNotification",{enumerable:!0,get:function(){return mh.LogTraceNotification}});Object.defineProperty(Gt,"ConnectionErrors",{enumerable:!0,get:function(){return mh.ConnectionErrors}});Object.defineProperty(Gt,"ConnectionError",{enumerable:!0,get:function(){return mh.ConnectionError}});Object.defineProperty(Gt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return mh.CancellationReceiverStrategy}});Object.defineProperty(Gt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return mh.CancellationSenderStrategy}});Object.defineProperty(Gt,"CancellationStrategy",{enumerable:!0,get:function(){return mh.CancellationStrategy}});var cOt=$S();Gt.RAL=cOt.default});var RE=C(bs=>{"use strict";var uOt=bs&&bs.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),lOt=bs&&bs.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&uOt(e,r,t)};Object.defineProperty(bs,"__esModule",{value:!0});bs.createMessageConnection=bs.createServerSocketTransport=bs.createClientSocketTransport=bs.createServerPipeTransport=bs.createClientPipeTransport=bs.generateRandomPipeName=bs.StreamMessageWriter=bs.StreamMessageReader=bs.SocketMessageWriter=bs.SocketMessageReader=bs.IPCMessageWriter=bs.IPCMessageReader=void 0;var bO=Nqe();bO.default.install();var Vb=_se(),e2e=require("path"),dOt=require("os"),fOt=require("crypto"),Q$=require("net");lOt(_se(),bs);var bse=class extends Vb.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Vb.Disposable.create(()=>this.process.off("message",e))}};bs.IPCMessageReader=bse;var wse=class extends Vb.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};bs.IPCMessageWriter=wse;var DE=class extends Vb.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,bO.default)().stream.asReadableStream(e),t)}};bs.SocketMessageReader=DE;var EE=class extends Vb.WriteableStreamMessageWriter{constructor(e,t){super((0,bO.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};bs.SocketMessageWriter=EE;var J$=class extends Vb.ReadableStreamMessageReader{constructor(e,t){super((0,bO.default)().stream.asReadableStream(e),t)}};bs.StreamMessageReader=J$;var X$=class extends Vb.WriteableStreamMessageWriter{constructor(e,t){super((0,bO.default)().stream.asWritableStream(e),t)}};bs.StreamMessageWriter=X$;var t2e=process.env.XDG_RUNTIME_DIR,hOt=new Map([["linux",107],["darwin",103]]);function pOt(){let r=(0,fOt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;t2e?e=e2e.join(t2e,`vscode-ipc-${r}.sock`):e=e2e.join(dOt.tmpdir(),`vscode-${r}.sock`);let t=hOt.get(process.platform);return t!==void 0&&e.length>=t&&(0,bO.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}bs.generateRandomPipeName=pOt;function mOt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,Q$.createServer)(a=>{s.close(),t([new DE(a,e),new EE(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}bs.createClientPipeTransport=mOt;function gOt(r,e="utf-8"){let t=(0,Q$.createConnection)(r);return[new DE(t,e),new EE(t,e)]}bs.createServerPipeTransport=gOt;function vOt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,Q$.createServer)(a=>{s.close(),t([new DE(a,e),new EE(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}bs.createClientSocketTransport=vOt;function yOt(r,e="utf-8"){let t=(0,Q$.createConnection)(r,"127.0.0.1");return[new DE(t,e),new EE(t,e)]}bs.createServerSocketTransport=yOt;function _Ot(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function bOt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function wOt(r,e,t,n){t||(t=Vb.NullLogger);let i=_Ot(r)?new J$(r):r,o=bOt(e)?new X$(e):e;return Vb.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Vb.createMessageConnection)(i,o,t,n)}bs.createMessageConnection=wOt});var Sse=C((Sir,r2e)=>{"use strict";r2e.exports=RE()});var e3=C((n2e,Z$)=>{(function(r){if(typeof Z$=="object"&&typeof Z$.exports=="object"){var e=r(require,n2e);e!==void 0&&(Z$.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],r)})(function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var t;(function(ne){function Pe(je){return typeof je=="string"}ne.is=Pe})(t=e.DocumentUri||(e.DocumentUri={}));var n;(function(ne){function Pe(je){return typeof je=="string"}ne.is=Pe})(n=e.URI||(e.URI={}));var i;(function(ne){ne.MIN_VALUE=-2147483648,ne.MAX_VALUE=2147483647;function Pe(je){return typeof je=="number"&&ne.MIN_VALUE<=je&&je<=ne.MAX_VALUE}ne.is=Pe})(i=e.integer||(e.integer={}));var o;(function(ne){ne.MIN_VALUE=0,ne.MAX_VALUE=2147483647;function Pe(je){return typeof je=="number"&&ne.MIN_VALUE<=je&&je<=ne.MAX_VALUE}ne.is=Pe})(o=e.uinteger||(e.uinteger={}));var s;(function(ne){function Pe(fe,S){return fe===Number.MAX_VALUE&&(fe=o.MAX_VALUE),S===Number.MAX_VALUE&&(S=o.MAX_VALUE),{line:fe,character:S}}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&He.uinteger(S.line)&&He.uinteger(S.character)}ne.is=je})(s=e.Position||(e.Position={}));var a;(function(ne){function Pe(fe,S,de,Ye){if(He.uinteger(fe)&&He.uinteger(S)&&He.uinteger(de)&&He.uinteger(Ye))return{start:s.create(fe,S),end:s.create(de,Ye)};if(s.is(fe)&&s.is(S))return{start:fe,end:S};throw new Error("Range#create called with invalid arguments[".concat(fe,", ").concat(S,", ").concat(de,", ").concat(Ye,"]"))}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&s.is(S.start)&&s.is(S.end)}ne.is=je})(a=e.Range||(e.Range={}));var c;(function(ne){function Pe(fe,S){return{uri:fe,range:S}}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&a.is(S.range)&&(He.string(S.uri)||He.undefined(S.uri))}ne.is=je})(c=e.Location||(e.Location={}));var u;(function(ne){function Pe(fe,S,de,Ye){return{targetUri:fe,targetRange:S,targetSelectionRange:de,originSelectionRange:Ye}}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&a.is(S.targetRange)&&He.string(S.targetUri)&&a.is(S.targetSelectionRange)&&(a.is(S.originSelectionRange)||He.undefined(S.originSelectionRange))}ne.is=je})(u=e.LocationLink||(e.LocationLink={}));var l;(function(ne){function Pe(fe,S,de,Ye){return{red:fe,green:S,blue:de,alpha:Ye}}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&He.numberRange(S.red,0,1)&&He.numberRange(S.green,0,1)&&He.numberRange(S.blue,0,1)&&He.numberRange(S.alpha,0,1)}ne.is=je})(l=e.Color||(e.Color={}));var d;(function(ne){function Pe(fe,S){return{range:fe,color:S}}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&a.is(S.range)&&l.is(S.color)}ne.is=je})(d=e.ColorInformation||(e.ColorInformation={}));var f;(function(ne){function Pe(fe,S,de){return{label:fe,textEdit:S,additionalTextEdits:de}}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&He.string(S.label)&&(He.undefined(S.textEdit)||he.is(S))&&(He.undefined(S.additionalTextEdits)||He.typedArray(S.additionalTextEdits,he.is))}ne.is=je})(f=e.ColorPresentation||(e.ColorPresentation={}));var p;(function(ne){ne.Comment="comment",ne.Imports="imports",ne.Region="region"})(p=e.FoldingRangeKind||(e.FoldingRangeKind={}));var _;(function(ne){function Pe(fe,S,de,Ye,Tr,Wr){var Xr={startLine:fe,endLine:S};return He.defined(de)&&(Xr.startCharacter=de),He.defined(Ye)&&(Xr.endCharacter=Ye),He.defined(Tr)&&(Xr.kind=Tr),He.defined(Wr)&&(Xr.collapsedText=Wr),Xr}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&He.uinteger(S.startLine)&&He.uinteger(S.startLine)&&(He.undefined(S.startCharacter)||He.uinteger(S.startCharacter))&&(He.undefined(S.endCharacter)||He.uinteger(S.endCharacter))&&(He.undefined(S.kind)||He.string(S.kind))}ne.is=je})(_=e.FoldingRange||(e.FoldingRange={}));var D;(function(ne){function Pe(fe,S){return{location:fe,message:S}}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&c.is(S.location)&&He.string(S.message)}ne.is=je})(D=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var x;(function(ne){ne.Error=1,ne.Warning=2,ne.Information=3,ne.Hint=4})(x=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var N;(function(ne){ne.Unnecessary=1,ne.Deprecated=2})(N=e.DiagnosticTag||(e.DiagnosticTag={}));var A;(function(ne){function Pe(je){var fe=je;return He.objectLiteral(fe)&&He.string(fe.href)}ne.is=Pe})(A=e.CodeDescription||(e.CodeDescription={}));var U;(function(ne){function Pe(fe,S,de,Ye,Tr,Wr){var Xr={range:fe,message:S};return He.defined(de)&&(Xr.severity=de),He.defined(Ye)&&(Xr.code=Ye),He.defined(Tr)&&(Xr.source=Tr),He.defined(Wr)&&(Xr.relatedInformation=Wr),Xr}ne.create=Pe;function je(fe){var S,de=fe;return He.defined(de)&&a.is(de.range)&&He.string(de.message)&&(He.number(de.severity)||He.undefined(de.severity))&&(He.integer(de.code)||He.string(de.code)||He.undefined(de.code))&&(He.undefined(de.codeDescription)||He.string((S=de.codeDescription)===null||S===void 0?void 0:S.href))&&(He.string(de.source)||He.undefined(de.source))&&(He.undefined(de.relatedInformation)||He.typedArray(de.relatedInformation,D.is))}ne.is=je})(U=e.Diagnostic||(e.Diagnostic={}));var ee;(function(ne){function Pe(fe,S){for(var de=[],Ye=2;Ye<arguments.length;Ye++)de[Ye-2]=arguments[Ye];var Tr={title:fe,command:S};return He.defined(de)&&de.length>0&&(Tr.arguments=de),Tr}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.string(S.title)&&He.string(S.command)}ne.is=je})(ee=e.Command||(e.Command={}));var he;(function(ne){function Pe(de,Ye){return{range:de,newText:Ye}}ne.replace=Pe;function je(de,Ye){return{range:{start:de,end:de},newText:Ye}}ne.insert=je;function fe(de){return{range:de,newText:""}}ne.del=fe;function S(de){var Ye=de;return He.objectLiteral(Ye)&&He.string(Ye.newText)&&a.is(Ye.range)}ne.is=S})(he=e.TextEdit||(e.TextEdit={}));var we;(function(ne){function Pe(fe,S,de){var Ye={label:fe};return S!==void 0&&(Ye.needsConfirmation=S),de!==void 0&&(Ye.description=de),Ye}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&He.string(S.label)&&(He.boolean(S.needsConfirmation)||S.needsConfirmation===void 0)&&(He.string(S.description)||S.description===void 0)}ne.is=je})(we=e.ChangeAnnotation||(e.ChangeAnnotation={}));var V;(function(ne){function Pe(je){var fe=je;return He.string(fe)}ne.is=Pe})(V=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var W;(function(ne){function Pe(de,Ye,Tr){return{range:de,newText:Ye,annotationId:Tr}}ne.replace=Pe;function je(de,Ye,Tr){return{range:{start:de,end:de},newText:Ye,annotationId:Tr}}ne.insert=je;function fe(de,Ye){return{range:de,newText:"",annotationId:Ye}}ne.del=fe;function S(de){var Ye=de;return he.is(Ye)&&(we.is(Ye.annotationId)||V.is(Ye.annotationId))}ne.is=S})(W=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var te;(function(ne){function Pe(fe,S){return{textDocument:fe,edits:S}}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&Ne.is(S.textDocument)&&Array.isArray(S.edits)}ne.is=je})(te=e.TextDocumentEdit||(e.TextDocumentEdit={}));var De;(function(ne){function Pe(fe,S,de){var Ye={kind:"create",uri:fe};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(Ye.options=S),de!==void 0&&(Ye.annotationId=de),Ye}ne.create=Pe;function je(fe){var S=fe;return S&&S.kind==="create"&&He.string(S.uri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}ne.is=je})(De=e.CreateFile||(e.CreateFile={}));var ae;(function(ne){function Pe(fe,S,de,Ye){var Tr={kind:"rename",oldUri:fe,newUri:S};return de!==void 0&&(de.overwrite!==void 0||de.ignoreIfExists!==void 0)&&(Tr.options=de),Ye!==void 0&&(Tr.annotationId=Ye),Tr}ne.create=Pe;function je(fe){var S=fe;return S&&S.kind==="rename"&&He.string(S.oldUri)&&He.string(S.newUri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}ne.is=je})(ae=e.RenameFile||(e.RenameFile={}));var ue;(function(ne){function Pe(fe,S,de){var Ye={kind:"delete",uri:fe};return S!==void 0&&(S.recursive!==void 0||S.ignoreIfNotExists!==void 0)&&(Ye.options=S),de!==void 0&&(Ye.annotationId=de),Ye}ne.create=Pe;function je(fe){var S=fe;return S&&S.kind==="delete"&&He.string(S.uri)&&(S.options===void 0||(S.options.recursive===void 0||He.boolean(S.options.recursive))&&(S.options.ignoreIfNotExists===void 0||He.boolean(S.options.ignoreIfNotExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}ne.is=je})(ue=e.DeleteFile||(e.DeleteFile={}));var qe;(function(ne){function Pe(je){var fe=je;return fe&&(fe.changes!==void 0||fe.documentChanges!==void 0)&&(fe.documentChanges===void 0||fe.documentChanges.every(function(S){return He.string(S.kind)?De.is(S)||ae.is(S)||ue.is(S):te.is(S)}))}ne.is=Pe})(qe=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Me=function(){function ne(Pe,je){this.edits=Pe,this.changeAnnotations=je}return ne.prototype.insert=function(Pe,je,fe){var S,de;if(fe===void 0?S=he.insert(Pe,je):V.is(fe)?(de=fe,S=W.insert(Pe,je,fe)):(this.assertChangeAnnotations(this.changeAnnotations),de=this.changeAnnotations.manage(fe),S=W.insert(Pe,je,de)),this.edits.push(S),de!==void 0)return de},ne.prototype.replace=function(Pe,je,fe){var S,de;if(fe===void 0?S=he.replace(Pe,je):V.is(fe)?(de=fe,S=W.replace(Pe,je,fe)):(this.assertChangeAnnotations(this.changeAnnotations),de=this.changeAnnotations.manage(fe),S=W.replace(Pe,je,de)),this.edits.push(S),de!==void 0)return de},ne.prototype.delete=function(Pe,je){var fe,S;if(je===void 0?fe=he.del(Pe):V.is(je)?(S=je,fe=W.del(Pe,je)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(je),fe=W.del(Pe,S)),this.edits.push(fe),S!==void 0)return S},ne.prototype.add=function(Pe){this.edits.push(Pe)},ne.prototype.all=function(){return this.edits},ne.prototype.clear=function(){this.edits.splice(0,this.edits.length)},ne.prototype.assertChangeAnnotations=function(Pe){if(Pe===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},ne}(),ce=function(){function ne(Pe){this._annotations=Pe===void 0?Object.create(null):Pe,this._counter=0,this._size=0}return ne.prototype.all=function(){return this._annotations},Object.defineProperty(ne.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),ne.prototype.manage=function(Pe,je){var fe;if(V.is(Pe)?fe=Pe:(fe=this.nextId(),je=Pe),this._annotations[fe]!==void 0)throw new Error("Id ".concat(fe," is already in use."));if(je===void 0)throw new Error("No annotation provided for id ".concat(fe));return this._annotations[fe]=je,this._size++,fe},ne.prototype.nextId=function(){return this._counter++,this._counter.toString()},ne}(),Ce=function(){function ne(Pe){var je=this;this._textEditChanges=Object.create(null),Pe!==void 0?(this._workspaceEdit=Pe,Pe.documentChanges?(this._changeAnnotations=new ce(Pe.changeAnnotations),Pe.changeAnnotations=this._changeAnnotations.all(),Pe.documentChanges.forEach(function(fe){if(te.is(fe)){var S=new Me(fe.edits,je._changeAnnotations);je._textEditChanges[fe.textDocument.uri]=S}})):Pe.changes&&Object.keys(Pe.changes).forEach(function(fe){var S=new Me(Pe.changes[fe]);je._textEditChanges[fe]=S})):this._workspaceEdit={}}return Object.defineProperty(ne.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),ne.prototype.getTextEditChange=function(Pe){if(Ne.is(Pe)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var je={uri:Pe.uri,version:Pe.version},fe=this._textEditChanges[je.uri];if(!fe){var S=[],de={textDocument:je,edits:S};this._workspaceEdit.documentChanges.push(de),fe=new Me(S,this._changeAnnotations),this._textEditChanges[je.uri]=fe}return fe}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var fe=this._textEditChanges[Pe];if(!fe){var S=[];this._workspaceEdit.changes[Pe]=S,fe=new Me(S),this._textEditChanges[Pe]=fe}return fe}},ne.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ce,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},ne.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},ne.prototype.createFile=function(Pe,je,fe){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;we.is(je)||V.is(je)?S=je:fe=je;var de,Ye;if(S===void 0?de=De.create(Pe,fe):(Ye=V.is(S)?S:this._changeAnnotations.manage(S),de=De.create(Pe,fe,Ye)),this._workspaceEdit.documentChanges.push(de),Ye!==void 0)return Ye},ne.prototype.renameFile=function(Pe,je,fe,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var de;we.is(fe)||V.is(fe)?de=fe:S=fe;var Ye,Tr;if(de===void 0?Ye=ae.create(Pe,je,S):(Tr=V.is(de)?de:this._changeAnnotations.manage(de),Ye=ae.create(Pe,je,S,Tr)),this._workspaceEdit.documentChanges.push(Ye),Tr!==void 0)return Tr},ne.prototype.deleteFile=function(Pe,je,fe){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;we.is(je)||V.is(je)?S=je:fe=je;var de,Ye;if(S===void 0?de=ue.create(Pe,fe):(Ye=V.is(S)?S:this._changeAnnotations.manage(S),de=ue.create(Pe,fe,Ye)),this._workspaceEdit.documentChanges.push(de),Ye!==void 0)return Ye},ne}();e.WorkspaceChange=Ce;var be;(function(ne){function Pe(fe){return{uri:fe}}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.string(S.uri)}ne.is=je})(be=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var xe;(function(ne){function Pe(fe,S){return{uri:fe,version:S}}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.string(S.uri)&&He.integer(S.version)}ne.is=je})(xe=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var Ne;(function(ne){function Pe(fe,S){return{uri:fe,version:S}}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.string(S.uri)&&(S.version===null||He.integer(S.version))}ne.is=je})(Ne=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var $e;(function(ne){function Pe(fe,S,de,Ye){return{uri:fe,languageId:S,version:de,text:Ye}}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.string(S.uri)&&He.string(S.languageId)&&He.integer(S.version)&&He.string(S.text)}ne.is=je})($e=e.TextDocumentItem||(e.TextDocumentItem={}));var Ct;(function(ne){ne.PlainText="plaintext",ne.Markdown="markdown";function Pe(je){var fe=je;return fe===ne.PlainText||fe===ne.Markdown}ne.is=Pe})(Ct=e.MarkupKind||(e.MarkupKind={}));var ze;(function(ne){function Pe(je){var fe=je;return He.objectLiteral(je)&&Ct.is(fe.kind)&&He.string(fe.value)}ne.is=Pe})(ze=e.MarkupContent||(e.MarkupContent={}));var st;(function(ne){ne.Text=1,ne.Method=2,ne.Function=3,ne.Constructor=4,ne.Field=5,ne.Variable=6,ne.Class=7,ne.Interface=8,ne.Module=9,ne.Property=10,ne.Unit=11,ne.Value=12,ne.Enum=13,ne.Keyword=14,ne.Snippet=15,ne.Color=16,ne.File=17,ne.Reference=18,ne.Folder=19,ne.EnumMember=20,ne.Constant=21,ne.Struct=22,ne.Event=23,ne.Operator=24,ne.TypeParameter=25})(st=e.CompletionItemKind||(e.CompletionItemKind={}));var at;(function(ne){ne.PlainText=1,ne.Snippet=2})(at=e.InsertTextFormat||(e.InsertTextFormat={}));var tt;(function(ne){ne.Deprecated=1})(tt=e.CompletionItemTag||(e.CompletionItemTag={}));var fr;(function(ne){function Pe(fe,S,de){return{newText:fe,insert:S,replace:de}}ne.create=Pe;function je(fe){var S=fe;return S&&He.string(S.newText)&&a.is(S.insert)&&a.is(S.replace)}ne.is=je})(fr=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Lr;(function(ne){ne.asIs=1,ne.adjustIndentation=2})(Lr=e.InsertTextMode||(e.InsertTextMode={}));var zr;(function(ne){function Pe(je){var fe=je;return fe&&(He.string(fe.detail)||fe.detail===void 0)&&(He.string(fe.description)||fe.description===void 0)}ne.is=Pe})(zr=e.CompletionItemLabelDetails||(e.CompletionItemLabelDetails={}));var cr;(function(ne){function Pe(je){return{label:je}}ne.create=Pe})(cr=e.CompletionItem||(e.CompletionItem={}));var xt;(function(ne){function Pe(je,fe){return{items:je||[],isIncomplete:!!fe}}ne.create=Pe})(xt=e.CompletionList||(e.CompletionList={}));var hr;(function(ne){function Pe(fe){return fe.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}ne.fromPlainText=Pe;function je(fe){var S=fe;return He.string(S)||He.objectLiteral(S)&&He.string(S.language)&&He.string(S.value)}ne.is=je})(hr=e.MarkedString||(e.MarkedString={}));var Nt;(function(ne){function Pe(je){var fe=je;return!!fe&&He.objectLiteral(fe)&&(ze.is(fe.contents)||hr.is(fe.contents)||He.typedArray(fe.contents,hr.is))&&(je.range===void 0||a.is(je.range))}ne.is=Pe})(Nt=e.Hover||(e.Hover={}));var on;(function(ne){function Pe(je,fe){return fe?{label:je,documentation:fe}:{label:je}}ne.create=Pe})(on=e.ParameterInformation||(e.ParameterInformation={}));var ln;(function(ne){function Pe(je,fe){for(var S=[],de=2;de<arguments.length;de++)S[de-2]=arguments[de];var Ye={label:je};return He.defined(fe)&&(Ye.documentation=fe),He.defined(S)?Ye.parameters=S:Ye.parameters=[],Ye}ne.create=Pe})(ln=e.SignatureInformation||(e.SignatureInformation={}));var On;(function(ne){ne.Text=1,ne.Read=2,ne.Write=3})(On=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Or;(function(ne){function Pe(je,fe){var S={range:je};return He.number(fe)&&(S.kind=fe),S}ne.create=Pe})(Or=e.DocumentHighlight||(e.DocumentHighlight={}));var Hn;(function(ne){ne.File=1,ne.Module=2,ne.Namespace=3,ne.Package=4,ne.Class=5,ne.Method=6,ne.Property=7,ne.Field=8,ne.Constructor=9,ne.Enum=10,ne.Interface=11,ne.Function=12,ne.Variable=13,ne.Constant=14,ne.String=15,ne.Number=16,ne.Boolean=17,ne.Array=18,ne.Object=19,ne.Key=20,ne.Null=21,ne.EnumMember=22,ne.Struct=23,ne.Event=24,ne.Operator=25,ne.TypeParameter=26})(Hn=e.SymbolKind||(e.SymbolKind={}));var $r;(function(ne){ne.Deprecated=1})($r=e.SymbolTag||(e.SymbolTag={}));var dn;(function(ne){function Pe(je,fe,S,de,Ye){var Tr={name:je,kind:fe,location:{uri:de,range:S}};return Ye&&(Tr.containerName=Ye),Tr}ne.create=Pe})(dn=e.SymbolInformation||(e.SymbolInformation={}));var ii;(function(ne){function Pe(je,fe,S,de){return de!==void 0?{name:je,kind:fe,location:{uri:S,range:de}}:{name:je,kind:fe,location:{uri:S}}}ne.create=Pe})(ii=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var Vr;(function(ne){function Pe(fe,S,de,Ye,Tr,Wr){var Xr={name:fe,detail:S,kind:de,range:Ye,selectionRange:Tr};return Wr!==void 0&&(Xr.children=Wr),Xr}ne.create=Pe;function je(fe){var S=fe;return S&&He.string(S.name)&&He.number(S.kind)&&a.is(S.range)&&a.is(S.selectionRange)&&(S.detail===void 0||He.string(S.detail))&&(S.deprecated===void 0||He.boolean(S.deprecated))&&(S.children===void 0||Array.isArray(S.children))&&(S.tags===void 0||Array.isArray(S.tags))}ne.is=je})(Vr=e.DocumentSymbol||(e.DocumentSymbol={}));var An;(function(ne){ne.Empty="",ne.QuickFix="quickfix",ne.Refactor="refactor",ne.RefactorExtract="refactor.extract",ne.RefactorInline="refactor.inline",ne.RefactorRewrite="refactor.rewrite",ne.Source="source",ne.SourceOrganizeImports="source.organizeImports",ne.SourceFixAll="source.fixAll"})(An=e.CodeActionKind||(e.CodeActionKind={}));var Pi;(function(ne){ne.Invoked=1,ne.Automatic=2})(Pi=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var Gr;(function(ne){function Pe(fe,S,de){var Ye={diagnostics:fe};return S!=null&&(Ye.only=S),de!=null&&(Ye.triggerKind=de),Ye}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.typedArray(S.diagnostics,U.is)&&(S.only===void 0||He.typedArray(S.only,He.string))&&(S.triggerKind===void 0||S.triggerKind===Pi.Invoked||S.triggerKind===Pi.Automatic)}ne.is=je})(Gr=e.CodeActionContext||(e.CodeActionContext={}));var Ji;(function(ne){function Pe(fe,S,de){var Ye={title:fe},Tr=!0;return typeof S=="string"?(Tr=!1,Ye.kind=S):ee.is(S)?Ye.command=S:Ye.edit=S,Tr&&de!==void 0&&(Ye.kind=de),Ye}ne.create=Pe;function je(fe){var S=fe;return S&&He.string(S.title)&&(S.diagnostics===void 0||He.typedArray(S.diagnostics,U.is))&&(S.kind===void 0||He.string(S.kind))&&(S.edit!==void 0||S.command!==void 0)&&(S.command===void 0||ee.is(S.command))&&(S.isPreferred===void 0||He.boolean(S.isPreferred))&&(S.edit===void 0||qe.is(S.edit))}ne.is=je})(Ji=e.CodeAction||(e.CodeAction={}));var oi;(function(ne){function Pe(fe,S){var de={range:fe};return He.defined(S)&&(de.data=S),de}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.command)||ee.is(S.command))}ne.is=je})(oi=e.CodeLens||(e.CodeLens={}));var fn;(function(ne){function Pe(fe,S){return{tabSize:fe,insertSpaces:S}}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.uinteger(S.tabSize)&&He.boolean(S.insertSpaces)}ne.is=je})(fn=e.FormattingOptions||(e.FormattingOptions={}));var Oe;(function(ne){function Pe(fe,S,de){return{range:fe,target:S,data:de}}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.target)||He.string(S.target))}ne.is=je})(Oe=e.DocumentLink||(e.DocumentLink={}));var oe;(function(ne){function Pe(fe,S){return{range:fe,parent:S}}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&a.is(S.range)&&(S.parent===void 0||ne.is(S.parent))}ne.is=je})(oe=e.SelectionRange||(e.SelectionRange={}));var Q;(function(ne){ne.namespace="namespace",ne.type="type",ne.class="class",ne.enum="enum",ne.interface="interface",ne.struct="struct",ne.typeParameter="typeParameter",ne.parameter="parameter",ne.variable="variable",ne.property="property",ne.enumMember="enumMember",ne.event="event",ne.function="function",ne.method="method",ne.macro="macro",ne.keyword="keyword",ne.modifier="modifier",ne.comment="comment",ne.string="string",ne.number="number",ne.regexp="regexp",ne.operator="operator",ne.decorator="decorator"})(Q=e.SemanticTokenTypes||(e.SemanticTokenTypes={}));var _e;(function(ne){ne.declaration="declaration",ne.definition="definition",ne.readonly="readonly",ne.static="static",ne.deprecated="deprecated",ne.abstract="abstract",ne.async="async",ne.modification="modification",ne.documentation="documentation",ne.defaultLibrary="defaultLibrary"})(_e=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={}));var Je;(function(ne){function Pe(je){var fe=je;return He.objectLiteral(fe)&&(fe.resultId===void 0||typeof fe.resultId=="string")&&Array.isArray(fe.data)&&(fe.data.length===0||typeof fe.data[0]=="number")}ne.is=Pe})(Je=e.SemanticTokens||(e.SemanticTokens={}));var ft;(function(ne){function Pe(fe,S){return{range:fe,text:S}}ne.create=Pe;function je(fe){var S=fe;return S!=null&&a.is(S.range)&&He.string(S.text)}ne.is=je})(ft=e.InlineValueText||(e.InlineValueText={}));var Yt;(function(ne){function Pe(fe,S,de){return{range:fe,variableName:S,caseSensitiveLookup:de}}ne.create=Pe;function je(fe){var S=fe;return S!=null&&a.is(S.range)&&He.boolean(S.caseSensitiveLookup)&&(He.string(S.variableName)||S.variableName===void 0)}ne.is=je})(Yt=e.InlineValueVariableLookup||(e.InlineValueVariableLookup={}));var rr;(function(ne){function Pe(fe,S){return{range:fe,expression:S}}ne.create=Pe;function je(fe){var S=fe;return S!=null&&a.is(S.range)&&(He.string(S.expression)||S.expression===void 0)}ne.is=je})(rr=e.InlineValueEvaluatableExpression||(e.InlineValueEvaluatableExpression={}));var Jt;(function(ne){function Pe(fe,S){return{frameId:fe,stoppedLocation:S}}ne.create=Pe;function je(fe){var S=fe;return He.defined(S)&&a.is(fe.stoppedLocation)}ne.is=je})(Jt=e.InlineValueContext||(e.InlineValueContext={}));var $t;(function(ne){ne.Type=1,ne.Parameter=2;function Pe(je){return je===1||je===2}ne.is=Pe})($t=e.InlayHintKind||(e.InlayHintKind={}));var kt;(function(ne){function Pe(fe){return{value:fe}}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.location===void 0||c.is(S.location))&&(S.command===void 0||ee.is(S.command))}ne.is=je})(kt=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var K;(function(ne){function Pe(fe,S,de){var Ye={position:fe,label:S};return de!==void 0&&(Ye.kind=de),Ye}ne.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&s.is(S.position)&&(He.string(S.label)||He.typedArray(S.label,kt.is))&&(S.kind===void 0||$t.is(S.kind))&&S.textEdits===void 0||He.typedArray(S.textEdits,he.is)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.paddingLeft===void 0||He.boolean(S.paddingLeft))&&(S.paddingRight===void 0||He.boolean(S.paddingRight))}ne.is=je})(K=e.InlayHint||(e.InlayHint={}));var Fe;(function(ne){function Pe(je){var fe=je;return He.objectLiteral(fe)&&n.is(fe.uri)&&He.string(fe.name)}ne.is=Pe})(Fe=e.WorkspaceFolder||(e.WorkspaceFolder={})),e.EOL=[`
`,`\r
`,"\r"];var Ht;(function(ne){function Pe(de,Ye,Tr,Wr){return new Dr(de,Ye,Tr,Wr)}ne.create=Pe;function je(de){var Ye=de;return!!(He.defined(Ye)&&He.string(Ye.uri)&&(He.undefined(Ye.languageId)||He.string(Ye.languageId))&&He.uinteger(Ye.lineCount)&&He.func(Ye.getText)&&He.func(Ye.positionAt)&&He.func(Ye.offsetAt))}ne.is=je;function fe(de,Ye){for(var Tr=de.getText(),Wr=S(Ye,function(es,Ws){var na=es.range.start.line-Ws.range.start.line;return na===0?es.range.start.character-Ws.range.start.character:na}),Xr=Tr.length,qn=Wr.length-1;qn>=0;qn--){var xi=Wr[qn],As=de.offsetAt(xi.range.start),Sn=de.offsetAt(xi.range.end);if(Sn<=Xr)Tr=Tr.substring(0,As)+xi.newText+Tr.substring(Sn,Tr.length);else throw new Error("Overlapping edit");Xr=As}return Tr}ne.applyEdits=fe;function S(de,Ye){if(de.length<=1)return de;var Tr=de.length/2|0,Wr=de.slice(0,Tr),Xr=de.slice(Tr);S(Wr,Ye),S(Xr,Ye);for(var qn=0,xi=0,As=0;qn<Wr.length&&xi<Xr.length;){var Sn=Ye(Wr[qn],Xr[xi]);Sn<=0?de[As++]=Wr[qn++]:de[As++]=Xr[xi++]}for(;qn<Wr.length;)de[As++]=Wr[qn++];for(;xi<Xr.length;)de[As++]=Xr[xi++];return de}})(Ht=e.TextDocument||(e.TextDocument={}));var Dr=function(){function ne(Pe,je,fe,S){this._uri=Pe,this._languageId=je,this._version=fe,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(ne.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),ne.prototype.getText=function(Pe){if(Pe){var je=this.offsetAt(Pe.start),fe=this.offsetAt(Pe.end);return this._content.substring(je,fe)}return this._content},ne.prototype.update=function(Pe,je){this._content=Pe.text,this._version=je,this._lineOffsets=void 0},ne.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var Pe=[],je=this._content,fe=!0,S=0;S<je.length;S++){fe&&(Pe.push(S),fe=!1);var de=je.charAt(S);fe=de==="\r"||de===`
`,de==="\r"&&S+1<je.length&&je.charAt(S+1)===`
`&&S++}fe&&je.length>0&&Pe.push(je.length),this._lineOffsets=Pe}return this._lineOffsets},ne.prototype.positionAt=function(Pe){Pe=Math.max(Math.min(Pe,this._content.length),0);var je=this.getLineOffsets(),fe=0,S=je.length;if(S===0)return s.create(0,Pe);for(;fe<S;){var de=Math.floor((fe+S)/2);je[de]>Pe?S=de:fe=de+1}var Ye=fe-1;return s.create(Ye,Pe-je[Ye])},ne.prototype.offsetAt=function(Pe){var je=this.getLineOffsets();if(Pe.line>=je.length)return this._content.length;if(Pe.line<0)return 0;var fe=je[Pe.line],S=Pe.line+1<je.length?je[Pe.line+1]:this._content.length;return Math.max(Math.min(fe+Pe.character,S),fe)},Object.defineProperty(ne.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),ne}(),He;(function(ne){var Pe=Object.prototype.toString;function je(Sn){return typeof Sn<"u"}ne.defined=je;function fe(Sn){return typeof Sn>"u"}ne.undefined=fe;function S(Sn){return Sn===!0||Sn===!1}ne.boolean=S;function de(Sn){return Pe.call(Sn)==="[object String]"}ne.string=de;function Ye(Sn){return Pe.call(Sn)==="[object Number]"}ne.number=Ye;function Tr(Sn,es,Ws){return Pe.call(Sn)==="[object Number]"&&es<=Sn&&Sn<=Ws}ne.numberRange=Tr;function Wr(Sn){return Pe.call(Sn)==="[object Number]"&&-2147483648<=Sn&&Sn<=2147483647}ne.integer=Wr;function Xr(Sn){return Pe.call(Sn)==="[object Number]"&&0<=Sn&&Sn<=2147483647}ne.uinteger=Xr;function qn(Sn){return Pe.call(Sn)==="[object Function]"}ne.func=qn;function xi(Sn){return Sn!==null&&typeof Sn=="object"}ne.objectLiteral=xi;function As(Sn,es){return Array.isArray(Sn)&&Sn.every(es)}ne.typedArray=As})(He||(He={}))})});var Jc=C(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.ProtocolNotificationType=gp.ProtocolNotificationType0=gp.ProtocolRequestType=gp.ProtocolRequestType0=gp.RegistrationType=gp.MessageDirection=void 0;var wO=RE(),SOt;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})(SOt=gp.MessageDirection||(gp.MessageDirection={}));var Cse=class{constructor(e){this.method=e}};gp.RegistrationType=Cse;var Tse=class extends wO.RequestType0{constructor(e){super(e)}};gp.ProtocolRequestType0=Tse;var Dse=class extends wO.RequestType{constructor(e){super(e,wO.ParameterStructures.byName)}};gp.ProtocolRequestType=Dse;var Ese=class extends wO.NotificationType0{constructor(e){super(e)}};gp.ProtocolNotificationType0=Ese;var Rse=class extends wO.NotificationType{constructor(e){super(e,wO.ParameterStructures.byName)}};gp.ProtocolNotificationType=Rse});var t3=C(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.objectLiteral=cl.typedArray=cl.stringArray=cl.array=cl.func=cl.error=cl.number=cl.string=cl.boolean=void 0;function COt(r){return r===!0||r===!1}cl.boolean=COt;function i2e(r){return typeof r=="string"||r instanceof String}cl.string=i2e;function TOt(r){return typeof r=="number"||r instanceof Number}cl.number=TOt;function DOt(r){return r instanceof Error}cl.error=DOt;function EOt(r){return typeof r=="function"}cl.func=EOt;function o2e(r){return Array.isArray(r)}cl.array=o2e;function ROt(r){return o2e(r)&&r.every(e=>i2e(e))}cl.stringArray=ROt;function POt(r,e){return Array.isArray(r)&&r.every(e)}cl.typedArray=POt;function xOt(r){return r!==null&&typeof r=="object"}cl.objectLiteral=xOt});var a2e=C(qM=>{"use strict";Object.defineProperty(qM,"__esModule",{value:!0});qM.ImplementationRequest=void 0;var s2e=Jc(),OOt;(function(r){r.method="textDocument/implementation",r.messageDirection=s2e.MessageDirection.clientToServer,r.type=new s2e.ProtocolRequestType(r.method)})(OOt=qM.ImplementationRequest||(qM.ImplementationRequest={}))});var u2e=C(jM=>{"use strict";Object.defineProperty(jM,"__esModule",{value:!0});jM.TypeDefinitionRequest=void 0;var c2e=Jc(),IOt;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=c2e.MessageDirection.clientToServer,r.type=new c2e.ProtocolRequestType(r.method)})(IOt=jM.TypeDefinitionRequest||(jM.TypeDefinitionRequest={}))});var l2e=C(mD=>{"use strict";Object.defineProperty(mD,"__esModule",{value:!0});mD.DidChangeWorkspaceFoldersNotification=mD.WorkspaceFoldersRequest=void 0;var r3=Jc(),kOt;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=r3.MessageDirection.serverToClient,r.type=new r3.ProtocolRequestType0(r.method)})(kOt=mD.WorkspaceFoldersRequest||(mD.WorkspaceFoldersRequest={}));var AOt;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=r3.MessageDirection.clientToServer,r.type=new r3.ProtocolNotificationType(r.method)})(AOt=mD.DidChangeWorkspaceFoldersNotification||(mD.DidChangeWorkspaceFoldersNotification={}))});var f2e=C(zM=>{"use strict";Object.defineProperty(zM,"__esModule",{value:!0});zM.ConfigurationRequest=void 0;var d2e=Jc(),LOt;(function(r){r.method="workspace/configuration",r.messageDirection=d2e.MessageDirection.serverToClient,r.type=new d2e.ProtocolRequestType(r.method)})(LOt=zM.ConfigurationRequest||(zM.ConfigurationRequest={}))});var h2e=C(gD=>{"use strict";Object.defineProperty(gD,"__esModule",{value:!0});gD.ColorPresentationRequest=gD.DocumentColorRequest=void 0;var n3=Jc(),NOt;(function(r){r.method="textDocument/documentColor",r.messageDirection=n3.MessageDirection.clientToServer,r.type=new n3.ProtocolRequestType(r.method)})(NOt=gD.DocumentColorRequest||(gD.DocumentColorRequest={}));var MOt;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=n3.MessageDirection.clientToServer,r.type=new n3.ProtocolRequestType(r.method)})(MOt=gD.ColorPresentationRequest||(gD.ColorPresentationRequest={}))});var m2e=C(UM=>{"use strict";Object.defineProperty(UM,"__esModule",{value:!0});UM.FoldingRangeRequest=void 0;var p2e=Jc(),FOt;(function(r){r.method="textDocument/foldingRange",r.messageDirection=p2e.MessageDirection.clientToServer,r.type=new p2e.ProtocolRequestType(r.method)})(FOt=UM.FoldingRangeRequest||(UM.FoldingRangeRequest={}))});var v2e=C(HM=>{"use strict";Object.defineProperty(HM,"__esModule",{value:!0});HM.DeclarationRequest=void 0;var g2e=Jc(),qOt;(function(r){r.method="textDocument/declaration",r.messageDirection=g2e.MessageDirection.clientToServer,r.type=new g2e.ProtocolRequestType(r.method)})(qOt=HM.DeclarationRequest||(HM.DeclarationRequest={}))});var _2e=C(BM=>{"use strict";Object.defineProperty(BM,"__esModule",{value:!0});BM.SelectionRangeRequest=void 0;var y2e=Jc(),jOt;(function(r){r.method="textDocument/selectionRange",r.messageDirection=y2e.MessageDirection.clientToServer,r.type=new y2e.ProtocolRequestType(r.method)})(jOt=BM.SelectionRangeRequest||(BM.SelectionRangeRequest={}))});var b2e=C(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});u_.WorkDoneProgressCancelNotification=u_.WorkDoneProgressCreateRequest=u_.WorkDoneProgress=void 0;var zOt=RE(),i3=Jc(),UOt;(function(r){r.type=new zOt.ProgressType;function e(t){return t===r.type}r.is=e})(UOt=u_.WorkDoneProgress||(u_.WorkDoneProgress={}));var HOt;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=i3.MessageDirection.serverToClient,r.type=new i3.ProtocolRequestType(r.method)})(HOt=u_.WorkDoneProgressCreateRequest||(u_.WorkDoneProgressCreateRequest={}));var BOt;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=i3.MessageDirection.clientToServer,r.type=new i3.ProtocolNotificationType(r.method)})(BOt=u_.WorkDoneProgressCancelNotification||(u_.WorkDoneProgressCancelNotification={}))});var w2e=C(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.CallHierarchyOutgoingCallsRequest=l_.CallHierarchyIncomingCallsRequest=l_.CallHierarchyPrepareRequest=void 0;var SO=Jc(),WOt;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=SO.MessageDirection.clientToServer,r.type=new SO.ProtocolRequestType(r.method)})(WOt=l_.CallHierarchyPrepareRequest||(l_.CallHierarchyPrepareRequest={}));var $Ot;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=SO.MessageDirection.clientToServer,r.type=new SO.ProtocolRequestType(r.method)})($Ot=l_.CallHierarchyIncomingCallsRequest||(l_.CallHierarchyIncomingCallsRequest={}));var VOt;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=SO.MessageDirection.clientToServer,r.type=new SO.ProtocolRequestType(r.method)})(VOt=l_.CallHierarchyOutgoingCallsRequest||(l_.CallHierarchyOutgoingCallsRequest={}))});var S2e=C(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.SemanticTokensRefreshRequest=ul.SemanticTokensRangeRequest=ul.SemanticTokensDeltaRequest=ul.SemanticTokensRequest=ul.SemanticTokensRegistrationType=ul.TokenFormat=void 0;var YS=Jc(),GOt;(function(r){r.Relative="relative"})(GOt=ul.TokenFormat||(ul.TokenFormat={}));var o3;(function(r){r.method="textDocument/semanticTokens",r.type=new YS.RegistrationType(r.method)})(o3=ul.SemanticTokensRegistrationType||(ul.SemanticTokensRegistrationType={}));var KOt;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=YS.MessageDirection.clientToServer,r.type=new YS.ProtocolRequestType(r.method),r.registrationMethod=o3.method})(KOt=ul.SemanticTokensRequest||(ul.SemanticTokensRequest={}));var YOt;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=YS.MessageDirection.clientToServer,r.type=new YS.ProtocolRequestType(r.method),r.registrationMethod=o3.method})(YOt=ul.SemanticTokensDeltaRequest||(ul.SemanticTokensDeltaRequest={}));var JOt;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=YS.MessageDirection.clientToServer,r.type=new YS.ProtocolRequestType(r.method),r.registrationMethod=o3.method})(JOt=ul.SemanticTokensRangeRequest||(ul.SemanticTokensRangeRequest={}));var XOt;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=YS.MessageDirection.clientToServer,r.type=new YS.ProtocolRequestType0(r.method)})(XOt=ul.SemanticTokensRefreshRequest||(ul.SemanticTokensRefreshRequest={}))});var T2e=C(WM=>{"use strict";Object.defineProperty(WM,"__esModule",{value:!0});WM.ShowDocumentRequest=void 0;var C2e=Jc(),QOt;(function(r){r.method="window/showDocument",r.messageDirection=C2e.MessageDirection.serverToClient,r.type=new C2e.ProtocolRequestType(r.method)})(QOt=WM.ShowDocumentRequest||(WM.ShowDocumentRequest={}))});var E2e=C($M=>{"use strict";Object.defineProperty($M,"__esModule",{value:!0});$M.LinkedEditingRangeRequest=void 0;var D2e=Jc(),ZOt;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=D2e.MessageDirection.clientToServer,r.type=new D2e.ProtocolRequestType(r.method)})(ZOt=$M.LinkedEditingRangeRequest||($M.LinkedEditingRangeRequest={}))});var R2e=C(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.WillDeleteFilesRequest=Xc.DidDeleteFilesNotification=Xc.DidRenameFilesNotification=Xc.WillRenameFilesRequest=Xc.DidCreateFilesNotification=Xc.WillCreateFilesRequest=Xc.FileOperationPatternKind=void 0;var Yv=Jc(),eIt;(function(r){r.file="file",r.folder="folder"})(eIt=Xc.FileOperationPatternKind||(Xc.FileOperationPatternKind={}));var tIt;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=Yv.MessageDirection.clientToServer,r.type=new Yv.ProtocolRequestType(r.method)})(tIt=Xc.WillCreateFilesRequest||(Xc.WillCreateFilesRequest={}));var rIt;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=Yv.MessageDirection.clientToServer,r.type=new Yv.ProtocolNotificationType(r.method)})(rIt=Xc.DidCreateFilesNotification||(Xc.DidCreateFilesNotification={}));var nIt;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=Yv.MessageDirection.clientToServer,r.type=new Yv.ProtocolRequestType(r.method)})(nIt=Xc.WillRenameFilesRequest||(Xc.WillRenameFilesRequest={}));var iIt;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=Yv.MessageDirection.clientToServer,r.type=new Yv.ProtocolNotificationType(r.method)})(iIt=Xc.DidRenameFilesNotification||(Xc.DidRenameFilesNotification={}));var oIt;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=Yv.MessageDirection.clientToServer,r.type=new Yv.ProtocolNotificationType(r.method)})(oIt=Xc.DidDeleteFilesNotification||(Xc.DidDeleteFilesNotification={}));var sIt;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=Yv.MessageDirection.clientToServer,r.type=new Yv.ProtocolRequestType(r.method)})(sIt=Xc.WillDeleteFilesRequest||(Xc.WillDeleteFilesRequest={}))});var x2e=C(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.MonikerRequest=d_.MonikerKind=d_.UniquenessLevel=void 0;var P2e=Jc(),aIt;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(aIt=d_.UniquenessLevel||(d_.UniquenessLevel={}));var cIt;(function(r){r.$import="import",r.$export="export",r.local="local"})(cIt=d_.MonikerKind||(d_.MonikerKind={}));var uIt;(function(r){r.method="textDocument/moniker",r.messageDirection=P2e.MessageDirection.clientToServer,r.type=new P2e.ProtocolRequestType(r.method)})(uIt=d_.MonikerRequest||(d_.MonikerRequest={}))});var O2e=C(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.TypeHierarchySubtypesRequest=f_.TypeHierarchySupertypesRequest=f_.TypeHierarchyPrepareRequest=void 0;var CO=Jc(),lIt;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=CO.MessageDirection.clientToServer,r.type=new CO.ProtocolRequestType(r.method)})(lIt=f_.TypeHierarchyPrepareRequest||(f_.TypeHierarchyPrepareRequest={}));var dIt;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=CO.MessageDirection.clientToServer,r.type=new CO.ProtocolRequestType(r.method)})(dIt=f_.TypeHierarchySupertypesRequest||(f_.TypeHierarchySupertypesRequest={}));var fIt;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=CO.MessageDirection.clientToServer,r.type=new CO.ProtocolRequestType(r.method)})(fIt=f_.TypeHierarchySubtypesRequest||(f_.TypeHierarchySubtypesRequest={}))});var I2e=C(vD=>{"use strict";Object.defineProperty(vD,"__esModule",{value:!0});vD.InlineValueRefreshRequest=vD.InlineValueRequest=void 0;var s3=Jc(),hIt;(function(r){r.method="textDocument/inlineValue",r.messageDirection=s3.MessageDirection.clientToServer,r.type=new s3.ProtocolRequestType(r.method)})(hIt=vD.InlineValueRequest||(vD.InlineValueRequest={}));var pIt;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=s3.MessageDirection.clientToServer,r.type=new s3.ProtocolRequestType0(r.method)})(pIt=vD.InlineValueRefreshRequest||(vD.InlineValueRefreshRequest={}))});var k2e=C(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});h_.InlayHintRefreshRequest=h_.InlayHintResolveRequest=h_.InlayHintRequest=void 0;var TO=Jc(),mIt;(function(r){r.method="textDocument/inlayHint",r.messageDirection=TO.MessageDirection.clientToServer,r.type=new TO.ProtocolRequestType(r.method)})(mIt=h_.InlayHintRequest||(h_.InlayHintRequest={}));var gIt;(function(r){r.method="inlayHint/resolve",r.messageDirection=TO.MessageDirection.clientToServer,r.type=new TO.ProtocolRequestType(r.method)})(gIt=h_.InlayHintResolveRequest||(h_.InlayHintResolveRequest={}));var vIt;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=TO.MessageDirection.clientToServer,r.type=new TO.ProtocolRequestType0(r.method)})(vIt=h_.InlayHintRefreshRequest||(h_.InlayHintRefreshRequest={}))});var L2e=C(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.DiagnosticRefreshRequest=ff.WorkspaceDiagnosticRequest=ff.DocumentDiagnosticRequest=ff.DocumentDiagnosticReportKind=ff.DiagnosticServerCancellationData=void 0;var A2e=RE(),yIt=t3(),DO=Jc(),_It;(function(r){function e(t){let n=t;return n&&yIt.boolean(n.retriggerRequest)}r.is=e})(_It=ff.DiagnosticServerCancellationData||(ff.DiagnosticServerCancellationData={}));var bIt;(function(r){r.Full="full",r.Unchanged="unchanged"})(bIt=ff.DocumentDiagnosticReportKind||(ff.DocumentDiagnosticReportKind={}));var wIt;(function(r){r.method="textDocument/diagnostic",r.messageDirection=DO.MessageDirection.clientToServer,r.type=new DO.ProtocolRequestType(r.method),r.partialResult=new A2e.ProgressType})(wIt=ff.DocumentDiagnosticRequest||(ff.DocumentDiagnosticRequest={}));var SIt;(function(r){r.method="workspace/diagnostic",r.messageDirection=DO.MessageDirection.clientToServer,r.type=new DO.ProtocolRequestType(r.method),r.partialResult=new A2e.ProgressType})(SIt=ff.WorkspaceDiagnosticRequest||(ff.WorkspaceDiagnosticRequest={}));var CIt;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=DO.MessageDirection.clientToServer,r.type=new DO.ProtocolRequestType0(r.method)})(CIt=ff.DiagnosticRefreshRequest||(ff.DiagnosticRefreshRequest={}))});var F2e=C(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.DidCloseNotebookDocumentNotification=fs.DidSaveNotebookDocumentNotification=fs.DidChangeNotebookDocumentNotification=fs.NotebookCellArrayChange=fs.DidOpenNotebookDocumentNotification=fs.NotebookDocumentSyncRegistrationType=fs.NotebookDocument=fs.NotebookCell=fs.ExecutionSummary=fs.NotebookCellKind=void 0;var VM=e3(),p_=t3(),Gb=Jc(),N2e;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(N2e=fs.NotebookCellKind||(fs.NotebookCellKind={}));var M2e;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return p_.objectLiteral(o)&&VM.uinteger.is(o.executionOrder)&&(o.success===void 0||p_.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(M2e=fs.ExecutionSummary||(fs.ExecutionSummary={}));var Pse;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return p_.objectLiteral(s)&&N2e.is(s.kind)&&VM.DocumentUri.is(s.document)&&(s.metadata===void 0||p_.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!M2e.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(p_.objectLiteral(o)&&p_.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(Pse=fs.NotebookCell||(fs.NotebookCell={}));var TIt;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return p_.objectLiteral(i)&&p_.string(i.uri)&&VM.integer.is(i.version)&&p_.typedArray(i.cells,Pse.is)}r.is=t})(TIt=fs.NotebookDocument||(fs.NotebookDocument={}));var GM;(function(r){r.method="notebookDocument/sync",r.messageDirection=Gb.MessageDirection.clientToServer,r.type=new Gb.RegistrationType(r.method)})(GM=fs.NotebookDocumentSyncRegistrationType||(fs.NotebookDocumentSyncRegistrationType={}));var DIt;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=Gb.MessageDirection.clientToServer,r.type=new Gb.ProtocolNotificationType(r.method),r.registrationMethod=GM.method})(DIt=fs.DidOpenNotebookDocumentNotification||(fs.DidOpenNotebookDocumentNotification={}));var EIt;(function(r){function e(n){let i=n;return p_.objectLiteral(i)&&VM.uinteger.is(i.start)&&VM.uinteger.is(i.deleteCount)&&(i.cells===void 0||p_.typedArray(i.cells,Pse.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})(EIt=fs.NotebookCellArrayChange||(fs.NotebookCellArrayChange={}));var RIt;(function(r){r.method="notebookDocument/didChange",r.messageDirection=Gb.MessageDirection.clientToServer,r.type=new Gb.ProtocolNotificationType(r.method),r.registrationMethod=GM.method})(RIt=fs.DidChangeNotebookDocumentNotification||(fs.DidChangeNotebookDocumentNotification={}));var PIt;(function(r){r.method="notebookDocument/didSave",r.messageDirection=Gb.MessageDirection.clientToServer,r.type=new Gb.ProtocolNotificationType(r.method),r.registrationMethod=GM.method})(PIt=fs.DidSaveNotebookDocumentNotification||(fs.DidSaveNotebookDocumentNotification={}));var xIt;(function(r){r.method="notebookDocument/didClose",r.messageDirection=Gb.MessageDirection.clientToServer,r.type=new Gb.ProtocolNotificationType(r.method),r.registrationMethod=GM.method})(xIt=fs.DidCloseNotebookDocumentNotification||(fs.DidCloseNotebookDocumentNotification={}))});var V2e=C(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.WorkspaceSymbolRequest=me.CodeActionResolveRequest=me.CodeActionRequest=me.DocumentSymbolRequest=me.DocumentHighlightRequest=me.ReferencesRequest=me.DefinitionRequest=me.SignatureHelpRequest=me.SignatureHelpTriggerKind=me.HoverRequest=me.CompletionResolveRequest=me.CompletionRequest=me.CompletionTriggerKind=me.PublishDiagnosticsNotification=me.WatchKind=me.RelativePattern=me.FileChangeType=me.DidChangeWatchedFilesNotification=me.WillSaveTextDocumentWaitUntilRequest=me.WillSaveTextDocumentNotification=me.TextDocumentSaveReason=me.DidSaveTextDocumentNotification=me.DidCloseTextDocumentNotification=me.DidChangeTextDocumentNotification=me.TextDocumentContentChangeEvent=me.DidOpenTextDocumentNotification=me.TextDocumentSyncKind=me.TelemetryEventNotification=me.LogMessageNotification=me.ShowMessageRequest=me.ShowMessageNotification=me.MessageType=me.DidChangeConfigurationNotification=me.ExitNotification=me.ShutdownRequest=me.InitializedNotification=me.InitializeErrorCodes=me.InitializeRequest=me.WorkDoneProgressOptions=me.TextDocumentRegistrationOptions=me.StaticRegistrationOptions=me.PositionEncodingKind=me.FailureHandlingKind=me.ResourceOperationKind=me.UnregistrationRequest=me.RegistrationRequest=me.DocumentSelector=me.NotebookCellTextDocumentFilter=me.NotebookDocumentFilter=me.TextDocumentFilter=void 0;me.TypeHierarchySubtypesRequest=me.TypeHierarchyPrepareRequest=me.MonikerRequest=me.MonikerKind=me.UniquenessLevel=me.WillDeleteFilesRequest=me.DidDeleteFilesNotification=me.WillRenameFilesRequest=me.DidRenameFilesNotification=me.WillCreateFilesRequest=me.DidCreateFilesNotification=me.FileOperationPatternKind=me.LinkedEditingRangeRequest=me.ShowDocumentRequest=me.SemanticTokensRegistrationType=me.SemanticTokensRefreshRequest=me.SemanticTokensRangeRequest=me.SemanticTokensDeltaRequest=me.SemanticTokensRequest=me.TokenFormat=me.CallHierarchyPrepareRequest=me.CallHierarchyOutgoingCallsRequest=me.CallHierarchyIncomingCallsRequest=me.WorkDoneProgressCancelNotification=me.WorkDoneProgressCreateRequest=me.WorkDoneProgress=me.SelectionRangeRequest=me.DeclarationRequest=me.FoldingRangeRequest=me.ColorPresentationRequest=me.DocumentColorRequest=me.ConfigurationRequest=me.DidChangeWorkspaceFoldersNotification=me.WorkspaceFoldersRequest=me.TypeDefinitionRequest=me.ImplementationRequest=me.ApplyWorkspaceEditRequest=me.ExecuteCommandRequest=me.PrepareRenameRequest=me.RenameRequest=me.PrepareSupportDefaultBehavior=me.DocumentOnTypeFormattingRequest=me.DocumentRangeFormattingRequest=me.DocumentFormattingRequest=me.DocumentLinkResolveRequest=me.DocumentLinkRequest=me.CodeLensRefreshRequest=me.CodeLensResolveRequest=me.CodeLensRequest=me.WorkspaceSymbolResolveRequest=void 0;me.DidCloseNotebookDocumentNotification=me.DidSaveNotebookDocumentNotification=me.DidChangeNotebookDocumentNotification=me.NotebookCellArrayChange=me.DidOpenNotebookDocumentNotification=me.NotebookDocumentSyncRegistrationType=me.NotebookDocument=me.NotebookCell=me.ExecutionSummary=me.NotebookCellKind=me.DiagnosticRefreshRequest=me.WorkspaceDiagnosticRequest=me.DocumentDiagnosticRequest=me.DocumentDiagnosticReportKind=me.DiagnosticServerCancellationData=me.InlayHintRefreshRequest=me.InlayHintResolveRequest=me.InlayHintRequest=me.InlineValueRefreshRequest=me.InlineValueRequest=me.TypeHierarchySupertypesRequest=void 0;var Er=Jc(),q2e=e3(),hf=t3(),OIt=a2e();Object.defineProperty(me,"ImplementationRequest",{enumerable:!0,get:function(){return OIt.ImplementationRequest}});var IIt=u2e();Object.defineProperty(me,"TypeDefinitionRequest",{enumerable:!0,get:function(){return IIt.TypeDefinitionRequest}});var j2e=l2e();Object.defineProperty(me,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return j2e.WorkspaceFoldersRequest}});Object.defineProperty(me,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return j2e.DidChangeWorkspaceFoldersNotification}});var kIt=f2e();Object.defineProperty(me,"ConfigurationRequest",{enumerable:!0,get:function(){return kIt.ConfigurationRequest}});var z2e=h2e();Object.defineProperty(me,"DocumentColorRequest",{enumerable:!0,get:function(){return z2e.DocumentColorRequest}});Object.defineProperty(me,"ColorPresentationRequest",{enumerable:!0,get:function(){return z2e.ColorPresentationRequest}});var AIt=m2e();Object.defineProperty(me,"FoldingRangeRequest",{enumerable:!0,get:function(){return AIt.FoldingRangeRequest}});var LIt=v2e();Object.defineProperty(me,"DeclarationRequest",{enumerable:!0,get:function(){return LIt.DeclarationRequest}});var NIt=_2e();Object.defineProperty(me,"SelectionRangeRequest",{enumerable:!0,get:function(){return NIt.SelectionRangeRequest}});var xse=b2e();Object.defineProperty(me,"WorkDoneProgress",{enumerable:!0,get:function(){return xse.WorkDoneProgress}});Object.defineProperty(me,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return xse.WorkDoneProgressCreateRequest}});Object.defineProperty(me,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return xse.WorkDoneProgressCancelNotification}});var Ose=w2e();Object.defineProperty(me,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Ose.CallHierarchyIncomingCallsRequest}});Object.defineProperty(me,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Ose.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(me,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Ose.CallHierarchyPrepareRequest}});var EO=S2e();Object.defineProperty(me,"TokenFormat",{enumerable:!0,get:function(){return EO.TokenFormat}});Object.defineProperty(me,"SemanticTokensRequest",{enumerable:!0,get:function(){return EO.SemanticTokensRequest}});Object.defineProperty(me,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return EO.SemanticTokensDeltaRequest}});Object.defineProperty(me,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return EO.SemanticTokensRangeRequest}});Object.defineProperty(me,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return EO.SemanticTokensRefreshRequest}});Object.defineProperty(me,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return EO.SemanticTokensRegistrationType}});var MIt=T2e();Object.defineProperty(me,"ShowDocumentRequest",{enumerable:!0,get:function(){return MIt.ShowDocumentRequest}});var FIt=E2e();Object.defineProperty(me,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return FIt.LinkedEditingRangeRequest}});var PE=R2e();Object.defineProperty(me,"FileOperationPatternKind",{enumerable:!0,get:function(){return PE.FileOperationPatternKind}});Object.defineProperty(me,"DidCreateFilesNotification",{enumerable:!0,get:function(){return PE.DidCreateFilesNotification}});Object.defineProperty(me,"WillCreateFilesRequest",{enumerable:!0,get:function(){return PE.WillCreateFilesRequest}});Object.defineProperty(me,"DidRenameFilesNotification",{enumerable:!0,get:function(){return PE.DidRenameFilesNotification}});Object.defineProperty(me,"WillRenameFilesRequest",{enumerable:!0,get:function(){return PE.WillRenameFilesRequest}});Object.defineProperty(me,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return PE.DidDeleteFilesNotification}});Object.defineProperty(me,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return PE.WillDeleteFilesRequest}});var Ise=x2e();Object.defineProperty(me,"UniquenessLevel",{enumerable:!0,get:function(){return Ise.UniquenessLevel}});Object.defineProperty(me,"MonikerKind",{enumerable:!0,get:function(){return Ise.MonikerKind}});Object.defineProperty(me,"MonikerRequest",{enumerable:!0,get:function(){return Ise.MonikerRequest}});var kse=O2e();Object.defineProperty(me,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return kse.TypeHierarchyPrepareRequest}});Object.defineProperty(me,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return kse.TypeHierarchySubtypesRequest}});Object.defineProperty(me,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return kse.TypeHierarchySupertypesRequest}});var U2e=I2e();Object.defineProperty(me,"InlineValueRequest",{enumerable:!0,get:function(){return U2e.InlineValueRequest}});Object.defineProperty(me,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return U2e.InlineValueRefreshRequest}});var Ase=k2e();Object.defineProperty(me,"InlayHintRequest",{enumerable:!0,get:function(){return Ase.InlayHintRequest}});Object.defineProperty(me,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Ase.InlayHintResolveRequest}});Object.defineProperty(me,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Ase.InlayHintRefreshRequest}});var KM=L2e();Object.defineProperty(me,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return KM.DiagnosticServerCancellationData}});Object.defineProperty(me,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return KM.DocumentDiagnosticReportKind}});Object.defineProperty(me,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return KM.DocumentDiagnosticRequest}});Object.defineProperty(me,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return KM.WorkspaceDiagnosticRequest}});Object.defineProperty(me,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return KM.DiagnosticRefreshRequest}});var Kb=F2e();Object.defineProperty(me,"NotebookCellKind",{enumerable:!0,get:function(){return Kb.NotebookCellKind}});Object.defineProperty(me,"ExecutionSummary",{enumerable:!0,get:function(){return Kb.ExecutionSummary}});Object.defineProperty(me,"NotebookCell",{enumerable:!0,get:function(){return Kb.NotebookCell}});Object.defineProperty(me,"NotebookDocument",{enumerable:!0,get:function(){return Kb.NotebookDocument}});Object.defineProperty(me,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Kb.NotebookDocumentSyncRegistrationType}});Object.defineProperty(me,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Kb.DidOpenNotebookDocumentNotification}});Object.defineProperty(me,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Kb.NotebookCellArrayChange}});Object.defineProperty(me,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Kb.DidChangeNotebookDocumentNotification}});Object.defineProperty(me,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Kb.DidSaveNotebookDocumentNotification}});Object.defineProperty(me,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Kb.DidCloseNotebookDocumentNotification}});var H2e;(function(r){function e(t){let n=t;return hf.string(n.language)||hf.string(n.scheme)||hf.string(n.pattern)}r.is=e})(H2e=me.TextDocumentFilter||(me.TextDocumentFilter={}));var B2e;(function(r){function e(t){let n=t;return hf.objectLiteral(n)&&(hf.string(n.notebookType)||hf.string(n.scheme)||hf.string(n.pattern))}r.is=e})(B2e=me.NotebookDocumentFilter||(me.NotebookDocumentFilter={}));var W2e;(function(r){function e(t){let n=t;return hf.objectLiteral(n)&&(hf.string(n.notebook)||B2e.is(n.notebook))&&(n.language===void 0||hf.string(n.language))}r.is=e})(W2e=me.NotebookCellTextDocumentFilter||(me.NotebookCellTextDocumentFilter={}));var $2e;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!hf.string(n)&&!H2e.is(n)&&!W2e.is(n))return!1;return!0}r.is=e})($2e=me.DocumentSelector||(me.DocumentSelector={}));var qIt;(function(r){r.method="client/registerCapability",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(qIt=me.RegistrationRequest||(me.RegistrationRequest={}));var jIt;(function(r){r.method="client/unregisterCapability",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(jIt=me.UnregistrationRequest||(me.UnregistrationRequest={}));var zIt;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(zIt=me.ResourceOperationKind||(me.ResourceOperationKind={}));var UIt;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(UIt=me.FailureHandlingKind||(me.FailureHandlingKind={}));var HIt;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(HIt=me.PositionEncodingKind||(me.PositionEncodingKind={}));var BIt;(function(r){function e(t){let n=t;return n&&hf.string(n.id)&&n.id.length>0}r.hasId=e})(BIt=me.StaticRegistrationOptions||(me.StaticRegistrationOptions={}));var WIt;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||$2e.is(n.documentSelector))}r.is=e})(WIt=me.TextDocumentRegistrationOptions||(me.TextDocumentRegistrationOptions={}));var $It;(function(r){function e(n){let i=n;return hf.objectLiteral(i)&&(i.workDoneProgress===void 0||hf.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&hf.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})($It=me.WorkDoneProgressOptions||(me.WorkDoneProgressOptions={}));var VIt;(function(r){r.method="initialize",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(VIt=me.InitializeRequest||(me.InitializeRequest={}));var GIt;(function(r){r.unknownProtocolVersion=1})(GIt=me.InitializeErrorCodes||(me.InitializeErrorCodes={}));var KIt;(function(r){r.method="initialized",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(KIt=me.InitializedNotification||(me.InitializedNotification={}));var YIt;(function(r){r.method="shutdown",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType0(r.method)})(YIt=me.ShutdownRequest||(me.ShutdownRequest={}));var JIt;(function(r){r.method="exit",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType0(r.method)})(JIt=me.ExitNotification||(me.ExitNotification={}));var XIt;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(XIt=me.DidChangeConfigurationNotification||(me.DidChangeConfigurationNotification={}));var QIt;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4})(QIt=me.MessageType||(me.MessageType={}));var ZIt;(function(r){r.method="window/showMessage",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(ZIt=me.ShowMessageNotification||(me.ShowMessageNotification={}));var ekt;(function(r){r.method="window/showMessageRequest",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(ekt=me.ShowMessageRequest||(me.ShowMessageRequest={}));var tkt;(function(r){r.method="window/logMessage",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(tkt=me.LogMessageNotification||(me.LogMessageNotification={}));var rkt;(function(r){r.method="telemetry/event",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(rkt=me.TelemetryEventNotification||(me.TelemetryEventNotification={}));var nkt;(function(r){r.None=0,r.Full=1,r.Incremental=2})(nkt=me.TextDocumentSyncKind||(me.TextDocumentSyncKind={}));var ikt;(function(r){r.method="textDocument/didOpen",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(ikt=me.DidOpenTextDocumentNotification||(me.DidOpenTextDocumentNotification={}));var okt;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(okt=me.TextDocumentContentChangeEvent||(me.TextDocumentContentChangeEvent={}));var skt;(function(r){r.method="textDocument/didChange",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(skt=me.DidChangeTextDocumentNotification||(me.DidChangeTextDocumentNotification={}));var akt;(function(r){r.method="textDocument/didClose",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(akt=me.DidCloseTextDocumentNotification||(me.DidCloseTextDocumentNotification={}));var ckt;(function(r){r.method="textDocument/didSave",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(ckt=me.DidSaveTextDocumentNotification||(me.DidSaveTextDocumentNotification={}));var ukt;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(ukt=me.TextDocumentSaveReason||(me.TextDocumentSaveReason={}));var lkt;(function(r){r.method="textDocument/willSave",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(lkt=me.WillSaveTextDocumentNotification||(me.WillSaveTextDocumentNotification={}));var dkt;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(dkt=me.WillSaveTextDocumentWaitUntilRequest||(me.WillSaveTextDocumentWaitUntilRequest={}));var fkt;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(fkt=me.DidChangeWatchedFilesNotification||(me.DidChangeWatchedFilesNotification={}));var hkt;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(hkt=me.FileChangeType||(me.FileChangeType={}));var pkt;(function(r){function e(t){let n=t;return hf.objectLiteral(n)&&(q2e.URI.is(n.baseUri)||q2e.WorkspaceFolder.is(n.baseUri))&&hf.string(n.pattern)}r.is=e})(pkt=me.RelativePattern||(me.RelativePattern={}));var mkt;(function(r){r.Create=1,r.Change=2,r.Delete=4})(mkt=me.WatchKind||(me.WatchKind={}));var gkt;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(gkt=me.PublishDiagnosticsNotification||(me.PublishDiagnosticsNotification={}));var vkt;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(vkt=me.CompletionTriggerKind||(me.CompletionTriggerKind={}));var ykt;(function(r){r.method="textDocument/completion",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(ykt=me.CompletionRequest||(me.CompletionRequest={}));var _kt;(function(r){r.method="completionItem/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(_kt=me.CompletionResolveRequest||(me.CompletionResolveRequest={}));var bkt;(function(r){r.method="textDocument/hover",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(bkt=me.HoverRequest||(me.HoverRequest={}));var wkt;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(wkt=me.SignatureHelpTriggerKind||(me.SignatureHelpTriggerKind={}));var Skt;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Skt=me.SignatureHelpRequest||(me.SignatureHelpRequest={}));var Ckt;(function(r){r.method="textDocument/definition",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Ckt=me.DefinitionRequest||(me.DefinitionRequest={}));var Tkt;(function(r){r.method="textDocument/references",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Tkt=me.ReferencesRequest||(me.ReferencesRequest={}));var Dkt;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Dkt=me.DocumentHighlightRequest||(me.DocumentHighlightRequest={}));var Ekt;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Ekt=me.DocumentSymbolRequest||(me.DocumentSymbolRequest={}));var Rkt;(function(r){r.method="textDocument/codeAction",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Rkt=me.CodeActionRequest||(me.CodeActionRequest={}));var Pkt;(function(r){r.method="codeAction/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Pkt=me.CodeActionResolveRequest||(me.CodeActionResolveRequest={}));var xkt;(function(r){r.method="workspace/symbol",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(xkt=me.WorkspaceSymbolRequest||(me.WorkspaceSymbolRequest={}));var Okt;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Okt=me.WorkspaceSymbolResolveRequest||(me.WorkspaceSymbolResolveRequest={}));var Ikt;(function(r){r.method="textDocument/codeLens",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Ikt=me.CodeLensRequest||(me.CodeLensRequest={}));var kkt;(function(r){r.method="codeLens/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(kkt=me.CodeLensResolveRequest||(me.CodeLensResolveRequest={}));var Akt;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType0(r.method)})(Akt=me.CodeLensRefreshRequest||(me.CodeLensRefreshRequest={}));var Lkt;(function(r){r.method="textDocument/documentLink",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Lkt=me.DocumentLinkRequest||(me.DocumentLinkRequest={}));var Nkt;(function(r){r.method="documentLink/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Nkt=me.DocumentLinkResolveRequest||(me.DocumentLinkResolveRequest={}));var Mkt;(function(r){r.method="textDocument/formatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Mkt=me.DocumentFormattingRequest||(me.DocumentFormattingRequest={}));var Fkt;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Fkt=me.DocumentRangeFormattingRequest||(me.DocumentRangeFormattingRequest={}));var qkt;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(qkt=me.DocumentOnTypeFormattingRequest||(me.DocumentOnTypeFormattingRequest={}));var jkt;(function(r){r.Identifier=1})(jkt=me.PrepareSupportDefaultBehavior||(me.PrepareSupportDefaultBehavior={}));var zkt;(function(r){r.method="textDocument/rename",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(zkt=me.RenameRequest||(me.RenameRequest={}));var Ukt;(function(r){r.method="textDocument/prepareRename",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Ukt=me.PrepareRenameRequest||(me.PrepareRenameRequest={}));var Hkt;(function(r){r.method="workspace/executeCommand",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Hkt=me.ExecuteCommandRequest||(me.ExecuteCommandRequest={}));var Bkt;(function(r){r.method="workspace/applyEdit",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType("workspace/applyEdit")})(Bkt=me.ApplyWorkspaceEditRequest||(me.ApplyWorkspaceEditRequest={}))});var K2e=C(a3=>{"use strict";Object.defineProperty(a3,"__esModule",{value:!0});a3.createProtocolConnection=void 0;var G2e=RE();function Wkt(r,e,t,n){return G2e.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,G2e.createMessageConnection)(r,e,t,n)}a3.createProtocolConnection=Wkt});var Y2e=C(vp=>{"use strict";var $kt=vp&&vp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),c3=vp&&vp.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$kt(e,r,t)};Object.defineProperty(vp,"__esModule",{value:!0});vp.LSPErrorCodes=vp.createProtocolConnection=void 0;c3(RE(),vp);c3(e3(),vp);c3(Jc(),vp);c3(V2e(),vp);var Vkt=K2e();Object.defineProperty(vp,"createProtocolConnection",{enumerable:!0,get:function(){return Vkt.createProtocolConnection}});var Gkt;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(Gkt=vp.LSPErrorCodes||(vp.LSPErrorCodes={}))});var qi=C(Yb=>{"use strict";var Kkt=Yb&&Yb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),J2e=Yb&&Yb.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Kkt(e,r,t)};Object.defineProperty(Yb,"__esModule",{value:!0});Yb.createProtocolConnection=void 0;var Ykt=Sse();J2e(Sse(),Yb);J2e(Y2e(),Yb);function Jkt(r,e,t,n){return(0,Ykt.createMessageConnection)(r,e,t,n)}Yb.createProtocolConnection=Jkt});var XM=C(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.forEach=gh.mapAsync=gh.map=gh.clearTestMode=gh.setTestMode=gh.Semaphore=gh.Delayer=void 0;var JM=qi(),Lse=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,JM.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};gh.Delayer=Lse;var Nse=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,JM.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};gh.Semaphore=Nse;var Mse=!1;function Xkt(){Mse=!0}gh.setTestMode=Xkt;function Qkt(){Mse=!1}gh.clearTestMode=Qkt;var X2e=15,YM=class{constructor(e=X2e){this.yieldAfter=Mse===!0?Math.max(e,2):Math.max(e,X2e),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function Zkt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new YM(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,JM.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}gh.map=Zkt;async function e1t(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new YM(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,JM.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}gh.mapAsync=e1t;async function t1t(r,e,t,n){if(r.length===0)return;let i=new YM(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,JM.RAL)().timer.setImmediate(()=>{a(o(s))})})}gh.forEach=t1t});var jse=C(qse=>{"use strict";Object.defineProperty(qse,"__esModule",{value:!0});var r1t=require("vscode"),Fse=class extends r1t.CompletionItem{constructor(e){super(e)}};qse.default=Fse});var Hse=C(Use=>{"use strict";Object.defineProperty(Use,"__esModule",{value:!0});var n1t=require("vscode"),zse=class extends n1t.CodeLens{constructor(e){super(e)}};Use.default=zse});var $se=C(Wse=>{"use strict";Object.defineProperty(Wse,"__esModule",{value:!0});var i1t=require("vscode"),Bse=class extends i1t.DocumentLink{constructor(e,t){super(e,t)}};Wse.default=Bse});var Kse=C(Gse=>{"use strict";Object.defineProperty(Gse,"__esModule",{value:!0});var o1t=require("vscode"),Vse=class extends o1t.CodeAction{constructor(e,t){super(e),this.data=t}};Gse.default=Vse});var Xse=C(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0});xE.ProtocolDiagnostic=xE.DiagnosticCode=void 0;var s1t=require("vscode"),Yse=Kv(),a1t;(function(r){function e(t){let n=t;return n!=null&&(Yse.number(n.value)||Yse.string(n.value))&&Yse.string(n.target)}r.is=e})(a1t=xE.DiagnosticCode||(xE.DiagnosticCode={}));var Jse=class extends s1t.Diagnostic{constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};xE.ProtocolDiagnostic=Jse});var eae=C(Zse=>{"use strict";Object.defineProperty(Zse,"__esModule",{value:!0});var c1t=require("vscode"),Qse=class extends c1t.CallHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};Zse.default=Qse});var nae=C(rae=>{"use strict";Object.defineProperty(rae,"__esModule",{value:!0});var u1t=require("vscode"),tae=class extends u1t.TypeHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};rae.default=tae});var sae=C(oae=>{"use strict";Object.defineProperty(oae,"__esModule",{value:!0});var u3=require("vscode"),iae=class extends u3.SymbolInformation{constructor(e,t,n,i,o){let s=!(i instanceof u3.Uri);super(e,t,n,s?i:new u3.Location(i,new u3.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};oae.default=iae});var uae=C(cae=>{"use strict";Object.defineProperty(cae,"__esModule",{value:!0});var l1t=require("vscode"),aae=class extends l1t.InlayHint{constructor(e,t,n){super(e,t,n)}};cae.default=aae});var eje=C(l3=>{"use strict";Object.defineProperty(l3,"__esModule",{value:!0});l3.createConverter=void 0;var ll=require("vscode"),Yi=qi(),RO=Kv(),Q2e=XM(),d1t=jse(),f1t=Hse(),h1t=$se(),p1t=Kse(),Z2e=Xse(),m1t=eae(),g1t=nae(),v1t=sae(),y1t=uae(),lae;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(lae||(lae={}));function _1t(r){let t=r||(K=>K.toString());function n(K){return t(K)}function i(K){return{uri:t(K.uri)}}function o(K){return{uri:t(K.uri),languageId:K.languageId,version:K.version,text:K.getText()}}function s(K){return{uri:t(K.uri),version:K.version}}function a(K){return{textDocument:o(K)}}function c(K){let Fe=K;return!!Fe.document&&!!Fe.contentChanges}function u(K){let Fe=K;return!!Fe.uri&&!!Fe.version}function l(K){if(u(K))return{textDocument:{uri:t(K.uri),version:K.version},contentChanges:[{text:K.getText()}]};if(c(K)){let Fe=K.document;return{textDocument:{uri:t(Fe.uri),version:Fe.version},contentChanges:K.contentChanges.map(Dr=>{let He=Dr.range;return{range:{start:{line:He.start.line,character:He.start.character},end:{line:He.end.line,character:He.end.character}},rangeLength:Dr.rangeLength,text:Dr.text}})}}else throw Error("Unsupported text document change parameter")}function d(K){return{textDocument:i(K)}}function f(K,Fe=!1){let Ht={textDocument:i(K)};return Fe&&(Ht.text=K.getText()),Ht}function p(K){switch(K){case ll.TextDocumentSaveReason.Manual:return Yi.TextDocumentSaveReason.Manual;case ll.TextDocumentSaveReason.AfterDelay:return Yi.TextDocumentSaveReason.AfterDelay;case ll.TextDocumentSaveReason.FocusOut:return Yi.TextDocumentSaveReason.FocusOut}return Yi.TextDocumentSaveReason.Manual}function _(K){return{textDocument:i(K.document),reason:p(K.reason)}}function D(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function x(K){return{files:K.files.map(Fe=>({oldUri:t(Fe.oldUri),newUri:t(Fe.newUri)}))}}function N(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function A(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function U(K){return{files:K.files.map(Fe=>({oldUri:t(Fe.oldUri),newUri:t(Fe.newUri)}))}}function ee(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function he(K,Fe){return{textDocument:i(K),position:ce(Fe)}}function we(K){switch(K){case ll.CompletionTriggerKind.TriggerCharacter:return Yi.CompletionTriggerKind.TriggerCharacter;case ll.CompletionTriggerKind.TriggerForIncompleteCompletions:return Yi.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Yi.CompletionTriggerKind.Invoked}}function V(K,Fe,Ht){return{textDocument:i(K),position:ce(Fe),context:{triggerKind:we(Ht.triggerKind),triggerCharacter:Ht.triggerCharacter}}}function W(K){switch(K){case ll.SignatureHelpTriggerKind.Invoke:return Yi.SignatureHelpTriggerKind.Invoked;case ll.SignatureHelpTriggerKind.TriggerCharacter:return Yi.SignatureHelpTriggerKind.TriggerCharacter;case ll.SignatureHelpTriggerKind.ContentChange:return Yi.SignatureHelpTriggerKind.ContentChange}}function te(K){return{label:K.label}}function De(K){return K.map(te)}function ae(K){return{label:K.label,parameters:De(K.parameters)}}function ue(K){return K.map(ae)}function qe(K){return K===void 0?K:{signatures:ue(K.signatures),activeSignature:K.activeSignature,activeParameter:K.activeParameter}}function Me(K,Fe,Ht){return{textDocument:i(K),position:ce(Fe),context:{isRetrigger:Ht.isRetrigger,triggerCharacter:Ht.triggerCharacter,triggerKind:W(Ht.triggerKind),activeSignatureHelp:qe(Ht.activeSignatureHelp)}}}function ce(K){return{line:K.line,character:K.character}}function Ce(K){return K==null?K:{line:K.line>Yi.uinteger.MAX_VALUE?Yi.uinteger.MAX_VALUE:K.line,character:K.character>Yi.uinteger.MAX_VALUE?Yi.uinteger.MAX_VALUE:K.character}}function be(K,Fe){return Q2e.map(K,Ce,Fe)}function xe(K){return K==null?K:{start:Ce(K.start),end:Ce(K.end)}}function Ne(K){return K==null?K:Yi.Location.create(n(K.uri),xe(K.range))}function $e(K){switch(K){case ll.DiagnosticSeverity.Error:return Yi.DiagnosticSeverity.Error;case ll.DiagnosticSeverity.Warning:return Yi.DiagnosticSeverity.Warning;case ll.DiagnosticSeverity.Information:return Yi.DiagnosticSeverity.Information;case ll.DiagnosticSeverity.Hint:return Yi.DiagnosticSeverity.Hint}}function Ct(K){if(!K)return;let Fe=[];for(let Ht of K){let Dr=ze(Ht);Dr!==void 0&&Fe.push(Dr)}return Fe.length>0?Fe:void 0}function ze(K){switch(K){case ll.DiagnosticTag.Unnecessary:return Yi.DiagnosticTag.Unnecessary;case ll.DiagnosticTag.Deprecated:return Yi.DiagnosticTag.Deprecated;default:return}}function st(K){return{message:K.message,location:Ne(K.location)}}function at(K){return K.map(st)}function tt(K){if(K!=null)return RO.number(K)||RO.string(K)?K:{value:K.value,target:n(K.target)}}function fr(K){let Fe=Yi.Diagnostic.create(xe(K.range),K.message),Ht=K instanceof Z2e.ProtocolDiagnostic?K:void 0;Ht!==void 0&&Ht.data!==void 0&&(Fe.data=Ht.data);let Dr=tt(K.code);return Z2e.DiagnosticCode.is(Dr)?Ht!==void 0&&Ht.hasDiagnosticCode?Fe.code=Dr:(Fe.code=Dr.value,Fe.codeDescription={href:Dr.target}):Fe.code=Dr,RO.number(K.severity)&&(Fe.severity=$e(K.severity)),Array.isArray(K.tags)&&(Fe.tags=Ct(K.tags)),K.relatedInformation&&(Fe.relatedInformation=at(K.relatedInformation)),K.source&&(Fe.source=K.source),Fe}function Lr(K,Fe){return K==null?K:Q2e.map(K,fr,Fe)}function zr(K,Fe){switch(K){case"$string":return Fe;case Yi.MarkupKind.PlainText:return{kind:K,value:Fe};case Yi.MarkupKind.Markdown:return{kind:K,value:Fe.value};default:return`Unsupported Markup content received. Kind is: ${K}`}}function cr(K){switch(K){case ll.CompletionItemTag.Deprecated:return Yi.CompletionItemTag.Deprecated}}function xt(K){if(K===void 0)return K;let Fe=[];for(let Ht of K){let Dr=cr(Ht);Dr!==void 0&&Fe.push(Dr)}return Fe}function hr(K,Fe){return Fe!==void 0?Fe:K+1}function Nt(K,Fe=!1){let Ht,Dr;RO.string(K.label)?Ht=K.label:(Ht=K.label.label,Fe&&(K.label.detail!==void 0||K.label.description!==void 0)&&(Dr={detail:K.label.detail,description:K.label.description}));let He={label:Ht};Dr!==void 0&&(He.labelDetails=Dr);let ne=K instanceof d1t.default?K:void 0;K.detail&&(He.detail=K.detail),K.documentation&&(!ne||ne.documentationFormat==="$string"?He.documentation=K.documentation:He.documentation=zr(ne.documentationFormat,K.documentation)),K.filterText&&(He.filterText=K.filterText),on(He,K),RO.number(K.kind)&&(He.kind=hr(K.kind,ne&&ne.originalItemKind)),K.sortText&&(He.sortText=K.sortText),K.additionalTextEdits&&(He.additionalTextEdits=Or(K.additionalTextEdits)),K.commitCharacters&&(He.commitCharacters=K.commitCharacters.slice()),K.command&&(He.command=oi(K.command)),(K.preselect===!0||K.preselect===!1)&&(He.preselect=K.preselect);let Pe=xt(K.tags);if(ne){if(ne.data!==void 0&&(He.data=ne.data),ne.deprecated===!0||ne.deprecated===!1){if(ne.deprecated===!0&&Pe!==void 0&&Pe.length>0){let je=Pe.indexOf(ll.CompletionItemTag.Deprecated);je!==-1&&Pe.splice(je,1)}He.deprecated=ne.deprecated}ne.insertTextMode!==void 0&&(He.insertTextMode=ne.insertTextMode)}return Pe!==void 0&&Pe.length>0&&(He.tags=Pe),He.insertTextMode===void 0&&K.keepWhitespace===!0&&(He.insertTextMode=Yi.InsertTextMode.adjustIndentation),He}function on(K,Fe){let Ht=Yi.InsertTextFormat.PlainText,Dr,He;Fe.textEdit?(Dr=Fe.textEdit.newText,He=Fe.textEdit.range):Fe.insertText instanceof ll.SnippetString?(Ht=Yi.InsertTextFormat.Snippet,Dr=Fe.insertText.value):Dr=Fe.insertText,Fe.range&&(He=Fe.range),K.insertTextFormat=Ht,Fe.fromEdit&&Dr!==void 0&&He!==void 0?K.textEdit=ln(Dr,He):K.insertText=Dr}function ln(K,Fe){return lae.is(Fe)?Yi.InsertReplaceEdit.create(K,xe(Fe.inserting),xe(Fe.replacing)):{newText:K,range:xe(Fe)}}function On(K){return{range:xe(K.range),newText:K.newText}}function Or(K){return K==null?K:K.map(On)}function Hn(K){return K<=ll.SymbolKind.TypeParameter?K+1:Yi.SymbolKind.Property}function $r(K){return K}function dn(K){return K.map($r)}function ii(K,Fe,Ht){return{textDocument:i(K),position:ce(Fe),context:{includeDeclaration:Ht.includeDeclaration}}}async function Vr(K,Fe){let Ht=Yi.CodeAction.create(K.title);if(K instanceof p1t.default&&K.data!==void 0&&(Ht.data=K.data),K.kind!==void 0&&(Ht.kind=Gr(K.kind)),K.diagnostics!==void 0&&(Ht.diagnostics=await Lr(K.diagnostics,Fe)),K.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return K.command!==void 0&&(Ht.command=oi(K.command)),K.isPreferred!==void 0&&(Ht.isPreferred=K.isPreferred),K.disabled!==void 0&&(Ht.disabled={reason:K.disabled.reason}),Ht}async function An(K,Fe){if(K==null)return K;let Ht;return K.only&&RO.string(K.only.value)&&(Ht=[K.only.value]),Yi.CodeActionContext.create(await Lr(K.diagnostics,Fe),Ht,Pi(K.triggerKind))}function Pi(K){switch(K){case ll.CodeActionTriggerKind.Invoke:return Yi.CodeActionTriggerKind.Invoked;case ll.CodeActionTriggerKind.Automatic:return Yi.CodeActionTriggerKind.Automatic;default:return}}function Gr(K){if(K!=null)return K.value}function Ji(K){return K==null?K:Yi.InlineValueContext.create(K.frameId,xe(K.stoppedLocation))}function oi(K){let Fe=Yi.Command.create(K.title,K.command);return K.arguments&&(Fe.arguments=K.arguments),Fe}function fn(K){let Fe=Yi.CodeLens.create(xe(K.range));return K.command&&(Fe.command=oi(K.command)),K instanceof f1t.default&&K.data&&(Fe.data=K.data),Fe}function Oe(K,Fe){let Ht={tabSize:K.tabSize,insertSpaces:K.insertSpaces};return Fe.trimTrailingWhitespace&&(Ht.trimTrailingWhitespace=!0),Fe.trimFinalNewlines&&(Ht.trimFinalNewlines=!0),Fe.insertFinalNewline&&(Ht.insertFinalNewline=!0),Ht}function oe(K){return{textDocument:i(K)}}function Q(K){return{textDocument:i(K)}}function _e(K){let Fe=Yi.DocumentLink.create(xe(K.range));K.target&&(Fe.target=n(K.target)),K.tooltip!==void 0&&(Fe.tooltip=K.tooltip);let Ht=K instanceof h1t.default?K:void 0;return Ht&&Ht.data&&(Fe.data=Ht.data),Fe}function Je(K){return{textDocument:i(K)}}function ft(K){let Fe={name:K.name,kind:Hn(K.kind),uri:n(K.uri),range:xe(K.range),selectionRange:xe(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(Fe.detail=K.detail),K.tags!==void 0&&(Fe.tags=dn(K.tags)),K instanceof m1t.default&&K.data!==void 0&&(Fe.data=K.data),Fe}function Yt(K){let Fe={name:K.name,kind:Hn(K.kind),uri:n(K.uri),range:xe(K.range),selectionRange:xe(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(Fe.detail=K.detail),K.tags!==void 0&&(Fe.tags=dn(K.tags)),K instanceof g1t.default&&K.data!==void 0&&(Fe.data=K.data),Fe}function rr(K){let Fe=K instanceof v1t.default?{name:K.name,kind:Hn(K.kind),location:K.hasRange?Ne(K.location):{uri:t(K.location.uri)},data:K.data}:{name:K.name,kind:Hn(K.kind),location:Ne(K.location)};return K.tags!==void 0&&(Fe.tags=dn(K.tags)),K.containerName!==""&&(Fe.containerName=K.containerName),Fe}function Jt(K){let Fe=typeof K.label=="string"?K.label:K.label.map($t),Ht=Yi.InlayHint.create(Ce(K.position),Fe);return K.kind!==void 0&&(Ht.kind=K.kind),K.textEdits!==void 0&&(Ht.textEdits=Or(K.textEdits)),K.tooltip!==void 0&&(Ht.tooltip=kt(K.tooltip)),K.paddingLeft!==void 0&&(Ht.paddingLeft=K.paddingLeft),K.paddingRight!==void 0&&(Ht.paddingRight=K.paddingRight),K instanceof y1t.default&&K.data!==void 0&&(Ht.data=K.data),Ht}function $t(K){let Fe=Yi.InlayHintLabelPart.create(K.value);return K.location!==void 0&&(Fe.location=Ne(K.location)),K.command!==void 0&&(Fe.command=oi(K.command)),K.tooltip!==void 0&&(Fe.tooltip=kt(K.tooltip)),Fe}function kt(K){return typeof K=="string"?K:{kind:Yi.MarkupKind.Markdown,value:K.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:_,asDidCreateFilesParams:D,asDidRenameFilesParams:x,asDidDeleteFilesParams:N,asWillCreateFilesParams:A,asWillRenameFilesParams:U,asWillDeleteFilesParams:ee,asTextDocumentPositionParams:he,asCompletionParams:V,asSignatureHelpParams:Me,asWorkerPosition:ce,asRange:xe,asPosition:Ce,asPositions:be,asLocation:Ne,asDiagnosticSeverity:$e,asDiagnosticTag:ze,asDiagnostic:fr,asDiagnostics:Lr,asCompletionItem:Nt,asTextEdit:On,asSymbolKind:Hn,asSymbolTag:$r,asSymbolTags:dn,asReferenceParams:ii,asCodeAction:Vr,asCodeActionContext:An,asInlineValueContext:Ji,asCommand:oi,asCodeLens:fn,asFormattingOptions:Oe,asDocumentSymbolParams:oe,asCodeLensParams:Q,asDocumentLink:_e,asDocumentLinkParams:Je,asCallHierarchyItem:ft,asTypeHierarchyItem:Yt,asInlayHint:Jt,asWorkspaceSymbol:rr}}l3.createConverter=_1t});var nje=C(f3=>{"use strict";Object.defineProperty(f3,"__esModule",{value:!0});f3.createConverter=void 0;var Br=require("vscode"),yi=qi(),Jv=Kv(),ws=XM(),b1t=jse(),w1t=Hse(),S1t=$se(),C1t=Kse(),tje=Xse(),T1t=eae(),D1t=nae(),E1t=sae(),R1t=uae(),rje=qi(),d3;(function(r){function e(t){let n=t;return n&&Jv.string(n.language)&&Jv.string(n.value)}r.is=e})(d3||(d3={}));function P1t(r,e,t){let i=r||(H=>Br.Uri.parse(H));function o(H){return i(H)}function s(H){let Ue=[];for(let vt of H)if(typeof vt=="string")Ue.push(vt);else if(rje.NotebookCellTextDocumentFilter.is(vt))if(typeof vt.notebook=="string")Ue.push({notebookType:vt.notebook,language:vt.language});else{let Fr=vt.notebook.notebookType??"*";Ue.push({notebookType:Fr,scheme:vt.notebook.scheme,pattern:vt.notebook.pattern,language:vt.language})}else rje.TextDocumentFilter.is(vt)&&Ue.push({language:vt.language,scheme:vt.scheme,pattern:vt.pattern});return Ue}async function a(H,Ue){return ws.map(H,u,Ue)}function c(H){let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++)Ue[vt]=u(H[vt]);return Ue}function u(H){let Ue=new tje.ProtocolDiagnostic(_(H.range),H.message,x(H.severity),H.data);if(H.code!==void 0){if(typeof H.code=="string"||typeof H.code=="number")yi.CodeDescription.is(H.codeDescription)?Ue.code={value:H.code,target:o(H.codeDescription.href)}:Ue.code=H.code;else if(tje.DiagnosticCode.is(H.code)){Ue.hasDiagnosticCode=!0;let vt=H.code;Ue.code={value:vt.value,target:o(vt.target)}}}return H.source&&(Ue.source=H.source),H.relatedInformation&&(Ue.relatedInformation=l(H.relatedInformation)),Array.isArray(H.tags)&&(Ue.tags=d(H.tags)),Ue}function l(H){let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++){let Fr=H[vt];Ue[vt]=new Br.DiagnosticRelatedInformation(ze(Fr.location),Fr.message)}return Ue}function d(H){if(!H)return;let Ue=[];for(let vt of H){let Fr=f(vt);Fr!==void 0&&Ue.push(Fr)}return Ue.length>0?Ue:void 0}function f(H){switch(H){case yi.DiagnosticTag.Unnecessary:return Br.DiagnosticTag.Unnecessary;case yi.DiagnosticTag.Deprecated:return Br.DiagnosticTag.Deprecated;default:return}}function p(H){return H?new Br.Position(H.line,H.character):void 0}function _(H){return H?new Br.Range(H.start.line,H.start.character,H.end.line,H.end.character):void 0}async function D(H,Ue){return ws.map(H,vt=>new Br.Range(vt.start.line,vt.start.character,vt.end.line,vt.end.character),Ue)}function x(H){if(H==null)return Br.DiagnosticSeverity.Error;switch(H){case yi.DiagnosticSeverity.Error:return Br.DiagnosticSeverity.Error;case yi.DiagnosticSeverity.Warning:return Br.DiagnosticSeverity.Warning;case yi.DiagnosticSeverity.Information:return Br.DiagnosticSeverity.Information;case yi.DiagnosticSeverity.Hint:return Br.DiagnosticSeverity.Hint}return Br.DiagnosticSeverity.Error}function N(H){if(Jv.string(H))return U(H);if(d3.is(H))return U().appendCodeblock(H.value,H.language);if(Array.isArray(H)){let Ue=[];for(let vt of H){let Fr=U();d3.is(vt)?Fr.appendCodeblock(vt.value,vt.language):Fr.appendMarkdown(vt),Ue.push(Fr)}return Ue}else return U(H)}function A(H){if(Jv.string(H))return H;switch(H.kind){case yi.MarkupKind.Markdown:return U(H.value);case yi.MarkupKind.PlainText:return H.value;default:return`Unsupported Markup content received. Kind is: ${H.kind}`}}function U(H){let Ue;if(H===void 0||typeof H=="string")Ue=new Br.MarkdownString(H);else switch(H.kind){case yi.MarkupKind.Markdown:Ue=new Br.MarkdownString(H.value);break;case yi.MarkupKind.PlainText:Ue=new Br.MarkdownString,Ue.appendText(H.value);break;default:Ue=new Br.MarkdownString,Ue.appendText(`Unsupported Markup content received. Kind is: ${H.kind}`);break}return Ue.isTrusted=e,Ue.supportHtml=t,Ue}function ee(H){if(H)return new Br.Hover(N(H.contents),_(H.range))}async function he(H,Ue,vt){if(!H)return;if(Array.isArray(H))return ws.map(H,Le=>De(Le,Ue),vt);let Fr=H,{defaultRange:so,commitCharacters:Bi}=we(Fr,Ue),M=await ws.map(Fr.items,Le=>De(Le,Bi,so,Fr.itemDefaults?.insertTextMode,Fr.itemDefaults?.insertTextFormat,Fr.itemDefaults?.data),vt);return new Br.CompletionList(M,Fr.isIncomplete)}function we(H,Ue){let vt=H.itemDefaults?.editRange,Fr=H.itemDefaults?.commitCharacters??Ue;return yi.Range.is(vt)?{defaultRange:_(vt),commitCharacters:Fr}:vt!==void 0?{defaultRange:{inserting:_(vt.insert),replacing:_(vt.replace)},commitCharacters:Fr}:{defaultRange:void 0,commitCharacters:Fr}}function V(H){return yi.CompletionItemKind.Text<=H&&H<=yi.CompletionItemKind.TypeParameter?[H-1,void 0]:[Br.CompletionItemKind.Text,H]}function W(H){switch(H){case yi.CompletionItemTag.Deprecated:return Br.CompletionItemTag.Deprecated}}function te(H){if(H==null)return[];let Ue=[];for(let vt of H){let Fr=W(vt);Fr!==void 0&&Ue.push(Fr)}return Ue}function De(H,Ue,vt,Fr,so,Bi){let M=te(H.tags),Le=ae(H),rt=new b1t.default(Le);H.detail&&(rt.detail=H.detail),H.documentation&&(rt.documentation=A(H.documentation),rt.documentationFormat=Jv.string(H.documentation)?"$string":H.documentation.kind),H.filterText&&(rt.filterText=H.filterText);let zt=ue(H,vt,so);if(zt&&(rt.insertText=zt.text,rt.range=zt.range,rt.fromEdit=zt.fromEdit),Jv.number(H.kind)){let[ao,ji]=V(H.kind);rt.kind=ao,ji&&(rt.originalItemKind=ji)}H.sortText&&(rt.sortText=H.sortText),H.additionalTextEdits&&(rt.additionalTextEdits=Ce(H.additionalTextEdits));let Ln=H.commitCharacters!==void 0?Jv.stringArray(H.commitCharacters)?H.commitCharacters:void 0:Ue;Ln&&(rt.commitCharacters=Ln.slice()),H.command&&(rt.command=dn(H.command)),(H.deprecated===!0||H.deprecated===!1)&&(rt.deprecated=H.deprecated,H.deprecated===!0&&M.push(Br.CompletionItemTag.Deprecated)),(H.preselect===!0||H.preselect===!1)&&(rt.preselect=H.preselect);let Cn=H.data??Bi;Cn!==void 0&&(rt.data=Cn),M.length>0&&(rt.tags=M);let Mn=H.insertTextMode??Fr;return Mn!==void 0&&(rt.insertTextMode=Mn,Mn===yi.InsertTextMode.asIs&&(rt.keepWhitespace=!0)),rt}function ae(H){return yi.CompletionItemLabelDetails.is(H.labelDetails)?{label:H.label,detail:H.labelDetails.detail,description:H.labelDetails.description}:H.label}function ue(H,Ue,vt){let Fr=H.insertTextFormat??vt;if(H.textEdit!==void 0||Ue!==void 0){let[so,Bi]=H.textEdit!==void 0?qe(H.textEdit):[Ue,H.textEditText??H.label];return Fr===yi.InsertTextFormat.Snippet?{text:new Br.SnippetString(Bi),range:so,fromEdit:!0}:{text:Bi,range:so,fromEdit:!0}}else return H.insertText?Fr===yi.InsertTextFormat.Snippet?{text:new Br.SnippetString(H.insertText),fromEdit:!1}:{text:H.insertText,fromEdit:!1}:void 0}function qe(H){return yi.InsertReplaceEdit.is(H)?[{inserting:_(H.insert),replacing:_(H.replace)},H.newText]:[_(H.range),H.newText]}function Me(H){if(H)return new Br.TextEdit(_(H.range),H.newText)}async function ce(H,Ue){if(H)return ws.map(H,Me,Ue)}function Ce(H){if(!H)return;let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++)Ue[vt]=Me(H[vt]);return Ue}async function be(H,Ue){if(!H)return;let vt=new Br.SignatureHelp;return Jv.number(H.activeSignature)?vt.activeSignature=H.activeSignature:vt.activeSignature=0,Jv.number(H.activeParameter)?vt.activeParameter=H.activeParameter:vt.activeParameter=0,H.signatures&&(vt.signatures=await xe(H.signatures,Ue)),vt}async function xe(H,Ue){return ws.mapAsync(H,Ne,Ue)}async function Ne(H,Ue){let vt=new Br.SignatureInformation(H.label);return H.documentation!==void 0&&(vt.documentation=A(H.documentation)),H.parameters!==void 0&&(vt.parameters=await $e(H.parameters,Ue)),H.activeParameter!==void 0&&(vt.activeParameter=H.activeParameter),vt}function $e(H,Ue){return ws.map(H,Ct,Ue)}function Ct(H){let Ue=new Br.ParameterInformation(H.label);return H.documentation&&(Ue.documentation=A(H.documentation)),Ue}function ze(H){return H?new Br.Location(i(H.uri),_(H.range)):void 0}async function st(H,Ue){if(H)return fr(H,Ue)}async function at(H,Ue){if(H)return fr(H,Ue)}function tt(H){if(!H)return;let Ue={targetUri:i(H.targetUri),targetRange:_(H.targetRange),originSelectionRange:_(H.originSelectionRange),targetSelectionRange:_(H.targetSelectionRange)};if(!Ue.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Ue}async function fr(H,Ue){if(H)if(Jv.array(H)){if(H.length===0)return[];if(yi.LocationLink.is(H[0])){let vt=H;return ws.map(vt,tt,Ue)}else{let vt=H;return ws.map(vt,ze,Ue)}}else return yi.LocationLink.is(H)?[tt(H)]:ze(H)}async function Lr(H,Ue){if(H)return ws.map(H,ze,Ue)}async function zr(H,Ue){if(H)return ws.map(H,cr,Ue)}function cr(H){let Ue=new Br.DocumentHighlight(_(H.range));return Jv.number(H.kind)&&(Ue.kind=xt(H.kind)),Ue}function xt(H){switch(H){case yi.DocumentHighlightKind.Text:return Br.DocumentHighlightKind.Text;case yi.DocumentHighlightKind.Read:return Br.DocumentHighlightKind.Read;case yi.DocumentHighlightKind.Write:return Br.DocumentHighlightKind.Write}return Br.DocumentHighlightKind.Text}async function hr(H,Ue){if(H)return ws.map(H,On,Ue)}function Nt(H){return H<=yi.SymbolKind.TypeParameter?H-1:Br.SymbolKind.Property}function on(H){switch(H){case yi.SymbolTag.Deprecated:return Br.SymbolTag.Deprecated;default:return}}function ln(H){if(H==null)return;let Ue=[];for(let vt of H){let Fr=on(vt);Fr!==void 0&&Ue.push(Fr)}return Ue.length===0?void 0:Ue}function On(H){let Ue=H.data,vt=H.location,Fr=vt.range===void 0||Ue!==void 0?new E1t.default(H.name,Nt(H.kind),H.containerName??"",vt.range===void 0?i(vt.uri):new Br.Location(i(H.location.uri),_(vt.range)),Ue):new Br.SymbolInformation(H.name,Nt(H.kind),H.containerName??"",new Br.Location(i(H.location.uri),_(vt.range)));return $r(Fr,H),Fr}async function Or(H,Ue){if(H!=null)return ws.map(H,Hn,Ue)}function Hn(H){let Ue=new Br.DocumentSymbol(H.name,H.detail||"",Nt(H.kind),_(H.range),_(H.selectionRange));if($r(Ue,H),H.children!==void 0&&H.children.length>0){let vt=[];for(let Fr of H.children)vt.push(Hn(Fr));Ue.children=vt}return Ue}function $r(H,Ue){H.tags=ln(Ue.tags),Ue.deprecated&&(H.tags?H.tags.includes(Br.SymbolTag.Deprecated)||(H.tags=H.tags.concat(Br.SymbolTag.Deprecated)):H.tags=[Br.SymbolTag.Deprecated])}function dn(H){let Ue={title:H.title,command:H.command};return H.arguments&&(Ue.arguments=H.arguments),Ue}async function ii(H,Ue){if(H)return ws.map(H,dn,Ue)}let Vr=new Map;Vr.set(yi.CodeActionKind.Empty,Br.CodeActionKind.Empty),Vr.set(yi.CodeActionKind.QuickFix,Br.CodeActionKind.QuickFix),Vr.set(yi.CodeActionKind.Refactor,Br.CodeActionKind.Refactor),Vr.set(yi.CodeActionKind.RefactorExtract,Br.CodeActionKind.RefactorExtract),Vr.set(yi.CodeActionKind.RefactorInline,Br.CodeActionKind.RefactorInline),Vr.set(yi.CodeActionKind.RefactorRewrite,Br.CodeActionKind.RefactorRewrite),Vr.set(yi.CodeActionKind.Source,Br.CodeActionKind.Source),Vr.set(yi.CodeActionKind.SourceOrganizeImports,Br.CodeActionKind.SourceOrganizeImports);function An(H){if(H==null)return;let Ue=Vr.get(H);if(Ue)return Ue;let vt=H.split(".");Ue=Br.CodeActionKind.Empty;for(let Fr of vt)Ue=Ue.append(Fr);return Ue}function Pi(H){if(H!=null)return H.map(Ue=>An(Ue))}async function Gr(H,Ue){if(H==null)return;let vt=new C1t.default(H.title,H.data);return H.kind!==void 0&&(vt.kind=An(H.kind)),H.diagnostics!==void 0&&(vt.diagnostics=c(H.diagnostics)),H.edit!==void 0&&(vt.edit=await Oe(H.edit,Ue)),H.command!==void 0&&(vt.command=dn(H.command)),H.isPreferred!==void 0&&(vt.isPreferred=H.isPreferred),H.disabled!==void 0&&(vt.disabled={reason:H.disabled.reason}),vt}function Ji(H,Ue){return ws.mapAsync(H,async vt=>yi.Command.is(vt)?dn(vt):Gr(vt,Ue),Ue)}function oi(H){if(!H)return;let Ue=new w1t.default(_(H.range));return H.command&&(Ue.command=dn(H.command)),H.data!==void 0&&H.data!==null&&(Ue.data=H.data),Ue}async function fn(H,Ue){if(H)return ws.map(H,oi,Ue)}async function Oe(H,Ue){if(!H)return;let vt=new Map;if(H.changeAnnotations!==void 0){let Bi=H.changeAnnotations;await ws.forEach(Object.keys(Bi),M=>{let Le=oe(Bi[M]);vt.set(M,Le)},Ue)}let Fr=Bi=>{if(Bi!==void 0)return vt.get(Bi)},so=new Br.WorkspaceEdit;if(H.documentChanges){let Bi=H.documentChanges;await ws.forEach(Bi,M=>{if(yi.CreateFile.is(M))so.createFile(i(M.uri),M.options,Fr(M.annotationId));else if(yi.RenameFile.is(M))so.renameFile(i(M.oldUri),i(M.newUri),M.options,Fr(M.annotationId));else if(yi.DeleteFile.is(M))so.deleteFile(i(M.uri),M.options,Fr(M.annotationId));else if(yi.TextDocumentEdit.is(M)){let Le=i(M.textDocument.uri);for(let rt of M.edits)yi.AnnotatedTextEdit.is(rt)?so.replace(Le,_(rt.range),rt.newText,Fr(rt.annotationId)):so.replace(Le,_(rt.range),rt.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(M,void 0,4)}`)},Ue)}else if(H.changes){let Bi=H.changes;await ws.forEach(Object.keys(Bi),M=>{so.set(i(M),Ce(Bi[M]))},Ue)}return so}function oe(H){if(H!==void 0)return{label:H.label,needsConfirmation:!!H.needsConfirmation,description:H.description}}function Q(H){let Ue=_(H.range),vt=H.target?o(H.target):void 0,Fr=new S1t.default(Ue,vt);return H.tooltip!==void 0&&(Fr.tooltip=H.tooltip),H.data!==void 0&&H.data!==null&&(Fr.data=H.data),Fr}async function _e(H,Ue){if(H)return ws.map(H,Q,Ue)}function Je(H){return new Br.Color(H.red,H.green,H.blue,H.alpha)}function ft(H){return new Br.ColorInformation(_(H.range),Je(H.color))}async function Yt(H,Ue){if(H)return ws.map(H,ft,Ue)}function rr(H){let Ue=new Br.ColorPresentation(H.label);return Ue.additionalTextEdits=Ce(H.additionalTextEdits),H.textEdit&&(Ue.textEdit=Me(H.textEdit)),Ue}async function Jt(H,Ue){if(H)return ws.map(H,rr,Ue)}function $t(H){if(H)switch(H){case yi.FoldingRangeKind.Comment:return Br.FoldingRangeKind.Comment;case yi.FoldingRangeKind.Imports:return Br.FoldingRangeKind.Imports;case yi.FoldingRangeKind.Region:return Br.FoldingRangeKind.Region}}function kt(H){return new Br.FoldingRange(H.startLine,H.endLine,$t(H.kind))}async function K(H,Ue){if(H)return ws.map(H,kt,Ue)}function Fe(H){return new Br.SelectionRange(_(H.range),H.parent?Fe(H.parent):void 0)}async function Ht(H,Ue){return Array.isArray(H)?ws.map(H,Fe,Ue):[]}function Dr(H){return yi.InlineValueText.is(H)?new Br.InlineValueText(_(H.range),H.text):yi.InlineValueVariableLookup.is(H)?new Br.InlineValueVariableLookup(_(H.range),H.variableName,H.caseSensitiveLookup):new Br.InlineValueEvaluatableExpression(_(H.range),H.expression)}async function He(H,Ue){return Array.isArray(H)?ws.map(H,Dr,Ue):[]}async function ne(H,Ue){let vt=typeof H.label=="string"?H.label:await ws.map(H.label,Pe,Ue),Fr=new R1t.default(p(H.position),vt);return H.kind!==void 0&&(Fr.kind=H.kind),H.textEdits!==void 0&&(Fr.textEdits=await ce(H.textEdits,Ue)),H.tooltip!==void 0&&(Fr.tooltip=je(H.tooltip)),H.paddingLeft!==void 0&&(Fr.paddingLeft=H.paddingLeft),H.paddingRight!==void 0&&(Fr.paddingRight=H.paddingRight),H.data!==void 0&&(Fr.data=H.data),Fr}function Pe(H){let Ue=new Br.InlayHintLabelPart(H.value);return H.location!==void 0&&(Ue.location=ze(H.location)),H.tooltip!==void 0&&(Ue.tooltip=je(H.tooltip)),H.command!==void 0&&(Ue.command=dn(H.command)),Ue}function je(H){return typeof H=="string"?H:U(H)}async function fe(H,Ue){if(Array.isArray(H))return ws.mapAsync(H,ne,Ue)}function S(H){if(H===null)return;let Ue=new T1t.default(Nt(H.kind),H.name,H.detail||"",o(H.uri),_(H.range),_(H.selectionRange),H.data);return H.tags!==void 0&&(Ue.tags=ln(H.tags)),Ue}async function de(H,Ue){if(H!==null)return ws.map(H,S,Ue)}async function Ye(H,Ue){return new Br.CallHierarchyIncomingCall(S(H.from),await D(H.fromRanges,Ue))}async function Tr(H,Ue){if(H!==null)return ws.mapAsync(H,Ye,Ue)}async function Wr(H,Ue){return new Br.CallHierarchyOutgoingCall(S(H.to),await D(H.fromRanges,Ue))}async function Xr(H,Ue){if(H!==null)return ws.mapAsync(H,Wr,Ue)}async function qn(H,Ue){if(H!=null)return new Br.SemanticTokens(new Uint32Array(H.data),H.resultId)}function xi(H){return new Br.SemanticTokensEdit(H.start,H.deleteCount,H.data!==void 0?new Uint32Array(H.data):void 0)}async function As(H,Ue){if(H!=null)return new Br.SemanticTokensEdits(H.edits.map(xi),H.resultId)}function Sn(H){return H}async function es(H,Ue){if(H!=null)return new Br.LinkedEditingRanges(await D(H.ranges,Ue),Ws(H.wordPattern))}function Ws(H){if(H!=null)return new RegExp(H)}function na(H){if(H===null)return;let Ue=new D1t.default(Nt(H.kind),H.name,H.detail||"",o(H.uri),_(H.range),_(H.selectionRange),H.data);return H.tags!==void 0&&(Ue.tags=ln(H.tags)),Ue}async function Fo(H,Ue){if(H!==null)return ws.map(H,na,Ue)}function Eo(H){if(Jv.string(H))return H;if(yi.RelativePattern.is(H)){if(yi.URI.is(H.baseUri))return new Br.RelativePattern(o(H.baseUri),H.pattern);if(yi.WorkspaceFolder.is(H.baseUri)){let Ue=Br.workspace.getWorkspaceFolder(o(H.baseUri.uri));return Ue!==void 0?new Br.RelativePattern(Ue,H.pattern):void 0}}}return{asUri:o,asDocumentSelector:s,asDiagnostics:a,asDiagnostic:u,asRange:_,asRanges:D,asPosition:p,asDiagnosticSeverity:x,asDiagnosticTag:f,asHover:ee,asCompletionResult:he,asCompletionItem:De,asTextEdit:Me,asTextEdits:ce,asSignatureHelp:be,asSignatureInformations:xe,asSignatureInformation:Ne,asParameterInformations:$e,asParameterInformation:Ct,asDeclarationResult:st,asDefinitionResult:at,asLocation:ze,asReferences:Lr,asDocumentHighlights:zr,asDocumentHighlight:cr,asDocumentHighlightKind:xt,asSymbolKind:Nt,asSymbolTag:on,asSymbolTags:ln,asSymbolInformations:hr,asSymbolInformation:On,asDocumentSymbols:Or,asDocumentSymbol:Hn,asCommand:dn,asCommands:ii,asCodeAction:Gr,asCodeActionKind:An,asCodeActionKinds:Pi,asCodeActionResult:Ji,asCodeLens:oi,asCodeLenses:fn,asWorkspaceEdit:Oe,asDocumentLink:Q,asDocumentLinks:_e,asFoldingRangeKind:$t,asFoldingRange:kt,asFoldingRanges:K,asColor:Je,asColorInformation:ft,asColorInformations:Yt,asColorPresentation:rr,asColorPresentations:Jt,asSelectionRange:Fe,asSelectionRanges:Ht,asInlineValue:Dr,asInlineValues:He,asInlayHint:ne,asInlayHints:fe,asSemanticTokensLegend:Sn,asSemanticTokens:qn,asSemanticTokensEdit:xi,asSemanticTokensEdits:As,asCallHierarchyItem:S,asCallHierarchyItems:de,asCallHierarchyIncomingCall:Ye,asCallHierarchyIncomingCalls:Tr,asCallHierarchyOutgoingCall:Wr,asCallHierarchyOutgoingCalls:Xr,asLinkedEditingRanges:es,asTypeHierarchyItem:na,asTypeHierarchyItems:Fo,asGlobPattern:Eo}}f3.createConverter=P1t});var Qc=C(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.generateUuid=Xv.parse=Xv.isUUID=Xv.v4=Xv.empty=void 0;var QM=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},ZM=class r extends QM{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}};ZM._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];ZM._timeHighBits=["8","9","a","b"];Xv.empty=new QM("00000000-0000-0000-0000-000000000000");function ije(){return new ZM}Xv.v4=ije;var x1t=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function oje(r){return x1t.test(r)}Xv.isUUID=oje;function O1t(r){if(!oje(r))throw new Error("invalid uuid");return new QM(r)}Xv.parse=O1t;function I1t(){return ije().asHex()}Xv.generateUuid=I1t});var fae=C(h3=>{"use strict";Object.defineProperty(h3,"__esModule",{value:!0});h3.ProgressPart=void 0;var sje=require("vscode"),aje=qi(),cje=Kv(),dae=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(aje.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&sje.window.withProgress({location:sje.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(aje.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&cje.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(cje.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};h3.ProgressPart=dae});var Qo=C(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.WorkspaceFeature=dl.TextDocumentLanguageFeature=dl.TextDocumentEventFeature=dl.DynamicDocumentFeature=dl.DynamicFeature=dl.StaticFeature=dl.ensure=dl.LSPCancellationError=void 0;var OE=require("vscode"),hae=qi(),yp=Kv(),uje=Qc(),pae=class extends OE.CancellationError{constructor(e){super(),this.data=e}};dl.LSPCancellationError=pae;function k1t(r,e){return r[e]===void 0&&(r[e]={}),r[e]}dl.ensure=k1t;var A1t;(function(r){function e(t){let n=t;return n!=null&&yp.func(n.fillClientCapabilities)&&yp.func(n.initialize)&&yp.func(n.getState)&&yp.func(n.dispose)&&(n.fillInitializeParams===void 0||yp.func(n.fillInitializeParams))}r.is=e})(A1t=dl.StaticFeature||(dl.StaticFeature={}));var L1t;(function(r){function e(t){let n=t;return n!=null&&yp.func(n.fillClientCapabilities)&&yp.func(n.initialize)&&yp.func(n.getState)&&yp.func(n.dispose)&&(n.fillInitializeParams===void 0||yp.func(n.fillInitializeParams))&&yp.func(n.register)&&yp.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(L1t=dl.DynamicFeature||(dl.DynamicFeature={}));var eF=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of OE.workspace.textDocuments)if(OE.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};dl.DynamicDocumentFeature=eF;var mae=class extends eF{constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new OE.EventEmitter}static textDocumentFilter(e,t){for(let n of e)if(OE.languages.match(n,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i).catch(),this.notificationSent(n,this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(OE.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};dl.TextDocumentEventFeature=mae;var gae=class extends eF{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(hae.TextDocumentRegistrationOptions.is(t)){let n=hae.StaticRegistrationOptions.hasId(t)?t.id:uje.generateUuid(),i=t.documentSelector||e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(yp.boolean(t)&&t===!0||hae.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=yp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[uje.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return yp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&OE.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};dl.TextDocumentLanguageFeature=gae;var vae=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};dl.WorkspaceFeature=vae});var Eae=C(Jb=>{"use strict";Object.defineProperty(Jb,"__esModule",{value:!0});Jb.DiagnosticFeature=Jb.DiagnosticPullMode=Jb.vsdiag=void 0;var N1t=K0(),go=require("vscode"),mu=qi(),M1t=Qc(),yae=Qo();function p3(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var m_;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})(m_=Jb.vsdiag||(Jb.vsdiag={}));var _ae;(function(r){r.onType="onType",r.onSave="onSave"})(_ae=Jb.DiagnosticPullMode||(Jb.DiagnosticPullMode={}));var vh;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(vh||(vh={}));var bae=class r{constructor(){this.open=new Set,this._onOpen=new go.EventEmitter,this._onClose=new go.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(go.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(go.Uri.parse(c));this._onOpen.fire(a)}};go.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=go.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof go.Uri?go.window.activeTextEditor?.document.uri===e:go.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof go.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of go.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof go.TabInputText?a=s.uri:s instanceof go.TabInputTextDiff&&(a=s.modified),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},Ed;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(Ed||(Ed={}));var wae=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===Ed.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof go.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===Ed.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof go.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=t instanceof go.Uri?t.toString():t.uri.toString();(e===Ed.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=t instanceof go.Uri?t.toString():t.uri.toString();return(e===Ed.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=t instanceof go.Uri?t.toString():t.uri.toString();return(e===Ed.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},Sae=class{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new go.EventEmitter,this.provider=this.createProvider(),this.diagnostics=go.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new wae,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof go.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof go.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(Ed.document,e,t):this.documentStates.track(Ed.document,e);if(s===void 0){let c=new go.CancellationTokenSource;this.openRequests.set(o,{state:vh.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:m_.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof yae.LSPCancellationError&&mu.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:vh.outDated,document:e}),l===void 0&&d instanceof go.CancellationError)l={state:vh.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(Ed.document,e);return}if(l.state===vh.outDated)return;u!==void 0&&(u.kind===m_.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===vh.reschedule&&this.pull(e)}else s.state===vh.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:vh.reschedule,document:s.document})):s.state===vh.outDated&&this.openRequests.set(o,{state:vh.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof go.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:vh.reschedule,document:e}):this.pull(e,()=>{this.forget(Ed.document,e)}):(i!==void 0&&(i.state===vh.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:vh.outDated,document:e})),this.diagnostics.delete(t),this.forget(Ed.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,mu.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof yae.LSPCancellationError)&&!mu.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,mu.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new go.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===m_.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(Ed.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(Ed.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof go.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:m_.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(mu.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:m_.DocumentDiagnosticReportKind.full,items:[]}:d.kind===mu.DocumentDiagnosticReportKind.Full?{kind:m_.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:m_.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(mu.DocumentDiagnosticRequest.type,u,d,{kind:m_.DocumentDiagnosticReportKind.full,items:[]}))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===mu.DocumentDiagnosticReportKind.Full?{kind:m_.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:m_.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l)=>{let d=(0,M1t.generateUuid)(),f=this.client.onProgress(mu.WorkspaceDiagnosticRequest.partialResult,d,async _=>{if(_==null){i(null);return}let D={items:[]};for(let x of _.items)try{D.items.push(await o(x))}catch(N){this.client.error("Converting workspace diagnostics failed.",N)}i(D)}),p={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:d};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(mu.WorkspaceDiagnosticRequest.type,p,l).then(async _=>{if(l.isCancellationRequested)return{items:[]};let D={items:[]};for(let x of _.items)D.items.push(await o(x));return f.dispose(),i(D),{items:[]}},_=>(f.dispose(),this.client.handleFailedRequest(mu.DocumentDiagnosticRequest.type,l,_,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===vh.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:vh.outDated,document:t.document});this.diagnostics.dispose()}},Cae=class{constructor(e){this.diagnosticRequestor=e,this.documents=new mu.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=e instanceof go.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,mu.Touch.Last),this.trigger())}remove(e){let t=e instanceof go.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),this.documents.size===0?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,mu.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let t=e instanceof go.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,mu.Touch.Last),e===this.endDocument&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}},Tae=class{constructor(e,t,n){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=_=>{let D=n.documentSelector;if(i.match!==void 0)return i.match(D,_);for(let x of D)if(mu.TextDocumentFilter.is(x)){if(typeof x=="string"||x.language!==void 0&&x.language!=="*"||x.scheme!==void 0&&x.scheme!=="*"&&x.scheme!==_.scheme)return!1;if(x.pattern!==void 0){let N=new N1t.Minimatch(x.pattern,{noext:!0});if(!N.makeRe()||!N.match(_.fsPath))return!1}}return!0},c=_=>_ instanceof go.Uri?a(_):go.languages.match(o,_)>0&&t.isVisible(_),u=_=>_ instanceof go.Uri?this.activeTextDocument?.uri.toString()===_.toString():this.activeTextDocument===_;this.diagnosticRequestor=new Sae(e,t,n),this.backgroundScheduler=new Cae(this.diagnosticRequestor);let l=_=>{!c(_)||!n.interFileDependencies||u(_)||this.backgroundScheduler.add(_)};this.activeTextDocument=go.window.activeTextEditor?.document,go.window.onDidChangeActiveTextEditor(_=>{let D=this.activeTextDocument;this.activeTextDocument=_?.document,D!==void 0&&l(D),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let d=e.getFeature(mu.DidOpenTextDocumentNotification.method);s.push(d.onNotificationSent(_=>{let D=_.original;c(D)&&this.diagnosticRequestor.pull(D,()=>{l(D)})}));let f=new Set;for(let _ of go.workspace.textDocuments)c(_)&&(this.diagnosticRequestor.pull(_,()=>{l(_)}),f.add(_.uri.toString()));if(i.onTabs===!0)for(let _ of t.getTabResources())!f.has(_.toString())&&c(_)&&this.diagnosticRequestor.pull(_,()=>{l(_)});if(t.onOpen(_=>{for(let D of _)c(D)&&!this.diagnosticRequestor.knows(Ed.document,D)&&this.diagnosticRequestor.pull(D,()=>{l(D)})}),i.onChange===!0){let _=e.getFeature(mu.DidChangeTextDocumentNotification.method);s.push(_.onNotificationSent(async D=>{let x=D.original.document;(i.filter===void 0||!i.filter(x,_ae.onType))&&this.diagnosticRequestor.knows(Ed.document,x)&&D.original.contentChanges.length>0&&this.diagnosticRequestor.pull(x,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let _=e.getFeature(mu.DidSaveTextDocumentNotification.method);s.push(_.onNotificationSent(D=>{let x=D.original;(i.filter===void 0||!i.filter(x,_ae.onSave))&&this.diagnosticRequestor.knows(Ed.document,x)&&this.diagnosticRequestor.pull(D.original,()=>{this.backgroundScheduler.trigger()})}))}let p=e.getFeature(mu.DidCloseTextDocumentNotification.method);s.push(p.onNotificationSent(_=>{this.cleanUpDocument(_.original)})),t.onClose(_=>{for(let D of _)this.cleanUpDocument(D)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let _ of go.workspace.textDocuments)c(_)&&this.diagnosticRequestor.pull(_)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=go.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(Ed.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},Dae=class extends yae.TextDocumentLanguageFeature{constructor(e){super(e,mu.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=p3(p3(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,p3(p3(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(mu.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}dispose(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new bae);let t=new Tae(this._client,this.tabs,e);return[t.disposable,t]}};Jb.DiagnosticFeature=Dae});var fje=C(y3=>{"use strict";Object.defineProperty(y3,"__esModule",{value:!0});y3.NotebookDocumentSyncFeature=void 0;var yh=require("vscode"),F1t=K0(),JS=qi(),q1t=Qc(),lje=Kv();function dje(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var PO;(function(r){let e;(function(t){function n(f,p){return{version:f.version,uri:p.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,p,_){let D=JS.NotebookDocument.create(_.asUri(f.uri),f.notebookType,f.version,o(p,_));return Object.keys(f.metadata).length>0&&(D.metadata=s(f.metadata)),D}t.asNotebookDocument=i;function o(f,p){return f.map(_=>a(_,p))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,p){let _=JS.NotebookCell.create(c(f.kind),p.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(_.metadata=s(f.metadata)),f.executionSummary!==void 0&&lje.number(f.executionSummary.executionOrder)&&lje.boolean(f.executionSummary.success)&&(_.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),_}t.asNotebookCell=a;function c(f){switch(f){case yh.NotebookCellKind.Markup:return JS.NotebookCellKind.Markup;case yh.NotebookCellKind.Code:return JS.NotebookCellKind.Code}}function u(f,p){if(f.has(p))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(p)){let _=[];for(let D of p)if(D!==null&&typeof D=="object"||Array.isArray(D))_.push(u(f,D));else{if(D instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");_.push(D)}return _}else{let _=Object.keys(p),D=Object.create(null);for(let x of _){let N=p[x];if(N!==null&&typeof N=="object"||Array.isArray(N))D[x]=u(f,N);else{if(N instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");D[x]=N}}return D}}function l(f,p){let _=p.asChangeTextDocumentParams(f);return{document:_.textDocument,changes:_.contentChanges}}t.asTextContentChange=l;function d(f,p){let _=Object.create(null);if(f.metadata&&(_.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let D=Object.create(null),x=f.cells;x.structure&&(D.structure={array:{start:x.structure.array.start,deleteCount:x.structure.array.deleteCount,cells:x.structure.array.cells!==void 0?x.structure.array.cells.map(N=>r.c2p.asNotebookCell(N,p)):void 0},didOpen:x.structure.didOpen!==void 0?x.structure.didOpen.map(N=>p.asOpenTextDocumentParams(N.document).textDocument):void 0,didClose:x.structure.didClose!==void 0?x.structure.didClose.map(N=>p.asCloseTextDocumentParams(N.document).textDocument):void 0}),x.data!==void 0&&(D.data=x.data.map(N=>r.c2p.asNotebookCell(N,p))),x.textContent!==void 0&&(D.textContent=x.textContent.map(N=>r.c2p.asTextContentChange(N,p))),Object.keys(D).length>0&&(_.cells=D)}return _}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(PO||(PO={}));var Rae;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let p=l-1,_=d-1;for(;p>=0&&_>=0&&t(a[p],c[_],u);)p--,_--;let D=p+1-f,x=f===_+1?void 0:c.slice(f,_+1);return x!==void 0?{start:f,deleteCount:D,cells:x}:{start:f,deleteCount:D}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let p=0;p<d.length;p++){let _=d[p];if(!o(a[_],c[_]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(Rae||(Rae={}));var Pae;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;if(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme)return!1;if(t.pattern!==void 0){let o=new F1t.Minimatch(t.pattern,{noext:!0});if(!o.makeRe()||!o.match(i.fsPath))return!1}return!0}r.matchNotebook=e})(Pae||(Pae={}));var m3;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(m3||(m3={}));var g3;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(g3||(g3={}));var xO=class{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(m3.asDocumentSelector(t)),yh.workspace.onDidOpenNotebookDocument(n=>{this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n)},void 0,this.disposables);for(let n of yh.workspace.notebookDocuments)this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n);yh.workspace.onDidChangeNotebookDocument(n=>this.didChangeNotebookDocument(n),void 0,this.disposables),this.options.save===!0&&yh.workspace.onDidSaveNotebookDocument(n=>this.didSave(n),void 0,this.disposables),yh.workspace.onDidCloseNotebookDocument(n=>{this.didClose(n),this.notebookDidOpen.delete(n.uri.toString())},void 0,this.disposables)}getState(){for(let e of yh.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return yh.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(yh.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.getMatchingCells(e);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t){yh.languages.match(this.selector,t.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.notebookSyncInfo.get(e.uri.toString());if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(n!==void 0)if(t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCells(t);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){let t=this.getMatchingCells(e);if(t!==void 0)return this.doSendOpen(e,t)}async doSendOpen(e,t){let n=async(o,s)=>{let a=PO.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),c=s.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(JS.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),g3.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){let n=async o=>{try{await this.client.sendNotification(JS.DidChangeNotebookDocumentNotification.type,{notebookDocument:PO.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:PO.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)})}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),g3.create(t??[])),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(JS.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(JS.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=PO.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=Rae.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(_=>[_.document.uri.toString(),_])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(_=>[_.document.uri.toString(),_]));for(let _ of Array.from(d.keys()))l.has(_)&&(d.delete(_),l.delete(_));o.cells=o.cells??{};let f=[],p=[];if(l.size>0||d.size>0){for(let _ of l.values())f.push(_);for(let _ of d.values())p.push(_)}o.cells.structure={array:u,didOpen:f,didClose:p}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||Pae.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},v3=class r{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=JS.NotebookDocumentSyncRegistrationType.type,yh.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof xO&&o.didOpenNotebookCellTextDocument(n,i)}),yh.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(n);if(i!==void 0)for(let o of this.registrations.values())o instanceof xO&&o.didChangeNotebookCellTextDocument(i,t)}),yh.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof xO&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let t=dje(dje(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(m3.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??q1t.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new xO(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t&&t.dispose()}dispose(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&yh.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of yh.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};y3.NotebookDocumentSyncFeature=v3;v3.CellScheme="vscode-notebook-cell"});var pje=C(yD=>{"use strict";Object.defineProperty(yD,"__esModule",{value:!0});yD.SyncConfigurationFeature=yD.toJSONObject=yD.ConfigurationFeature=void 0;var OO=require("vscode"),tF=qi(),j1t=Kv(),z1t=Qc(),hje=Qo(),xae=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(tF.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=IE(OO.workspace.getConfiguration(void 0,e).get(t));else{let o=OO.workspace.getConfiguration(t.substr(0,i),e);o&&(n=IE(o.get(t.substr(i+1))))}}else{let i=OO.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=IE(i.get(o)))}return n===void 0&&(n=null),n}dispose(){}};yD.ConfigurationFeature=xae;function IE(r){if(r){if(Array.isArray(r))return r.map(IE);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=IE(r[t]));return e}}return r}yD.toJSONObject=IE;var Oae=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return tF.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,hje.ensure)((0,hje.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:z1t.generateUuid(),registerOptions:{section:e}})}register(e){let t=OO.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(j1t.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(tF.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(tF.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${tF.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=OO.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=OO.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=IE(c)}}return i}};yD.SyncConfigurationFeature=Oae});var mje=C(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.DidSaveTextDocumentFeature=Em.WillSaveWaitUntilFeature=Em.WillSaveFeature=Em.DidChangeTextDocumentFeature=Em.DidCloseTextDocumentFeature=Em.DidOpenTextDocumentFeature=void 0;var Qv=require("vscode"),Ml=qi(),Zc=Qo(),U1t=XM(),IO=Qc(),Iae=class extends Zc.TextDocumentEventFeature{constructor(e,t){super(e,Qv.workspace.onDidOpenTextDocument,Ml.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,Zc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Zc.ensure)((0,Zc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:IO.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return Ml.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);Qv.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&Qv.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));(o.didOpen?o.didOpen(n,s):s(n)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,n)}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.set(e.uri.toString(),e)}};Em.DidOpenTextDocumentFeature=Iae;var kae=class extends Zc.TextDocumentEventFeature{constructor(e,t){super(e,Qv.workspace.onDidCloseTextDocument,Ml.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,n=>e.code2ProtocolConverter.asCloseTextDocumentParams(n),n=>n,Zc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return Ml.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Zc.ensure)((0,Zc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:IO.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(Qv.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};Em.DidCloseTextDocumentFeature=kae;var Aae=class extends Zc.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new Qv.EventEmitter}get registrationType(){return Ml.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Zc.ensure)((0,Zc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==Ml.TextDocumentSyncKind.None&&this.register({id:IO.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Qv.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=[];for(let n of this._changeData.values())if(Qv.languages.match(n.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let i=this._client.middleware;if(n.syncKind===Ml.TextDocumentSyncKind.Incremental){let o=async s=>{let a=this._client.code2ProtocolConverter.asChangeTextDocumentParams(s);await this._client.sendNotification(Ml.DidChangeTextDocumentNotification.type,a),this.notificationSent(s,Ml.DidChangeTextDocumentNotification.type,a)};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}else if(n.syncKind===Ml.TextDocumentSyncKind.Full){let o=async s=>{let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c.document);await this._client.sendNotification(Ml.DidChangeTextDocumentNotification.type,u),this.notificationSent(c,Ml.DidChangeTextDocumentNotification.type,u)};return this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>a(s))):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new U1t.Delayer(200)},this._changeDelayer.delayer.trigger(()=>a(s),-1))};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}}return Promise.all(t).then(void 0,n=>{throw this._client.error(`Sending document notification ${Ml.DidChangeTextDocumentNotification.type.method} failed`,n),n})}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer!==void 0&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let t of this._changeData.values())if(Qv.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}};Em.DidChangeTextDocumentFeature=Aae;var Lae=class extends Zc.TextDocumentEventFeature{constructor(e){super(e,Qv.workspace.onWillSaveTextDocument,Ml.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>Zc.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return Ml.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Zc.ensure)((0,Zc.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:IO.generateUuid(),registerOptions:{documentSelector:t}})}};Em.WillSaveFeature=Lae;var Nae=class extends Zc.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return Ml.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Zc.ensure)((0,Zc.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:IO.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Qv.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Zc.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(Ml.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};Em.WillSaveWaitUntilFeature=Nae;var Mae=class extends Zc.TextDocumentEventFeature{constructor(e){super(e,Qv.workspace.onDidSaveTextDocument,Ml.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Zc.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return Ml.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Zc.ensure)((0,Zc.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:IO.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}};Em.DidSaveTextDocumentFeature=Mae});var gje=C(_3=>{"use strict";Object.defineProperty(_3,"__esModule",{value:!0});_3.CompletionItemFeature=void 0;var H1t=require("vscode"),To=qi(),Fae=Qo(),B1t=Qc(),W1t=[To.CompletionItemKind.Text,To.CompletionItemKind.Method,To.CompletionItemKind.Function,To.CompletionItemKind.Constructor,To.CompletionItemKind.Field,To.CompletionItemKind.Variable,To.CompletionItemKind.Class,To.CompletionItemKind.Interface,To.CompletionItemKind.Module,To.CompletionItemKind.Property,To.CompletionItemKind.Unit,To.CompletionItemKind.Value,To.CompletionItemKind.Enum,To.CompletionItemKind.Keyword,To.CompletionItemKind.Snippet,To.CompletionItemKind.Color,To.CompletionItemKind.File,To.CompletionItemKind.Reference,To.CompletionItemKind.Folder,To.CompletionItemKind.EnumMember,To.CompletionItemKind.Constant,To.CompletionItemKind.Struct,To.CompletionItemKind.Event,To.CompletionItemKind.Operator,To.CompletionItemKind.TypeParameter],qae=class extends Fae.TextDocumentLanguageFeature{constructor(e){super(e,To.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,Fae.ensure)((0,Fae.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[To.MarkupKind.Markdown,To.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[To.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[To.InsertTextMode.asIs,To.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=To.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:W1t},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:B1t.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,p=(_,D,x,N)=>d.sendRequest(To.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(_,D,x),N).then(A=>N.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(A,i,N),A=>d.handleFailedRequest(To.CompletionRequest.type,N,A,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,p):p(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,p)=>u.sendRequest(To.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),p).then(_=>p.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(_),_=>u.handleFailedRequest(To.CompletionResolveRequest.type,p,_,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[H1t.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};_3.CompletionItemFeature=qae});var vje=C(b3=>{"use strict";Object.defineProperty(b3,"__esModule",{value:!0});b3.HoverFeature=void 0;var $1t=require("vscode"),rF=qi(),jae=Qo(),V1t=Qc(),zae=class extends jae.TextDocumentLanguageFeature{constructor(e){super(e,rF.HoverRequest.type)}fillClientCapabilities(e){let t=(0,jae.ensure)((0,jae.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[rF.MarkupKind.Markdown,rF.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:V1t.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(rF.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(p),p=>a.handleFailedRequest(rF.HoverRequest.type,f,p,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return $1t.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};b3.HoverFeature=zae});var yje=C(w3=>{"use strict";Object.defineProperty(w3,"__esModule",{value:!0});w3.DefinitionFeature=void 0;var G1t=require("vscode"),Uae=qi(),Hae=Qo(),K1t=Qc(),Bae=class extends Hae.TextDocumentLanguageFeature{constructor(e){super(e,Uae.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,Hae.ensure)((0,Hae.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:K1t.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Uae.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(Uae.DefinitionRequest.type,f,p,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return G1t.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};w3.DefinitionFeature=Bae});var bje=C(S3=>{"use strict";Object.defineProperty(S3,"__esModule",{value:!0});S3.SignatureHelpFeature=void 0;var _je=require("vscode"),nF=qi(),Wae=Qo(),Y1t=Qc(),$ae=class extends Wae.TextDocumentLanguageFeature{constructor(e){super(e,nF.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,Wae.ensure)((0,Wae.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[nF.MarkupKind.Markdown,nF.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:Y1t.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,p)=>a.sendRequest(nF.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),p).then(_=>p.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(_,p),_=>a.handleFailedRequest(nF.SignatureHelpRequest.type,p,_,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return _je.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return _je.languages.registerSignatureHelpProvider(n,t,i)}}};S3.SignatureHelpFeature=$ae});var wje=C(C3=>{"use strict";Object.defineProperty(C3,"__esModule",{value:!0});C3.DocumentHighlightFeature=void 0;var J1t=require("vscode"),Vae=qi(),Gae=Qo(),X1t=Qc(),Kae=class extends Gae.TextDocumentLanguageFeature{constructor(e){super(e,Vae.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,Gae.ensure)((0,Gae.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:X1t.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Vae.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(p,f),p=>a.handleFailedRequest(Vae.DocumentHighlightRequest.type,f,p,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[J1t.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};C3.DocumentHighlightFeature=Kae});var Xae=C(Xb=>{"use strict";Object.defineProperty(Xb,"__esModule",{value:!0});Xb.DocumentSymbolFeature=Xb.SupportedSymbolTags=Xb.SupportedSymbolKinds=void 0;var Q1t=require("vscode"),Ss=qi(),Yae=Qo(),Z1t=Qc();Xb.SupportedSymbolKinds=[Ss.SymbolKind.File,Ss.SymbolKind.Module,Ss.SymbolKind.Namespace,Ss.SymbolKind.Package,Ss.SymbolKind.Class,Ss.SymbolKind.Method,Ss.SymbolKind.Property,Ss.SymbolKind.Field,Ss.SymbolKind.Constructor,Ss.SymbolKind.Enum,Ss.SymbolKind.Interface,Ss.SymbolKind.Function,Ss.SymbolKind.Variable,Ss.SymbolKind.Constant,Ss.SymbolKind.String,Ss.SymbolKind.Number,Ss.SymbolKind.Boolean,Ss.SymbolKind.Array,Ss.SymbolKind.Object,Ss.SymbolKind.Key,Ss.SymbolKind.Null,Ss.SymbolKind.EnumMember,Ss.SymbolKind.Struct,Ss.SymbolKind.Event,Ss.SymbolKind.Operator,Ss.SymbolKind.TypeParameter];Xb.SupportedSymbolTags=[Ss.SymbolTag.Deprecated];var Jae=class extends Yae.TextDocumentLanguageFeature{constructor(e){super(e,Ss.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,Yae.ensure)((0,Yae.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Xb.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:Xb.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:Z1t.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(Ss.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d).then(async f=>{if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let p=f[0];return Ss.DocumentSymbol.is(p)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}},f=>a.handleFailedRequest(Ss.DocumentSymbolRequest.type,d,f,null)),u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[Q1t.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};Xb.DocumentSymbolFeature=Jae});var Cje=C(T3=>{"use strict";Object.defineProperty(T3,"__esModule",{value:!0});T3.WorkspaceSymbolFeature=void 0;var eAt=require("vscode"),iF=qi(),Qae=Qo(),Sje=Xae(),tAt=Qc(),Zae=class extends Qae.WorkspaceFeature{constructor(e){super(e,iF.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,Qae.ensure)((0,Qae.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Sje.SupportedSymbolKinds},t.tagSupport={valueSet:Sje.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:tAt.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(iF.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(iF.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(iF.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(iF.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[eAt.languages.registerWorkspaceSymbolProvider(t),t]}};T3.WorkspaceSymbolFeature=Zae});var Tje=C(D3=>{"use strict";Object.defineProperty(D3,"__esModule",{value:!0});D3.ReferencesFeature=void 0;var rAt=require("vscode"),ece=qi(),tce=Qo(),nAt=Qc(),rce=class extends tce.TextDocumentLanguageFeature{constructor(e){super(e,ece.ReferencesRequest.type)}fillClientCapabilities(e){(0,tce.ensure)((0,tce.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:nAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>c.sendRequest(ece.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,p),_).then(D=>_.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(D,_),D=>c.handleFailedRequest(ece.ReferencesRequest.type,_,D,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return rAt.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};D3.ReferencesFeature=rce});var Dje=C(E3=>{"use strict";Object.defineProperty(E3,"__esModule",{value:!0});E3.CodeActionFeature=void 0;var iAt=require("vscode"),Ag=qi(),oAt=Qc(),nce=Qo(),ice=class extends nce.TextDocumentLanguageFeature{constructor(e){super(e,Ag.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,nce.ensure)((0,nce.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[Ag.CodeActionKind.Empty,Ag.CodeActionKind.QuickFix,Ag.CodeActionKind.Refactor,Ag.CodeActionKind.RefactorExtract,Ag.CodeActionKind.RefactorInline,Ag.CodeActionKind.RefactorRewrite,Ag.CodeActionKind.Source,Ag.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:oAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:await c.code2ProtocolConverter.asCodeActionContext(p,_)};return c.sendRequest(Ag.CodeActionRequest.type,D,_).then(x=>_.isCancellationRequested||x===null||x===void 0?null:c.protocol2CodeConverter.asCodeActionResult(x,_),x=>c.handleFailedRequest(Ag.CodeActionRequest.type,_,x,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(Ag.CodeActionResolveRequest.type,await s.code2ProtocolConverter.asCodeAction(u,l),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(Ag.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[iAt.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}};E3.CodeActionFeature=ice});var Rje=C(R3=>{"use strict";Object.defineProperty(R3,"__esModule",{value:!0});R3.CodeLensFeature=void 0;var Eje=require("vscode"),kO=qi(),sAt=Qc(),oF=Qo(),oce=class extends oF.TextDocumentLanguageFeature{constructor(e){super(e,kO.CodeLensRequest.type)}fillClientCapabilities(e){(0,oF.ensure)((0,oF.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,oF.ensure)((0,oF.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(kO.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:sAt.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new Eje.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(kO.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(kO.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(kO.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(kO.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[Eje.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};R3.CodeLensFeature=oce});var Pje=C(_D=>{"use strict";Object.defineProperty(_D,"__esModule",{value:!0});_D.DocumentOnTypeFormattingFeature=_D.DocumentRangeFormattingFeature=_D.DocumentFormattingFeature=void 0;var P3=require("vscode"),XS=qi(),uce=Qc(),QS=Qo(),sF;(function(r){function e(t){let n=P3.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(sF||(sF={}));var sce=class extends QS.TextDocumentLanguageFeature{constructor(e){super(e,XS.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,QS.ensure)((0,QS.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:uce.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,sF.fromConfiguration(l))};return a.sendRequest(XS.DocumentFormattingRequest.type,p,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(_,f),_=>a.handleFailedRequest(XS.DocumentFormattingRequest.type,f,_,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[P3.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};_D.DocumentFormattingFeature=sce;var ace=class extends QS.TextDocumentLanguageFeature{constructor(e){super(e,XS.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,QS.ensure)((0,QS.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:uce.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(p,sF.fromConfiguration(d))};return c.sendRequest(XS.DocumentRangeFormattingRequest.type,D,_).then(x=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(x,_),x=>c.handleFailedRequest(XS.DocumentRangeFormattingRequest.type,_,x,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return[P3.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};_D.DocumentRangeFormattingFeature=ace;var cce=class extends QS.TextDocumentLanguageFeature{constructor(e){super(e,XS.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,QS.ensure)((0,QS.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:uce.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(p,_,D,x,N)=>{let A={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(p),position:l.code2ProtocolConverter.asPosition(_),ch:D,options:l.code2ProtocolConverter.asFormattingOptions(x,sF.fromConfiguration(p))};return l.sendRequest(XS.DocumentOnTypeFormattingRequest.type,A,N).then(U=>N.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(U,N),U=>l.handleFailedRequest(XS.DocumentOnTypeFormattingRequest.type,N,U,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[P3.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};_D.DocumentOnTypeFormattingFeature=cce});var Oje=C(x3=>{"use strict";Object.defineProperty(x3,"__esModule",{value:!0});x3.RenameFeature=void 0;var aAt=require("vscode"),kE=qi(),cAt=Qc(),xje=Kv(),lce=Qo(),dce=class extends lce.TextDocumentLanguageFeature{constructor(e){super(e,kE.RenameRequest.type)}fillClientCapabilities(e){let t=(0,lce.ensure)((0,lce.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=kE.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(xje.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:cAt.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:p};return c.sendRequest(kE.RenameRequest.type,D,_).then(x=>_.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(x,_),x=>c.handleFailedRequest(kE.RenameRequest.type,_,x,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(kE.PrepareRenameRequest.type,p,f).then(_=>f.isCancellationRequested?null:kE.Range.is(_)?a.protocol2CodeConverter.asRange(_):this.isDefaultBehavior(_)?_.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):_&&kE.Range.is(_.range)?{range:a.protocol2CodeConverter.asRange(_.range),placeholder:_.placeholder}:Promise.reject(new Error("The element can't be renamed.")),_=>{throw typeof _.message=="string"?new Error(_.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return aAt.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&xje.boolean(t.defaultBehavior)}};x3.RenameFeature=dce});var Ije=C(O3=>{"use strict";Object.defineProperty(O3,"__esModule",{value:!0});O3.DocumentLinkFeature=void 0;var uAt=require("vscode"),aF=qi(),fce=Qo(),lAt=Qc(),hce=class extends fce.TextDocumentLanguageFeature{constructor(e){super(e,aF.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,fce.ensure)((0,fce.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:lAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(aF.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(aF.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(aF.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(aF.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[uAt.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};O3.DocumentLinkFeature=hce});var Aje=C(I3=>{"use strict";Object.defineProperty(I3,"__esModule",{value:!0});I3.ExecuteCommandFeature=void 0;var dAt=require("vscode"),pce=qi(),fAt=Qc(),kje=Qo(),mce=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return pce.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,kje.ensure)((0,kje.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:fAt.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(pce.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(pce.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(dAt.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(n=>n.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};I3.ExecuteCommandFeature=mce});var Lje=C(A3=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});A3.FileSystemWatcherFeature=void 0;var hAt=require("vscode"),AE=qi(),k3=Qo(),gce=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return AE.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,k3.ensure)((0,k3.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,k3.ensure)((0,k3.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&AE.WatchKind.Create)!==0,s=(n.kind&AE.WatchKind.Change)!==0,a=(n.kind&AE.WatchKind.Delete)!==0);let c=hAt.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:AE.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:AE.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:AE.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let n of t)n.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};A3.FileSystemWatcherFeature=gce});var Nje=C(L3=>{"use strict";Object.defineProperty(L3,"__esModule",{value:!0});L3.ColorProviderFeature=void 0;var pAt=require("vscode"),cF=qi(),vce=Qo(),yce=class extends vce.TextDocumentLanguageFeature{constructor(e){super(e,cF.DocumentColorRequest.type)}fillClientCapabilities(e){(0,vce.ensure)((0,vce.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(cF.ColorPresentationRequest.type,p,f).then(_=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(_,f),_=>a.handleFailedRequest(cF.ColorPresentationRequest.type,f,_,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(cF.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(cF.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[pAt.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};L3.ColorProviderFeature=yce});var Mje=C(N3=>{"use strict";Object.defineProperty(N3,"__esModule",{value:!0});N3.ImplementationFeature=void 0;var mAt=require("vscode"),_ce=qi(),bce=Qo(),wce=class extends bce.TextDocumentLanguageFeature{constructor(e){super(e,_ce.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,bce.ensure)((0,bce.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(_ce.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(_ce.ImplementationRequest.type,f,p,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return mAt.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};N3.ImplementationFeature=wce});var Fje=C(M3=>{"use strict";Object.defineProperty(M3,"__esModule",{value:!0});M3.TypeDefinitionFeature=void 0;var gAt=require("vscode"),Sce=qi(),uF=Qo(),Cce=class extends uF.TextDocumentLanguageFeature{constructor(e){super(e,Sce.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,uF.ensure)((0,uF.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,uF.ensure)((0,uF.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Sce.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(Sce.TypeDefinitionRequest.type,f,p,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return gAt.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};M3.TypeDefinitionFeature=Cce});var qje=C(AO=>{"use strict";Object.defineProperty(AO,"__esModule",{value:!0});AO.WorkspaceFoldersFeature=AO.arrayDiff=void 0;var vAt=Qc(),F3=require("vscode"),lF=qi();function Tce(r,e){if(r!==void 0)return r[e]}function Dce(r,e){return r.filter(t=>e.indexOf(t)<0)}AO.arrayDiff=Dce;var Ece=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return lF.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=F3.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(lF.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=F3.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=Tce(Tce(Tce(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=vAt.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=Dce(this._initialFolders,e),i=Dce(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${lF.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(lF.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=F3.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${lF.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(F3.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};AO.WorkspaceFoldersFeature=Ece});var jje=C(q3=>{"use strict";Object.defineProperty(q3,"__esModule",{value:!0});q3.FoldingRangeFeature=void 0;var yAt=require("vscode"),LO=qi(),Rce=Qo(),Pce=class extends Rce.TextDocumentLanguageFeature{constructor(e){super(e,LO.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,Rce.ensure)((0,Rce.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[LO.FoldingRangeKind.Comment,LO.FoldingRangeKind.Imports,LO.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideFoldingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l)};return a.sendRequest(LO.FoldingRangeRequest.type,p,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asFoldingRanges(_,f),_=>a.handleFailedRequest(LO.FoldingRangeRequest.type,f,_,null))},u=a.middleware;return u.provideFoldingRanges?u.provideFoldingRanges(i,o,s,c):c(i,o,s)}};return[yAt.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};q3.FoldingRangeFeature=Pce});var zje=C(j3=>{"use strict";Object.defineProperty(j3,"__esModule",{value:!0});j3.DeclarationFeature=void 0;var _At=require("vscode"),xce=qi(),Oce=Qo(),Ice=class extends Oce.TextDocumentLanguageFeature{constructor(e){super(e,xce.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,Oce.ensure)((0,Oce.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(xce.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(p,f),p=>a.handleFailedRequest(xce.DeclarationRequest.type,f,p,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return _At.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};j3.DeclarationFeature=Ice});var Uje=C(z3=>{"use strict";Object.defineProperty(z3,"__esModule",{value:!0});z3.SelectionRangeFeature=void 0;var bAt=require("vscode"),kce=qi(),Ace=Qo(),Lce=class extends Ace.TextDocumentLanguageFeature{constructor(e){super(e,kce.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,Ace.ensure)((0,Ace.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:await a.code2ProtocolConverter.asPositions(d,f)};return a.sendRequest(kce.SelectionRangeRequest.type,p,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(_,f),_=>a.handleFailedRequest(kce.SelectionRangeRequest.type,f,_,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return bAt.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};z3.SelectionRangeFeature=Lce});var Bje=C(U3=>{"use strict";Object.defineProperty(U3,"__esModule",{value:!0});U3.ProgressFeature=void 0;var Hje=qi(),wAt=fae();function SAt(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var Nce=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:Hje.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){SAt(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new wAt.ProgressPart(this._client,i.token,t))};e.onRequest(Hje.WorkDoneProgressCreateRequest.type,n)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};U3.ProgressFeature=Nce});var Wje=C(H3=>{"use strict";Object.defineProperty(H3,"__esModule",{value:!0});H3.CallHierarchyFeature=void 0;var CAt=require("vscode"),LE=qi(),Mce=Qo(),Fce=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(LE.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(LE.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(LE.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(LE.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(LE.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(LE.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},qce=class extends Mce.TextDocumentLanguageFeature{constructor(e){super(e,LE.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,Mce.ensure)((0,Mce.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new Fce(t);return[CAt.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};H3.CallHierarchyFeature=qce});var $je=C(W3=>{"use strict";Object.defineProperty(W3,"__esModule",{value:!0});W3.SemanticTokensFeature=void 0;var B3=require("vscode"),Hi=qi(),dF=Qo(),TAt=Kv(),jce=class extends dF.TextDocumentLanguageFeature{constructor(e){super(e,Hi.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,dF.ensure)((0,dF.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[Hi.SemanticTokenTypes.namespace,Hi.SemanticTokenTypes.type,Hi.SemanticTokenTypes.class,Hi.SemanticTokenTypes.enum,Hi.SemanticTokenTypes.interface,Hi.SemanticTokenTypes.struct,Hi.SemanticTokenTypes.typeParameter,Hi.SemanticTokenTypes.parameter,Hi.SemanticTokenTypes.variable,Hi.SemanticTokenTypes.property,Hi.SemanticTokenTypes.enumMember,Hi.SemanticTokenTypes.event,Hi.SemanticTokenTypes.function,Hi.SemanticTokenTypes.method,Hi.SemanticTokenTypes.macro,Hi.SemanticTokenTypes.keyword,Hi.SemanticTokenTypes.modifier,Hi.SemanticTokenTypes.comment,Hi.SemanticTokenTypes.string,Hi.SemanticTokenTypes.number,Hi.SemanticTokenTypes.regexp,Hi.SemanticTokenTypes.operator,Hi.SemanticTokenTypes.decorator],t.tokenModifiers=[Hi.SemanticTokenModifiers.declaration,Hi.SemanticTokenModifiers.definition,Hi.SemanticTokenModifiers.readonly,Hi.SemanticTokenModifiers.static,Hi.SemanticTokenModifiers.deprecated,Hi.SemanticTokenModifiers.abstract,Hi.SemanticTokenModifiers.async,Hi.SemanticTokenModifiers.modification,Hi.SemanticTokenModifiers.documentation,Hi.SemanticTokenModifiers.defaultLibrary],t.formats=[Hi.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,dF.ensure)((0,dF.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Hi.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=TAt.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new B3.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(p,_)=>{let D=this._client,x=D.middleware,N=(A,U)=>{let ee={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(A)};return D.sendRequest(Hi.SemanticTokensRequest.type,ee,U).then(he=>U.isCancellationRequested?null:D.protocol2CodeConverter.asSemanticTokens(he,U),he=>D.handleFailedRequest(Hi.SemanticTokensRequest.type,U,he,null))};return x.provideDocumentSemanticTokens?x.provideDocumentSemanticTokens(p,_,N):N(p,_)},provideDocumentSemanticTokensEdits:i?(p,_,D)=>{let x=this._client,N=x.middleware,A=(U,ee,he)=>{let we={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(U),previousResultId:ee};return x.sendRequest(Hi.SemanticTokensDeltaRequest.type,we,he).then(async V=>he.isCancellationRequested?null:Hi.SemanticTokens.is(V)?await x.protocol2CodeConverter.asSemanticTokens(V,he):await x.protocol2CodeConverter.asSemanticTokensEdits(V,he),V=>x.handleFailedRequest(Hi.SemanticTokensDeltaRequest.type,he,V,null))};return N.provideDocumentSemanticTokensEdits?N.provideDocumentSemanticTokensEdits(p,_,D,A):A(p,_,D)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(p,_,D)=>{let x=this._client,N=x.middleware,A=(U,ee,he)=>{let we={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(U),range:x.code2ProtocolConverter.asRange(ee)};return x.sendRequest(Hi.SemanticTokensRangeRequest.type,we,he).then(V=>he.isCancellationRequested?null:x.protocol2CodeConverter.asSemanticTokens(V,he),V=>x.handleFailedRequest(Hi.SemanticTokensRangeRequest.type,he,V,null))};return N.provideDocumentRangeSemanticTokens?N.provideDocumentRangeSemanticTokens(p,_,D,A):A(p,_,D)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push(B3.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push(B3.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new B3.Disposable(()=>u.forEach(p=>p.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};W3.SemanticTokensFeature=jce});var Kje=C(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.WillDeleteFilesFeature=Rm.WillRenameFilesFeature=Rm.WillCreateFilesFeature=Rm.DidDeleteFilesFeature=Rm.DidRenameFilesFeature=Rm.DidCreateFilesFeature=void 0;var Zv=require("vscode"),DAt=K0(),ZS=qi(),EAt=Qc();function Vje(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function RAt(r,e){return r[e]}function Gje(r,e,t){r[e]=t}var fF=class r{constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=Vje(Vje(e,"workspace"),"fileOperations");Gje(t,"dynamicRegistration",!0),Gje(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?RAt(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:EAt.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new DAt.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.error(`Failed to determine file type for ${s.toString()}.`),!0;if(l===Zv.FileType.File&&u.kind===ZS.FileOperationPatternKind.file||l===Zv.FileType.Directory&&u.kind===ZS.FileOperationPatternKind.folder)return!0}else if(u.kind===ZS.FileOperationPatternKind.folder&&await r.getFileType(s)===Zv.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await Zv.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},$3=class extends fF{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},V3=class extends $3{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await fF.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},zce=class extends $3{constructor(e){super(e,Zv.workspace.onDidCreateFiles,ZS.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};Rm.DidCreateFilesFeature=zce;var Uce=class extends V3{constructor(e){super(e,Zv.workspace.onDidRenameFiles,ZS.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=Zv.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};Rm.DidRenameFilesFeature=Uce;var Hce=class extends V3{constructor(e){super(e,Zv.workspace.onDidDeleteFiles,ZS.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=Zv.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};Rm.DidDeleteFilesFeature=Hce;var hF=class extends fF{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},Bce=class extends hF{constructor(e){super(e,Zv.workspace.onWillCreateFiles,ZS.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};Rm.WillCreateFilesFeature=Bce;var Wce=class extends hF{constructor(e){super(e,Zv.workspace.onWillRenameFiles,ZS.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};Rm.WillRenameFilesFeature=Wce;var $ce=class extends hF{constructor(e){super(e,Zv.workspace.onWillDeleteFiles,ZS.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};Rm.WillDeleteFilesFeature=$ce});var Yje=C(G3=>{"use strict";Object.defineProperty(G3,"__esModule",{value:!0});G3.LinkedEditingFeature=void 0;var PAt=require("vscode"),Vce=qi(),Gce=Qo(),Kce=class extends Gce.TextDocumentLanguageFeature{constructor(e){super(e,Vce.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,Gce.ensure)((0,Gce.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Vce.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(p,f),p=>a.handleFailedRequest(Vce.LinkedEditingRangeRequest.type,f,p,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return PAt.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};G3.LinkedEditingFeature=Kce});var Jje=C(K3=>{"use strict";Object.defineProperty(K3,"__esModule",{value:!0});K3.TypeHierarchyFeature=void 0;var xAt=require("vscode"),NE=qi(),Yce=Qo(),Jce=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(NE.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(NE.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(NE.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(NE.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(NE.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(NE.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},Xce=class extends Yce.TextDocumentLanguageFeature{constructor(e){super(e,NE.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,Yce.ensure)((0,Yce.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new Jce(t);return[xAt.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};K3.TypeHierarchyFeature=Xce});var Qje=C(J3=>{"use strict";Object.defineProperty(J3,"__esModule",{value:!0});J3.InlineValueFeature=void 0;var Xje=require("vscode"),Y3=qi(),pF=Qo(),Qce=class extends pF.TextDocumentLanguageFeature{constructor(e){super(e,Y3.InlineValueRequest.type)}fillClientCapabilities(e){(0,pF.ensure)((0,pF.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,pF.ensure)((0,pF.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(Y3.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new Xje.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,p,_,D)=>{let x={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(p),context:u.code2ProtocolConverter.asInlineValueContext(_)};return u.sendRequest(Y3.InlineValueRequest.type,x,D).then(N=>D.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(N,D),N=>u.handleFailedRequest(Y3.InlineValueRequest.type,D,N,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return Xje.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};J3.InlineValueFeature=Qce});var eze=C(X3=>{"use strict";Object.defineProperty(X3,"__esModule",{value:!0});X3.InlayHintsFeature=void 0;var Zje=require("vscode"),NO=qi(),mF=Qo(),Zce=class extends mF.TextDocumentLanguageFeature{constructor(e){super(e,NO.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,mF.ensure)((0,mF.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,mF.ensure)((0,mF.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(NO.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new Zje.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,p)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let D=await c.sendRequest(NO.InlayHintRequest.type,_,p);return p.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(D,p)}catch(D){return c.handleFailedRequest(NO.InlayHintRequest.type,p,D,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(NO.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let p=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:p}catch(f){return a.handleFailedRequest(NO.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return Zje.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};X3.InlayHintsFeature=Zce});var nue=C(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.ProposedFeatures=Ja.BaseLanguageClient=Ja.MessageTransports=Ja.SuspendMode=Ja.State=Ja.CloseAction=Ja.ErrorAction=Ja.RevealOutputChannelOn=void 0;var Us=require("vscode"),Nr=qi(),OAt=eje(),IAt=nje(),ey=Kv(),tze=XM(),rze=Qc(),kAt=fae(),g_=Qo(),AAt=Eae(),nze=fje(),ize=pje(),MO=mje(),LAt=gje(),NAt=vje(),MAt=yje(),FAt=bje(),qAt=wje(),jAt=Xae(),zAt=Cje(),UAt=Tje(),HAt=Dje(),BAt=Rje(),eue=Pje(),WAt=Oje(),$At=Ije(),VAt=Aje(),GAt=Lje(),KAt=Nje(),YAt=Mje(),JAt=Fje(),XAt=qje(),QAt=jje(),ZAt=zje(),eLt=Uje(),tLt=Bje(),rLt=Wje(),nLt=$je(),FO=Kje(),iLt=Yje(),oLt=Jje(),sLt=Qje(),aLt=eze(),gF;(function(r){r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(gF=Ja.RevealOutputChannelOn||(Ja.RevealOutputChannelOn={}));var Z3;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(Z3=Ja.ErrorAction||(Ja.ErrorAction={}));var ME;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(ME=Ja.CloseAction||(Ja.CloseAction={}));var Q3;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.Running=2]="Running"})(Q3=Ja.State||(Ja.State={}));var cLt;(function(r){r.off="off",r.on="on"})(cLt=Ja.SuspendMode||(Ja.SuspendMode={}));var tue=class{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:Z3.Continue}:{action:Z3.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:ME.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:ME.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:ME.Restart})}},vo;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(vo||(vo={}));var uLt;(function(r){function e(t){return t&&Nr.MessageReader.is(t.reader)&&Nr.MessageWriter.is(t.writer)}r.is=e})(uLt=Ja.MessageTransports||(Ja.MessageTransports={}));var eV=class r{constructor(e,t,n){this._traceFormat=Nr.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new tze.Semaphore(1),this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1};n.markdown!==void 0&&(i.isTrusted=n.markdown.isTrusted===!0,i.supportHtml=n.markdown.supportHtml===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??gF.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=vo.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new tze.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new Nr.Emitter,this._stateChangeEmitter=new Nr.Emitter,this._trace=Nr.Trace.Off,this._tracer={log:(o,s)=>{ey.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=OAt.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=IAt.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Us.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case vo.Starting:return Q3.Starting;case vo.Running:return Q3.Running;default:return Q3.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===vo.StartFailed||this.$state===vo.Stopping||this.$state===vo.Stopped)return Promise.reject(new Nr.ResponseError(Nr.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendRequest(e,...t)}catch(n){throw this.error(`Sending request ${ey.string(e)?e:e.method} failed.`,n),n}}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===vo.StartFailed||this.$state===vo.Stopping||this.$state===vo.Stopped)return Promise.reject(new Nr.ResponseError(Nr.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendNotification(e,t)}catch(n){throw this.error(`Sending notification ${ey.string(e)?e:e.method} failed.`,n),n}}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===vo.StartFailed||this.$state===vo.Stopping||this.$state===vo.Stopped)return Promise.reject(new Nr.ResponseError(Nr.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=Nr.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new tue(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof Nr.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?ey.string(e.stack)?e.stack:e.message:ey.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=gF.Info&&this.showNotificationMessage(Nr.MessageType.Info,e)}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=gF.Warn&&this.showNotificationMessage(Nr.MessageType.Warning,e)}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),(n==="force"||n&&this._clientOptions.revealOutputChannelOn<=gF.Error)&&this.showNotificationMessage(Nr.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===Nr.MessageType.Error?Us.window.showErrorMessage:e===Nr.MessageType.Warning?Us.window.showWarningMessage:Us.window.showInformationMessage)(t,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===vo.Initial||this.$state===vo.Stopping||this.$state===vo.Stopped}needsStop(){return this.$state===vo.Starting||this.$state===vo.Running}activeConnection(){return this.$state===vo.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===vo.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===vo.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?Us.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):Us.languages.createDiagnosticCollection());for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=vo.Starting;try{let i=await this.createConnection();i.onNotification(Nr.LogMessageNotification.type,o=>{switch(o.type){case Nr.MessageType.Error:this.error(o.message,void 0,!1);break;case Nr.MessageType.Warning:this.warn(o.message,void 0,!1);break;case Nr.MessageType.Info:this.info(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(Nr.ShowMessageNotification.type,o=>{switch(o.type){case Nr.MessageType.Error:Us.window.showErrorMessage(o.message);break;case Nr.MessageType.Warning:Us.window.showWarningMessage(o.message);break;case Nr.MessageType.Info:Us.window.showInformationMessage(o.message);break;default:Us.window.showInformationMessage(o.message)}}),i.onRequest(Nr.ShowMessageRequest.type,o=>{let s;switch(o.type){case Nr.MessageType.Error:s=Us.window.showErrorMessage;break;case Nr.MessageType.Warning:s=Us.window.showWarningMessage;break;case Nr.MessageType.Info:s=Us.window.showInformationMessage;break;default:s=Us.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(Nr.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(Nr.ShowDocumentRequest.type,async o=>{let s=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await Us.env.openExternal(u)};{let l={};return c.selection!==void 0&&(l.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?l.preserveFocus=!0:c.takeFocus===!0&&(l.preserveFocus=!1),await Us.window.showTextDocument(u,l),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(o,s):s(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=vo.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:Us.env.appName,version:Us.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(Us.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:ey.func(t)?t():t,trace:Nr.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=rze.generateUuid(),a=new kAt.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==Nr.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=vo.Running;let i;ey.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===Nr.TextDocumentSyncKind.None?i={openClose:!1,change:Nr.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(Nr.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(Nr.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(Nr.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(Nr.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(Nr.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof Nr.ResponseError&&n.data&&n.data.retry?Us.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&Us.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=Us.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===vo.Stopped||this.$state===vo.Initial)return;if(this.$state===vo.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==vo.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=vo.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,Nr.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=vo.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.dispose();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=await t.$start();await t.forceDocumentSync();let a=s.sendNotification(Nr.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],a})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notify file events failed.",o)})}async forceDocumentSync(){return this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(Nr.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,Nr.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new Us.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===vo.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s)},t=()=>{this.handleConnectionClosed()},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=lLt(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===vo.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:ME.DoNotRestart};if(this.$state!==vo.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===ME.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===vo.Starting?this.$state=vo.StartFailed:this.$state=vo.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===ME.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=vo.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}handleConnectionError(e,t,n){let i=this._clientOptions.errorHandler.error(e,t,n);i.action===Z3.Shutdown&&(this.error(i.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)}))}hookConfigurationChanged(e){this._listeners.push(Us.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=Us.workspace.getConfiguration(this._id),i=Nr.Trace.Off,o=Nr.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=Nr.Trace.fromString(s):(i=Nr.Trace.fromString(n.get("trace.server.verbosity","off")),o=Nr.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;ey.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(Nr.DidChangeWatchedFilesNotification.type.method).registerRaw(rze.generateUuid(),n)}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),g_.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(Nr.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof nze.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new ize.ConfigurationFeature(this)),this.registerFeature(new MO.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new MO.DidChangeTextDocumentFeature(this)),this.registerFeature(new MO.WillSaveFeature(this)),this.registerFeature(new MO.WillSaveWaitUntilFeature(this)),this.registerFeature(new MO.DidSaveTextDocumentFeature(this)),this.registerFeature(new MO.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new GAt.FileSystemWatcherFeature(this,e=>this.notifyFileEvent(e))),this.registerFeature(new LAt.CompletionItemFeature(this)),this.registerFeature(new NAt.HoverFeature(this)),this.registerFeature(new FAt.SignatureHelpFeature(this)),this.registerFeature(new MAt.DefinitionFeature(this)),this.registerFeature(new UAt.ReferencesFeature(this)),this.registerFeature(new qAt.DocumentHighlightFeature(this)),this.registerFeature(new jAt.DocumentSymbolFeature(this)),this.registerFeature(new zAt.WorkspaceSymbolFeature(this)),this.registerFeature(new HAt.CodeActionFeature(this)),this.registerFeature(new BAt.CodeLensFeature(this)),this.registerFeature(new eue.DocumentFormattingFeature(this)),this.registerFeature(new eue.DocumentRangeFormattingFeature(this)),this.registerFeature(new eue.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new WAt.RenameFeature(this)),this.registerFeature(new $At.DocumentLinkFeature(this)),this.registerFeature(new VAt.ExecuteCommandFeature(this)),this.registerFeature(new ize.SyncConfigurationFeature(this)),this.registerFeature(new JAt.TypeDefinitionFeature(this)),this.registerFeature(new YAt.ImplementationFeature(this)),this.registerFeature(new KAt.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new XAt.WorkspaceFoldersFeature(this)),this.registerFeature(new QAt.FoldingRangeFeature(this)),this.registerFeature(new ZAt.DeclarationFeature(this)),this.registerFeature(new eLt.SelectionRangeFeature(this)),this.registerFeature(new tLt.ProgressFeature(this)),this.registerFeature(new rLt.CallHierarchyFeature(this)),this.registerFeature(new nLt.SemanticTokensFeature(this)),this.registerFeature(new iLt.LinkedEditingFeature(this)),this.registerFeature(new FO.DidCreateFilesFeature(this)),this.registerFeature(new FO.DidRenameFilesFeature(this)),this.registerFeature(new FO.DidDeleteFilesFeature(this)),this.registerFeature(new FO.WillCreateFilesFeature(this)),this.registerFeature(new FO.WillRenameFilesFeature(this)),this.registerFeature(new FO.WillDeleteFilesFeature(this)),this.registerFeature(new oLt.TypeHierarchyFeature(this)),this.registerFeature(new sLt.InlineValueFeature(this)),this.registerFeature(new aLt.InlayHintsFeature(this)),this.registerFeature(new AAt.DiagnosticFeature(this)),this.registerFeature(new nze.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(oze.createAll(this))}fillInitializeParams(e){for(let t of this._features)ey.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,g_.ensure)(e,"workspace").applyEdit=!0;let t=(0,g_.ensure)((0,g_.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[Nr.ResourceOperationKind.Create,Nr.ResourceOperationKind.Rename,Nr.ResourceOperationKind.Delete],t.failureHandling=Nr.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};let n=(0,g_.ensure)((0,g_.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[Nr.DiagnosticTag.Unnecessary,Nr.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,g_.ensure)(e,"window"),o=(0,g_.ensure)(i,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let s=(0,g_.ensure)(i,"showDocument");s.support=!0;let a=(0,g_.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)ey.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;Us.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(Nr.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=i.get(s.textDocument.uri);if(a&&a.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):ey.asPromise(Us.workspace.applyEdit(n).then(s=>({applied:s})))}handleFailedRequest(e,t,n,i,o=!0){if(n instanceof Nr.ResponseError){if(n.code===Nr.ErrorCodes.PendingResponseRejected||n.code===Nr.ErrorCodes.ConnectionInactive)return i;if(n.code===Nr.LSPErrorCodes.RequestCancelled||n.code===Nr.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested)return i;throw n.data!==void 0?new g_.LSPCancellationError(n.data):new Us.CancellationError}else if(n.code===Nr.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method))throw new Us.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};Ja.BaseLanguageClient=eV;eV.RequestsToCancelOnContentModified=new Set([Nr.SemanticTokensRequest.method,Nr.SemanticTokensRangeRequest.method,Nr.SemanticTokensDeltaRequest.method]);var rue=class{error(e){(0,Nr.RAL)().console.error(e)}warn(e){(0,Nr.RAL)().console.warn(e)}info(e){(0,Nr.RAL)().console.info(e)}log(e){(0,Nr.RAL)().console.log(e)}};function lLt(r,e,t,n,i){let o=-1,s=new rue,a=(0,Nr.createProtocolConnection)(r,e,s,i);return a.onError(u=>{t(u[0],u[1],u[2])}),a.onClose(n),{get lastUsed(){return o},resetLastUsed:()=>{o=-1},listen:()=>a.listen(),sendRequest:(u,...l)=>(o=Date.now(),a.sendRequest(u,...l)),onRequest:(u,l)=>a.onRequest(u,l),hasPendingResponse:()=>a.hasPendingResponse(),sendNotification:(u,l)=>(o=Date.now(),a.sendNotification(u,l)),onNotification:(u,l)=>a.onNotification(u,l),onProgress:a.onProgress,sendProgress:a.sendProgress,trace:(u,l,d)=>{let f={sendNotification:!1,traceFormat:Nr.TraceFormat.Text};return d===void 0?a.trace(u,l,f):(ey.boolean(d),a.trace(u,l,d))},initialize:u=>(o=Date.now(),a.sendRequest(Nr.InitializeRequest.type,u)),shutdown:()=>(o=Date.now(),a.sendRequest(Nr.ShutdownRequest.type,void 0)),exit:()=>(o=Date.now(),a.sendNotification(Nr.ExitNotification.type)),end:()=>a.end(),dispose:()=>a.dispose()}}var oze;(function(r){function e(t){return[]}r.createAll=e})(oze=Ja.ProposedFeatures||(Ja.ProposedFeatures={}))});var aze=C(tV=>{"use strict";Object.defineProperty(tV,"__esModule",{value:!0});tV.terminate=void 0;var sze=require("child_process"),dLt=require("path"),fLt=process.platform==="win32",hLt=process.platform==="darwin",pLt=process.platform==="linux";function mLt(r,e){if(fLt)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),sze.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],i),!0}catch{return!1}else if(pLt||hLt)try{var t=(0,dLt.join)(__dirname,"terminateProcess.sh"),n=sze.spawnSync(t,[r.pid.toString()]);return!n.error}catch{return!1}else return r.kill("SIGKILL"),!0}tV.terminate=mLt});var iue=C((Gor,cze)=>{"use strict";cze.exports=qi()});var lze=C(Lg=>{"use strict";var gLt=Lg&&Lg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),oue=Lg&&Lg.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&gLt(e,r,t)};Object.defineProperty(Lg,"__esModule",{value:!0});Lg.DiagnosticPullMode=Lg.vsdiag=void 0;oue(qi(),Lg);oue(Qo(),Lg);var uze=Eae();Object.defineProperty(Lg,"vsdiag",{enumerable:!0,get:function(){return uze.vsdiag}});Object.defineProperty(Lg,"DiagnosticPullMode",{enumerable:!0,get:function(){return uze.DiagnosticPullMode}});oue(nue(),Lg)});var Qb=C(_p=>{"use strict";var vLt=_p&&_p.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hze=_p&&_p.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vLt(e,r,t)};Object.defineProperty(_p,"__esModule",{value:!0});_p.SettingMonitor=_p.LanguageClient=_p.TransportKind=void 0;var eC=require("child_process"),sue=require("fs"),aue=require("path"),wD=require("vscode"),wc=Kv(),dze=nue(),yLt=aze(),eu=iue(),_Lt=XC(),bLt=xR();hze(iue(),_p);hze(lze(),_p);var fze="^1.67.0",gu;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(gu=_p.TransportKind||(_p.TransportKind={}));var bD;(function(r){function e(t){let n=t;return n&&n.kind===gu.socket&&wc.number(n.port)}r.isSocket=e})(bD||(bD={}));var cue;(function(r){function e(t){return wc.string(t.command)}r.is=e})(cue||(cue={}));var uue;(function(r){function e(t){return wc.string(t.module)}r.is=e})(uue||(uue={}));var lue;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(lue||(lue={}));var due;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})(due||(due={}));var fue=class extends dze.BaseLanguageClient{constructor(e,t,n,i,o){let s,a,c,u,l;wc.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw wc.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=_Lt(wD.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${wD.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!bLt(e,fze))throw new Error(`The language client requires VS Code version ${fze} but received version ${wD.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let t=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(t),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,yLt.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(l,d){if(!l&&!d)return;let f=Object.create(null);return Object.keys(process.env).forEach(p=>f[p]=process.env[p]),d&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(p=>f[p]=l[p]),f}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(d=>n.some(f=>d.startsWith(f))||i.some(f=>d===f)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(wc.func(a))return a().then(l=>{if(dze.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(lue.is(l))return this._isDetached=!!l.detached,{reader:new eu.StreamMessageReader(l.reader),writer:new eu.StreamMessageWriter(l.writer)};{let d;return due.is(l)?(d=l.process,this._isDetached=l.detached):(d=l,this._isDetached=!1),d.stderr.on("data",f=>this.outputChannel.append(wc.string(f)?f:f.toString(e))),{reader:new eu.StreamMessageReader(d.stdout),writer:new eu.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if(uue.is(c)&&c.module){let d=c,f=d.transport||gu.stdio;if(d.runtime){let p=[],_=d.options??Object.create(null);_.execArgv&&_.execArgv.forEach(A=>p.push(A)),p.push(d.module),d.args&&d.args.forEach(A=>p.push(A));let D=Object.create(null);D.cwd=l,D.env=t(_.env,!1);let x=this._getRuntimePath(d.runtime,l),N;if(f===gu.ipc?(D.stdio=[null,null,null,"ipc"],p.push("--node-ipc")):f===gu.stdio?p.push("--stdio"):f===gu.pipe?(N=(0,eu.generateRandomPipeName)(),p.push(`--pipe=${N}`)):bD.isSocket(f)&&p.push(`--socket=${f.port}`),p.push(`--clientProcessId=${process.pid.toString()}`),f===gu.ipc||f===gu.stdio){let A=eC.spawn(x,p,D);return!A||!A.pid?qO(A,`Launching server using runtime ${x} failed.`):(this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(wc.string(U)?U:U.toString(e))),f===gu.ipc?(A.stdout.on("data",U=>this.outputChannel.append(wc.string(U)?U:U.toString(e))),Promise.resolve({reader:new eu.IPCMessageReader(A),writer:new eu.IPCMessageWriter(A)})):Promise.resolve({reader:new eu.StreamMessageReader(A.stdout),writer:new eu.StreamMessageWriter(A.stdin)}))}else{if(f===gu.pipe)return(0,eu.createClientPipeTransport)(N).then(A=>{let U=eC.spawn(x,p,D);return!U||!U.pid?qO(U,`Launching server using runtime ${x} failed.`):(this._serverProcess=U,U.stderr.on("data",ee=>this.outputChannel.append(wc.string(ee)?ee:ee.toString(e))),U.stdout.on("data",ee=>this.outputChannel.append(wc.string(ee)?ee:ee.toString(e))),A.onConnected().then(ee=>({reader:ee[0],writer:ee[1]})))});if(bD.isSocket(f))return(0,eu.createClientSocketTransport)(f.port).then(A=>{let U=eC.spawn(x,p,D);return!U||!U.pid?qO(U,`Launching server using runtime ${x} failed.`):(this._serverProcess=U,U.stderr.on("data",ee=>this.outputChannel.append(wc.string(ee)?ee:ee.toString(e))),U.stdout.on("data",ee=>this.outputChannel.append(wc.string(ee)?ee:ee.toString(e))),A.onConnected().then(ee=>({reader:ee[0],writer:ee[1]})))})}}else{let p;return new Promise((_,D)=>{let x=(d.args&&d.args.slice())??[];f===gu.ipc?x.push("--node-ipc"):f===gu.stdio?x.push("--stdio"):f===gu.pipe?(p=(0,eu.generateRandomPipeName)(),x.push(`--pipe=${p}`)):bD.isSocket(f)&&x.push(`--socket=${f.port}`),x.push(`--clientProcessId=${process.pid.toString()}`);let N=d.options??Object.create(null);if(N.env=t(N.env,!0),N.execArgv=N.execArgv||[],N.cwd=l,N.silent=!0,f===gu.ipc||f===gu.stdio){let A=eC.fork(d.module,x||[],N);s(A),this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(wc.string(U)?U:U.toString(e))),f===gu.ipc?(A.stdout.on("data",U=>this.outputChannel.append(wc.string(U)?U:U.toString(e))),_({reader:new eu.IPCMessageReader(this._serverProcess),writer:new eu.IPCMessageWriter(this._serverProcess)})):_({reader:new eu.StreamMessageReader(A.stdout),writer:new eu.StreamMessageWriter(A.stdin)})}else f===gu.pipe?(0,eu.createClientPipeTransport)(p).then(A=>{let U=eC.fork(d.module,x||[],N);s(U),this._serverProcess=U,U.stderr.on("data",ee=>this.outputChannel.append(wc.string(ee)?ee:ee.toString(e))),U.stdout.on("data",ee=>this.outputChannel.append(wc.string(ee)?ee:ee.toString(e))),A.onConnected().then(ee=>{_({reader:ee[0],writer:ee[1]})},D)},D):bD.isSocket(f)&&(0,eu.createClientSocketTransport)(f.port).then(A=>{let U=eC.fork(d.module,x||[],N);s(U),this._serverProcess=U,U.stderr.on("data",ee=>this.outputChannel.append(wc.string(ee)?ee:ee.toString(e))),U.stdout.on("data",ee=>this.outputChannel.append(wc.string(ee)?ee:ee.toString(e))),A.onConnected().then(ee=>{_({reader:ee[0],writer:ee[1]})},D)},D)})}}else if(cue.is(c)&&c.command){let d=c,f=c.args!==void 0?c.args.slice(0):[],p,_=c.transport;if(_===gu.stdio)f.push("--stdio");else if(_===gu.pipe)p=(0,eu.generateRandomPipeName)(),f.push(`--pipe=${p}`);else if(bD.isSocket(_))f.push(`--socket=${_.port}`);else if(_===gu.ipc)throw new Error("Transport kind ipc is not support for command executable");let D=Object.assign({},d.options);if(D.cwd=D.cwd||l,_===void 0||_===gu.stdio){let x=eC.spawn(d.command,f,D);return!x||!x.pid?qO(x,`Launching server using command ${d.command} failed.`):(x.stderr.on("data",N=>this.outputChannel.append(wc.string(N)?N:N.toString(e))),this._serverProcess=x,this._isDetached=!!D.detached,Promise.resolve({reader:new eu.StreamMessageReader(x.stdout),writer:new eu.StreamMessageWriter(x.stdin)}))}else{if(_===gu.pipe)return(0,eu.createClientPipeTransport)(p).then(x=>{let N=eC.spawn(d.command,f,D);return!N||!N.pid?qO(N,`Launching server using command ${d.command} failed.`):(this._serverProcess=N,this._isDetached=!!D.detached,N.stderr.on("data",A=>this.outputChannel.append(wc.string(A)?A:A.toString(e))),N.stdout.on("data",A=>this.outputChannel.append(wc.string(A)?A:A.toString(e))),x.onConnected().then(A=>({reader:A[0],writer:A[1]})))});if(bD.isSocket(_))return(0,eu.createClientSocketTransport)(_.port).then(x=>{let N=eC.spawn(d.command,f,D);return!N||!N.pid?qO(N,`Launching server using command ${d.command} failed.`):(this._serverProcess=N,this._isDetached=!!D.detached,N.stderr.on("data",A=>this.outputChannel.append(wc.string(A)?A:A.toString(e))),N.stdout.on("data",A=>this.outputChannel.append(wc.string(A)?A:A.toString(e))),x.onConnected().then(A=>({reader:A[0],writer:A[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))})}_getRuntimePath(e,t){if(aue.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=aue.join(n,e);if(sue.existsSync(i))return i}if(t!==void 0){let i=aue.join(t,e);if(sue.existsSync(i))return i}return e}_mainGetRootPath(){let e=wD.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{sue.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let t;try{t=JSON.parse(e)}catch{}return t===void 0||typeof t.locale!="string"?"en":t.locale}};_p.LanguageClient=fue;var hue=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return wD.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new wD.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?wD.workspace.getConfiguration(t).get(n,!1):wD.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};_p.SettingMonitor=hue;function qO(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var pze=C(rV=>{"use strict";Object.defineProperty(rV,"__esModule",{value:!0});rV.ColorPresentationContext=void 0;var pue=class{constructor(e,t){this.uri=e,this.range=t}};rV.ColorPresentationContext=pue});var mze=C(nV=>{"use strict";Object.defineProperty(nV,"__esModule",{value:!0});nV.SerializableColorPresentation=void 0;var mue=class{constructor(e,t,n){this.label=e,this.textEdit=t,this.additionalTextEdits=n}};nV.SerializableColorPresentation=mue});var yze=C(jO=>{"use strict";var gze=jO&&jO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(jO,"__esModule",{value:!0});jO.ColorPresentationHandler=void 0;var gue=require("vscode"),wLt=Qb(),vze=xM(),SLt=pze(),CLt=mze(),iV=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.colorPresentationRequestType=new wLt.RequestType(r.provideHtmlColorPresentation),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.colorPresentationRequestType,(e,t)=>gze(this,void 0,void 0,function*(){return this.provideHtmlColorPresentation(e,t)}))}provideHtmlColorPresentation(e,t){return gze(this,void 0,void 0,function*(){try{let n=gue.Uri.parse(`${e.textDocument.uri}`,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=new gue.Color(e.color.red,e.color.green,e.color.blue,e.color.alpha),s=i.htmlDocument.uri,a=yield gue.commands.executeCommand("vscode.executeColorPresentationProvider",o,new SLt.ColorPresentationContext(s,e.range));return this.SerializeColorPresentations(a)}catch(n){this.logger.logWarning(`${r.provideHtmlColorPresentation} failed with ${n}`)}return this.emptyColorInformationResponse})}SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=(0,vze.convertTextEditToSerializable)(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=(0,vze.convertTextEditToSerializable)(a);o.push(c)}let s=new CLt.SerializableColorPresentation(n.label,i,o);t.push(s)}return t}};jO.ColorPresentationHandler=iV;iV.provideHtmlColorPresentation="razor/provideHtmlColorPresentation"});var SD=C(oV=>{"use strict";var _ze;Object.defineProperty(oV,"__esModule",{value:!0});oV.RazorLanguage=void 0;var Zb=class{};oV.RazorLanguage=Zb;_ze=Zb;Zb.id="aspnetcorerazor";Zb.fileExtensions=["cshtml","razor"];Zb.globbingPattern=`**/*.{${Zb.fileExtensions.join(",")}}`;Zb.documentSelector={language:_ze.id,pattern:Zb.globbingPattern}});var yue=C(zO=>{"use strict";var bze=zO&&zO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(zO,"__esModule",{value:!0});zO.RazorCompletionItemProvider=void 0;var CD=require("vscode"),TLt=s_(),DLt=kg(),vue=class r extends TLt.RazorLanguageFeatureBase{constructor(e,t,n,i,o){super(e,t,n,o),this.provisionalCompletionOrchestrator=i}static getCompletions(e,t,n,i){return bze(this,void 0,void 0,function*(){if(e){let o=i==="@"?void 0:i,s=yield CD.commands.executeCommand("vscode.executeCompletionItemProvider",e,n,o),a=s instanceof Array?s:s?s.items:[],c=n.character-t.character;for(let l of a){let d=l.documentation;if(d){let f=new CD.MarkdownString(d.value);f.isTrusted=!1,l.documentation=f}if(l.range){let f=l.range,p=f.inserting;if(p){let D=this.offsetColumn(c,t.line,p.start),x=this.offsetColumn(c,t.line,p.end);f.inserting=new CD.Range(D,x)}let _=f.replacing;if(_){let D=this.offsetColumn(c,t.line,_.start),x=this.offsetColumn(c,t.line,_.end);f.replacing=new CD.Range(D,x)}if(f instanceof CD.Range&&f.start&&f.end){let D=this.offsetColumn(c,t.line,f.start),x=this.offsetColumn(c,t.line,f.end);l.range=new CD.Range(D,x)}}l.textEdit=void 0,i==="@"&&l.commitCharacters&&(l.commitCharacters=l.commitCharacters.filter(f=>f!=="{"&&f!=="("&&f!=="*"))}let u=s instanceof Array?!1:s?s.isIncomplete:!1;return new CD.CompletionList(a,u)}})}static offsetColumn(e,t,n){return new CD.Position(t,n.character-e)}provideCompletionItems(e,t,n,i){return bze(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,n);if(this.logger.verboseEnabled&&this.logger.logVerbose(`Providing completions for document ${(0,DLt.getUriPath)(e.uri)} at location (${t.line}, ${t.character})`),!o)return{isIncomplete:!0,items:[]};let s=yield this.provisionalCompletionOrchestrator.tryGetProvisionalCompletions(e.uri,o,i);return s||(yield r.getCompletions(o.uri,t,o.position,i.triggerCharacter))})}};zO.RazorCompletionItemProvider=vue});var Sze=C(UO=>{"use strict";var sV=UO&&UO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(UO,"__esModule",{value:!0});UO.ProvisionalCompletionOrchestrator=void 0;var tC=require("vscode"),ELt=SD(),wze=Gv(),RLt=yue(),_ue=class{constructor(e,t,n,i){this.documentManager=e,this.projectedCSharpProvider=t,this.serviceClient=n,this.logger=i,this.provisionalDotsMayBeActive=!1}register(){tC.window.activeTextEditor&&(this.currentActiveDocument=tC.window.activeTextEditor.document);let e=tC.window.onDidChangeTextEditorSelection(i=>this.tryRemoveProvisionalDot(i.textEditor.document)),t=tC.workspace.onDidChangeTextDocument(i=>sV(this,void 0,void 0,function*(){i.contentChanges.length===1&&i.contentChanges[0].text==="."||(yield this.tryRemoveProvisionalDot(i.document))})),n=tC.window.onDidChangeActiveTextEditor(i=>sV(this,void 0,void 0,function*(){this.currentActiveDocument&&(yield this.tryRemoveProvisionalDot(this.currentActiveDocument)),i?this.currentActiveDocument=i.document:this.currentActiveDocument=void 0}));return tC.Disposable.from(t,e,n)}tryGetProvisionalCompletions(e,t,n){return sV(this,void 0,void 0,function*(){if(t.languageKind!==wze.LanguageKind.Html||n.triggerCharacter!==".")return null;let i=t.position;if(i.character===0)return null;let o=new tC.Position(i.line,i.character-1),s=yield this.serviceClient.languageQuery(o,e);if(s.kind!==wze.LanguageKind.CSharp)return null;let c=(yield this.documentManager.getDocument(e)).csharpDocument,u=s.positionIndex;this.logger.verboseEnabled&&this.logger.logVerbose(`Applying provisional completion on ${c.uri} at (${s.position.line}, ${s.position.character})`),c.addProvisionalDotAt(u),this.projectedCSharpProvider.ensureDocumentContent(c.uri),yield(yield tC.workspace.openTextDocument(c.uri)).save();let d=new tC.Position(s.position.line,s.position.character+1),f=yield RLt.RazorCompletionItemProvider.getCompletions(c.uri,i,d,n.triggerCharacter);return this.provisionalDotsMayBeActive=!0,f})}tryRemoveProvisionalDot(e){return sV(this,void 0,void 0,function*(){if(!this.provisionalDotsMayBeActive||e.languageId!==ELt.RazorLanguage.id)return;let t=yield this.documentManager.getActiveDocument();if(!t)return;let n=t.csharpDocument;n.removeProvisionalDot()&&(this.projectedCSharpProvider.ensureDocumentContent(n.uri),this.logger.verboseEnabled&&this.logger.logVerbose(`Ensured removal of provisional completion on ${n.uri}.`)),this.provisionalDotsMayBeActive=!1})}};UO.ProvisionalCompletionOrchestrator=_ue});var Tze=C(HO=>{"use strict";var PLt=HO&&HO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(HO,"__esModule",{value:!0});HO.listenToConfigurationChanges=void 0;var Cze=require("vscode");function xLt(r){return Cze.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("razor.trace")&&OLt(r)})}HO.listenToConfigurationChanges=xLt;function OLt(r){let e="Would you like to restart the Razor Language Server to enable the Razor trace configuration change?",t="Restart";Cze.window.showInformationMessage(e,t).then(n=>PLt(this,void 0,void 0,function*(){n===t&&(yield r.stop(),r.updateTraceLevel(),yield r.start())}))}});var Eze=C(WO=>{"use strict";var vF=WO&&WO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(WO,"__esModule",{value:!0});WO.CSharpPreviewPanel=void 0;var BO=require("vscode"),bue=WS(),Dze=kg(),aV=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return vF(this,void 0,void 0,function*(){this.panel?this.panel.reveal(BO.ViewColumn.Two):(this.panel=BO.window.createWebviewPanel(r.viewType,"Razor C# Preview",BO.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return vF(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return vF(this,void 0,void 0,function*(){this.panel&&(e.kind===bue.RazorDocumentChangeKind.csharpChanged||e.kind===bue.RazorDocumentChangeKind.opened||e.kind===bue.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){BO.window.showErrorMessage("Unexpected error when attaching to C# preview window.");return}this.panel.webview.onDidReceiveMessage(e=>vF(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.csharpContent)return;yield BO.env.clipboard.writeText(this.csharpContent),BO.window.showInformationMessage("Razor C# copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return vF(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.csharpContent=e.csharpDocument.getContent(),t=(0,Dze.getUriPath)(e.uri),n=(0,Dze.getUriPath)(e.csharpDocument.uri)):this.csharpContent=void 0;let i=this.csharpContent?this.csharpContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p
    <p><button onclick="copy()">Copy C#</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};WO.CSharpPreviewPanel=aV;aV.viewType="razorCSharpPreview"});var uV=C($O=>{"use strict";var ILt=$O&&$O.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty($O,"__esModule",{value:!0});$O.CSharpProjectedDocumentContentProvider=void 0;var wue=WS(),Rze=kg(),cV=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){return ILt(this,void 0,void 0,function*(){let t=this.findRazorDocument(e);return t?`${t.csharpDocument.getContent()}
// ${t.csharpDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,Rze.getUriPath)(e)}' when updating the C# buffer. This typically happens when a document is removed.`),"")})}ensureDocumentContent(e){this.onDidChangeEmitter.fire(e)}documentChanged(e){(e.kind===wue.RazorDocumentChangeKind.csharpChanged||e.kind===wue.RazorDocumentChangeKind.opened||e.kind===wue.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.csharpDocument.uri)}findRazorDocument(e){let t=(0,Rze.getUriPath)(e);return this.documentManager.documents.find(n=>n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};$O.CSharpProjectedDocumentContentProvider=cV;cV.scheme="virtualCSharp-razor"});var Oze=C(VO=>{"use strict";var kLt=VO&&VO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(VO,"__esModule",{value:!0});VO.RazorCSharpFeature=void 0;var yF=require("vscode"),Pze=Eze(),xze=uV(),Sue=class{constructor(e,t,n){this.projectionProvider=new xze.CSharpProjectedDocumentContentProvider(e,t,n),this.csharpPreviewPanel=new Pze.CSharpPreviewPanel(e)}register(){let e=[yF.workspace.registerTextDocumentContentProvider(xze.CSharpProjectedDocumentContentProvider.scheme,this.projectionProvider),yF.commands.registerCommand("extension.showRazorCSharpWindow",()=>this.csharpPreviewPanel.show())];return yF.window.registerWebviewPanelSerializer&&e.push(yF.window.registerWebviewPanelSerializer(Pze.CSharpPreviewPanel.viewType,{deserializeWebviewPanel:t=>kLt(this,void 0,void 0,function*(){yield this.csharpPreviewPanel.revive(t)})})),yF.Disposable.from(...e)}};VO.RazorCSharpFeature=Sue});var _F=C(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.getRazorDocumentUri=fl.isRazorHtmlFile=fl.isRazorCSharpFile=fl.backgroundVirtualCSharpSuffix=fl.virtualCSharpSuffix=fl.virtualHtmlSuffix=void 0;var ALt=require("vscode"),Cue=kg();fl.virtualHtmlSuffix="__virtual.html";fl.virtualCSharpSuffix="__virtual.cs";fl.backgroundVirtualCSharpSuffix=`__bg${fl.virtualCSharpSuffix}`;function LLt(r){return(0,Cue.getUriPath)(r).endsWith(fl.virtualCSharpSuffix)}fl.isRazorCSharpFile=LLt;function NLt(r){return(0,Cue.getUriPath)(r).endsWith(fl.virtualHtmlSuffix)}fl.isRazorHtmlFile=NLt;function MLt(r){let t=(0,Cue.getUriPath)(r).replace(fl.backgroundVirtualCSharpSuffix,"");return t=t.replace(fl.virtualCSharpSuffix,""),t=t.replace(fl.virtualHtmlSuffix,""),ALt.Uri.file(t)}fl.getRazorDocumentUri=MLt});var Lze=C(GO=>{"use strict";var FLt=GO&&GO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(GO,"__esModule",{value:!0});GO.RazorDefinitionProvider=void 0;var Ize=require("vscode"),kze=_F(),qLt=s_(),Aze=Gv(),Tue=class extends qLt.RazorLanguageFeatureBase{provideDefinition(e,t,n){return FLt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===Aze.LanguageKind.Razor)return;let o=yield Ize.commands.executeCommand("vscode.executeDefinitionProvider",i.uri,i.position),s=new Array;for(let a of o)if(i.languageKind===Aze.LanguageKind.Html&&(0,kze.isRazorHtmlFile)(a.uri)){let c=(0,kze.getRazorDocumentUri)(a.uri);s.push(new Ize.Location(c,a.range))}else s.push(a);return s})}};GO.RazorDefinitionProvider=Tue});var Nze=C(lV=>{"use strict";Object.defineProperty(lV,"__esModule",{value:!0});lV.razorExtensionId=void 0;lV.razorExtensionId="ms-dotnettools.csharp"});var Mze=C(KO=>{"use strict";var dV=KO&&KO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(KO,"__esModule",{value:!0});KO.ReportIssueCreator=void 0;var jLt=require("child_process"),Due=require("os"),zLt=Nze(),Eue=class{constructor(e,t){this.vscodeApi=e,this.documentManager=t}create(e){return dV(this,void 0,void 0,function*(){let t,n,i;if(e.document){t=yield this.getRazor(e.document);let p=yield this.documentManager.getDocument(e.document.uri);n=yield this.getProjectedCSharp(p),i=yield this.getProjectedHtml(p)}else t="Non Razor file as active document",n="Could not determine CSharp content",i="Could not determine Html content";let o=this.getExtensionVersion(),s="";try{s=yield this.getDotnetInfo()}catch(p){s=`A valid dotnet installation could not be found: ${p}`}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s);return`## Is this a Bug or Feature request?:
Bug

## Steps to reproduce
------------------- Please fill in this section -------------------------

## Description of the problem:
------------------- Please fill in this section -------------------------

Expected behavior:

Actual behavior:

## Logs

#### OmniSharp
------------------- Please fill in this section -------------------------
To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".

#### Razor
<details><summary>Expand</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## Workspace information

#### Razor document:
<details><summary>Expand</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### Projected CSharp document:
<details><summary>Expand</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### Projected Html document:
<details><summary>Expand</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## Machine information


**VSCode version**: ${this.vscodeApi.version}
**Razor.VSCode version**: ${o}
#### \`dotnet --info\`

<details><summary>Expand</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### Extensions
<details><summary>Expand</summary>
<p>

${a}

</p>
</details>`})}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}getRazor(e){return dV(this,void 0,void 0,function*(){return e.getText()})}getProjectedCSharp(e){return dV(this,void 0,void 0,function*(){let t=`////////////////////// Projected CSharp as seen by extension ///////////////////////
${e.csharpDocument.getContent()}


////////////////////// Projected CSharp as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.csharpDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of CSharp`}catch{t=`${t}
Unable to resolve VSCode's version of CSharp`}return t})}getProjectedHtml(e){return dV(this,void 0,void 0,function*(){let t=`////////////////////// Projected Html as seen by extension ///////////////////////
${e.htmlDocument.getContent()}


////////////////////// Projected Html as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.htmlDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of Html`}catch{t=`${t}
Unable to resolve VSCode's version of Html`}return t})}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(zLt.razorExtensionId);return e?e.packageJSON.version:"Unable to find Razor extension version."}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=`|Extension|Author|Version|${Due.EOL}|---|---|---|`,n=e.map(o=>`|${o.packageJSON.name}|${o.packageJSON.publisher}|${o.packageJSON.version}|`).join(Due.EOL);return`
${t}${Due.EOL}${n};
`}getDotnetInfo(){return new Promise((e,t)=>{try{jLt.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};KO.ReportIssueCreator=Eue});var Fze=C(fV=>{"use strict";Object.defineProperty(fV,"__esModule",{value:!0});fV.ReportIssueDataCollector=void 0;var ULt=require("os"),Rue=class{constructor(e,t){this.razorFileFocusChange=e,this.logger=t,this.logMessages=[],this.logOutput="",this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(ULt.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};fV.ReportIssueDataCollector=Rue});var qze=C(hV=>{"use strict";Object.defineProperty(hV,"__esModule",{value:!0});hV.ReportIssueDataCollectorFactory=void 0;var Pue=require("vscode"),HLt=SD(),BLt=Fze(),xue=class{constructor(e){this.logger=e,this.onRazorDocumentFocusedEmitter=new Pue.EventEmitter,this.onRazorDocumentFocusedEmitter=new Pue.EventEmitter}register(){return Pue.window.onDidChangeActiveTextEditor(e=>{e&&HLt.RazorLanguage.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new BLt.ReportIssueDataCollector(this.onRazorDocumentFocusedEmitter.event,this.logger)}};hV.ReportIssueDataCollectorFactory=xue});var wF=C(bF=>{"use strict";Object.defineProperty(bF,"__esModule",{value:!0});bF.Trace=void 0;var WLt;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Verbose=2]="Verbose"})(WLt=bF.Trace||(bF.Trace={}))});var jze=C(YO=>{"use strict";var SF=YO&&YO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(YO,"__esModule",{value:!0});YO.ReportIssuePanel=void 0;var ew=require("vscode"),pV=wF(),mV=class r{constructor(e,t,n){this.dataCollectorFactory=e,this.reportIssueCreator=t,this.logger=n}show(){return SF(this,void 0,void 0,function*(){this.panel?this.panel.reveal(ew.ViewColumn.Two):(this.panel=ew.window.createWebviewPanel(r.viewType,"Report Razor Issue",ew.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return SF(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}attachToCurrentPanel(){if(!this.panel){ew.window.showErrorMessage("Unexpected error when attaching to report Razor issue window.");return}this.panel.webview.onDidReceiveMessage(e=>SF(this,void 0,void 0,function*(){switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){ew.window.showErrorMessage("You must first start the data collection before copying.");return}let t=this.dataCollector.collect();this.issueContent=yield this.reportIssueCreator.create(t),this.dataCollector=void 0}yield ew.env.clipboard.writeText(this.issueContent),ew.window.showInformationMessage("Razor issue copied to clipboard");return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),ew.window.showInformationMessage('Razor issue data collection started. Reproduce the issue then press "Stop"');return;case"stopIssue":if(!this.dataCollector){ew.window.showErrorMessage("You must first start the data collection before stopping.");return}this.dataCollector.stop(),ew.window.showInformationMessage("Razor issue data collection stopped. Copying issue content...");return}})),this.traceLevelChange=this.logger.onTraceLevelChange(()=>SF(this,void 0,void 0,function*(){return this.update()})),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}update(){return SF(this,void 0,void 0,function*(){if(!this.panel)return;let e="";this.logger.trace.valueOf()===pV.Trace.Verbose?e=`<ol>
    <li>Press <button onclick="startIssue()">Start</button></li>
    <li>Perform the actions (or no action) that resulted in your Razor issue</li>
    <li>Click <button onclick="stopIssue()">Stop</button>. This will copy all relevant issue information.</li>
    <li><a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">Go to GitHub</a>, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.</li>
</ol>

<p><em>Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to
GitHub, please remove any personal data which should not be publicly viewable.
<a href="https://privacy.microsoft.com/en-US/privacystatement">https://privacy.microsoft.com/en-US/privacystatement</a></em></p>

<button onclick="copyIssue()">Copy issue content again</button>`:e=`<p>Cannot start collecting Razor logs when <strong><em>razor.trace</em></strong> is set to <strong><em>${pV.Trace[this.logger.trace]}</em></strong>.
Please set <strong><em>razor.trace</em></strong> to <strong><em>${pV.Trace[pV.Trace.Verbose]}</em></strong> and then reload your VSCode environment and re-run the report Razor issue command.</p>`,this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>Report a Razor issue</h3>
${e}
</body>
</html>`})}};YO.ReportIssuePanel=mV;mV.viewType="razorReportIssue"});var Uze=C(JO=>{"use strict";var $Lt=JO&&JO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(JO,"__esModule",{value:!0});JO.ReportIssueCommand=void 0;var VLt=Mze(),GLt=qze(),zze=jze(),Oue=class{constructor(e,t,n){this.vscodeApi=e,this.dataCollectorFactory=new GLt.ReportIssueDataCollectorFactory(n),this.issueCreator=new VLt.ReportIssueCreator(this.vscodeApi,t),this.issuePanel=new zze.ReportIssuePanel(this.dataCollectorFactory,this.issueCreator,n)}register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer(zze.ReportIssuePanel.viewType,{deserializeWebviewPanel:t=>$Lt(this,void 0,void 0,function*(){yield this.issuePanel.revive(t)})})),this.vscodeApi.Disposable.from(...e)}};JO.ReportIssueCommand=Oue});var Hze=C(gV=>{"use strict";Object.defineProperty(gV,"__esModule",{value:!0});gV.CSharpProjectedDocument=void 0;var KLt=kg(),Iue=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,KLt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.removeProvisionalDot(),this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}reset(){this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,this.hostDocumentVersion=null,this.setContent("")}getContent(){return this.content}addProvisionalDotAt(e){if(this.provisionalEditAt===e)return;this.removeProvisionalDot();let t=this.getEditedContent(".",e,e,this.content);this.preProvisionalContent=this.content,this.provisionalEditAt=e,this.setContent(t)}removeProvisionalDot(){return this.provisionalEditAt&&this.preProvisionalContent?(this.setContent(this.preProvisionalContent),this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,!0):!1}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};gV.CSharpProjectedDocument=Iue});var Bze=C(vV=>{"use strict";Object.defineProperty(vV,"__esModule",{value:!0});vV.HtmlProjectedDocument=void 0;var YLt=kg(),kue=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,YLt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}getContent(){return this.content}reset(){this.projectedDocumentVersion++,this.hostDocumentVersion=null,this.setContent("")}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};vV.HtmlProjectedDocument=kue});var bV=C(_V=>{"use strict";Object.defineProperty(_V,"__esModule",{value:!0});_V.HtmlProjectedDocumentContentProvider=void 0;var Aue=WS(),Wze=kg(),yV=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.htmlDocument.getContent()}
// ${t.htmlDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,Wze.getUriPath)(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}documentChanged(e){(e.kind===Aue.RazorDocumentChangeKind.htmlChanged||e.kind===Aue.RazorDocumentChangeKind.opened||e.kind===Aue.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.htmlDocument.uri)}findRazorDocument(e){let t=(0,Wze.getUriPath)(e);return this.documentManager.documents.find(n=>n.htmlDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};_V.HtmlProjectedDocumentContentProvider=yV;yV.scheme="razor-html"});var Gze=C(wV=>{"use strict";Object.defineProperty(wV,"__esModule",{value:!0});wV.createDocument=void 0;var $ze=require("vscode"),JLt=Hze(),XLt=uV(),QLt=Bze(),ZLt=bV(),Vze=_F(),Lue=kg();function eNt(r){let e=rNt(r),t=tNt(r),n=(0,Lue.getUriPath)(r);return{uri:r,path:n,csharpDocument:e,htmlDocument:t}}wV.createDocument=eNt;function tNt(r){let t=`${(0,Lue.getUriPath)(r)}${Vze.virtualHtmlSuffix}`,n=$ze.Uri.file(t);return n=n.with({scheme:ZLt.HtmlProjectedDocumentContentProvider.scheme}),new QLt.HtmlProjectedDocument(n)}function rNt(r){let t=`${(0,Lue.getUriPath)(r)}${Vze.virtualCSharpSuffix}`,n=$ze.Uri.file(t);return n=n.with({scheme:XLt.CSharpProjectedDocumentContentProvider.scheme}),new JLt.CSharpProjectedDocument(n)}});var Kze=C(QO=>{"use strict";var tw=QO&&QO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(QO,"__esModule",{value:!0});QO.RazorDocumentManager=void 0;var bp=require("vscode"),XO=SD(),Nue=kg(),FE=WS(),nNt=Gze(),Mue=class{constructor(e,t){this.serverClient=e,this.logger=t,this.razorDocuments={},this.onChangeEmitter=new bp.EventEmitter}get onChange(){return this.onChangeEmitter.event}get documents(){return Object.values(this.razorDocuments)}getDocument(e){return tw(this,void 0,void 0,function*(){let t=this._getDocument(e);return yield this.ensureProjectedDocumentsOpen(t),t})}getActiveDocument(){return tw(this,void 0,void 0,function*(){return!bp.window.activeTextEditor||bp.window.activeTextEditor.document.languageId!==XO.RazorLanguage.id?null:yield this.getDocument(bp.window.activeTextEditor.document.uri)})}initialize(){return tw(this,void 0,void 0,function*(){let e=yield bp.workspace.findFiles(XO.RazorLanguage.globbingPattern);for(let t of e)this.addDocument(t);for(let t of bp.workspace.textDocuments)t.languageId===XO.RazorLanguage.id&&(t.isClosed||this.openDocument(t.uri))})}register(){let e=bp.workspace.createFileSystemWatcher(XO.RazorLanguage.globbingPattern),t=e.onDidCreate(s=>tw(this,void 0,void 0,function*(){return this.addDocument(s)})),n=e.onDidDelete(s=>tw(this,void 0,void 0,function*(){return this.removeDocument(s)})),i=bp.workspace.onDidOpenTextDocument(s=>{s.languageId===XO.RazorLanguage.id&&this.openDocument(s.uri)}),o=bp.workspace.onDidCloseTextDocument(s=>{s.languageId===XO.RazorLanguage.id&&this.closeDocument(s.uri)});return this.serverClient.onNotification("razor/updateCSharpBuffer",s=>tw(this,void 0,void 0,function*(){return this.updateCSharpBuffer(s)})),this.serverClient.onNotification("razor/updateHtmlBuffer",s=>tw(this,void 0,void 0,function*(){return this.updateHtmlBuffer(s)})),bp.Disposable.from(e,t,n,i,o)}_getDocument(e){let t=(0,Nue.getUriPath)(e),n=this.razorDocuments[t];return n||(this.logger.logMessage(`File '${t}' didn't exist in the Razor document list. This is likely because it's from outside the workspace.`),n=this.addDocument(e)),n}openDocument(e){let t=this._getDocument(e);this.notifyDocumentChange(t,FE.RazorDocumentChangeKind.opened)}closeDocument(e){let t=this._getDocument(e),i=t.csharpDocument,s=t.htmlDocument;i.reset(),s.reset(),bp.workspace.getWorkspaceFolder(e)||this.removeDocument(e),this.notifyDocumentChange(t,FE.RazorDocumentChangeKind.closed)}addDocument(e){let t=(0,Nue.getUriPath)(e),n=this.razorDocuments[t];return n?(this.logger.logMessage(`Skipping document creation for '${t}' because it already exists.`),n):(n=(0,nNt.createDocument)(e),this.razorDocuments[n.path]=n,this.notifyDocumentChange(n,FE.RazorDocumentChangeKind.added),n)}removeDocument(e){let t=this._getDocument(e);delete this.razorDocuments[t.path],this.notifyDocumentChange(t,FE.RazorDocumentChangeKind.removed)}updateCSharpBuffer(e){return tw(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the C# document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=bp.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.csharpDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,FE.RazorDocumentChangeKind.csharpChanged)):this.logger.logWarning("Failed to update the C# document buffer. This is unexpected and may result in incorrect C# interactions.")})}updateHtmlBuffer(e){return tw(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the HTML document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=bp.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.htmlDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,FE.RazorDocumentChangeKind.htmlChanged)):this.logger.logWarning("Failed to update the HTML document buffer. This is unexpected and may result in incorrect HTML interactions.")})}notifyDocumentChange(e,t){this.logger.verboseEnabled&&this.logger.logVerbose(`Notifying document '${(0,Nue.getUriPath)(e.uri)}' changed '${FE.RazorDocumentChangeKind[t]}'`);let n={document:e,kind:t};this.onChangeEmitter.fire(n)}ensureProjectedDocumentsOpen(e){return tw(this,void 0,void 0,function*(){yield bp.workspace.openTextDocument(e.csharpDocument.uri),yield bp.workspace.openTextDocument(e.htmlDocument.uri)})}};QO.RazorDocumentManager=Mue});var Jze=C(ZO=>{"use strict";var iNt=ZO&&ZO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ZO,"__esModule",{value:!0});ZO.RazorDocumentSynchronizer=void 0;var Fue=require("vscode"),oNt=uV(),sNt=bV(),SV=kg(),Yze=WS(),que=class{constructor(e,t){this.documentManager=e,this.logger=t,this.synchronizations={},this.synchronizationIdentifier=0}register(){let e=this.documentManager.onChange(n=>this.documentChanged(n)),t=Fue.workspace.onDidChangeTextDocument(n=>this.textDocumentChanged(n));return Fue.Disposable.from(e,t)}trySynchronizeProjectedDocument(e,t,n,i){return iNt(this,void 0,void 0,function*(){let o=++this.synchronizationIdentifier,s=(0,SV.getUriPath)(t.uri);if(this.logger.verboseEnabled){let c=n;this.logger.logVerbose(`${o} - Synchronizing '${s}':
    Currently at ${t.hostDocumentSyncVersion}, synchronizing to version '${c}'.
    Current host document version: '${e.version}'
    Current projected document version: '${t.projectedDocumentSyncVersion}'`)}e.version!==n&&this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - toHostDocumentVersion and hostDocument.version already out of date.`);let a=this.createSynchronizationContext(s,t,n,e,i);try{t.hostDocumentSyncVersion!==n&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document not in sync with host document, waiting for update...
    Current host document sync version: ${t.hostDocumentSyncVersion}`),yield a.onProjectedDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document in sync with host document`);let c=yield Fue.workspace.openTextDocument(t.uri),u=this.getProjectedTextDocumentVersion(c);t.projectedDocumentSyncVersion!==u&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document not in sync with data type, waiting for update...
    Current projected text document sync version: ${u}`),yield a.onProjectedTextDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document in sync with data type`)}catch(c){return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization failed: ${c}`),!1}return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization successful!`),!0})}removeSynchronization(e){let t=(0,SV.getUriPath)(e.projectedDocument.uri),n=this.synchronizations[t];if(clearTimeout(e.timeoutId),n.length===1){delete this.synchronizations[t];return}this.synchronizations[t]=n.filter(i=>i!==e)}createSynchronizationContext(e,t,n,i,o){let s=[],a=Function,c=new Promise((_,D)=>{a=_,s.push(D)}),u=Function,l=new Promise((_,D)=>{u=_,s.push(D)});o.onCancellationRequested(_=>{f.cancel(`Token cancellation requested: ${_}`)});let d=setTimeout(()=>{f.cancel("Synchronization timed out")},2e3),f={projectedDocument:t,logIdentifier:this.synchronizationIdentifier,timeoutId:d,toHostDocumentVersion:n,hostDocumentVersion:i.version,cancel:_=>{for(let D of s)D(_)},projectedDocumentSynchronized:a,onProjectedDocumentSynchronized:c,projectedTextDocumentSynchronized:u,onProjectedTextDocumentSynchronized:l},p=this.synchronizations[e];return p||(p=[],this.synchronizations[e]=p),p.push(f),f}textDocumentChanged(e){if(e.document.uri.scheme!==oNt.CSharpProjectedDocumentContentProvider.scheme&&e.document.uri.scheme!==sNt.HtmlProjectedDocumentContentProvider.scheme)return;let t=this.getProjectedTextDocumentVersion(e.document);if(t===null)return;let n=(0,SV.getUriPath)(e.document.uri),i=this.synchronizations[n];if(i){for(let o of i)if(o.projectedDocument.projectedDocumentSyncVersion===t){if(this.logger.verboseEnabled){let s=o.logIdentifier,a=t;this.logger.logVerbose(`${s} - Projected text document synchronized to ${a}.`)}o.projectedTextDocumentSynchronized()}}}documentChanged(e){let t;if(e.kind===Yze.RazorDocumentChangeKind.csharpChanged)t=e.document.csharpDocument;else if(e.kind===Yze.RazorDocumentChangeKind.htmlChanged)t=e.document.htmlDocument;else return;if(t.hostDocumentSyncVersion===null)return;let i=(0,SV.getUriPath)(t.uri),o=this.synchronizations[i];if(o)for(let s of o)s.toHostDocumentVersion===t.hostDocumentSyncVersion&&s.projectedDocumentSynchronized()}getProjectedTextDocumentVersion(e){if(e.lineCount<=0)return null;let n=e.lineAt(e.lineCount-1).text.substring(3);return parseInt(n,10)}};ZO.RazorDocumentSynchronizer=que});var Xze=C(CV=>{"use strict";Object.defineProperty(CV,"__esModule",{value:!0});CV.SerializableColorInformation=void 0;var jue=class{constructor(e,t){this.range=e,this.color=t}};CV.SerializableColorInformation=jue});var eUe=C(eI=>{"use strict";var Qze=eI&&eI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(eI,"__esModule",{value:!0});eI.DocumentColorHandler=void 0;var Zze=require("vscode"),aNt=Qb(),cNt=dO(),uNt=Xze(),TV=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.documentColorRequestType=new aNt.RequestType(r.provideHtmlDocumentColorEndpoint),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.documentColorRequestType,(e,t)=>Qze(this,void 0,void 0,function*(){return this.provideHtmlDocumentColors(e,t)}))}provideHtmlDocumentColors(e,t){return Qze(this,void 0,void 0,function*(){try{let n=Zze.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=i.htmlDocument.uri,s=yield Zze.commands.executeCommand("vscode.executeDocumentColorProvider",o),a=new Array;for(let c of s){let u=(0,cNt.convertRangeToSerializable)(c.range),l=new uNt.SerializableColorInformation(u,c.color);a.push(l)}return a}catch(n){this.logger.logWarning(`${r.provideHtmlDocumentColorEndpoint} failed with ${n}`)}return this.emptyColorInformationResponse})}};eI.DocumentColorHandler=TV;TV.provideHtmlDocumentColorEndpoint="razor/provideHtmlDocumentColor"});var rUe=C(tI=>{"use strict";var lNt=tI&&tI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(tI,"__esModule",{value:!0});tI.RazorDocumentHighlightProvider=void 0;var tUe=require("vscode"),dNt=s_(),fNt=Gv(),zue=class extends dNt.RazorLanguageFeatureBase{provideDocumentHighlights(e,t,n){return lNt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===fNt.LanguageKind.Razor)return;let o=yield tUe.commands.executeCommand("vscode.executeDocumentHighlights",i.uri,i.position);if(!o||o.length===0)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[a.range],e.uri);if(!c||!c.ranges||!c.ranges[0]||e.version!==c.hostDocumentVersion)continue;let u=new tUe.DocumentHighlight(c.ranges[0],a.kind);s.push(u)}return s})}};tI.RazorDocumentHighlightProvider=zue});var nUe=C(DV=>{"use strict";Object.defineProperty(DV,"__esModule",{value:!0});DV.reportTelemetryForDocuments=void 0;var hNt=WS();function pNt(r,e){r.onChange(t=>{switch(t.kind){case hNt.RazorDocumentChangeKind.added:e.reportWorkspaceContainsRazor();break}})}DV.reportTelemetryForDocuments=pNt});var iUe=C(EV=>{"use strict";Object.defineProperty(EV,"__esModule",{value:!0});EV.SerializableFoldingRangeResponse=void 0;var Uue=class{constructor(e,t){this.htmlRanges=e,this.csharpRanges=t}};EV.SerializableFoldingRangeResponse=Uue});var aUe=C(nI=>{"use strict";var oUe=nI&&nI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(nI,"__esModule",{value:!0});nI.FoldingRangeHandler=void 0;var rI=require("vscode"),RV=Qb(),sUe=iUe(),PV=class r{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.foldingRangeRequestType=new RV.RequestType(r.provideFoldingRange),this.emptyFoldingRangeReponse=new sUe.SerializableFoldingRangeResponse(new Array,new Array)}register(){return this.serverClient.onRequestWithParams(this.foldingRangeRequestType,(e,t)=>oUe(this,void 0,void 0,function*(){return this.provideFoldingRanges(e,t)}))}provideFoldingRanges(e,t){return oUe(this,void 0,void 0,function*(){try{let n=rI.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFoldingRangeReponse;let o=i.htmlDocument.uri,s=i.csharpDocument.uri,a=yield rI.commands.executeCommand("vscode.executeFoldingRangeProvider",o),c=yield rI.commands.executeCommand("vscode.executeFoldingRangeProvider",s),u=a===void 0?new Array:this.convertFoldingRanges(a),l=c===void 0?new Array:this.convertFoldingRanges(c);return new sUe.SerializableFoldingRangeResponse(u,l)}catch(n){this.logger.logWarning(`${r.provideFoldingRange} failed with ${n}`)}return this.emptyFoldingRangeReponse})}convertFoldingRanges(e){let t=new Array;return e.forEach(n=>{let i={startLine:n.start,startCharacter:0,endLine:n.end,endCharacter:0,kind:n.kind===void 0?void 0:this.convertFoldingRangeKind(n.kind)};t.push(i)}),t}convertFoldingRangeKind(e){if(e===rI.FoldingRangeKind.Comment)return RV.FoldingRangeKind.Comment;if(e===rI.FoldingRangeKind.Imports)return RV.FoldingRangeKind.Imports;if(e===rI.FoldingRangeKind.Region)return RV.FoldingRangeKind.Region;this.logger.logWarning(`Unexpected FoldingRangeKind ${e}`)}};nI.FoldingRangeHandler=PV;PV.provideFoldingRange="razor/foldingRange"});var cUe=C(xV=>{"use strict";Object.defineProperty(xV,"__esModule",{value:!0});xV.SerializableFormattingResponse=void 0;var Hue=class{constructor(e){this.edits=e}};xV.SerializableFormattingResponse=Hue});var dUe=C(iI=>{"use strict";var uUe=iI&&iI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(iI,"__esModule",{value:!0});iI.FormattingHandler=void 0;var CF=require("vscode"),mNt=Qb(),gNt=xM(),lUe=cUe(),OV=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.formattingRequestType=new mNt.RequestType(r.provideFormattingEndpoint),this.emptyFormattingResponse=new lUe.SerializableFormattingResponse}register(){return this.serverClient.onRequestWithParams(this.formattingRequestType,(e,t)=>uUe(this,void 0,void 0,function*(){return this.provideFormatting(e,t)}))}provideFormatting(e,t){return uUe(this,void 0,void 0,function*(){try{let n=CF.Uri.parse(e.textDocument.uri),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=i.htmlDocument.uri,s=yield CF.commands.executeCommand("vscode.executeFormatDocumentProvider",o,e.options);if(s===void 0)return this.emptyFormattingResponse;let a=i.htmlDocument.getContent(),c=this.countLines(a),u=Array();for(let l of s){if(l.range.end.line>c){let f=this.getLastLineLength(a),p=new CF.Position(c,f),_=new CF.Range(l.range.start,p);l=new CF.TextEdit(_,l.newText)}let d=(0,gNt.convertTextEditToSerializable)(l);u.push(d)}return new lUe.SerializableFormattingResponse(u)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse})}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};iI.FormattingHandler=OV;OV.provideFormattingEndpoint="textDocument/formatting"});var fUe=C(IV=>{"use strict";Object.defineProperty(IV,"__esModule",{value:!0});IV.RazorFormatOnTypeProvider=void 0;var Bue=class{provideOnTypeFormattingEdits(e,t,n,i,o){return new Array}};IV.RazorFormatOnTypeProvider=Bue});var hUe=C(kV=>{"use strict";Object.defineProperty(kV,"__esModule",{value:!0});kV.RazorDocumentRangeFormattingResponse=void 0;var Wue=class{constructor(e){this.edits=e}};kV.RazorDocumentRangeFormattingResponse=Wue});var yUe=C(oI=>{"use strict";var pUe=oI&&oI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(oI,"__esModule",{value:!0});oI.RazorFormattingFeature=void 0;var mUe=require("vscode"),vNt=Qb(),gUe=Gv(),yNt=dO(),_Nt=xM(),vUe=hUe(),$ue=class{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.rangeFormattingRequestType=new vNt.RequestType("razor/rangeFormatting"),this.emptyRangeFormattingResponse=new vUe.RazorDocumentRangeFormattingResponse([])}register(){return this.serverClient.onRequestWithParams(this.rangeFormattingRequestType,(e,t)=>pUe(this,void 0,void 0,function*(){return this.handleRangeFormatting(e,t)}))}handleRangeFormatting(e,t){return pUe(this,void 0,void 0,function*(){if(e.kind===gUe.LanguageKind.Razor)return this.emptyRangeFormattingResponse;try{let n=mUe.Uri.file(e.hostDocumentFilePath),i=yield this.documentManager.getDocument(n);if(!i)return this.emptyRangeFormattingResponse;let o=n;e.kind===gUe.LanguageKind.CSharp?o=i.csharpDocument.uri:o=i.htmlDocument.uri;let s=yield mUe.commands.executeCommand("vscode.executeFormatRangeProvider",o,(0,yNt.convertRangeFromSerializable)(e.projectedRange),e.options);if(s){let a=s.map(c=>(0,_Nt.convertTextEditToSerializable)(c));return new vUe.RazorDocumentRangeFormattingResponse(a)}}catch(n){this.logger.logWarning(`razor/rangeFormatting failed with ${n}`)}return this.emptyRangeFormattingResponse})}};oI.RazorFormattingFeature=$ue});var _Ue=C(sI=>{"use strict";var bNt=sI&&sI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(sI,"__esModule",{value:!0});sI.RazorHoverProvider=void 0;var TF=require("vscode"),wNt=s_(),Vue=class extends wNt.RazorLanguageFeatureBase{provideHover(e,t,n){return bNt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i)return;let o=yield TF.commands.executeCommand("vscode.executeHoverProvider",i.uri,i.position);if(!o||o.length===0)return;let s=o.filter(l=>l.range)[0];if(!s)return;let a=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[s.range],e.uri);if(!a||!a.ranges||!a.ranges[0]||e.version!==a.hostDocumentVersion)return;let c=new Array;for(let l of s.contents)if(typeof l=="string"){let d=new TF.MarkdownString(l);c.push(d)}else if(l.language){let d=l,f=new TF.MarkdownString;f.appendCodeblock(d.value,d.language),c.push(f)}else{let d=l.value,f=new TF.MarkdownString(d);c.push(f)}return new TF.Hover(c,a.ranges[0])})}};sI.RazorHoverProvider=Vue});var wUe=C(cI=>{"use strict";var DF=cI&&cI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(cI,"__esModule",{value:!0});cI.HtmlPreviewPanel=void 0;var aI=require("vscode"),Gue=WS(),bUe=kg(),AV=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return DF(this,void 0,void 0,function*(){this.panel?this.panel.reveal(aI.ViewColumn.Two):(this.panel=aI.window.createWebviewPanel(r.viewType,"Razor HTML Preview",aI.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return DF(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return DF(this,void 0,void 0,function*(){this.panel&&(e.kind===Gue.RazorDocumentChangeKind.htmlChanged||e.kind===Gue.RazorDocumentChangeKind.opened||e.kind===Gue.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){aI.window.showErrorMessage("Unexpected error when attaching to HTML preview window.");return}this.panel.webview.onDidReceiveMessage(e=>DF(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.htmlContent)return;yield aI.env.clipboard.writeText(this.htmlContent),aI.window.showInformationMessage("Razor HTML copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return DF(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.htmlContent=e.htmlDocument.getContent(),t=(0,bUe.getUriPath)(e.uri),n=(0,bUe.getUriPath)(e.htmlDocument.uri)):this.htmlContent=void 0;let i=this.htmlContent?this.htmlContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p>
    <p><button onclick="copy()">Copy HTML</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};cI.HtmlPreviewPanel=AV;AV.viewType="razorHtmlPreview"});var NV=C((Lsr,DUe)=>{"use strict";var Kue=Object.defineProperty,SNt=Object.getOwnPropertyDescriptor,CNt=Object.getOwnPropertyNames,TNt=Object.prototype.hasOwnProperty,DNt=(r,e)=>{for(var t in e)Kue(r,t,{get:e[t],enumerable:!0})},ENt=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of CNt(e))!TNt.call(r,i)&&i!==t&&Kue(r,i,{get:()=>e[i],enumerable:!(n=SNt(e,i))||n.enumerable});return r},RNt=r=>ENt(Kue({},"__esModule",{value:!0}),r),CUe={};DNt(CUe,{config:()=>kNt,t:()=>TUe});DUe.exports=RNt(CUe);var PNt=require("fs"),xNt=require("fs/promises");async function ONt(r){if(r.protocol==="file:")return await(0,xNt.readFile)(r,"utf8");if(r.protocol==="http:"||r.protocol==="https:"){let e=await fetch(r.toString(),{headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"},redirect:"follow"});if(!e.ok){let n=`Unexpected ${e.status} response while trying to read ${r}`;try{n+=`: ${await e.text()}`}catch{}throw new Error(n)}return await e.text()}throw new Error("Unsupported protocol")}function INt(r){return(0,PNt.readFileSync)(r,"utf8")}var EF;function kNt(r){if("contents"in r){typeof r.contents=="string"?EF=JSON.parse(r.contents):EF=r.contents;return}if("fsPath"in r){let e=INt(r.fsPath),t=JSON.parse(e);EF=SUe(t)?t.contents.bundle:t;return}if(r.uri){let e=r.uri;return typeof r.uri=="string"&&(e=new URL(r.uri)),new Promise((t,n)=>{ONt(e).then(i=>{try{let o=JSON.parse(i);EF=SUe(o)?o.contents.bundle:o,t()}catch(o){n(o)}}).catch(i=>{n(i)})})}}function TUe(...r){let e=r[0],t,n,i;if(typeof e=="string")t=e,n=e,r.splice(0,1),i=!r||typeof r[0]!="object"?r:r[0];else if(e instanceof Array){let s=r.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let c=1;c<e.length;c++)a+=`{${c-1}}`+e[c];return TUe(a,...s)}else n=e.message,t=n,e.comment&&e.comment.length>0&&(t+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=EF?.[t];return o?typeof o=="string"?LV(o,i):o.comment?LV(o.message,i):LV(n,i):LV(n,i)}var ANt=/{([^}]+)}/g;function LV(r,e){return Object.keys(e).length===0?r:r.replace(ANt,(t,n)=>e[n]??t)}function SUe(r){return typeof r?.contents?.bundle=="object"&&typeof r?.version=="string"}});var MV,Yue,EUe,FV,Xa,Ri,uI,RUe,RF,qV,jV,qE,zV,Jue,PUe,xUe,OUe,lI,TD,vu,Xue,dI,IUe,Que,Zue,ele,tle,PF,kUe,AUe,rle,LUe,Ng,jE,Rd,Pm,UV,HV,BV,NUe,WV,$V,fI,VV,MUe,FUe,zE,GV,hI,qUe,pI,jUe,mI,zUe,KV,UUe,HUe,BUe,YV,JV,UE,WUe,$Ue,VUe,GUe,KUe,YUe,JUe,nle,ile,XUe,QUe,ZUe,eHe,tHe,rHe,nHe,iHe,oHe,ole,pt,sHe=Ti(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})(MV||(MV={}));(function(r){function e(t){return typeof t=="string"}r.is=e})(Yue||(Yue={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(EUe||(EUe={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(FV||(FV={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=FV.MAX_VALUE),i===Number.MAX_VALUE&&(i=FV.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.uinteger(i.line)&&pt.uinteger(i.character)}r.is=t})(Xa||(Xa={}));(function(r){function e(n,i,o,s){if(pt.uinteger(n)&&pt.uinteger(i)&&pt.uinteger(o)&&pt.uinteger(s))return{start:Xa.create(n,i),end:Xa.create(o,s)};if(Xa.is(n)&&Xa.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Xa.is(i.start)&&Xa.is(i.end)}r.is=t})(Ri||(Ri={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Ri.is(i.range)&&(pt.string(i.uri)||pt.undefined(i.uri))}r.is=t})(uI||(uI={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Ri.is(i.targetRange)&&pt.string(i.targetUri)&&Ri.is(i.targetSelectionRange)&&(Ri.is(i.originSelectionRange)||pt.undefined(i.originSelectionRange))}r.is=t})(RUe||(RUe={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.numberRange(i.red,0,1)&&pt.numberRange(i.green,0,1)&&pt.numberRange(i.blue,0,1)&&pt.numberRange(i.alpha,0,1)}r.is=t})(RF||(RF={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Ri.is(i.range)&&RF.is(i.color)}r.is=t})(qV||(qV={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.string(i.label)&&(pt.undefined(i.textEdit)||vu.is(i))&&(pt.undefined(i.additionalTextEdits)||pt.typedArray(i.additionalTextEdits,vu.is))}r.is=t})(jV||(jV={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(qE||(qE={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return pt.defined(o)&&(u.startCharacter=o),pt.defined(s)&&(u.endCharacter=s),pt.defined(a)&&(u.kind=a),pt.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.uinteger(i.startLine)&&pt.uinteger(i.startLine)&&(pt.undefined(i.startCharacter)||pt.uinteger(i.startCharacter))&&(pt.undefined(i.endCharacter)||pt.uinteger(i.endCharacter))&&(pt.undefined(i.kind)||pt.string(i.kind))}r.is=t})(zV||(zV={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&uI.is(i.location)&&pt.string(i.message)}r.is=t})(Jue||(Jue={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(PUe||(PUe={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(xUe||(xUe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&pt.string(n.href)}r.is=e})(OUe||(OUe={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return pt.defined(o)&&(u.severity=o),pt.defined(s)&&(u.code=s),pt.defined(a)&&(u.source=a),pt.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return pt.defined(o)&&Ri.is(o.range)&&pt.string(o.message)&&(pt.number(o.severity)||pt.undefined(o.severity))&&(pt.integer(o.code)||pt.string(o.code)||pt.undefined(o.code))&&(pt.undefined(o.codeDescription)||pt.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(pt.string(o.source)||pt.undefined(o.source))&&(pt.undefined(o.relatedInformation)||pt.typedArray(o.relatedInformation,Jue.is))}r.is=t})(lI||(lI={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return pt.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.title)&&pt.string(i.command)}r.is=t})(TD||(TD={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return pt.objectLiteral(s)&&pt.string(s.newText)&&Ri.is(s.range)}r.is=i})(vu||(vu={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.string(i.label)&&(pt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(pt.string(i.description)||i.description===void 0)}r.is=t})(Xue||(Xue={}));(function(r){function e(t){let n=t;return pt.string(n)}r.is=e})(dI||(dI={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return vu.is(s)&&(Xue.is(s.annotationId)||dI.is(s.annotationId))}r.is=i})(IUe||(IUe={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&rle.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})(Que||(Que={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&pt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||pt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||dI.is(i.annotationId))}r.is=t})(Zue||(Zue={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&pt.string(i.oldUri)&&pt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||pt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||dI.is(i.annotationId))}r.is=t})(ele||(ele={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&pt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||pt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||pt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||dI.is(i.annotationId))}r.is=t})(tle||(tle={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>pt.string(i.kind)?Zue.is(i)||ele.is(i)||tle.is(i):Que.is(i)))}r.is=e})(PF||(PF={}));(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)}r.is=t})(kUe||(kUe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&pt.integer(i.version)}r.is=t})(AUe||(AUe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&(i.version===null||pt.integer(i.version))}r.is=t})(rle||(rle={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&pt.string(i.languageId)&&pt.integer(i.version)&&pt.string(i.text)}r.is=t})(LUe||(LUe={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})(Ng||(Ng={}));(function(r){function e(t){let n=t;return pt.objectLiteral(t)&&Ng.is(n.kind)&&pt.string(n.value)}r.is=e})(jE||(jE={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(Rd||(Rd={}));(function(r){r.PlainText=1,r.Snippet=2})(Pm||(Pm={}));(function(r){r.Deprecated=1})(UV||(UV={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&pt.string(i.newText)&&Ri.is(i.insert)&&Ri.is(i.replace)}r.is=t})(HV||(HV={}));(function(r){r.asIs=1,r.adjustIndentation=2})(BV||(BV={}));(function(r){function e(t){let n=t;return n&&(pt.string(n.detail)||n.detail===void 0)&&(pt.string(n.description)||n.description===void 0)}r.is=e})(NUe||(NUe={}));(function(r){function e(t){return{label:t}}r.create=e})(WV||(WV={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})($V||($V={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return pt.string(i)||pt.objectLiteral(i)&&pt.string(i.language)&&pt.string(i.value)}r.is=t})(fI||(fI={}));(function(r){function e(t){let n=t;return!!n&&pt.objectLiteral(n)&&(jE.is(n.contents)||fI.is(n.contents)||pt.typedArray(n.contents,fI.is))&&(t.range===void 0||Ri.is(t.range))}r.is=e})(VV||(VV={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})(MUe||(MUe={}));(function(r){function e(t,n,...i){let o={label:t};return pt.defined(n)&&(o.documentation=n),pt.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(FUe||(FUe={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(zE||(zE={}));(function(r){function e(t,n){let i={range:t};return pt.number(n)&&(i.kind=n),i}r.create=e})(GV||(GV={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(hI||(hI={}));(function(r){r.Deprecated=1})(qUe||(qUe={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(pI||(pI={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(jUe||(jUe={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&pt.string(i.name)&&pt.number(i.kind)&&Ri.is(i.range)&&Ri.is(i.selectionRange)&&(i.detail===void 0||pt.string(i.detail))&&(i.deprecated===void 0||pt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})(mI||(mI={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll"})(zUe||(zUe={}));(function(r){r.Invoked=1,r.Automatic=2})(KV||(KV={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.typedArray(i.diagnostics,lI.is)&&(i.only===void 0||pt.typedArray(i.only,pt.string))&&(i.triggerKind===void 0||i.triggerKind===KV.Invoked||i.triggerKind===KV.Automatic)}r.is=t})(UUe||(UUe={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):TD.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&pt.string(i.title)&&(i.diagnostics===void 0||pt.typedArray(i.diagnostics,lI.is))&&(i.kind===void 0||pt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||TD.is(i.command))&&(i.isPreferred===void 0||pt.boolean(i.isPreferred))&&(i.edit===void 0||PF.is(i.edit))}r.is=t})(HUe||(HUe={}));(function(r){function e(n,i){let o={range:n};return pt.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return pt.defined(i)&&Ri.is(i.range)&&(pt.undefined(i.command)||TD.is(i.command))}r.is=t})(BUe||(BUe={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.uinteger(i.tabSize)&&pt.boolean(i.insertSpaces)}r.is=t})(YV||(YV={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Ri.is(i.range)&&(pt.undefined(i.target)||pt.string(i.target))}r.is=t})(JV||(JV={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Ri.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(UE||(UE={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator"})(WUe||(WUe={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})($Ue||($Ue={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(VUe||(VUe={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&Ri.is(i.range)&&pt.string(i.text)}r.is=t})(GUe||(GUe={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&Ri.is(i.range)&&pt.boolean(i.caseSensitiveLookup)&&(pt.string(i.variableName)||i.variableName===void 0)}r.is=t})(KUe||(KUe={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&Ri.is(i.range)&&(pt.string(i.expression)||i.expression===void 0)}r.is=t})(YUe||(YUe={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Ri.is(n.stoppedLocation)}r.is=t})(JUe||(JUe={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(nle||(nle={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&(i.tooltip===void 0||pt.string(i.tooltip)||jE.is(i.tooltip))&&(i.location===void 0||uI.is(i.location))&&(i.command===void 0||TD.is(i.command))}r.is=t})(ile||(ile={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Xa.is(i.position)&&(pt.string(i.label)||pt.typedArray(i.label,ile.is))&&(i.kind===void 0||nle.is(i.kind))&&i.textEdits===void 0||pt.typedArray(i.textEdits,vu.is)&&(i.tooltip===void 0||pt.string(i.tooltip)||jE.is(i.tooltip))&&(i.paddingLeft===void 0||pt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||pt.boolean(i.paddingRight))}r.is=t})(XUe||(XUe={}));(function(r){function e(t){return{kind:"snippet",value:t}}r.createSnippet=e})(QUe||(QUe={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(ZUe||(ZUe={}));(function(r){function e(t){return{items:t}}r.create=e})(eHe||(eHe={}));(function(r){r.Invoked=0,r.Automatic=1})(tHe||(tHe={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(rHe||(rHe={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})(nHe||(nHe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&Yue.is(n.uri)&&pt.string(n.name)}r.is=e})(iHe||(iHe={}));(function(r){function e(o,s,a,c){return new ole(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(pt.defined(s)&&pt.string(s.uri)&&(pt.undefined(s.languageId)||pt.string(s.languageId))&&pt.uinteger(s.lineCount)&&pt.func(s.getText)&&pt.func(s.positionAt)&&pt.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),p=o.offsetAt(d.range.end);if(p<=u)a=a.substring(0,f)+d.newText+a.substring(p,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(oHe||(oHe={}));ole=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return Xa.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return Xa.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(p){return typeof p<"u"}r.defined=t;function n(p){return typeof p>"u"}r.undefined=n;function i(p){return p===!0||p===!1}r.boolean=i;function o(p){return e.call(p)==="[object String]"}r.string=o;function s(p){return e.call(p)==="[object Number]"}r.number=s;function a(p,_,D){return e.call(p)==="[object Number]"&&_<=p&&p<=D}r.numberRange=a;function c(p){return e.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}r.integer=c;function u(p){return e.call(p)==="[object Number]"&&0<=p&&p<=2147483647}r.uinteger=u;function l(p){return e.call(p)==="[object Function]"}r.func=l;function d(p){return p!==null&&typeof p=="object"}r.objectLiteral=d;function f(p,_){return Array.isArray(p)&&p.every(_)}r.typedArray=f})(pt||(pt={}))});var lHe={};Qk(lHe,{TextDocument:()=>HE});function sle(r,e){if(r.length<=1)return r;let t=r.length/2|0,n=r.slice(0,t),i=r.slice(t);sle(n,e),sle(i,e);let o=0,s=0,a=0;for(;o<n.length&&s<i.length;)e(n[o],i[s])<=0?r[a++]=n[o++]:r[a++]=i[s++];for(;o<n.length;)r[a++]=n[o++];for(;s<i.length;)r[a++]=i[s++];return r}function aHe(r,e,t=0){let n=e?[t]:[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);cHe(o)&&(o===13&&i+1<r.length&&r.charCodeAt(i+1)===10&&i++,n.push(t+i+1))}return n}function cHe(r){return r===13||r===10}function uHe(r){let e=r.start,t=r.end;return e.line>t.line||e.line===t.line&&e.character>t.character?{start:t,end:e}:r}function LNt(r){let e=uHe(r.range);return e!==r.range?{newText:r.newText,range:e}:r}var XV,HE,QV=Ti(()=>{"use strict";XV=class r{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(let n of e)if(r.isIncremental(n)){let i=uHe(n.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,l=aHe(n.text,!1,o);if(c-a===l.length)for(let f=0,p=l.length;f<p;f++)u[f+a+1]=l[f];else l.length<1e4?u.splice(a+1,c-a,...l):this._lineOffsets=u=u.slice(0,a+1).concat(l,u.slice(c+1));let d=n.text.length-(s-o);if(d!==0)for(let f=a+1+l.length,p=u.length;f<p;f++)u[f]=u[f]+d}else if(r.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=t}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=aHe(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return{line:0,character:e};for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return e=this.ensureBeforeEOL(e,t[o]),{line:o,character:e-t[o]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line];if(e.character<=0)return n;let i=e.line+1<t.length?t[e.line+1]:this._content.length,o=Math.min(n+e.character,i);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(e,t){for(;e>t&&cHe(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range!==void 0&&(t.rangeLength===void 0||typeof t.rangeLength=="number")}static isFull(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range===void 0&&t.rangeLength===void 0}};(function(r){function e(i,o,s,a){return new XV(i,o,s,a)}r.create=e;function t(i,o,s){if(i instanceof XV)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}r.update=t;function n(i,o){let s=i.getText(),a=sle(o.map(LNt),(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),c=0,u=[];for(let l of a){let d=i.offsetAt(l.range.start);if(d<c)throw new Error("Overlapping edit");d>c&&u.push(s.substring(c,d)),l.newText.length&&u.push(l.newText),c=i.offsetAt(l.range.end)}return u.push(s.substr(c)),u.join("")}r.applyEdits=n})(HE||(HE={}))});var Xt,Yn,ale,xF,xm=Ti(()=>{sHe();QV();(function(r){r[r.StartCommentTag=0]="StartCommentTag",r[r.Comment=1]="Comment",r[r.EndCommentTag=2]="EndCommentTag",r[r.StartTagOpen=3]="StartTagOpen",r[r.StartTagClose=4]="StartTagClose",r[r.StartTagSelfClose=5]="StartTagSelfClose",r[r.StartTag=6]="StartTag",r[r.EndTagOpen=7]="EndTagOpen",r[r.EndTagClose=8]="EndTagClose",r[r.EndTag=9]="EndTag",r[r.DelimiterAssign=10]="DelimiterAssign",r[r.AttributeName=11]="AttributeName",r[r.AttributeValue=12]="AttributeValue",r[r.StartDoctypeTag=13]="StartDoctypeTag",r[r.Doctype=14]="Doctype",r[r.EndDoctypeTag=15]="EndDoctypeTag",r[r.Content=16]="Content",r[r.Whitespace=17]="Whitespace",r[r.Unknown=18]="Unknown",r[r.Script=19]="Script",r[r.Styles=20]="Styles",r[r.EOS=21]="EOS"})(Xt||(Xt={}));(function(r){r[r.WithinContent=0]="WithinContent",r[r.AfterOpeningStartTag=1]="AfterOpeningStartTag",r[r.AfterOpeningEndTag=2]="AfterOpeningEndTag",r[r.WithinDoctype=3]="WithinDoctype",r[r.WithinTag=4]="WithinTag",r[r.WithinEndTag=5]="WithinEndTag",r[r.WithinComment=6]="WithinComment",r[r.WithinScriptContent=7]="WithinScriptContent",r[r.WithinStyleContent=8]="WithinStyleContent",r[r.AfterAttributeName=9]="AfterAttributeName",r[r.BeforeAttributeValue=10]="BeforeAttributeValue"})(Yn||(Yn={}));(function(r){r.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[Ng.Markdown,Ng.PlainText]}},hover:{contentFormat:[Ng.Markdown,Ng.PlainText]}}}})(ale||(ale={}));(function(r){r[r.Unknown=0]="Unknown",r[r.File=1]="File",r[r.Directory=2]="Directory",r[r.SymbolicLink=64]="SymbolicLink"})(xF||(xF={}))});function Hu(r,e=0,t=Yn.WithinContent,n=!1){let i=new ule(r,e),o=t,s=0,a=Xt.Unknown,c,u,l,d,f;function p(){return i.advanceIfRegExp(/^[_:\w][_:\w-.\d]*/).toLowerCase()}function _(){return i.advanceIfRegExp(/^[^\s"'></=\x00-\x0F\x7F\x80-\x9F]*/).toLowerCase()}function D(A,U,ee){return a=U,s=A,c=ee,U}function x(){let A=i.pos(),U=o,ee=N();return ee!==Xt.EOS&&A===i.pos()&&!(n&&(ee===Xt.StartTagClose||ee===Xt.EndTagClose))?(console.warn("Scanner.scan has not advanced at offset "+A+", state before: "+U+" after: "+o),i.advance(1),D(A,Xt.Unknown)):ee}function N(){let A=i.pos();if(i.eos())return D(A,Xt.EOS);let U;switch(o){case Yn.WithinComment:return i.advanceIfChars([gI,gI,rw])?(o=Yn.WithinContent,D(A,Xt.EndCommentTag)):(i.advanceUntilChars([gI,gI,rw]),D(A,Xt.Comment));case Yn.WithinDoctype:return i.advanceIfChar(rw)?(o=Yn.WithinContent,D(A,Xt.EndDoctypeTag)):(i.advanceUntilChar(rw),D(A,Xt.Doctype));case Yn.WithinContent:if(i.advanceIfChar(ZV)){if(!i.eos()&&i.peekChar()===dHe){if(i.advanceIfChars([dHe,gI,gI]))return o=Yn.WithinComment,D(A,Xt.StartCommentTag);if(i.advanceIfRegExp(/^!doctype/i))return o=Yn.WithinDoctype,D(A,Xt.StartDoctypeTag)}return i.advanceIfChar(cle)?(o=Yn.AfterOpeningEndTag,D(A,Xt.EndTagOpen)):(o=Yn.AfterOpeningStartTag,D(A,Xt.StartTagOpen))}return i.advanceUntilChar(ZV),D(A,Xt.Content);case Yn.AfterOpeningEndTag:return p().length>0?(o=Yn.WithinEndTag,D(A,Xt.EndTag)):i.skipWhitespace()?D(A,Xt.Whitespace,rC.t("Tag name must directly follow the open bracket.")):(o=Yn.WithinEndTag,i.advanceUntilChar(rw),A<i.pos()?D(A,Xt.Unknown,rC.t("End tag name expected.")):N());case Yn.WithinEndTag:if(i.skipWhitespace())return D(A,Xt.Whitespace);if(i.advanceIfChar(rw))return o=Yn.WithinContent,D(A,Xt.EndTagClose);if(n&&i.peekChar()===ZV)return o=Yn.WithinContent,D(A,Xt.EndTagClose,rC.t("Closing bracket missing."));U=rC.t("Closing bracket expected.");break;case Yn.AfterOpeningStartTag:return l=p(),f=void 0,d=void 0,l.length>0?(u=!1,o=Yn.WithinTag,D(A,Xt.StartTag)):i.skipWhitespace()?D(A,Xt.Whitespace,rC.t("Tag name must directly follow the open bracket.")):(o=Yn.WithinTag,i.advanceUntilChar(rw),A<i.pos()?D(A,Xt.Unknown,rC.t("Start tag name expected.")):N());case Yn.WithinTag:return i.skipWhitespace()?(u=!0,D(A,Xt.Whitespace)):u&&(d=_(),d.length>0)?(o=Yn.AfterAttributeName,u=!1,D(A,Xt.AttributeName)):i.advanceIfChars([cle,rw])?(o=Yn.WithinContent,D(A,Xt.StartTagSelfClose)):i.advanceIfChar(rw)?(l==="script"?f&&BNt[f]?o=Yn.WithinContent:o=Yn.WithinScriptContent:l==="style"?o=Yn.WithinStyleContent:o=Yn.WithinContent,D(A,Xt.StartTagClose)):n&&i.peekChar()===ZV?(o=Yn.WithinContent,D(A,Xt.StartTagClose,rC.t("Closing bracket missing."))):(i.advance(1),D(A,Xt.Unknown,rC.t("Unexpected character in tag.")));case Yn.AfterAttributeName:return i.skipWhitespace()?(u=!0,D(A,Xt.Whitespace)):i.advanceIfChar(NNt)?(o=Yn.BeforeAttributeValue,D(A,Xt.DelimiterAssign)):(o=Yn.WithinTag,N());case Yn.BeforeAttributeValue:if(i.skipWhitespace())return D(A,Xt.Whitespace);let he=i.advanceIfRegExp(/^[^\s"'`=<>]+/);if(he.length>0&&(i.peekChar()===rw&&i.peekChar(-1)===cle&&(i.goBack(1),he=he.substring(0,he.length-1)),d==="type"&&(f=he),he.length>0))return o=Yn.WithinTag,u=!1,D(A,Xt.AttributeValue);let we=i.peekChar();return we===FNt||we===MNt?(i.advance(1),i.advanceUntilChar(we)&&i.advance(1),d==="type"&&(f=i.getSource().substring(A+1,i.pos()-1)),o=Yn.WithinTag,u=!1,D(A,Xt.AttributeValue)):(o=Yn.WithinTag,u=!1,N());case Yn.WithinScriptContent:let V=1;for(;!i.eos();){let W=i.advanceIfRegExp(/<!--|-->|<\/?script\s*\/?>?/i);if(W.length===0)return i.goToEnd(),D(A,Xt.Script);if(W==="<!--")V===1&&(V=2);else if(W==="-->")V=1;else if(W[1]!=="/")V===2&&(V=3);else if(V===3)V=2;else{i.goBack(W.length);break}}return o=Yn.WithinContent,A<i.pos()?D(A,Xt.Script):N();case Yn.WithinStyleContent:return i.advanceUntilRegExp(/<\/style/i),o=Yn.WithinContent,A<i.pos()?D(A,Xt.Styles):N()}return i.advance(1),o=Yn.WithinContent,D(A,Xt.Unknown,U)}return{scan:x,getTokenType:()=>a,getTokenOffset:()=>s,getTokenLength:()=>i.pos()-s,getTokenEnd:()=>i.pos(),getTokenText:()=>i.getSource().substring(s,i.pos()),getScannerState:()=>o,getTokenError:()=>c}}var rC,ule,dHe,gI,ZV,rw,cle,NNt,MNt,FNt,qNt,jNt,zNt,UNt,HNt,BNt,nC=Ti(()=>{rC=ye(NV());xm();ule=class{constructor(e,t){this.source=e,this.len=e.length,this.position=t}eos(){return this.len<=this.position}getSource(){return this.source}pos(){return this.position}goBackTo(e){this.position=e}goBack(e){this.position-=e}advance(e){this.position+=e}goToEnd(){this.position=this.source.length}nextChar(){return this.source.charCodeAt(this.position++)||0}peekChar(e=0){return this.source.charCodeAt(this.position+e)||0}advanceIfChar(e){return e===this.source.charCodeAt(this.position)?(this.position++,!0):!1}advanceIfChars(e){let t;if(this.position+e.length>this.source.length)return!1;for(t=0;t<e.length;t++)if(this.source.charCodeAt(this.position+t)!==e[t])return!1;return this.advance(t),!0}advanceIfRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index+n[0].length,n[0]):""}advanceUntilRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index,n[0]):(this.goToEnd(),"")}advanceUntilChar(e){for(;this.position<this.source.length;){if(this.source.charCodeAt(this.position)===e)return!0;this.advance(1)}return!1}advanceUntilChars(e){for(;this.position+e.length<=this.source.length;){let t=0;for(;t<e.length&&this.source.charCodeAt(this.position+t)===e[t];t++);if(t===e.length)return!0;this.advance(1)}return this.goToEnd(),!1}skipWhitespace(){return this.advanceWhileChar(t=>t===UNt||t===HNt||t===qNt||t===zNt||t===jNt)>0}advanceWhileChar(e){let t=this.position;for(;this.position<this.len&&e(this.source.charCodeAt(this.position));)this.position++;return this.position-t}},dHe=33,gI=45,ZV=60,rw=62,cle=47,NNt=61,MNt=34,FNt=39,qNt=10,jNt=13,zNt=12,UNt=32,HNt=9,BNt={"text/x-handlebars-template":!0,"text/html":!0}});function lle(r,e){let t=0,n=r.length;if(n===0)return 0;for(;t<n;){let i=Math.floor((t+n)/2);e(r[i])?n=i:t=i+1}return t}function fHe(r,e,t){let n=0,i=r.length-1;for(;n<=i;){let o=(n+i)/2|0,s=t(r[o],e);if(s<0)n=o+1;else if(s>0)i=o-1;else return o}return-(n+1)}var dle=Ti(()=>{});var e4,t4,hHe=Ti(()=>{nC();dle();xm();e4=class{get attributeNames(){return this.attributes?Object.keys(this.attributes):[]}constructor(e,t,n,i){this.start=e,this.end=t,this.children=n,this.parent=i,this.closed=!1}isSameTag(e){return this.tag===void 0?e===void 0:e!==void 0&&this.tag.length===e.length&&this.tag.toLowerCase()===e}get firstChild(){return this.children[0]}get lastChild(){return this.children.length?this.children[this.children.length-1]:void 0}findNodeBefore(e){let t=lle(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start){if(e<n.end)return n.findNodeBefore(e);let i=n.lastChild;return i&&i.end===n.end?n.findNodeBefore(e):n}}return this}findNodeAt(e){let t=lle(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start&&e<=n.end)return n.findNodeAt(e)}return this}},t4=class{constructor(e){this.dataManager=e}parseDocument(e){return this.parse(e.getText(),this.dataManager.getVoidElements(e.languageId))}parse(e,t){let n=Hu(e,void 0,void 0,!0),i=new e4(0,e.length,[],void 0),o=i,s=-1,a,c=null,u=n.scan();for(;u!==Xt.EOS;){switch(u){case Xt.StartTagOpen:let l=new e4(n.getTokenOffset(),e.length,[],o);o.children.push(l),o=l;break;case Xt.StartTag:o.tag=n.getTokenText();break;case Xt.StartTagClose:o.parent&&(o.end=n.getTokenEnd(),n.getTokenLength()?(o.startTagEnd=n.getTokenEnd(),o.tag&&this.dataManager.isVoidElement(o.tag,t)&&(o.closed=!0,o=o.parent)):o=o.parent);break;case Xt.StartTagSelfClose:o.parent&&(o.closed=!0,o.end=n.getTokenEnd(),o.startTagEnd=n.getTokenEnd(),o=o.parent);break;case Xt.EndTagOpen:s=n.getTokenOffset(),a=void 0;break;case Xt.EndTag:a=n.getTokenText().toLowerCase();break;case Xt.EndTagClose:let d=o;for(;!d.isSameTag(a)&&d.parent;)d=d.parent;if(d.parent){for(;o!==d;)o.end=s,o.closed=!1,o=o.parent;o.closed=!0,o.endTagStart=s,o.end=n.getTokenEnd(),o=o.parent}break;case Xt.AttributeName:{c=n.getTokenText();let f=o.attributes;f||(o.attributes=f={}),f[c]=null;break}case Xt.AttributeValue:{let f=n.getTokenText(),p=o.attributes;p&&c&&(p[c]=f,c=null);break}}u=n.scan()}for(;o.parent;)o.end=e.length,o.closed=!1,o=o.parent;return{roots:i.children,findNodeBefore:i.findNodeBefore.bind(i),findNodeAt:i.findNodeAt.bind(i)}}}});var BE,fle=Ti(()=>{BE={"Aacute;":"\xC1",Aacute:"\xC1","aacute;":"\xE1",aacute:"\xE1","Abreve;":"\u0102","abreve;":"\u0103","ac;":"\u223E","acd;":"\u223F","acE;":"\u223E\u0333","Acirc;":"\xC2",Acirc:"\xC2","acirc;":"\xE2",acirc:"\xE2","acute;":"\xB4",acute:"\xB4","Acy;":"\u0410","acy;":"\u0430","AElig;":"\xC6",AElig:"\xC6","aelig;":"\xE6",aelig:"\xE6","af;":"\u2061","Afr;":"\u{1D504}","afr;":"\u{1D51E}","Agrave;":"\xC0",Agrave:"\xC0","agrave;":"\xE0",agrave:"\xE0","alefsym;":"\u2135","aleph;":"\u2135","Alpha;":"\u0391","alpha;":"\u03B1","Amacr;":"\u0100","amacr;":"\u0101","amalg;":"\u2A3F","AMP;":"&",AMP:"&","amp;":"&",amp:"&","And;":"\u2A53","and;":"\u2227","andand;":"\u2A55","andd;":"\u2A5C","andslope;":"\u2A58","andv;":"\u2A5A","ang;":"\u2220","ange;":"\u29A4","angle;":"\u2220","angmsd;":"\u2221","angmsdaa;":"\u29A8","angmsdab;":"\u29A9","angmsdac;":"\u29AA","angmsdad;":"\u29AB","angmsdae;":"\u29AC","angmsdaf;":"\u29AD","angmsdag;":"\u29AE","angmsdah;":"\u29AF","angrt;":"\u221F","angrtvb;":"\u22BE","angrtvbd;":"\u299D","angsph;":"\u2222","angst;":"\xC5","angzarr;":"\u237C","Aogon;":"\u0104","aogon;":"\u0105","Aopf;":"\u{1D538}","aopf;":"\u{1D552}","ap;":"\u2248","apacir;":"\u2A6F","apE;":"\u2A70","ape;":"\u224A","apid;":"\u224B","apos;":"'","ApplyFunction;":"\u2061","approx;":"\u2248","approxeq;":"\u224A","Aring;":"\xC5",Aring:"\xC5","aring;":"\xE5",aring:"\xE5","Ascr;":"\u{1D49C}","ascr;":"\u{1D4B6}","Assign;":"\u2254","ast;":"*","asymp;":"\u2248","asympeq;":"\u224D","Atilde;":"\xC3",Atilde:"\xC3","atilde;":"\xE3",atilde:"\xE3","Auml;":"\xC4",Auml:"\xC4","auml;":"\xE4",auml:"\xE4","awconint;":"\u2233","awint;":"\u2A11","backcong;":"\u224C","backepsilon;":"\u03F6","backprime;":"\u2035","backsim;":"\u223D","backsimeq;":"\u22CD","Backslash;":"\u2216","Barv;":"\u2AE7","barvee;":"\u22BD","Barwed;":"\u2306","barwed;":"\u2305","barwedge;":"\u2305","bbrk;":"\u23B5","bbrktbrk;":"\u23B6","bcong;":"\u224C","Bcy;":"\u0411","bcy;":"\u0431","bdquo;":"\u201E","becaus;":"\u2235","Because;":"\u2235","because;":"\u2235","bemptyv;":"\u29B0","bepsi;":"\u03F6","bernou;":"\u212C","Bernoullis;":"\u212C","Beta;":"\u0392","beta;":"\u03B2","beth;":"\u2136","between;":"\u226C","Bfr;":"\u{1D505}","bfr;":"\u{1D51F}","bigcap;":"\u22C2","bigcirc;":"\u25EF","bigcup;":"\u22C3","bigodot;":"\u2A00","bigoplus;":"\u2A01","bigotimes;":"\u2A02","bigsqcup;":"\u2A06","bigstar;":"\u2605","bigtriangledown;":"\u25BD","bigtriangleup;":"\u25B3","biguplus;":"\u2A04","bigvee;":"\u22C1","bigwedge;":"\u22C0","bkarow;":"\u290D","blacklozenge;":"\u29EB","blacksquare;":"\u25AA","blacktriangle;":"\u25B4","blacktriangledown;":"\u25BE","blacktriangleleft;":"\u25C2","blacktriangleright;":"\u25B8","blank;":"\u2423","blk12;":"\u2592","blk14;":"\u2591","blk34;":"\u2593","block;":"\u2588","bne;":"=\u20E5","bnequiv;":"\u2261\u20E5","bNot;":"\u2AED","bnot;":"\u2310","Bopf;":"\u{1D539}","bopf;":"\u{1D553}","bot;":"\u22A5","bottom;":"\u22A5","bowtie;":"\u22C8","boxbox;":"\u29C9","boxDL;":"\u2557","boxDl;":"\u2556","boxdL;":"\u2555","boxdl;":"\u2510","boxDR;":"\u2554","boxDr;":"\u2553","boxdR;":"\u2552","boxdr;":"\u250C","boxH;":"\u2550","boxh;":"\u2500","boxHD;":"\u2566","boxHd;":"\u2564","boxhD;":"\u2565","boxhd;":"\u252C","boxHU;":"\u2569","boxHu;":"\u2567","boxhU;":"\u2568","boxhu;":"\u2534","boxminus;":"\u229F","boxplus;":"\u229E","boxtimes;":"\u22A0","boxUL;":"\u255D","boxUl;":"\u255C","boxuL;":"\u255B","boxul;":"\u2518","boxUR;":"\u255A","boxUr;":"\u2559","boxuR;":"\u2558","boxur;":"\u2514","boxV;":"\u2551","boxv;":"\u2502","boxVH;":"\u256C","boxVh;":"\u256B","boxvH;":"\u256A","boxvh;":"\u253C","boxVL;":"\u2563","boxVl;":"\u2562","boxvL;":"\u2561","boxvl;":"\u2524","boxVR;":"\u2560","boxVr;":"\u255F","boxvR;":"\u255E","boxvr;":"\u251C","bprime;":"\u2035","Breve;":"\u02D8","breve;":"\u02D8","brvbar;":"\xA6",brvbar:"\xA6","Bscr;":"\u212C","bscr;":"\u{1D4B7}","bsemi;":"\u204F","bsim;":"\u223D","bsime;":"\u22CD","bsol;":"\\","bsolb;":"\u29C5","bsolhsub;":"\u27C8","bull;":"\u2022","bullet;":"\u2022","bump;":"\u224E","bumpE;":"\u2AAE","bumpe;":"\u224F","Bumpeq;":"\u224E","bumpeq;":"\u224F","Cacute;":"\u0106","cacute;":"\u0107","Cap;":"\u22D2","cap;":"\u2229","capand;":"\u2A44","capbrcup;":"\u2A49","capcap;":"\u2A4B","capcup;":"\u2A47","capdot;":"\u2A40","CapitalDifferentialD;":"\u2145","caps;":"\u2229\uFE00","caret;":"\u2041","caron;":"\u02C7","Cayleys;":"\u212D","ccaps;":"\u2A4D","Ccaron;":"\u010C","ccaron;":"\u010D","Ccedil;":"\xC7",Ccedil:"\xC7","ccedil;":"\xE7",ccedil:"\xE7","Ccirc;":"\u0108","ccirc;":"\u0109","Cconint;":"\u2230","ccups;":"\u2A4C","ccupssm;":"\u2A50","Cdot;":"\u010A","cdot;":"\u010B","cedil;":"\xB8",cedil:"\xB8","Cedilla;":"\xB8","cemptyv;":"\u29B2","cent;":"\xA2",cent:"\xA2","CenterDot;":"\xB7","centerdot;":"\xB7","Cfr;":"\u212D","cfr;":"\u{1D520}","CHcy;":"\u0427","chcy;":"\u0447","check;":"\u2713","checkmark;":"\u2713","Chi;":"\u03A7","chi;":"\u03C7","cir;":"\u25CB","circ;":"\u02C6","circeq;":"\u2257","circlearrowleft;":"\u21BA","circlearrowright;":"\u21BB","circledast;":"\u229B","circledcirc;":"\u229A","circleddash;":"\u229D","CircleDot;":"\u2299","circledR;":"\xAE","circledS;":"\u24C8","CircleMinus;":"\u2296","CirclePlus;":"\u2295","CircleTimes;":"\u2297","cirE;":"\u29C3","cire;":"\u2257","cirfnint;":"\u2A10","cirmid;":"\u2AEF","cirscir;":"\u29C2","ClockwiseContourIntegral;":"\u2232","CloseCurlyDoubleQuote;":"\u201D","CloseCurlyQuote;":"\u2019","clubs;":"\u2663","clubsuit;":"\u2663","Colon;":"\u2237","colon;":":","Colone;":"\u2A74","colone;":"\u2254","coloneq;":"\u2254","comma;":",","commat;":"@","comp;":"\u2201","compfn;":"\u2218","complement;":"\u2201","complexes;":"\u2102","cong;":"\u2245","congdot;":"\u2A6D","Congruent;":"\u2261","Conint;":"\u222F","conint;":"\u222E","ContourIntegral;":"\u222E","Copf;":"\u2102","copf;":"\u{1D554}","coprod;":"\u2210","Coproduct;":"\u2210","COPY;":"\xA9",COPY:"\xA9","copy;":"\xA9",copy:"\xA9","copysr;":"\u2117","CounterClockwiseContourIntegral;":"\u2233","crarr;":"\u21B5","Cross;":"\u2A2F","cross;":"\u2717","Cscr;":"\u{1D49E}","cscr;":"\u{1D4B8}","csub;":"\u2ACF","csube;":"\u2AD1","csup;":"\u2AD0","csupe;":"\u2AD2","ctdot;":"\u22EF","cudarrl;":"\u2938","cudarrr;":"\u2935","cuepr;":"\u22DE","cuesc;":"\u22DF","cularr;":"\u21B6","cularrp;":"\u293D","Cup;":"\u22D3","cup;":"\u222A","cupbrcap;":"\u2A48","CupCap;":"\u224D","cupcap;":"\u2A46","cupcup;":"\u2A4A","cupdot;":"\u228D","cupor;":"\u2A45","cups;":"\u222A\uFE00","curarr;":"\u21B7","curarrm;":"\u293C","curlyeqprec;":"\u22DE","curlyeqsucc;":"\u22DF","curlyvee;":"\u22CE","curlywedge;":"\u22CF","curren;":"\xA4",curren:"\xA4","curvearrowleft;":"\u21B6","curvearrowright;":"\u21B7","cuvee;":"\u22CE","cuwed;":"\u22CF","cwconint;":"\u2232","cwint;":"\u2231","cylcty;":"\u232D","Dagger;":"\u2021","dagger;":"\u2020","daleth;":"\u2138","Darr;":"\u21A1","dArr;":"\u21D3","darr;":"\u2193","dash;":"\u2010","Dashv;":"\u2AE4","dashv;":"\u22A3","dbkarow;":"\u290F","dblac;":"\u02DD","Dcaron;":"\u010E","dcaron;":"\u010F","Dcy;":"\u0414","dcy;":"\u0434","DD;":"\u2145","dd;":"\u2146","ddagger;":"\u2021","ddarr;":"\u21CA","DDotrahd;":"\u2911","ddotseq;":"\u2A77","deg;":"\xB0",deg:"\xB0","Del;":"\u2207","Delta;":"\u0394","delta;":"\u03B4","demptyv;":"\u29B1","dfisht;":"\u297F","Dfr;":"\u{1D507}","dfr;":"\u{1D521}","dHar;":"\u2965","dharl;":"\u21C3","dharr;":"\u21C2","DiacriticalAcute;":"\xB4","DiacriticalDot;":"\u02D9","DiacriticalDoubleAcute;":"\u02DD","DiacriticalGrave;":"`","DiacriticalTilde;":"\u02DC","diam;":"\u22C4","Diamond;":"\u22C4","diamond;":"\u22C4","diamondsuit;":"\u2666","diams;":"\u2666","die;":"\xA8","DifferentialD;":"\u2146","digamma;":"\u03DD","disin;":"\u22F2","div;":"\xF7","divide;":"\xF7",divide:"\xF7","divideontimes;":"\u22C7","divonx;":"\u22C7","DJcy;":"\u0402","djcy;":"\u0452","dlcorn;":"\u231E","dlcrop;":"\u230D","dollar;":"$","Dopf;":"\u{1D53B}","dopf;":"\u{1D555}","Dot;":"\xA8","dot;":"\u02D9","DotDot;":"\u20DC","doteq;":"\u2250","doteqdot;":"\u2251","DotEqual;":"\u2250","dotminus;":"\u2238","dotplus;":"\u2214","dotsquare;":"\u22A1","doublebarwedge;":"\u2306","DoubleContourIntegral;":"\u222F","DoubleDot;":"\xA8","DoubleDownArrow;":"\u21D3","DoubleLeftArrow;":"\u21D0","DoubleLeftRightArrow;":"\u21D4","DoubleLeftTee;":"\u2AE4","DoubleLongLeftArrow;":"\u27F8","DoubleLongLeftRightArrow;":"\u27FA","DoubleLongRightArrow;":"\u27F9","DoubleRightArrow;":"\u21D2","DoubleRightTee;":"\u22A8","DoubleUpArrow;":"\u21D1","DoubleUpDownArrow;":"\u21D5","DoubleVerticalBar;":"\u2225","DownArrow;":"\u2193","Downarrow;":"\u21D3","downarrow;":"\u2193","DownArrowBar;":"\u2913","DownArrowUpArrow;":"\u21F5","DownBreve;":"\u0311","downdownarrows;":"\u21CA","downharpoonleft;":"\u21C3","downharpoonright;":"\u21C2","DownLeftRightVector;":"\u2950","DownLeftTeeVector;":"\u295E","DownLeftVector;":"\u21BD","DownLeftVectorBar;":"\u2956","DownRightTeeVector;":"\u295F","DownRightVector;":"\u21C1","DownRightVectorBar;":"\u2957","DownTee;":"\u22A4","DownTeeArrow;":"\u21A7","drbkarow;":"\u2910","drcorn;":"\u231F","drcrop;":"\u230C","Dscr;":"\u{1D49F}","dscr;":"\u{1D4B9}","DScy;":"\u0405","dscy;":"\u0455","dsol;":"\u29F6","Dstrok;":"\u0110","dstrok;":"\u0111","dtdot;":"\u22F1","dtri;":"\u25BF","dtrif;":"\u25BE","duarr;":"\u21F5","duhar;":"\u296F","dwangle;":"\u29A6","DZcy;":"\u040F","dzcy;":"\u045F","dzigrarr;":"\u27FF","Eacute;":"\xC9",Eacute:"\xC9","eacute;":"\xE9",eacute:"\xE9","easter;":"\u2A6E","Ecaron;":"\u011A","ecaron;":"\u011B","ecir;":"\u2256","Ecirc;":"\xCA",Ecirc:"\xCA","ecirc;":"\xEA",ecirc:"\xEA","ecolon;":"\u2255","Ecy;":"\u042D","ecy;":"\u044D","eDDot;":"\u2A77","Edot;":"\u0116","eDot;":"\u2251","edot;":"\u0117","ee;":"\u2147","efDot;":"\u2252","Efr;":"\u{1D508}","efr;":"\u{1D522}","eg;":"\u2A9A","Egrave;":"\xC8",Egrave:"\xC8","egrave;":"\xE8",egrave:"\xE8","egs;":"\u2A96","egsdot;":"\u2A98","el;":"\u2A99","Element;":"\u2208","elinters;":"\u23E7","ell;":"\u2113","els;":"\u2A95","elsdot;":"\u2A97","Emacr;":"\u0112","emacr;":"\u0113","empty;":"\u2205","emptyset;":"\u2205","EmptySmallSquare;":"\u25FB","emptyv;":"\u2205","EmptyVerySmallSquare;":"\u25AB","emsp;":"\u2003","emsp13;":"\u2004","emsp14;":"\u2005","ENG;":"\u014A","eng;":"\u014B","ensp;":"\u2002","Eogon;":"\u0118","eogon;":"\u0119","Eopf;":"\u{1D53C}","eopf;":"\u{1D556}","epar;":"\u22D5","eparsl;":"\u29E3","eplus;":"\u2A71","epsi;":"\u03B5","Epsilon;":"\u0395","epsilon;":"\u03B5","epsiv;":"\u03F5","eqcirc;":"\u2256","eqcolon;":"\u2255","eqsim;":"\u2242","eqslantgtr;":"\u2A96","eqslantless;":"\u2A95","Equal;":"\u2A75","equals;":"=","EqualTilde;":"\u2242","equest;":"\u225F","Equilibrium;":"\u21CC","equiv;":"\u2261","equivDD;":"\u2A78","eqvparsl;":"\u29E5","erarr;":"\u2971","erDot;":"\u2253","Escr;":"\u2130","escr;":"\u212F","esdot;":"\u2250","Esim;":"\u2A73","esim;":"\u2242","Eta;":"\u0397","eta;":"\u03B7","ETH;":"\xD0",ETH:"\xD0","eth;":"\xF0",eth:"\xF0","Euml;":"\xCB",Euml:"\xCB","euml;":"\xEB",euml:"\xEB","euro;":"\u20AC","excl;":"!","exist;":"\u2203","Exists;":"\u2203","expectation;":"\u2130","ExponentialE;":"\u2147","exponentiale;":"\u2147","fallingdotseq;":"\u2252","Fcy;":"\u0424","fcy;":"\u0444","female;":"\u2640","ffilig;":"\uFB03","fflig;":"\uFB00","ffllig;":"\uFB04","Ffr;":"\u{1D509}","ffr;":"\u{1D523}","filig;":"\uFB01","FilledSmallSquare;":"\u25FC","FilledVerySmallSquare;":"\u25AA","fjlig;":"fj","flat;":"\u266D","fllig;":"\uFB02","fltns;":"\u25B1","fnof;":"\u0192","Fopf;":"\u{1D53D}","fopf;":"\u{1D557}","ForAll;":"\u2200","forall;":"\u2200","fork;":"\u22D4","forkv;":"\u2AD9","Fouriertrf;":"\u2131","fpartint;":"\u2A0D","frac12;":"\xBD",frac12:"\xBD","frac13;":"\u2153","frac14;":"\xBC",frac14:"\xBC","frac15;":"\u2155","frac16;":"\u2159","frac18;":"\u215B","frac23;":"\u2154","frac25;":"\u2156","frac34;":"\xBE",frac34:"\xBE","frac35;":"\u2157","frac38;":"\u215C","frac45;":"\u2158","frac56;":"\u215A","frac58;":"\u215D","frac78;":"\u215E","frasl;":"\u2044","frown;":"\u2322","Fscr;":"\u2131","fscr;":"\u{1D4BB}","gacute;":"\u01F5","Gamma;":"\u0393","gamma;":"\u03B3","Gammad;":"\u03DC","gammad;":"\u03DD","gap;":"\u2A86","Gbreve;":"\u011E","gbreve;":"\u011F","Gcedil;":"\u0122","Gcirc;":"\u011C","gcirc;":"\u011D","Gcy;":"\u0413","gcy;":"\u0433","Gdot;":"\u0120","gdot;":"\u0121","gE;":"\u2267","ge;":"\u2265","gEl;":"\u2A8C","gel;":"\u22DB","geq;":"\u2265","geqq;":"\u2267","geqslant;":"\u2A7E","ges;":"\u2A7E","gescc;":"\u2AA9","gesdot;":"\u2A80","gesdoto;":"\u2A82","gesdotol;":"\u2A84","gesl;":"\u22DB\uFE00","gesles;":"\u2A94","Gfr;":"\u{1D50A}","gfr;":"\u{1D524}","Gg;":"\u22D9","gg;":"\u226B","ggg;":"\u22D9","gimel;":"\u2137","GJcy;":"\u0403","gjcy;":"\u0453","gl;":"\u2277","gla;":"\u2AA5","glE;":"\u2A92","glj;":"\u2AA4","gnap;":"\u2A8A","gnapprox;":"\u2A8A","gnE;":"\u2269","gne;":"\u2A88","gneq;":"\u2A88","gneqq;":"\u2269","gnsim;":"\u22E7","Gopf;":"\u{1D53E}","gopf;":"\u{1D558}","grave;":"`","GreaterEqual;":"\u2265","GreaterEqualLess;":"\u22DB","GreaterFullEqual;":"\u2267","GreaterGreater;":"\u2AA2","GreaterLess;":"\u2277","GreaterSlantEqual;":"\u2A7E","GreaterTilde;":"\u2273","Gscr;":"\u{1D4A2}","gscr;":"\u210A","gsim;":"\u2273","gsime;":"\u2A8E","gsiml;":"\u2A90","GT;":">",GT:">","Gt;":"\u226B","gt;":">",gt:">","gtcc;":"\u2AA7","gtcir;":"\u2A7A","gtdot;":"\u22D7","gtlPar;":"\u2995","gtquest;":"\u2A7C","gtrapprox;":"\u2A86","gtrarr;":"\u2978","gtrdot;":"\u22D7","gtreqless;":"\u22DB","gtreqqless;":"\u2A8C","gtrless;":"\u2277","gtrsim;":"\u2273","gvertneqq;":"\u2269\uFE00","gvnE;":"\u2269\uFE00","Hacek;":"\u02C7","hairsp;":"\u200A","half;":"\xBD","hamilt;":"\u210B","HARDcy;":"\u042A","hardcy;":"\u044A","hArr;":"\u21D4","harr;":"\u2194","harrcir;":"\u2948","harrw;":"\u21AD","Hat;":"^","hbar;":"\u210F","Hcirc;":"\u0124","hcirc;":"\u0125","hearts;":"\u2665","heartsuit;":"\u2665","hellip;":"\u2026","hercon;":"\u22B9","Hfr;":"\u210C","hfr;":"\u{1D525}","HilbertSpace;":"\u210B","hksearow;":"\u2925","hkswarow;":"\u2926","hoarr;":"\u21FF","homtht;":"\u223B","hookleftarrow;":"\u21A9","hookrightarrow;":"\u21AA","Hopf;":"\u210D","hopf;":"\u{1D559}","horbar;":"\u2015","HorizontalLine;":"\u2500","Hscr;":"\u210B","hscr;":"\u{1D4BD}","hslash;":"\u210F","Hstrok;":"\u0126","hstrok;":"\u0127","HumpDownHump;":"\u224E","HumpEqual;":"\u224F","hybull;":"\u2043","hyphen;":"\u2010","Iacute;":"\xCD",Iacute:"\xCD","iacute;":"\xED",iacute:"\xED","ic;":"\u2063","Icirc;":"\xCE",Icirc:"\xCE","icirc;":"\xEE",icirc:"\xEE","Icy;":"\u0418","icy;":"\u0438","Idot;":"\u0130","IEcy;":"\u0415","iecy;":"\u0435","iexcl;":"\xA1",iexcl:"\xA1","iff;":"\u21D4","Ifr;":"\u2111","ifr;":"\u{1D526}","Igrave;":"\xCC",Igrave:"\xCC","igrave;":"\xEC",igrave:"\xEC","ii;":"\u2148","iiiint;":"\u2A0C","iiint;":"\u222D","iinfin;":"\u29DC","iiota;":"\u2129","IJlig;":"\u0132","ijlig;":"\u0133","Im;":"\u2111","Imacr;":"\u012A","imacr;":"\u012B","image;":"\u2111","ImaginaryI;":"\u2148","imagline;":"\u2110","imagpart;":"\u2111","imath;":"\u0131","imof;":"\u22B7","imped;":"\u01B5","Implies;":"\u21D2","in;":"\u2208","incare;":"\u2105","infin;":"\u221E","infintie;":"\u29DD","inodot;":"\u0131","Int;":"\u222C","int;":"\u222B","intcal;":"\u22BA","integers;":"\u2124","Integral;":"\u222B","intercal;":"\u22BA","Intersection;":"\u22C2","intlarhk;":"\u2A17","intprod;":"\u2A3C","InvisibleComma;":"\u2063","InvisibleTimes;":"\u2062","IOcy;":"\u0401","iocy;":"\u0451","Iogon;":"\u012E","iogon;":"\u012F","Iopf;":"\u{1D540}","iopf;":"\u{1D55A}","Iota;":"\u0399","iota;":"\u03B9","iprod;":"\u2A3C","iquest;":"\xBF",iquest:"\xBF","Iscr;":"\u2110","iscr;":"\u{1D4BE}","isin;":"\u2208","isindot;":"\u22F5","isinE;":"\u22F9","isins;":"\u22F4","isinsv;":"\u22F3","isinv;":"\u2208","it;":"\u2062","Itilde;":"\u0128","itilde;":"\u0129","Iukcy;":"\u0406","iukcy;":"\u0456","Iuml;":"\xCF",Iuml:"\xCF","iuml;":"\xEF",iuml:"\xEF","Jcirc;":"\u0134","jcirc;":"\u0135","Jcy;":"\u0419","jcy;":"\u0439","Jfr;":"\u{1D50D}","jfr;":"\u{1D527}","jmath;":"\u0237","Jopf;":"\u{1D541}","jopf;":"\u{1D55B}","Jscr;":"\u{1D4A5}","jscr;":"\u{1D4BF}","Jsercy;":"\u0408","jsercy;":"\u0458","Jukcy;":"\u0404","jukcy;":"\u0454","Kappa;":"\u039A","kappa;":"\u03BA","kappav;":"\u03F0","Kcedil;":"\u0136","kcedil;":"\u0137","Kcy;":"\u041A","kcy;":"\u043A","Kfr;":"\u{1D50E}","kfr;":"\u{1D528}","kgreen;":"\u0138","KHcy;":"\u0425","khcy;":"\u0445","KJcy;":"\u040C","kjcy;":"\u045C","Kopf;":"\u{1D542}","kopf;":"\u{1D55C}","Kscr;":"\u{1D4A6}","kscr;":"\u{1D4C0}","lAarr;":"\u21DA","Lacute;":"\u0139","lacute;":"\u013A","laemptyv;":"\u29B4","lagran;":"\u2112","Lambda;":"\u039B","lambda;":"\u03BB","Lang;":"\u27EA","lang;":"\u27E8","langd;":"\u2991","langle;":"\u27E8","lap;":"\u2A85","Laplacetrf;":"\u2112","laquo;":"\xAB",laquo:"\xAB","Larr;":"\u219E","lArr;":"\u21D0","larr;":"\u2190","larrb;":"\u21E4","larrbfs;":"\u291F","larrfs;":"\u291D","larrhk;":"\u21A9","larrlp;":"\u21AB","larrpl;":"\u2939","larrsim;":"\u2973","larrtl;":"\u21A2","lat;":"\u2AAB","lAtail;":"\u291B","latail;":"\u2919","late;":"\u2AAD","lates;":"\u2AAD\uFE00","lBarr;":"\u290E","lbarr;":"\u290C","lbbrk;":"\u2772","lbrace;":"{","lbrack;":"[","lbrke;":"\u298B","lbrksld;":"\u298F","lbrkslu;":"\u298D","Lcaron;":"\u013D","lcaron;":"\u013E","Lcedil;":"\u013B","lcedil;":"\u013C","lceil;":"\u2308","lcub;":"{","Lcy;":"\u041B","lcy;":"\u043B","ldca;":"\u2936","ldquo;":"\u201C","ldquor;":"\u201E","ldrdhar;":"\u2967","ldrushar;":"\u294B","ldsh;":"\u21B2","lE;":"\u2266","le;":"\u2264","LeftAngleBracket;":"\u27E8","LeftArrow;":"\u2190","Leftarrow;":"\u21D0","leftarrow;":"\u2190","LeftArrowBar;":"\u21E4","LeftArrowRightArrow;":"\u21C6","leftarrowtail;":"\u21A2","LeftCeiling;":"\u2308","LeftDoubleBracket;":"\u27E6","LeftDownTeeVector;":"\u2961","LeftDownVector;":"\u21C3","LeftDownVectorBar;":"\u2959","LeftFloor;":"\u230A","leftharpoondown;":"\u21BD","leftharpoonup;":"\u21BC","leftleftarrows;":"\u21C7","LeftRightArrow;":"\u2194","Leftrightarrow;":"\u21D4","leftrightarrow;":"\u2194","leftrightarrows;":"\u21C6","leftrightharpoons;":"\u21CB","leftrightsquigarrow;":"\u21AD","LeftRightVector;":"\u294E","LeftTee;":"\u22A3","LeftTeeArrow;":"\u21A4","LeftTeeVector;":"\u295A","leftthreetimes;":"\u22CB","LeftTriangle;":"\u22B2","LeftTriangleBar;":"\u29CF","LeftTriangleEqual;":"\u22B4","LeftUpDownVector;":"\u2951","LeftUpTeeVector;":"\u2960","LeftUpVector;":"\u21BF","LeftUpVectorBar;":"\u2958","LeftVector;":"\u21BC","LeftVectorBar;":"\u2952","lEg;":"\u2A8B","leg;":"\u22DA","leq;":"\u2264","leqq;":"\u2266","leqslant;":"\u2A7D","les;":"\u2A7D","lescc;":"\u2AA8","lesdot;":"\u2A7F","lesdoto;":"\u2A81","lesdotor;":"\u2A83","lesg;":"\u22DA\uFE00","lesges;":"\u2A93","lessapprox;":"\u2A85","lessdot;":"\u22D6","lesseqgtr;":"\u22DA","lesseqqgtr;":"\u2A8B","LessEqualGreater;":"\u22DA","LessFullEqual;":"\u2266","LessGreater;":"\u2276","lessgtr;":"\u2276","LessLess;":"\u2AA1","lesssim;":"\u2272","LessSlantEqual;":"\u2A7D","LessTilde;":"\u2272","lfisht;":"\u297C","lfloor;":"\u230A","Lfr;":"\u{1D50F}","lfr;":"\u{1D529}","lg;":"\u2276","lgE;":"\u2A91","lHar;":"\u2962","lhard;":"\u21BD","lharu;":"\u21BC","lharul;":"\u296A","lhblk;":"\u2584","LJcy;":"\u0409","ljcy;":"\u0459","Ll;":"\u22D8","ll;":"\u226A","llarr;":"\u21C7","llcorner;":"\u231E","Lleftarrow;":"\u21DA","llhard;":"\u296B","lltri;":"\u25FA","Lmidot;":"\u013F","lmidot;":"\u0140","lmoust;":"\u23B0","lmoustache;":"\u23B0","lnap;":"\u2A89","lnapprox;":"\u2A89","lnE;":"\u2268","lne;":"\u2A87","lneq;":"\u2A87","lneqq;":"\u2268","lnsim;":"\u22E6","loang;":"\u27EC","loarr;":"\u21FD","lobrk;":"\u27E6","LongLeftArrow;":"\u27F5","Longleftarrow;":"\u27F8","longleftarrow;":"\u27F5","LongLeftRightArrow;":"\u27F7","Longleftrightarrow;":"\u27FA","longleftrightarrow;":"\u27F7","longmapsto;":"\u27FC","LongRightArrow;":"\u27F6","Longrightarrow;":"\u27F9","longrightarrow;":"\u27F6","looparrowleft;":"\u21AB","looparrowright;":"\u21AC","lopar;":"\u2985","Lopf;":"\u{1D543}","lopf;":"\u{1D55D}","loplus;":"\u2A2D","lotimes;":"\u2A34","lowast;":"\u2217","lowbar;":"_","LowerLeftArrow;":"\u2199","LowerRightArrow;":"\u2198","loz;":"\u25CA","lozenge;":"\u25CA","lozf;":"\u29EB","lpar;":"(","lparlt;":"\u2993","lrarr;":"\u21C6","lrcorner;":"\u231F","lrhar;":"\u21CB","lrhard;":"\u296D","lrm;":"\u200E","lrtri;":"\u22BF","lsaquo;":"\u2039","Lscr;":"\u2112","lscr;":"\u{1D4C1}","Lsh;":"\u21B0","lsh;":"\u21B0","lsim;":"\u2272","lsime;":"\u2A8D","lsimg;":"\u2A8F","lsqb;":"[","lsquo;":"\u2018","lsquor;":"\u201A","Lstrok;":"\u0141","lstrok;":"\u0142","LT;":"<",LT:"<","Lt;":"\u226A","lt;":"<",lt:"<","ltcc;":"\u2AA6","ltcir;":"\u2A79","ltdot;":"\u22D6","lthree;":"\u22CB","ltimes;":"\u22C9","ltlarr;":"\u2976","ltquest;":"\u2A7B","ltri;":"\u25C3","ltrie;":"\u22B4","ltrif;":"\u25C2","ltrPar;":"\u2996","lurdshar;":"\u294A","luruhar;":"\u2966","lvertneqq;":"\u2268\uFE00","lvnE;":"\u2268\uFE00","macr;":"\xAF",macr:"\xAF","male;":"\u2642","malt;":"\u2720","maltese;":"\u2720","Map;":"\u2905","map;":"\u21A6","mapsto;":"\u21A6","mapstodown;":"\u21A7","mapstoleft;":"\u21A4","mapstoup;":"\u21A5","marker;":"\u25AE","mcomma;":"\u2A29","Mcy;":"\u041C","mcy;":"\u043C","mdash;":"\u2014","mDDot;":"\u223A","measuredangle;":"\u2221","MediumSpace;":"\u205F","Mellintrf;":"\u2133","Mfr;":"\u{1D510}","mfr;":"\u{1D52A}","mho;":"\u2127","micro;":"\xB5",micro:"\xB5","mid;":"\u2223","midast;":"*","midcir;":"\u2AF0","middot;":"\xB7",middot:"\xB7","minus;":"\u2212","minusb;":"\u229F","minusd;":"\u2238","minusdu;":"\u2A2A","MinusPlus;":"\u2213","mlcp;":"\u2ADB","mldr;":"\u2026","mnplus;":"\u2213","models;":"\u22A7","Mopf;":"\u{1D544}","mopf;":"\u{1D55E}","mp;":"\u2213","Mscr;":"\u2133","mscr;":"\u{1D4C2}","mstpos;":"\u223E","Mu;":"\u039C","mu;":"\u03BC","multimap;":"\u22B8","mumap;":"\u22B8","nabla;":"\u2207","Nacute;":"\u0143","nacute;":"\u0144","nang;":"\u2220\u20D2","nap;":"\u2249","napE;":"\u2A70\u0338","napid;":"\u224B\u0338","napos;":"\u0149","napprox;":"\u2249","natur;":"\u266E","natural;":"\u266E","naturals;":"\u2115","nbsp;":"\xA0",nbsp:"\xA0","nbump;":"\u224E\u0338","nbumpe;":"\u224F\u0338","ncap;":"\u2A43","Ncaron;":"\u0147","ncaron;":"\u0148","Ncedil;":"\u0145","ncedil;":"\u0146","ncong;":"\u2247","ncongdot;":"\u2A6D\u0338","ncup;":"\u2A42","Ncy;":"\u041D","ncy;":"\u043D","ndash;":"\u2013","ne;":"\u2260","nearhk;":"\u2924","neArr;":"\u21D7","nearr;":"\u2197","nearrow;":"\u2197","nedot;":"\u2250\u0338","NegativeMediumSpace;":"\u200B","NegativeThickSpace;":"\u200B","NegativeThinSpace;":"\u200B","NegativeVeryThinSpace;":"\u200B","nequiv;":"\u2262","nesear;":"\u2928","nesim;":"\u2242\u0338","NestedGreaterGreater;":"\u226B","NestedLessLess;":"\u226A","NewLine;":`
`,"nexist;":"\u2204","nexists;":"\u2204","Nfr;":"\u{1D511}","nfr;":"\u{1D52B}","ngE;":"\u2267\u0338","nge;":"\u2271","ngeq;":"\u2271","ngeqq;":"\u2267\u0338","ngeqslant;":"\u2A7E\u0338","nges;":"\u2A7E\u0338","nGg;":"\u22D9\u0338","ngsim;":"\u2275","nGt;":"\u226B\u20D2","ngt;":"\u226F","ngtr;":"\u226F","nGtv;":"\u226B\u0338","nhArr;":"\u21CE","nharr;":"\u21AE","nhpar;":"\u2AF2","ni;":"\u220B","nis;":"\u22FC","nisd;":"\u22FA","niv;":"\u220B","NJcy;":"\u040A","njcy;":"\u045A","nlArr;":"\u21CD","nlarr;":"\u219A","nldr;":"\u2025","nlE;":"\u2266\u0338","nle;":"\u2270","nLeftarrow;":"\u21CD","nleftarrow;":"\u219A","nLeftrightarrow;":"\u21CE","nleftrightarrow;":"\u21AE","nleq;":"\u2270","nleqq;":"\u2266\u0338","nleqslant;":"\u2A7D\u0338","nles;":"\u2A7D\u0338","nless;":"\u226E","nLl;":"\u22D8\u0338","nlsim;":"\u2274","nLt;":"\u226A\u20D2","nlt;":"\u226E","nltri;":"\u22EA","nltrie;":"\u22EC","nLtv;":"\u226A\u0338","nmid;":"\u2224","NoBreak;":"\u2060","NonBreakingSpace;":"\xA0","Nopf;":"\u2115","nopf;":"\u{1D55F}","Not;":"\u2AEC","not;":"\xAC",not:"\xAC","NotCongruent;":"\u2262","NotCupCap;":"\u226D","NotDoubleVerticalBar;":"\u2226","NotElement;":"\u2209","NotEqual;":"\u2260","NotEqualTilde;":"\u2242\u0338","NotExists;":"\u2204","NotGreater;":"\u226F","NotGreaterEqual;":"\u2271","NotGreaterFullEqual;":"\u2267\u0338","NotGreaterGreater;":"\u226B\u0338","NotGreaterLess;":"\u2279","NotGreaterSlantEqual;":"\u2A7E\u0338","NotGreaterTilde;":"\u2275","NotHumpDownHump;":"\u224E\u0338","NotHumpEqual;":"\u224F\u0338","notin;":"\u2209","notindot;":"\u22F5\u0338","notinE;":"\u22F9\u0338","notinva;":"\u2209","notinvb;":"\u22F7","notinvc;":"\u22F6","NotLeftTriangle;":"\u22EA","NotLeftTriangleBar;":"\u29CF\u0338","NotLeftTriangleEqual;":"\u22EC","NotLess;":"\u226E","NotLessEqual;":"\u2270","NotLessGreater;":"\u2278","NotLessLess;":"\u226A\u0338","NotLessSlantEqual;":"\u2A7D\u0338","NotLessTilde;":"\u2274","NotNestedGreaterGreater;":"\u2AA2\u0338","NotNestedLessLess;":"\u2AA1\u0338","notni;":"\u220C","notniva;":"\u220C","notnivb;":"\u22FE","notnivc;":"\u22FD","NotPrecedes;":"\u2280","NotPrecedesEqual;":"\u2AAF\u0338","NotPrecedesSlantEqual;":"\u22E0","NotReverseElement;":"\u220C","NotRightTriangle;":"\u22EB","NotRightTriangleBar;":"\u29D0\u0338","NotRightTriangleEqual;":"\u22ED","NotSquareSubset;":"\u228F\u0338","NotSquareSubsetEqual;":"\u22E2","NotSquareSuperset;":"\u2290\u0338","NotSquareSupersetEqual;":"\u22E3","NotSubset;":"\u2282\u20D2","NotSubsetEqual;":"\u2288","NotSucceeds;":"\u2281","NotSucceedsEqual;":"\u2AB0\u0338","NotSucceedsSlantEqual;":"\u22E1","NotSucceedsTilde;":"\u227F\u0338","NotSuperset;":"\u2283\u20D2","NotSupersetEqual;":"\u2289","NotTilde;":"\u2241","NotTildeEqual;":"\u2244","NotTildeFullEqual;":"\u2247","NotTildeTilde;":"\u2249","NotVerticalBar;":"\u2224","npar;":"\u2226","nparallel;":"\u2226","nparsl;":"\u2AFD\u20E5","npart;":"\u2202\u0338","npolint;":"\u2A14","npr;":"\u2280","nprcue;":"\u22E0","npre;":"\u2AAF\u0338","nprec;":"\u2280","npreceq;":"\u2AAF\u0338","nrArr;":"\u21CF","nrarr;":"\u219B","nrarrc;":"\u2933\u0338","nrarrw;":"\u219D\u0338","nRightarrow;":"\u21CF","nrightarrow;":"\u219B","nrtri;":"\u22EB","nrtrie;":"\u22ED","nsc;":"\u2281","nsccue;":"\u22E1","nsce;":"\u2AB0\u0338","Nscr;":"\u{1D4A9}","nscr;":"\u{1D4C3}","nshortmid;":"\u2224","nshortparallel;":"\u2226","nsim;":"\u2241","nsime;":"\u2244","nsimeq;":"\u2244","nsmid;":"\u2224","nspar;":"\u2226","nsqsube;":"\u22E2","nsqsupe;":"\u22E3","nsub;":"\u2284","nsubE;":"\u2AC5\u0338","nsube;":"\u2288","nsubset;":"\u2282\u20D2","nsubseteq;":"\u2288","nsubseteqq;":"\u2AC5\u0338","nsucc;":"\u2281","nsucceq;":"\u2AB0\u0338","nsup;":"\u2285","nsupE;":"\u2AC6\u0338","nsupe;":"\u2289","nsupset;":"\u2283\u20D2","nsupseteq;":"\u2289","nsupseteqq;":"\u2AC6\u0338","ntgl;":"\u2279","Ntilde;":"\xD1",Ntilde:"\xD1","ntilde;":"\xF1",ntilde:"\xF1","ntlg;":"\u2278","ntriangleleft;":"\u22EA","ntrianglelefteq;":"\u22EC","ntriangleright;":"\u22EB","ntrianglerighteq;":"\u22ED","Nu;":"\u039D","nu;":"\u03BD","num;":"#","numero;":"\u2116","numsp;":"\u2007","nvap;":"\u224D\u20D2","nVDash;":"\u22AF","nVdash;":"\u22AE","nvDash;":"\u22AD","nvdash;":"\u22AC","nvge;":"\u2265\u20D2","nvgt;":">\u20D2","nvHarr;":"\u2904","nvinfin;":"\u29DE","nvlArr;":"\u2902","nvle;":"\u2264\u20D2","nvlt;":"<\u20D2","nvltrie;":"\u22B4\u20D2","nvrArr;":"\u2903","nvrtrie;":"\u22B5\u20D2","nvsim;":"\u223C\u20D2","nwarhk;":"\u2923","nwArr;":"\u21D6","nwarr;":"\u2196","nwarrow;":"\u2196","nwnear;":"\u2927","Oacute;":"\xD3",Oacute:"\xD3","oacute;":"\xF3",oacute:"\xF3","oast;":"\u229B","ocir;":"\u229A","Ocirc;":"\xD4",Ocirc:"\xD4","ocirc;":"\xF4",ocirc:"\xF4","Ocy;":"\u041E","ocy;":"\u043E","odash;":"\u229D","Odblac;":"\u0150","odblac;":"\u0151","odiv;":"\u2A38","odot;":"\u2299","odsold;":"\u29BC","OElig;":"\u0152","oelig;":"\u0153","ofcir;":"\u29BF","Ofr;":"\u{1D512}","ofr;":"\u{1D52C}","ogon;":"\u02DB","Ograve;":"\xD2",Ograve:"\xD2","ograve;":"\xF2",ograve:"\xF2","ogt;":"\u29C1","ohbar;":"\u29B5","ohm;":"\u03A9","oint;":"\u222E","olarr;":"\u21BA","olcir;":"\u29BE","olcross;":"\u29BB","oline;":"\u203E","olt;":"\u29C0","Omacr;":"\u014C","omacr;":"\u014D","Omega;":"\u03A9","omega;":"\u03C9","Omicron;":"\u039F","omicron;":"\u03BF","omid;":"\u29B6","ominus;":"\u2296","Oopf;":"\u{1D546}","oopf;":"\u{1D560}","opar;":"\u29B7","OpenCurlyDoubleQuote;":"\u201C","OpenCurlyQuote;":"\u2018","operp;":"\u29B9","oplus;":"\u2295","Or;":"\u2A54","or;":"\u2228","orarr;":"\u21BB","ord;":"\u2A5D","order;":"\u2134","orderof;":"\u2134","ordf;":"\xAA",ordf:"\xAA","ordm;":"\xBA",ordm:"\xBA","origof;":"\u22B6","oror;":"\u2A56","orslope;":"\u2A57","orv;":"\u2A5B","oS;":"\u24C8","Oscr;":"\u{1D4AA}","oscr;":"\u2134","Oslash;":"\xD8",Oslash:"\xD8","oslash;":"\xF8",oslash:"\xF8","osol;":"\u2298","Otilde;":"\xD5",Otilde:"\xD5","otilde;":"\xF5",otilde:"\xF5","Otimes;":"\u2A37","otimes;":"\u2297","otimesas;":"\u2A36","Ouml;":"\xD6",Ouml:"\xD6","ouml;":"\xF6",ouml:"\xF6","ovbar;":"\u233D","OverBar;":"\u203E","OverBrace;":"\u23DE","OverBracket;":"\u23B4","OverParenthesis;":"\u23DC","par;":"\u2225","para;":"\xB6",para:"\xB6","parallel;":"\u2225","parsim;":"\u2AF3","parsl;":"\u2AFD","part;":"\u2202","PartialD;":"\u2202","Pcy;":"\u041F","pcy;":"\u043F","percnt;":"%","period;":".","permil;":"\u2030","perp;":"\u22A5","pertenk;":"\u2031","Pfr;":"\u{1D513}","pfr;":"\u{1D52D}","Phi;":"\u03A6","phi;":"\u03C6","phiv;":"\u03D5","phmmat;":"\u2133","phone;":"\u260E","Pi;":"\u03A0","pi;":"\u03C0","pitchfork;":"\u22D4","piv;":"\u03D6","planck;":"\u210F","planckh;":"\u210E","plankv;":"\u210F","plus;":"+","plusacir;":"\u2A23","plusb;":"\u229E","pluscir;":"\u2A22","plusdo;":"\u2214","plusdu;":"\u2A25","pluse;":"\u2A72","PlusMinus;":"\xB1","plusmn;":"\xB1",plusmn:"\xB1","plussim;":"\u2A26","plustwo;":"\u2A27","pm;":"\xB1","Poincareplane;":"\u210C","pointint;":"\u2A15","Popf;":"\u2119","popf;":"\u{1D561}","pound;":"\xA3",pound:"\xA3","Pr;":"\u2ABB","pr;":"\u227A","prap;":"\u2AB7","prcue;":"\u227C","prE;":"\u2AB3","pre;":"\u2AAF","prec;":"\u227A","precapprox;":"\u2AB7","preccurlyeq;":"\u227C","Precedes;":"\u227A","PrecedesEqual;":"\u2AAF","PrecedesSlantEqual;":"\u227C","PrecedesTilde;":"\u227E","preceq;":"\u2AAF","precnapprox;":"\u2AB9","precneqq;":"\u2AB5","precnsim;":"\u22E8","precsim;":"\u227E","Prime;":"\u2033","prime;":"\u2032","primes;":"\u2119","prnap;":"\u2AB9","prnE;":"\u2AB5","prnsim;":"\u22E8","prod;":"\u220F","Product;":"\u220F","profalar;":"\u232E","profline;":"\u2312","profsurf;":"\u2313","prop;":"\u221D","Proportion;":"\u2237","Proportional;":"\u221D","propto;":"\u221D","prsim;":"\u227E","prurel;":"\u22B0","Pscr;":"\u{1D4AB}","pscr;":"\u{1D4C5}","Psi;":"\u03A8","psi;":"\u03C8","puncsp;":"\u2008","Qfr;":"\u{1D514}","qfr;":"\u{1D52E}","qint;":"\u2A0C","Qopf;":"\u211A","qopf;":"\u{1D562}","qprime;":"\u2057","Qscr;":"\u{1D4AC}","qscr;":"\u{1D4C6}","quaternions;":"\u210D","quatint;":"\u2A16","quest;":"?","questeq;":"\u225F","QUOT;":'"',QUOT:'"',"quot;":'"',quot:'"',"rAarr;":"\u21DB","race;":"\u223D\u0331","Racute;":"\u0154","racute;":"\u0155","radic;":"\u221A","raemptyv;":"\u29B3","Rang;":"\u27EB","rang;":"\u27E9","rangd;":"\u2992","range;":"\u29A5","rangle;":"\u27E9","raquo;":"\xBB",raquo:"\xBB","Rarr;":"\u21A0","rArr;":"\u21D2","rarr;":"\u2192","rarrap;":"\u2975","rarrb;":"\u21E5","rarrbfs;":"\u2920","rarrc;":"\u2933","rarrfs;":"\u291E","rarrhk;":"\u21AA","rarrlp;":"\u21AC","rarrpl;":"\u2945","rarrsim;":"\u2974","Rarrtl;":"\u2916","rarrtl;":"\u21A3","rarrw;":"\u219D","rAtail;":"\u291C","ratail;":"\u291A","ratio;":"\u2236","rationals;":"\u211A","RBarr;":"\u2910","rBarr;":"\u290F","rbarr;":"\u290D","rbbrk;":"\u2773","rbrace;":"}","rbrack;":"]","rbrke;":"\u298C","rbrksld;":"\u298E","rbrkslu;":"\u2990","Rcaron;":"\u0158","rcaron;":"\u0159","Rcedil;":"\u0156","rcedil;":"\u0157","rceil;":"\u2309","rcub;":"}","Rcy;":"\u0420","rcy;":"\u0440","rdca;":"\u2937","rdldhar;":"\u2969","rdquo;":"\u201D","rdquor;":"\u201D","rdsh;":"\u21B3","Re;":"\u211C","real;":"\u211C","realine;":"\u211B","realpart;":"\u211C","reals;":"\u211D","rect;":"\u25AD","REG;":"\xAE",REG:"\xAE","reg;":"\xAE",reg:"\xAE","ReverseElement;":"\u220B","ReverseEquilibrium;":"\u21CB","ReverseUpEquilibrium;":"\u296F","rfisht;":"\u297D","rfloor;":"\u230B","Rfr;":"\u211C","rfr;":"\u{1D52F}","rHar;":"\u2964","rhard;":"\u21C1","rharu;":"\u21C0","rharul;":"\u296C","Rho;":"\u03A1","rho;":"\u03C1","rhov;":"\u03F1","RightAngleBracket;":"\u27E9","RightArrow;":"\u2192","Rightarrow;":"\u21D2","rightarrow;":"\u2192","RightArrowBar;":"\u21E5","RightArrowLeftArrow;":"\u21C4","rightarrowtail;":"\u21A3","RightCeiling;":"\u2309","RightDoubleBracket;":"\u27E7","RightDownTeeVector;":"\u295D","RightDownVector;":"\u21C2","RightDownVectorBar;":"\u2955","RightFloor;":"\u230B","rightharpoondown;":"\u21C1","rightharpoonup;":"\u21C0","rightleftarrows;":"\u21C4","rightleftharpoons;":"\u21CC","rightrightarrows;":"\u21C9","rightsquigarrow;":"\u219D","RightTee;":"\u22A2","RightTeeArrow;":"\u21A6","RightTeeVector;":"\u295B","rightthreetimes;":"\u22CC","RightTriangle;":"\u22B3","RightTriangleBar;":"\u29D0","RightTriangleEqual;":"\u22B5","RightUpDownVector;":"\u294F","RightUpTeeVector;":"\u295C","RightUpVector;":"\u21BE","RightUpVectorBar;":"\u2954","RightVector;":"\u21C0","RightVectorBar;":"\u2953","ring;":"\u02DA","risingdotseq;":"\u2253","rlarr;":"\u21C4","rlhar;":"\u21CC","rlm;":"\u200F","rmoust;":"\u23B1","rmoustache;":"\u23B1","rnmid;":"\u2AEE","roang;":"\u27ED","roarr;":"\u21FE","robrk;":"\u27E7","ropar;":"\u2986","Ropf;":"\u211D","ropf;":"\u{1D563}","roplus;":"\u2A2E","rotimes;":"\u2A35","RoundImplies;":"\u2970","rpar;":")","rpargt;":"\u2994","rppolint;":"\u2A12","rrarr;":"\u21C9","Rrightarrow;":"\u21DB","rsaquo;":"\u203A","Rscr;":"\u211B","rscr;":"\u{1D4C7}","Rsh;":"\u21B1","rsh;":"\u21B1","rsqb;":"]","rsquo;":"\u2019","rsquor;":"\u2019","rthree;":"\u22CC","rtimes;":"\u22CA","rtri;":"\u25B9","rtrie;":"\u22B5","rtrif;":"\u25B8","rtriltri;":"\u29CE","RuleDelayed;":"\u29F4","ruluhar;":"\u2968","rx;":"\u211E","Sacute;":"\u015A","sacute;":"\u015B","sbquo;":"\u201A","Sc;":"\u2ABC","sc;":"\u227B","scap;":"\u2AB8","Scaron;":"\u0160","scaron;":"\u0161","sccue;":"\u227D","scE;":"\u2AB4","sce;":"\u2AB0","Scedil;":"\u015E","scedil;":"\u015F","Scirc;":"\u015C","scirc;":"\u015D","scnap;":"\u2ABA","scnE;":"\u2AB6","scnsim;":"\u22E9","scpolint;":"\u2A13","scsim;":"\u227F","Scy;":"\u0421","scy;":"\u0441","sdot;":"\u22C5","sdotb;":"\u22A1","sdote;":"\u2A66","searhk;":"\u2925","seArr;":"\u21D8","searr;":"\u2198","searrow;":"\u2198","sect;":"\xA7",sect:"\xA7","semi;":";","seswar;":"\u2929","setminus;":"\u2216","setmn;":"\u2216","sext;":"\u2736","Sfr;":"\u{1D516}","sfr;":"\u{1D530}","sfrown;":"\u2322","sharp;":"\u266F","SHCHcy;":"\u0429","shchcy;":"\u0449","SHcy;":"\u0428","shcy;":"\u0448","ShortDownArrow;":"\u2193","ShortLeftArrow;":"\u2190","shortmid;":"\u2223","shortparallel;":"\u2225","ShortRightArrow;":"\u2192","ShortUpArrow;":"\u2191","shy;":"\xAD",shy:"\xAD","Sigma;":"\u03A3","sigma;":"\u03C3","sigmaf;":"\u03C2","sigmav;":"\u03C2","sim;":"\u223C","simdot;":"\u2A6A","sime;":"\u2243","simeq;":"\u2243","simg;":"\u2A9E","simgE;":"\u2AA0","siml;":"\u2A9D","simlE;":"\u2A9F","simne;":"\u2246","simplus;":"\u2A24","simrarr;":"\u2972","slarr;":"\u2190","SmallCircle;":"\u2218","smallsetminus;":"\u2216","smashp;":"\u2A33","smeparsl;":"\u29E4","smid;":"\u2223","smile;":"\u2323","smt;":"\u2AAA","smte;":"\u2AAC","smtes;":"\u2AAC\uFE00","SOFTcy;":"\u042C","softcy;":"\u044C","sol;":"/","solb;":"\u29C4","solbar;":"\u233F","Sopf;":"\u{1D54A}","sopf;":"\u{1D564}","spades;":"\u2660","spadesuit;":"\u2660","spar;":"\u2225","sqcap;":"\u2293","sqcaps;":"\u2293\uFE00","sqcup;":"\u2294","sqcups;":"\u2294\uFE00","Sqrt;":"\u221A","sqsub;":"\u228F","sqsube;":"\u2291","sqsubset;":"\u228F","sqsubseteq;":"\u2291","sqsup;":"\u2290","sqsupe;":"\u2292","sqsupset;":"\u2290","sqsupseteq;":"\u2292","squ;":"\u25A1","Square;":"\u25A1","square;":"\u25A1","SquareIntersection;":"\u2293","SquareSubset;":"\u228F","SquareSubsetEqual;":"\u2291","SquareSuperset;":"\u2290","SquareSupersetEqual;":"\u2292","SquareUnion;":"\u2294","squarf;":"\u25AA","squf;":"\u25AA","srarr;":"\u2192","Sscr;":"\u{1D4AE}","sscr;":"\u{1D4C8}","ssetmn;":"\u2216","ssmile;":"\u2323","sstarf;":"\u22C6","Star;":"\u22C6","star;":"\u2606","starf;":"\u2605","straightepsilon;":"\u03F5","straightphi;":"\u03D5","strns;":"\xAF","Sub;":"\u22D0","sub;":"\u2282","subdot;":"\u2ABD","subE;":"\u2AC5","sube;":"\u2286","subedot;":"\u2AC3","submult;":"\u2AC1","subnE;":"\u2ACB","subne;":"\u228A","subplus;":"\u2ABF","subrarr;":"\u2979","Subset;":"\u22D0","subset;":"\u2282","subseteq;":"\u2286","subseteqq;":"\u2AC5","SubsetEqual;":"\u2286","subsetneq;":"\u228A","subsetneqq;":"\u2ACB","subsim;":"\u2AC7","subsub;":"\u2AD5","subsup;":"\u2AD3","succ;":"\u227B","succapprox;":"\u2AB8","succcurlyeq;":"\u227D","Succeeds;":"\u227B","SucceedsEqual;":"\u2AB0","SucceedsSlantEqual;":"\u227D","SucceedsTilde;":"\u227F","succeq;":"\u2AB0","succnapprox;":"\u2ABA","succneqq;":"\u2AB6","succnsim;":"\u22E9","succsim;":"\u227F","SuchThat;":"\u220B","Sum;":"\u2211","sum;":"\u2211","sung;":"\u266A","Sup;":"\u22D1","sup;":"\u2283","sup1;":"\xB9",sup1:"\xB9","sup2;":"\xB2",sup2:"\xB2","sup3;":"\xB3",sup3:"\xB3","supdot;":"\u2ABE","supdsub;":"\u2AD8","supE;":"\u2AC6","supe;":"\u2287","supedot;":"\u2AC4","Superset;":"\u2283","SupersetEqual;":"\u2287","suphsol;":"\u27C9","suphsub;":"\u2AD7","suplarr;":"\u297B","supmult;":"\u2AC2","supnE;":"\u2ACC","supne;":"\u228B","supplus;":"\u2AC0","Supset;":"\u22D1","supset;":"\u2283","supseteq;":"\u2287","supseteqq;":"\u2AC6","supsetneq;":"\u228B","supsetneqq;":"\u2ACC","supsim;":"\u2AC8","supsub;":"\u2AD4","supsup;":"\u2AD6","swarhk;":"\u2926","swArr;":"\u21D9","swarr;":"\u2199","swarrow;":"\u2199","swnwar;":"\u292A","szlig;":"\xDF",szlig:"\xDF","Tab;":"	","target;":"\u2316","Tau;":"\u03A4","tau;":"\u03C4","tbrk;":"\u23B4","Tcaron;":"\u0164","tcaron;":"\u0165","Tcedil;":"\u0162","tcedil;":"\u0163","Tcy;":"\u0422","tcy;":"\u0442","tdot;":"\u20DB","telrec;":"\u2315","Tfr;":"\u{1D517}","tfr;":"\u{1D531}","there4;":"\u2234","Therefore;":"\u2234","therefore;":"\u2234","Theta;":"\u0398","theta;":"\u03B8","thetasym;":"\u03D1","thetav;":"\u03D1","thickapprox;":"\u2248","thicksim;":"\u223C","ThickSpace;":"\u205F\u200A","thinsp;":"\u2009","ThinSpace;":"\u2009","thkap;":"\u2248","thksim;":"\u223C","THORN;":"\xDE",THORN:"\xDE","thorn;":"\xFE",thorn:"\xFE","Tilde;":"\u223C","tilde;":"\u02DC","TildeEqual;":"\u2243","TildeFullEqual;":"\u2245","TildeTilde;":"\u2248","times;":"\xD7",times:"\xD7","timesb;":"\u22A0","timesbar;":"\u2A31","timesd;":"\u2A30","tint;":"\u222D","toea;":"\u2928","top;":"\u22A4","topbot;":"\u2336","topcir;":"\u2AF1","Topf;":"\u{1D54B}","topf;":"\u{1D565}","topfork;":"\u2ADA","tosa;":"\u2929","tprime;":"\u2034","TRADE;":"\u2122","trade;":"\u2122","triangle;":"\u25B5","triangledown;":"\u25BF","triangleleft;":"\u25C3","trianglelefteq;":"\u22B4","triangleq;":"\u225C","triangleright;":"\u25B9","trianglerighteq;":"\u22B5","tridot;":"\u25EC","trie;":"\u225C","triminus;":"\u2A3A","TripleDot;":"\u20DB","triplus;":"\u2A39","trisb;":"\u29CD","tritime;":"\u2A3B","trpezium;":"\u23E2","Tscr;":"\u{1D4AF}","tscr;":"\u{1D4C9}","TScy;":"\u0426","tscy;":"\u0446","TSHcy;":"\u040B","tshcy;":"\u045B","Tstrok;":"\u0166","tstrok;":"\u0167","twixt;":"\u226C","twoheadleftarrow;":"\u219E","twoheadrightarrow;":"\u21A0","Uacute;":"\xDA",Uacute:"\xDA","uacute;":"\xFA",uacute:"\xFA","Uarr;":"\u219F","uArr;":"\u21D1","uarr;":"\u2191","Uarrocir;":"\u2949","Ubrcy;":"\u040E","ubrcy;":"\u045E","Ubreve;":"\u016C","ubreve;":"\u016D","Ucirc;":"\xDB",Ucirc:"\xDB","ucirc;":"\xFB",ucirc:"\xFB","Ucy;":"\u0423","ucy;":"\u0443","udarr;":"\u21C5","Udblac;":"\u0170","udblac;":"\u0171","udhar;":"\u296E","ufisht;":"\u297E","Ufr;":"\u{1D518}","ufr;":"\u{1D532}","Ugrave;":"\xD9",Ugrave:"\xD9","ugrave;":"\xF9",ugrave:"\xF9","uHar;":"\u2963","uharl;":"\u21BF","uharr;":"\u21BE","uhblk;":"\u2580","ulcorn;":"\u231C","ulcorner;":"\u231C","ulcrop;":"\u230F","ultri;":"\u25F8","Umacr;":"\u016A","umacr;":"\u016B","uml;":"\xA8",uml:"\xA8","UnderBar;":"_","UnderBrace;":"\u23DF","UnderBracket;":"\u23B5","UnderParenthesis;":"\u23DD","Union;":"\u22C3","UnionPlus;":"\u228E","Uogon;":"\u0172","uogon;":"\u0173","Uopf;":"\u{1D54C}","uopf;":"\u{1D566}","UpArrow;":"\u2191","Uparrow;":"\u21D1","uparrow;":"\u2191","UpArrowBar;":"\u2912","UpArrowDownArrow;":"\u21C5","UpDownArrow;":"\u2195","Updownarrow;":"\u21D5","updownarrow;":"\u2195","UpEquilibrium;":"\u296E","upharpoonleft;":"\u21BF","upharpoonright;":"\u21BE","uplus;":"\u228E","UpperLeftArrow;":"\u2196","UpperRightArrow;":"\u2197","Upsi;":"\u03D2","upsi;":"\u03C5","upsih;":"\u03D2","Upsilon;":"\u03A5","upsilon;":"\u03C5","UpTee;":"\u22A5","UpTeeArrow;":"\u21A5","upuparrows;":"\u21C8","urcorn;":"\u231D","urcorner;":"\u231D","urcrop;":"\u230E","Uring;":"\u016E","uring;":"\u016F","urtri;":"\u25F9","Uscr;":"\u{1D4B0}","uscr;":"\u{1D4CA}","utdot;":"\u22F0","Utilde;":"\u0168","utilde;":"\u0169","utri;":"\u25B5","utrif;":"\u25B4","uuarr;":"\u21C8","Uuml;":"\xDC",Uuml:"\xDC","uuml;":"\xFC",uuml:"\xFC","uwangle;":"\u29A7","vangrt;":"\u299C","varepsilon;":"\u03F5","varkappa;":"\u03F0","varnothing;":"\u2205","varphi;":"\u03D5","varpi;":"\u03D6","varpropto;":"\u221D","vArr;":"\u21D5","varr;":"\u2195","varrho;":"\u03F1","varsigma;":"\u03C2","varsubsetneq;":"\u228A\uFE00","varsubsetneqq;":"\u2ACB\uFE00","varsupsetneq;":"\u228B\uFE00","varsupsetneqq;":"\u2ACC\uFE00","vartheta;":"\u03D1","vartriangleleft;":"\u22B2","vartriangleright;":"\u22B3","Vbar;":"\u2AEB","vBar;":"\u2AE8","vBarv;":"\u2AE9","Vcy;":"\u0412","vcy;":"\u0432","VDash;":"\u22AB","Vdash;":"\u22A9","vDash;":"\u22A8","vdash;":"\u22A2","Vdashl;":"\u2AE6","Vee;":"\u22C1","vee;":"\u2228","veebar;":"\u22BB","veeeq;":"\u225A","vellip;":"\u22EE","Verbar;":"\u2016","verbar;":"|","Vert;":"\u2016","vert;":"|","VerticalBar;":"\u2223","VerticalLine;":"|","VerticalSeparator;":"\u2758","VerticalTilde;":"\u2240","VeryThinSpace;":"\u200A","Vfr;":"\u{1D519}","vfr;":"\u{1D533}","vltri;":"\u22B2","vnsub;":"\u2282\u20D2","vnsup;":"\u2283\u20D2","Vopf;":"\u{1D54D}","vopf;":"\u{1D567}","vprop;":"\u221D","vrtri;":"\u22B3","Vscr;":"\u{1D4B1}","vscr;":"\u{1D4CB}","vsubnE;":"\u2ACB\uFE00","vsubne;":"\u228A\uFE00","vsupnE;":"\u2ACC\uFE00","vsupne;":"\u228B\uFE00","Vvdash;":"\u22AA","vzigzag;":"\u299A","Wcirc;":"\u0174","wcirc;":"\u0175","wedbar;":"\u2A5F","Wedge;":"\u22C0","wedge;":"\u2227","wedgeq;":"\u2259","weierp;":"\u2118","Wfr;":"\u{1D51A}","wfr;":"\u{1D534}","Wopf;":"\u{1D54E}","wopf;":"\u{1D568}","wp;":"\u2118","wr;":"\u2240","wreath;":"\u2240","Wscr;":"\u{1D4B2}","wscr;":"\u{1D4CC}","xcap;":"\u22C2","xcirc;":"\u25EF","xcup;":"\u22C3","xdtri;":"\u25BD","Xfr;":"\u{1D51B}","xfr;":"\u{1D535}","xhArr;":"\u27FA","xharr;":"\u27F7","Xi;":"\u039E","xi;":"\u03BE","xlArr;":"\u27F8","xlarr;":"\u27F5","xmap;":"\u27FC","xnis;":"\u22FB","xodot;":"\u2A00","Xopf;":"\u{1D54F}","xopf;":"\u{1D569}","xoplus;":"\u2A01","xotime;":"\u2A02","xrArr;":"\u27F9","xrarr;":"\u27F6","Xscr;":"\u{1D4B3}","xscr;":"\u{1D4CD}","xsqcup;":"\u2A06","xuplus;":"\u2A04","xutri;":"\u25B3","xvee;":"\u22C1","xwedge;":"\u22C0","Yacute;":"\xDD",Yacute:"\xDD","yacute;":"\xFD",yacute:"\xFD","YAcy;":"\u042F","yacy;":"\u044F","Ycirc;":"\u0176","ycirc;":"\u0177","Ycy;":"\u042B","ycy;":"\u044B","yen;":"\xA5",yen:"\xA5","Yfr;":"\u{1D51C}","yfr;":"\u{1D536}","YIcy;":"\u0407","yicy;":"\u0457","Yopf;":"\u{1D550}","yopf;":"\u{1D56A}","Yscr;":"\u{1D4B4}","yscr;":"\u{1D4CE}","YUcy;":"\u042E","yucy;":"\u044E","Yuml;":"\u0178","yuml;":"\xFF",yuml:"\xFF","Zacute;":"\u0179","zacute;":"\u017A","Zcaron;":"\u017D","zcaron;":"\u017E","Zcy;":"\u0417","zcy;":"\u0437","Zdot;":"\u017B","zdot;":"\u017C","zeetrf;":"\u2128","ZeroWidthSpace;":"\u200B","Zeta;":"\u0396","zeta;":"\u03B6","Zfr;":"\u2128","zfr;":"\u{1D537}","ZHcy;":"\u0416","zhcy;":"\u0436","zigrarr;":"\u21DD","Zopf;":"\u2124","zopf;":"\u{1D56B}","Zscr;":"\u{1D4B5}","zscr;":"\u{1D4CF}","zwj;":"\u200D","zwnj;":"\u200C"}});function v_(r,e){if(r.length<e.length)return!1;for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function pHe(r,e){let t=r.length-e.length;return t>0?r.lastIndexOf(e)===t:t===0?r===e:!1}function hle(r,e){let t="";for(;e>0;)(e&1)===1&&(t+=r),r+=r,e=e>>>1;return t}function WE(r,e){let t=r.charCodeAt(e);return $Nt<=t&&t<=VNt||GNt<=t&&t<=KNt||YNt<=t&&t<=JNt}var $Nt,VNt,GNt,KNt,YNt,JNt,vI=Ti(()=>{$Nt=97,VNt=122,GNt=65,KNt=90,YNt=48,JNt=57});function yI(r){return typeof r<"u"}var ple=Ti(()=>{});function mHe(r){if(r)return typeof r=="string"?{kind:"markdown",value:r}:{kind:"markdown",value:r.value}}var gHe=Ti(()=>{});function iC(r,e={},t){let n={kind:t?"markdown":"plaintext",value:""};if(r.description&&e.documentation!==!1){let i=mHe(r.description);i&&(n.value+=i.value)}if(r.references&&r.references.length>0&&e.references!==!1&&(n.value.length&&(n.value+=`

`),t?n.value+=r.references.map(i=>`[${i.name}](${i.url})`).join(" | "):n.value+=r.references.map(i=>`${i.name}: ${i.url}`).join(`
`)),n.value!=="")return n}var _I,OF=Ti(()=>{gHe();_I=class{isApplicable(){return!0}constructor(e,t){this.id=e,this._tags=[],this._tagMap={},this._valueSetMap={},this._tags=t.tags||[],this._globalAttributes=t.globalAttributes||[],this._tags.forEach(n=>{this._tagMap[n.name.toLowerCase()]=n}),t.valueSets&&t.valueSets.forEach(n=>{this._valueSetMap[n.name]=n.values})}getId(){return this.id}provideTags(){return this._tags}provideAttributes(e){let t=[],n=o=>{t.push(o)},i=this._tagMap[e.toLowerCase()];return i&&i.attributes.forEach(n),this._globalAttributes.forEach(n),t}provideValues(e,t){let n=[];t=t.toLowerCase();let i=s=>{s.forEach(a=>{a.name.toLowerCase()===t&&(a.values&&a.values.forEach(c=>{n.push(c)}),a.valueSet&&this._valueSetMap[a.valueSet]&&this._valueSetMap[a.valueSet].forEach(c=>{n.push(c)}))})},o=this._tagMap[e.toLowerCase()];return o&&i(o.attributes),i(this._globalAttributes),n}}});function ZNt(r){return v_(r,"'")||v_(r,'"')?r.slice(1,-1):r}function eMt(r){return!(v_(r,"http")||v_(r,"https")||v_(r,"//"))}function tMt(r,e,t){let n,i=r.lastIndexOf("/");if(i===-1)n=nMt(t,1,-1);else{let o=e.slice(i+1),s=IF(t.end,-1-o.length),a=o.indexOf(" "),c;a!==-1?c=IF(s,a):c=IF(t.end,-1),n=Ri.create(s,c)}return n}function rMt(r,e,t){return e?(r=r+"/",{label:r,kind:Rd.Folder,textEdit:vu.replace(t,r),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}):{label:r,kind:Rd.File,textEdit:vu.replace(t,r)}}function IF(r,e){return Xa.create(r.line,r.character+e)}function nMt(r,e,t){let n=IF(r.start,e),i=IF(r.end,t);return Ri.create(n,i)}var r4,QNt,vHe=Ti(()=>{xm();vI();r4=class{constructor(e,t){this.dataManager=e,this.readDirectory=t,this.atributeCompletions=[]}onHtmlAttributeValue(e){this.dataManager.isPathAttribute(e.tag,e.attribute)&&this.atributeCompletions.push(e)}async computeCompletions(e,t){let n={items:[],isIncomplete:!1};for(let i of this.atributeCompletions){let o=ZNt(e.getText(i.range));if(eMt(o))if(o==="."||o==="..")n.isIncomplete=!0;else{let s=tMt(i.value,o,i.range),a=await this.providePathSuggestions(i.value,s,e,t);for(let c of a)n.items.push(c)}}return n}async providePathSuggestions(e,t,n,i){let o=e.substring(0,e.lastIndexOf("/")+1),s=i.resolveReference(o||".",n.uri);if(s)try{let a=[],c=await this.readDirectory(s);for(let[u,l]of c)u.charCodeAt(0)!==QNt&&a.push(rMt(u,l===xF.Directory,t));return a}catch{}return[]}},QNt=46});function iMt(r){return/^["']*$/.test(r)}function i4(r){return/^\s*$/.test(r)}function yHe(r,e,t,n){let i=Hu(r,e,t),o=i.scan();for(;o===Xt.Whitespace;)o=i.scan();return o===n}function oMt(r,e,t){for(;e>t&&!i4(r[e-1]);)e--;return e}function sMt(r,e,t){for(;e<t&&!i4(r[e]);)e++;return e}var _He,n4,bHe=Ti(()=>{nC();xm();fle();_He=ye(NV());vI();ple();OF();vHe();n4=class{constructor(e,t){this.lsOptions=e,this.dataManager=t,this.completionParticipants=[]}setCompletionParticipants(e){this.completionParticipants=e||[]}async doComplete2(e,t,n,i,o){if(!this.lsOptions.fileSystemProvider||!this.lsOptions.fileSystemProvider.readDirectory)return this.doComplete(e,t,n,o);let s=new r4(this.dataManager,this.lsOptions.fileSystemProvider.readDirectory),a=this.completionParticipants;this.completionParticipants=[s].concat(a);let c=this.doComplete(e,t,n,o);try{let u=await s.computeCompletions(e,i);return{isIncomplete:c.isIncomplete||u.isIncomplete,items:u.items.concat(c.items)}}finally{this.completionParticipants=a}}doComplete(e,t,n,i){let o=this._doComplete(e,t,n,i);return this.convertCompletionList(o)}_doComplete(e,t,n,i){let o={isIncomplete:!1,items:[]},s=this.completionParticipants,a=this.dataManager.getDataProviders().filter(ce=>ce.isApplicable(e.languageId)&&(!i||i[ce.getId()]!==!1)),c=this.doesSupportMarkdown(),u=e.getText(),l=e.offsetAt(t),d=n.findNodeBefore(l);if(!d)return o;let f=Hu(u,d.start),p="",_,D;function x(ce,Ce=l){return ce>l&&(ce=l),{start:e.positionAt(ce),end:e.positionAt(Ce)}}function N(ce,Ce){let be=x(ce,Ce);return a.forEach(xe=>{xe.provideTags().forEach(Ne=>{o.items.push({label:Ne.name,kind:Rd.Property,documentation:iC(Ne,void 0,c),textEdit:vu.replace(be,Ne.name),insertTextFormat:Pm.PlainText})})}),o}function A(ce){let Ce=ce;for(;Ce>0;){let be=u.charAt(Ce-1);if(`
\r`.indexOf(be)>=0)return u.substring(Ce,ce);if(!i4(be))return null;Ce--}return u.substring(0,ce)}function U(ce,Ce,be=l){let xe=x(ce,be),Ne=yHe(u,be,Yn.WithinEndTag,Xt.EndTagClose)?"":">",$e=d;for(Ce&&($e=$e.parent);$e;){let Ct=$e.tag;if(Ct&&(!$e.closed||$e.endTagStart&&$e.endTagStart>l)){let ze={label:"/"+Ct,kind:Rd.Property,filterText:"/"+Ct,textEdit:vu.replace(xe,"/"+Ct+Ne),insertTextFormat:Pm.PlainText},st=A($e.start),at=A(ce-1);if(st!==null&&at!==null&&st!==at){let tt=st+"</"+Ct+Ne;ze.textEdit=vu.replace(x(ce-1-at.length),tt),ze.filterText=at+"</"+Ct}return o.items.push(ze),o}$e=$e.parent}return Ce||a.forEach(Ct=>{Ct.provideTags().forEach(ze=>{o.items.push({label:"/"+ze.name,kind:Rd.Property,documentation:iC(ze,void 0,c),filterText:"/"+ze.name+Ne,textEdit:vu.replace(xe,"/"+ze.name+Ne),insertTextFormat:Pm.PlainText})})}),o}let ee=(ce,Ce)=>{if(i&&i.hideAutoCompleteProposals)return o;if(D??(D=this.dataManager.getVoidElements(a)),!this.dataManager.isVoidElement(Ce,D)){let be=e.positionAt(ce);o.items.push({label:"</"+Ce+">",kind:Rd.Property,filterText:"</"+Ce+">",textEdit:vu.insert(be,"$0</"+Ce+">"),insertTextFormat:Pm.Snippet})}return o};function he(ce,Ce){return N(ce,Ce),U(ce,!0,Ce),o}function we(){let ce=Object.create(null);return d.attributeNames.forEach(Ce=>{ce[Ce]=!0}),ce}function V(ce,Ce=l){let be=l;for(;be<Ce&&u[be]!=="<";)be++;let xe=u.substring(ce,Ce),Ne=x(ce,be),$e="";if(!yHe(u,Ce,Yn.AfterAttributeName,Xt.DelimiterAssign)){let ze=i?.attributeDefaultValue??"doublequotes";ze==="empty"?$e="=$1":ze==="singlequotes"?$e="='$1'":$e='="$1"'}let Ct=we();return Ct[xe]=!1,a.forEach(ze=>{ze.provideAttributes(p).forEach(st=>{if(Ct[st.name])return;Ct[st.name]=!0;let at=st.name,tt;st.valueSet!=="v"&&$e.length&&(at=at+$e,(st.valueSet||st.name==="style")&&(tt={title:"Suggest",command:"editor.action.triggerSuggest"})),o.items.push({label:st.name,kind:st.valueSet==="handler"?Rd.Function:Rd.Value,documentation:iC(st,void 0,c),textEdit:vu.replace(Ne,at),insertTextFormat:Pm.Snippet,command:tt})})}),W(Ne,Ct),o}function W(ce,Ce){let be="data-",xe={};xe[be]=`${be}$1="$2"`;function Ne($e){$e.attributeNames.forEach(Ct=>{v_(Ct,be)&&!xe[Ct]&&!Ce[Ct]&&(xe[Ct]=Ct+'="$1"')}),$e.children.forEach(Ct=>Ne(Ct))}n&&n.roots.forEach($e=>Ne($e)),Object.keys(xe).forEach($e=>o.items.push({label:$e,kind:Rd.Value,textEdit:vu.replace(ce,xe[$e]),insertTextFormat:Pm.Snippet}))}function te(ce,Ce=l){let be,xe,Ne;if(l>ce&&l<=Ce&&iMt(u[ce])){let $e=ce+1,Ct=Ce;Ce>ce&&u[Ce-1]===u[ce]&&Ct--;let ze=oMt(u,l,$e),st=sMt(u,l,Ct);be=x(ze,st),Ne=l>=$e&&l<=Ct?u.substring($e,l):"",xe=!1}else be=x(ce,Ce),Ne=u.substring(ce,l),xe=!0;if(s.length>0){let $e=p.toLowerCase(),Ct=_.toLowerCase(),ze=x(ce,Ce);for(let st of s)st.onHtmlAttributeValue&&st.onHtmlAttributeValue({document:e,position:t,tag:$e,attribute:Ct,value:Ne,range:ze})}return a.forEach($e=>{$e.provideValues(p,_).forEach(Ct=>{let ze=xe?'"'+Ct.name+'"':Ct.name;o.items.push({label:Ct.name,filterText:ze,kind:Rd.Unit,documentation:iC(Ct,void 0,c),textEdit:vu.replace(be,ze),insertTextFormat:Pm.PlainText})})}),ue(),o}function De(ce){return l===f.getTokenEnd()&&(Me=f.scan(),Me===ce&&f.getTokenOffset()===l)?f.getTokenEnd():l}function ae(){for(let ce of s)ce.onHtmlContent&&ce.onHtmlContent({document:e,position:t});return ue()}function ue(){let ce=l-1,Ce=t.character;for(;ce>=0&&WE(u,ce);)ce--,Ce--;if(ce>=0&&u[ce]==="&"){let be=Ri.create(Xa.create(t.line,Ce-1),t);for(let xe in BE)if(pHe(xe,";")){let Ne="&"+xe;o.items.push({label:Ne,kind:Rd.Keyword,documentation:_He.t("Character entity representing '{0}'",BE[xe]),textEdit:vu.replace(be,Ne),insertTextFormat:Pm.PlainText})}}return o}function qe(ce,Ce){let be=x(ce,Ce);o.items.push({label:"!DOCTYPE",kind:Rd.Property,documentation:"A preamble for an HTML document.",textEdit:vu.replace(be,"!DOCTYPE html>"),insertTextFormat:Pm.PlainText})}let Me=f.scan();for(;Me!==Xt.EOS&&f.getTokenOffset()<=l;){switch(Me){case Xt.StartTagOpen:if(f.getTokenEnd()===l){let ce=De(Xt.StartTag);return t.line===0&&qe(l,ce),he(l,ce)}break;case Xt.StartTag:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return N(f.getTokenOffset(),f.getTokenEnd());p=f.getTokenText();break;case Xt.AttributeName:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return V(f.getTokenOffset(),f.getTokenEnd());_=f.getTokenText();break;case Xt.DelimiterAssign:if(f.getTokenEnd()===l){let ce=De(Xt.AttributeValue);return te(l,ce)}break;case Xt.AttributeValue:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return te(f.getTokenOffset(),f.getTokenEnd());break;case Xt.Whitespace:if(l<=f.getTokenEnd())switch(f.getScannerState()){case Yn.AfterOpeningStartTag:let ce=f.getTokenOffset(),Ce=De(Xt.StartTag);return he(ce,Ce);case Yn.WithinTag:case Yn.AfterAttributeName:return V(f.getTokenEnd());case Yn.BeforeAttributeValue:return te(f.getTokenEnd());case Yn.AfterOpeningEndTag:return U(f.getTokenOffset()-1,!1);case Yn.WithinContent:return ae()}break;case Xt.EndTagOpen:if(l<=f.getTokenEnd()){let ce=f.getTokenOffset()+1,Ce=De(Xt.EndTag);return U(ce,!1,Ce)}break;case Xt.EndTag:if(l<=f.getTokenEnd()){let ce=f.getTokenOffset()-1;for(;ce>=0;){let Ce=u.charAt(ce);if(Ce==="/")return U(ce,!1,f.getTokenEnd());if(!i4(Ce))break;ce--}}break;case Xt.StartTagClose:if(l<=f.getTokenEnd()&&p)return ee(f.getTokenEnd(),p);break;case Xt.Content:if(l<=f.getTokenEnd())return ae();break;default:if(l<=f.getTokenEnd())return o;break}Me=f.scan()}return o}doQuoteComplete(e,t,n,i){let o=e.offsetAt(t);if(o<=0)return null;let s=i?.attributeDefaultValue??"doublequotes";if(s==="empty"||e.getText().charAt(o-1)!=="=")return null;let c=s==="doublequotes"?'"$1"':"'$1'",u=n.findNodeBefore(o);if(u&&u.attributes&&u.start<o&&(!u.endTagStart||u.endTagStart>o)){let l=Hu(e.getText(),u.start),d=l.scan();for(;d!==Xt.EOS&&l.getTokenEnd()<=o;){if(d===Xt.AttributeName&&l.getTokenEnd()===o-1)return d=l.scan(),d!==Xt.DelimiterAssign||(d=l.scan(),d===Xt.Unknown||d===Xt.AttributeValue)?null:c;d=l.scan()}}return null}doTagComplete(e,t,n){let i=e.offsetAt(t);if(i<=0)return null;let o=e.getText().charAt(i-1);if(o===">"){let s=n.findNodeBefore(i);if(s&&s.tag&&s.start<i&&(!s.endTagStart||s.endTagStart>i)){let a=this.dataManager.getVoidElements(e.languageId);if(!this.dataManager.isVoidElement(s.tag,a)){let c=Hu(e.getText(),s.start),u=c.scan();for(;u!==Xt.EOS&&c.getTokenEnd()<=i;){if(u===Xt.StartTagClose&&c.getTokenEnd()===i)return`$0</${s.tag}>`;u=c.scan()}}}}else if(o==="/"){let s=n.findNodeBefore(i);for(;s&&s.closed&&!(s.endTagStart&&s.endTagStart>i);)s=s.parent;if(s&&s.tag){let a=Hu(e.getText(),s.start),c=a.scan();for(;c!==Xt.EOS&&a.getTokenEnd()<=i;){if(c===Xt.EndTagOpen&&a.getTokenEnd()===i)return e.getText().charAt(i)!==">"?`${s.tag}>`:s.tag;c=a.scan()}}}return null}convertCompletionList(e){return this.doesSupportMarkdown()||e.items.forEach(t=>{t.documentation&&typeof t.documentation!="string"&&(t.documentation={kind:"plaintext",value:t.documentation.value})}),e}doesSupportMarkdown(){if(!yI(this.supportsMarkdown)){if(!yI(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities.textDocument?.completion?.completionItem?.documentationFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf(Ng.Markdown)!==-1}return this.supportsMarkdown}}});function aMt(r){return r.length<=1?r.replace(/['"]/,""):((r[0]==="'"||r[0]==='"')&&(r=r.slice(1)),(r[r.length-1]==="'"||r[r.length-1]==='"')&&(r=r.slice(0,-1)),r)}var wHe,o4,SHe=Ti(()=>{nC();xm();ple();OF();fle();vI();wHe=ye(NV()),o4=class{constructor(e,t){this.lsOptions=e,this.dataManager=t}doHover(e,t,n,i){let o=this.convertContents.bind(this),s=this.doesSupportMarkdown(),a=e.offsetAt(t),c=n.findNodeAt(a),u=e.getText();if(!c||!c.tag)return null;let l=this.dataManager.getDataProviders().filter(V=>V.isApplicable(e.languageId));function d(V,W,te){for(let De of l){let ae=null;if(De.provideTags().forEach(ue=>{if(ue.name.toLowerCase()===V.toLowerCase()){let qe=iC(ue,i,s);qe||(qe={kind:s?"markdown":"plaintext",value:""}),ae={contents:qe,range:W}}}),ae)return ae.contents=o(ae.contents),ae}return null}function f(V,W,te){for(let De of l){let ae=null;if(De.provideAttributes(V).forEach(ue=>{if(W===ue.name&&ue.description){let qe=iC(ue,i,s);qe?ae={contents:qe,range:te}:ae=null}}),ae)return ae.contents=o(ae.contents),ae}return null}function p(V,W,te,De){for(let ae of l){let ue=null;if(ae.provideValues(V,W).forEach(qe=>{if(te===qe.name&&qe.description){let Me=iC(qe,i,s);Me?ue={contents:Me,range:De}:ue=null}}),ue)return ue.contents=o(ue.contents),ue}return null}function _(V,W){let te=N(V);for(let De in BE){let ae=null,ue="&"+De;if(te===ue){let qe=BE[De].charCodeAt(0).toString(16).toUpperCase(),Me="U+";if(qe.length<4){let Ce=4-qe.length,be=0;for(;be<Ce;)Me+="0",be+=1}Me+=qe;let ce=wHe.t("Character entity representing '{0}', unicode equivalent '{1}'",BE[De],Me);ce?ae={contents:ce,range:W}:ae=null}if(ae)return ae.contents=o(ae.contents),ae}return null}function D(V,W){let te=Hu(e.getText(),W),De=te.scan();for(;De!==Xt.EOS&&(te.getTokenEnd()<a||te.getTokenEnd()===a&&De!==V);)De=te.scan();return De===V&&a<=te.getTokenEnd()?{start:e.positionAt(te.getTokenOffset()),end:e.positionAt(te.getTokenEnd())}:null}function x(){let V=a-1,W=t.character;for(;V>=0&&WE(u,V);)V--,W--;let te=V+1,De=W;for(;WE(u,te);)te++,De++;if(V>=0&&u[V]==="&"){let ae=null;return u[te]===";"?ae=Ri.create(Xa.create(t.line,W),Xa.create(t.line,De+1)):ae=Ri.create(Xa.create(t.line,W),Xa.create(t.line,De)),ae}return null}function N(V){let W=a-1,te="&";for(;W>=0&&WE(V,W);)W--;for(W=W+1;WE(V,W);)te+=V[W],W+=1;return te+=";",te}if(c.endTagStart&&a>=c.endTagStart){let V=D(Xt.EndTag,c.endTagStart);return V?d(c.tag,V,!1):null}let A=D(Xt.StartTag,c.start);if(A)return d(c.tag,A,!0);let U=D(Xt.AttributeName,c.start);if(U){let V=c.tag,W=e.getText(U);return f(V,W,U)}let ee=x();if(ee)return _(u,ee);function he(V,W){let te=Hu(e.getText(),V),De=te.scan(),ae;for(;De!==Xt.EOS&&te.getTokenEnd()<=W;)De=te.scan(),De===Xt.AttributeName&&(ae=te.getTokenText());return ae}let we=D(Xt.AttributeValue,c.start);if(we){let V=c.tag,W=aMt(e.getText(we)),te=he(c.start,e.offsetAt(we.start));if(te)return p(V,te,W,we)}return null}convertContents(e){if(!this.doesSupportMarkdown()){if(typeof e=="string")return e;if("kind"in e)return{kind:"plaintext",value:e.value};if(Array.isArray(e))e.map(t=>typeof t=="string"?t:t.value);else return e.value}return e}doesSupportMarkdown(){if(!yI(this.supportsMarkdown)){if(!yI(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities?.textDocument?.hover?.contentFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf(Ng.Markdown)!==-1}return this.supportsMarkdown}}});function CHe(r,e){return r}var THe=Ti(()=>{});var DHe,EHe,RHe=Ti(()=>{(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},,,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},,,,,function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},,function(i,o,s){var a=s(16).Beautifier,c=s(17).Options;function u(l,d){var f=new a(l,d);return f.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(17).Options,c=s(2).Output,u=s(8).InputScanner,l=s(13).Directives,d=new l(/\/\*/,/\*\//),f=/\r\n|[\r\n]/,p=/\r\n|[\r\n]/g,_=/\s/,D=/(?:\s|\n)+/g,x=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,N=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function A(U,ee){this._source_text=U||"",this._options=new a(ee),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}A.prototype.eatString=function(U){var ee="";for(this._ch=this._input.next();this._ch;){if(ee+=this._ch,this._ch==="\\")ee+=this._input.next();else if(U.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return ee},A.prototype.eatWhitespace=function(U){for(var ee=_.test(this._input.peek()),he=0;_.test(this._input.peek());)this._ch=this._input.next(),U&&this._ch===`
`&&(he===0||he<this._options.max_preserve_newlines)&&(he++,this._output.add_new_line(!0));return ee},A.prototype.foundNestedPseudoClass=function(){for(var U=0,ee=1,he=this._input.peek(ee);he;){if(he==="{")return!0;if(he==="(")U+=1;else if(he===")"){if(U===0)return!1;U-=1}else if(he===";"||he==="}")return!1;ee++,he=this._input.peek(ee)}return!1},A.prototype.print_string=function(U){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(U)},A.prototype.preserveSingleSpace=function(U){U&&(this._output.space_before_token=!0)},A.prototype.indent=function(){this._indentLevel++},A.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},A.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var U=this._source_text,ee=this._options.eol;ee==="auto"&&(ee=`
`,U&&f.test(U||"")&&(ee=U.match(f)[0])),U=U.replace(p,`
`);var he=U.match(/^[\t ]*/)[0];this._output=new c(this._options,he),this._input=new u(U),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var we=0,V=!1,W=!1,te=!1,De=!1,ae=!1,ue=this._ch,qe=!1,Me,ce,Ce;Me=this._input.read(D),ce=Me!=="",Ce=ue,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),ue=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var be=this._input.read(x),xe=d.get_directives(be);xe&&xe.ignore==="start"&&(be+=d.readIgnored(this._input)),this.print_string(be),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(N)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(ce),this.print_string(this._ch);var Ne=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);Ne.match(/[ :]$/)&&(Ne=this.eatString(": ").replace(/\s+$/,""),this.print_string(Ne),this._output.space_before_token=!0),we===0&&Ne.indexOf(":")!==-1&&(W=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(ce),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var $e=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);$e.match(/[ :]$/)&&($e=this.eatString(": ").replace(/\s+$/,""),this.print_string($e),this._output.space_before_token=!0),we===0&&$e.indexOf(":")!==-1?(W=!0,this.indent()):$e in this.NESTED_AT_RULE?(this._nestedLevel+=1,$e in this.CONDITIONAL_GROUP_RULE&&(te=!0)):we===0&&!W&&(De=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(ce),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")W&&(W=!1,this.outdent()),De=!1,te?(te=!1,V=this._indentLevel>=this._nestedLevel):V=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&V&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(Ce==="("?this._output.space_before_token=!1:Ce!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),Ce==="{"&&this._output.trim(!0),W&&(this.outdent(),W=!1),this.print_string(this._ch),V=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var Ct=0;Ct<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;Ct++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[Ct])){qe=!0;break}(V||te)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!De&&we===0?(this.print_string(":"),W||(W=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var ze=Ce==='"'||Ce==="'";this.preserveSingleSpace(ze||ce),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")qe=!1,we===0?(W&&(this.outdent(),W=!1),De=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),we++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),we&&(we--,this.outdent()));else{var st=!1;this._input.lookBack("with")&&(st=!0),this.preserveSingleSpace(ce||st),this.print_string(this._ch),W&&Ce==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),ae=!0):(this.eatWhitespace(),we++,this.indent())}else if(this._ch===")")we&&(we--,this.outdent()),ae&&this._input.peek()===";"&&this._options.selector_separator_newline&&(ae=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!W||ae)&&we===0&&!De?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!W&&we===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&_.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(ce),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),_.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var at=Ce==='"'||Ce==="'";this.preserveSingleSpace(at||ce),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&qe&&this._output.add_new_line()}var tt=this._output.get_code(ee);return tt},i.exports.Beautifier=A},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var l=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||l;var d=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var f=0;f<d.length;f++)d[f]!=="expand"?this.brace_style="collapse":this.brace_style=d[f]}c.prototype=new a,i.exports.Options=c}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(15);DHe=n})();EHe=DHe});function xHe(r,e){return PHe(r,e,CHe,EHe)}var PHe,OHe=Ti(()=>{THe();RHe();(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},function(i){function o(s,a,c,u){this.type=s,this.text=a,this.comments_before=null,this.newlines=c||0,this.whitespace_before=u||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}i.exports.Token=o},,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},function(i,o,s){var a=s(8).InputScanner,c=s(3).Token,u=s(10).TokenStream,l=s(11).WhitespacePattern,d={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},f=function(p,_){this._input=new a(p),this._options=_||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new l(this._input)};f.prototype.tokenize=function(){this._input.restart(),this.__tokens=new u,this._reset();for(var p,_=new c(d.START,""),D=null,x=[],N=new u;_.type!==d.EOF;){for(p=this._get_next_token(_,D);this._is_comment(p);)N.add(p),p=this._get_next_token(_,D);N.isEmpty()||(p.comments_before=N,N=new u),p.parent=D,this._is_opening(p)?(x.push(D),D=p):D&&this._is_closing(p,D)&&(p.opened=D,D.closed=p,D=x.pop(),p.parent=D),p.previous=_,_.next=p,this.__tokens.add(p),_=p}return this.__tokens},f.prototype._is_first_token=function(){return this.__tokens.isEmpty()},f.prototype._reset=function(){},f.prototype._get_next_token=function(p,_){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(d.RAW,D):this._create_token(d.EOF,"")},f.prototype._is_comment=function(p){return!1},f.prototype._is_opening=function(p){return!1},f.prototype._is_closing=function(p,_){return!1},f.prototype._create_token=function(p,_){var D=new c(p,_,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return D},f.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},i.exports.Tokenizer=f,i.exports.TOKEN=d},function(i){function o(s){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=s}o.prototype.restart=function(){this.__position=0},o.prototype.isEmpty=function(){return this.__tokens_length===0},o.prototype.hasNext=function(){return this.__position<this.__tokens_length},o.prototype.next=function(){var s=null;return this.hasNext()&&(s=this.__tokens[this.__position],this.__position+=1),s},o.prototype.peek=function(s){var a=null;return s=s||0,s+=this.__position,s>=0&&s<this.__tokens_length&&(a=this.__tokens[s]),a},o.prototype.add=function(s){this.__parent_token&&(s.parent=this.__parent_token),this.__tokens.push(s),this.__tokens_length+=1},i.exports.TokenStream=o},function(i,o,s){var a=s(12).Pattern;function c(u,l){a.call(this,u,l),l?this._line_regexp=this._input.get_regexp(l._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}c.prototype=new a,c.prototype.__set_whitespace_patterns=function(u,l){u+="\\t ",l+="\\n\\r",this._match_pattern=this._input.get_regexp("["+u+l+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+l+"]")},c.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u=this._input.read(this._match_pattern);if(u===" ")this.whitespace_before_token=" ";else if(u){var l=this.__split(this._newline_regexp,u);this.newline_count=l.length-1,this.whitespace_before_token=l[this.newline_count]}return u},c.prototype.matching=function(u,l){var d=this._create();return d.__set_whitespace_patterns(u,l),d._update(),d},c.prototype._create=function(){return new c(this._input,this)},c.prototype.__split=function(u,l){u.lastIndex=0;for(var d=0,f=[],p=u.exec(l);p;)f.push(l.substring(d,p.index)),d=p.index+p[0].length,p=u.exec(l);return d<l.length?f.push(l.substring(d,l.length)):f.push(""),f},i.exports.WhitespacePattern=c},function(i){function o(s,a){this._input=s,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,a&&(this._starting_pattern=this._input.get_regexp(a._starting_pattern,!0),this._match_pattern=this._input.get_regexp(a._match_pattern,!0),this._until_pattern=this._input.get_regexp(a._until_pattern),this._until_after=a._until_after)}o.prototype.read=function(){var s=this._input.read(this._starting_pattern);return(!this._starting_pattern||s)&&(s+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),s},o.prototype.read_match=function(){return this._input.match(this._match_pattern)},o.prototype.until_after=function(s){var a=this._create();return a._until_after=!0,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.until=function(s){var a=this._create();return a._until_after=!1,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.starting_with=function(s){var a=this._create();return a._starting_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype.matching=function(s){var a=this._create();return a._match_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){},i.exports.Pattern=o},function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},function(i,o,s){var a=s(12).Pattern,c={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function u(l,d){a.call(this,l,d),this.__template_pattern=null,this._disabled=Object.assign({},c),this._excluded=Object.assign({},c),d&&(this.__template_pattern=this._input.get_regexp(d.__template_pattern),this._excluded=Object.assign(this._excluded,d._excluded),this._disabled=Object.assign(this._disabled,d._disabled));var f=new a(l);this.__patterns={handlebars_comment:f.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:f.starting_with(/{{{/).until_after(/}}}/),handlebars:f.starting_with(/{{/).until_after(/}}/),php:f.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:f.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:f.starting_with(/{%/).until_after(/%}/),django_value:f.starting_with(/{{/).until_after(/}}/),django_comment:f.starting_with(/{#/).until_after(/#}/),smarty:f.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:f.starting_with(/{\*/).until_after(/\*}/),smarty_literal:f.starting_with(/{literal}/).until_after(/{\/literal}/)}}u.prototype=new a,u.prototype._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(l){var d=this._create();return d._disabled[l]=!0,d._update(),d},u.prototype.read_options=function(l){var d=this._create();for(var f in c)d._disabled[f]=l.templating.indexOf(f)===-1;return d._update(),d},u.prototype.exclude=function(l){var d=this._create();return d._excluded[l]=!0,d._update(),d},u.prototype.read=function(){var l="";this._match_pattern?l=this._input.read(this._starting_pattern):l=this._input.read(this._starting_pattern,this.__template_pattern);for(var d=this._read_template();d;)this._match_pattern?d+=this._input.read(this._match_pattern):d+=this._input.readUntil(this.__template_pattern),l+=d,d=this._read_template();return this._until_after&&(l+=this._input.readUntilAfter(this._until_pattern)),l},u.prototype.__set_templated_pattern=function(){var l=[];this._disabled.php||l.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||l.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||l.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(l.push(this.__patterns.django._starting_pattern.source),l.push(this.__patterns.django_value._starting_pattern.source),l.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||l.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&l.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+l.join("|")+")")},u.prototype._read_template=function(){var l="",d=this._input.peek();if(d==="<"){var f=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&f==="?"&&(l=l||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&f==="%"&&(l=l||this.__patterns.erb.read())}else d==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(l=l||this.__patterns.handlebars_comment.read(),l=l||this.__patterns.handlebars_unescaped.read(),l=l||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(l=l||this.__patterns.django_value.read()),this._excluded.django||(l=l||this.__patterns.django_comment.read(),l=l||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(l=l||this.__patterns.smarty_comment.read(),l=l||this.__patterns.smarty_literal.read(),l=l||this.__patterns.smarty.read()));return l},i.exports.TemplatablePattern=u},,,,function(i,o,s){var a=s(19).Beautifier,c=s(20).Options;function u(l,d,f,p){var _=new a(l,d,f,p);return _.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(20).Options,c=s(2).Output,u=s(21).Tokenizer,l=s(21).TOKEN,d=/\r\n|[\r\n]/,f=/\r\n|[\r\n]/g,p=function(V,W){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=V.max_preserve_newlines,this.preserve_newlines=V.preserve_newlines,this._output=new c(V,W)};p.prototype.current_line_has_match=function(V){return this._output.current_line.has_match(V)},p.prototype.set_space_before_token=function(V,W){this._output.space_before_token=V,this._output.non_breaking_space=W},p.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},p.prototype.add_raw_token=function(V){this._output.add_raw_token(V)},p.prototype.print_preserved_newlines=function(V){var W=0;V.type!==l.TEXT&&V.previous.type!==l.TEXT&&(W=V.newlines?1:0),this.preserve_newlines&&(W=V.newlines<this.max_preserve_newlines+1?V.newlines:this.max_preserve_newlines+1);for(var te=0;te<W;te++)this.print_newline(te>0);return W!==0},p.prototype.traverse_whitespace=function(V){return V.whitespace_before||V.newlines?(this.print_preserved_newlines(V)||(this._output.space_before_token=!0),!0):!1},p.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},p.prototype.print_newline=function(V){this._output.add_new_line(V)},p.prototype.print_token=function(V){V.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(V.text))},p.prototype.indent=function(){this.indent_level++},p.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},p.prototype.get_full_indent=function(V){return V=this.indent_level+(V||0),V<1?"":this._output.get_indent_string(V)};var _=function(V){for(var W=null,te=V.next;te.type!==l.EOF&&V.closed!==te;){if(te.type===l.ATTRIBUTE&&te.text==="type"){te.next&&te.next.type===l.EQUALS&&te.next.next&&te.next.next.type===l.VALUE&&(W=te.next.next.text);break}te=te.next}return W},D=function(V,W){var te=null,De=null;return W.closed?(V==="script"?te="text/javascript":V==="style"&&(te="text/css"),te=_(W)||te,te.search("text/css")>-1?De="css":te.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?De="javascript":te.search(/(text|application|dojo)\/(x-)?(html)/)>-1?De="html":te.search(/test\/null/)>-1&&(De="null"),De):null};function x(V,W){return W.indexOf(V)!==-1}function N(V,W,te){this.parent=V||null,this.tag=W?W.tag_name:"",this.indent_level=te||0,this.parser_token=W||null}function A(V){this._printer=V,this._current_frame=null}A.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},A.prototype.record_tag=function(V){var W=new N(this._current_frame,V,this._printer.indent_level);this._current_frame=W},A.prototype._try_pop_frame=function(V){var W=null;return V&&(W=V.parser_token,this._printer.indent_level=V.indent_level,this._current_frame=V.parent),W},A.prototype._get_frame=function(V,W){for(var te=this._current_frame;te&&V.indexOf(te.tag)===-1;){if(W&&W.indexOf(te.tag)!==-1){te=null;break}te=te.parent}return te},A.prototype.try_pop=function(V,W){var te=this._get_frame([V],W);return this._try_pop_frame(te)},A.prototype.indent_to_tag=function(V){var W=this._get_frame(V);W&&(this._printer.indent_level=W.indent_level)};function U(V,W,te,De){this._source_text=V||"",W=W||{},this._js_beautify=te,this._css_beautify=De,this._tag_stack=null;var ae=new a(W,"html");this._options=ae,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var V=this._source_text,W=this._options.eol;this._options.eol==="auto"&&(W=`
`,V&&d.test(V)&&(W=V.match(d)[0])),V=V.replace(f,`
`);var te=V.match(/^[\t ]*/)[0],De={text:"",type:""},ae=new ee,ue=new p(this._options,te),qe=new u(V,this._options).tokenize();this._tag_stack=new A(ue);for(var Me=null,ce=qe.next();ce.type!==l.EOF;)ce.type===l.TAG_OPEN||ce.type===l.COMMENT?(Me=this._handle_tag_open(ue,ce,ae,De,qe),ae=Me):ce.type===l.ATTRIBUTE||ce.type===l.EQUALS||ce.type===l.VALUE||ce.type===l.TEXT&&!ae.tag_complete?Me=this._handle_inside_tag(ue,ce,ae,De):ce.type===l.TAG_CLOSE?Me=this._handle_tag_close(ue,ce,ae):ce.type===l.TEXT?Me=this._handle_text(ue,ce,ae):ce.type===l.CONTROL_FLOW_OPEN?Me=this._handle_control_flow_open(ue,ce):ce.type===l.CONTROL_FLOW_CLOSE?Me=this._handle_control_flow_close(ue,ce):ue.add_raw_token(ce),De=Me,ce=qe.next();var Ce=ue._output.get_code(W);return Ce},U.prototype._handle_control_flow_open=function(V,W){var te={text:W.text,type:W.type};return V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),W.newlines?V.print_preserved_newlines(W):V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),V.print_token(W),V.indent(),te},U.prototype._handle_control_flow_close=function(V,W){var te={text:W.text,type:W.type};return V.deindent(),W.newlines?V.print_preserved_newlines(W):V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),V.print_token(W),te},U.prototype._handle_tag_close=function(V,W,te){var De={text:W.text,type:W.type};return V.alignment_size=0,te.tag_complete=!0,V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),te.is_unformatted?V.add_raw_token(W):(te.tag_start_char==="<"&&(V.set_space_before_token(W.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&te.has_wrapped_attrs&&V.print_newline(!1)),V.print_token(W)),te.indent_content&&!(te.is_unformatted||te.is_content_unformatted)&&(V.indent(),te.indent_content=!1),!te.is_inline_element&&!(te.is_unformatted||te.is_content_unformatted)&&V.set_wrap_point(),De},U.prototype._handle_inside_tag=function(V,W,te,De){var ae=te.has_wrapped_attrs,ue={text:W.text,type:W.type};return V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),te.is_unformatted?V.add_raw_token(W):te.tag_start_char==="{"&&W.type===l.TEXT?V.print_preserved_newlines(W)?(W.newlines=0,V.add_raw_token(W)):V.print_token(W):(W.type===l.ATTRIBUTE?V.set_space_before_token(!0):(W.type===l.EQUALS||W.type===l.VALUE&&W.previous.type===l.EQUALS)&&V.set_space_before_token(!1),W.type===l.ATTRIBUTE&&te.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(V.traverse_whitespace(W),ae=ae||W.newlines!==0),this._is_wrap_attributes_force&&te.attr_count>=this._options.wrap_attributes_min_attrs&&(De.type!==l.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(V.print_newline(!1),ae=!0)),V.print_token(W),ae=ae||V.previous_token_wrapped(),te.has_wrapped_attrs=ae),ue},U.prototype._handle_text=function(V,W,te){var De={text:W.text,type:"TK_CONTENT"};return te.custom_beautifier_name?this._print_custom_beatifier_text(V,W,te):te.is_unformatted||te.is_content_unformatted?V.add_raw_token(W):(V.traverse_whitespace(W),V.print_token(W)),De},U.prototype._print_custom_beatifier_text=function(V,W,te){var De=this;if(W.text!==""){var ae=W.text,ue,qe=1,Me="",ce="";te.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?ue=this._js_beautify:te.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?ue=this._css_beautify:te.custom_beautifier_name==="html"&&(ue=function(Ct,ze){var st=new U(Ct,ze,De._js_beautify,De._css_beautify);return st.beautify()}),this._options.indent_scripts==="keep"?qe=0:this._options.indent_scripts==="separate"&&(qe=-V.indent_level);var Ce=V.get_full_indent(qe);if(ae=ae.replace(/\n[ \t]*$/,""),te.custom_beautifier_name!=="html"&&ae[0]==="<"&&ae.match(/^(<!--|<!\[CDATA\[)/)){var be=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(ae);if(!be){V.add_raw_token(W);return}Me=Ce+be[1]+`
`,ae=be[4],be[5]&&(ce=Ce+be[5]),ae=ae.replace(/\n[ \t]*$/,""),(be[2]||be[3].indexOf(`
`)!==-1)&&(be=be[3].match(/[ \t]+$/),be&&(W.whitespace_before=be[0]))}if(ae)if(ue){var xe=function(){this.eol=`
`};xe.prototype=this._options.raw_options;var Ne=new xe;ae=ue(Ce+ae,Ne)}else{var $e=W.whitespace_before;$e&&(ae=ae.replace(new RegExp(`
(`+$e+")?","g"),`
`)),ae=Ce+ae.replace(/\n/g,`
`+Ce)}Me&&(ae?ae=Me+ae+`
`+ce:ae=Me+ce),V.print_newline(!1),ae&&(W.text=ae,W.whitespace_before="",W.newlines=0,V.add_raw_token(W),V.print_newline(!0))}},U.prototype._handle_tag_open=function(V,W,te,De,ae){var ue=this._get_tag_open_token(W);if((te.is_unformatted||te.is_content_unformatted)&&!te.is_empty_element&&W.type===l.TAG_OPEN&&!ue.is_start_tag?(V.add_raw_token(W),ue.start_tag_token=this._tag_stack.try_pop(ue.tag_name)):(V.traverse_whitespace(W),this._set_tag_position(V,W,ue,te,De),ue.is_inline_element||V.set_wrap_point(),V.print_token(W)),ue.is_start_tag&&this._is_wrap_attributes_force){var qe=0,Me;do Me=ae.peek(qe),Me.type===l.ATTRIBUTE&&(ue.attr_count+=1),qe+=1;while(Me.type!==l.EOF&&Me.type!==l.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(ue.alignment_size=W.text.length+1),!ue.tag_complete&&!ue.is_unformatted&&(V.alignment_size=ue.alignment_size),ue};var ee=function(V,W){if(this.parent=V||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!W)this.tag_complete=!0;else{var te;this.tag_start_char=W.text[0],this.text=W.text,this.tag_start_char==="<"?(te=W.text.match(/^<([^\s>]*)/),this.tag_check=te?te[1]:""):(te=W.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=te?te[1]:"",(W.text.startsWith("{{#>")||W.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&W.next!==null?this.tag_check=W.next.text.split(" ")[0]:this.tag_check=W.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),W.type===l.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||W.closed&&W.closed.text==="/>";var De=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(De=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(De)))}};U.prototype._get_tag_open_token=function(V){var W=new ee(this._tag_stack.get_parser_token(),V);return W.alignment_size=this._options.wrap_attributes_indent_size,W.is_end_tag=W.is_end_tag||x(W.tag_check,this._options.void_elements),W.is_empty_element=W.tag_complete||W.is_start_tag&&W.is_end_tag,W.is_unformatted=!W.tag_complete&&x(W.tag_check,this._options.unformatted),W.is_content_unformatted=!W.is_empty_element&&x(W.tag_check,this._options.content_unformatted),W.is_inline_element=x(W.tag_name,this._options.inline)||this._options.inline_custom_elements&&W.tag_name.includes("-")||W.tag_start_char==="{",W},U.prototype._set_tag_position=function(V,W,te,De,ae){if(te.is_empty_element||(te.is_end_tag?te.start_tag_token=this._tag_stack.try_pop(te.tag_name):(this._do_optional_end_element(te)&&(te.is_inline_element||V.print_newline(!1)),this._tag_stack.record_tag(te),(te.tag_name==="script"||te.tag_name==="style")&&!(te.is_unformatted||te.is_content_unformatted)&&(te.custom_beautifier_name=D(te.tag_check,W)))),x(te.tag_check,this._options.extra_liners)&&(V.print_newline(!1),V._output.just_added_blankline()||V.print_newline(!0)),te.is_empty_element){if(te.tag_start_char==="{"&&te.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),te.indent_content=!0;var ue=V.current_line_has_match(/{{#if/);ue||V.print_newline(!1)}te.tag_name==="!--"&&ae.type===l.TAG_CLOSE&&De.is_end_tag&&te.text.indexOf(`
`)===-1||(te.is_inline_element||te.is_unformatted||V.print_newline(!1),this._calcluate_parent_multiline(V,te))}else if(te.is_end_tag){var qe=!1;qe=te.start_tag_token&&te.start_tag_token.multiline_content,qe=qe||!te.is_inline_element&&!(De.is_inline_element||De.is_unformatted)&&!(ae.type===l.TAG_CLOSE&&te.start_tag_token===De)&&ae.type!=="TK_CONTENT",(te.is_content_unformatted||te.is_unformatted)&&(qe=!1),qe&&V.print_newline(!1)}else te.indent_content=!te.custom_beautifier_name,te.tag_start_char==="<"&&(te.tag_name==="html"?te.indent_content=this._options.indent_inner_html:te.tag_name==="head"?te.indent_content=this._options.indent_head_inner_html:te.tag_name==="body"&&(te.indent_content=this._options.indent_body_inner_html)),!(te.is_inline_element||te.is_unformatted)&&(ae.type!=="TK_CONTENT"||te.is_content_unformatted)&&V.print_newline(!1),this._calcluate_parent_multiline(V,te)},U.prototype._calcluate_parent_multiline=function(V,W){W.parent&&V._output.just_added_newline()&&!((W.is_inline_element||W.is_unformatted)&&W.parent.is_inline_element)&&(W.parent.multiline_content=!0)};var he=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],we=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(V){var W=null;if(!(V.is_empty_element||!V.is_start_tag||!V.parent)){if(V.tag_name==="body")W=W||this._tag_stack.try_pop("head");else if(V.tag_name==="li")W=W||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(V.tag_name==="dd"||V.tag_name==="dt")W=W||this._tag_stack.try_pop("dt",["dl"]),W=W||this._tag_stack.try_pop("dd",["dl"]);else if(V.parent.tag_name==="p"&&he.indexOf(V.tag_name)!==-1){var te=V.parent.parent;(!te||we.indexOf(te.tag_name)===-1)&&(W=W||this._tag_stack.try_pop("p"))}else V.tag_name==="rp"||V.tag_name==="rt"?(W=W||this._tag_stack.try_pop("rt",["ruby","rtc"]),W=W||this._tag_stack.try_pop("rp",["ruby","rtc"])):V.tag_name==="optgroup"?W=W||this._tag_stack.try_pop("optgroup",["select"]):V.tag_name==="option"?W=W||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):V.tag_name==="colgroup"?W=W||this._tag_stack.try_pop("caption",["table"]):V.tag_name==="thead"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"])):V.tag_name==="tbody"||V.tag_name==="tfoot"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"]),W=W||this._tag_stack.try_pop("thead",["table"]),W=W||this._tag_stack.try_pop("tbody",["table"])):V.tag_name==="tr"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"]),W=W||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(V.tag_name==="th"||V.tag_name==="td")&&(W=W||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),W=W||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return V.parent=this._tag_stack.get_parser_token(),W}},i.exports.Beautifier=U},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}c.prototype=new a,i.exports.Options=c},function(i,o,s){var a=s(9).Tokenizer,c=s(9).TOKEN,u=s(13).Directives,l=s(14).TemplatablePattern,d=s(12).Pattern,f={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:c.START,RAW:c.RAW,EOF:c.EOF},p=new u(/<\!--/,/-->/),_=function(D,x){a.call(this,D,x),this._current_tag_name="";var N=new l(this._input).read_options(this._options),A=new d(this._input);if(this.__patterns={word:N.until(/[\n\r\t <]/),word_control_flow_close_excluded:N.until(/[\n\r\t <}]/),single_quote:N.until_after(/'/),double_quote:N.until_after(/"/),attribute:N.until(/[\n\r\t =>]|\/>/),element_name:N.until(/[\n\r\t >\/]/),angular_control_flow_start:A.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:A.starting_with(/{{!--/).until_after(/--}}/),handlebars:A.starting_with(/{{/).until_after(/}}/),handlebars_open:A.until(/[\n\r\t }]/),handlebars_raw_close:A.until(/}}/),comment:A.starting_with(/<!--/).until_after(/-->/),cdata:A.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:A.starting_with(/<!\[/).until_after(/]>/),processing:A.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var U=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=A.matching(U).until_after(U)}};_.prototype=new a,_.prototype._is_comment=function(D){return!1},_.prototype._is_opening=function(D){return D.type===f.TAG_OPEN||D.type===f.CONTROL_FLOW_OPEN},_.prototype._is_closing=function(D,x){return D.type===f.TAG_CLOSE&&x&&((D.text===">"||D.text==="/>")&&x.text[0]==="<"||D.text==="}}"&&x.text[0]==="{"&&x.text[1]==="{")||D.type===f.CONTROL_FLOW_CLOSE&&D.text==="}"&&x.text.endsWith("{")},_.prototype._reset=function(){this._current_tag_name=""},_.prototype._get_next_token=function(D,x){var N=null;this._readWhitespace();var A=this._input.peek();return A===null?this._create_token(f.EOF,""):(N=N||this._read_open_handlebars(A,x),N=N||this._read_attribute(A,D,x),N=N||this._read_close(A,x),N=N||this._read_control_flows(A,x),N=N||this._read_raw_content(A,D,x),N=N||this._read_content_word(A,x),N=N||this._read_comment_or_cdata(A),N=N||this._read_processing(A),N=N||this._read_open(A,x),N=N||this._create_token(f.UNKNOWN,this._input.next()),N)},_.prototype._read_comment_or_cdata=function(D){var x=null,N=null,A=null;if(D==="<"){var U=this._input.peek(1);U==="!"&&(N=this.__patterns.comment.read(),N?(A=p.get_directives(N),A&&A.ignore==="start"&&(N+=p.readIgnored(this._input))):N=this.__patterns.cdata.read()),N&&(x=this._create_token(f.COMMENT,N),x.directives=A)}return x},_.prototype._read_processing=function(D){var x=null,N=null,A=null;if(D==="<"){var U=this._input.peek(1);(U==="!"||U==="?")&&(N=this.__patterns.conditional_comment.read(),N=N||this.__patterns.processing.read()),N&&(x=this._create_token(f.COMMENT,N),x.directives=A)}return x},_.prototype._read_open=function(D,x){var N=null,A=null;return(!x||x.type===f.CONTROL_FLOW_OPEN)&&D==="<"&&(N=this._input.next(),this._input.peek()==="/"&&(N+=this._input.next()),N+=this.__patterns.element_name.read(),A=this._create_token(f.TAG_OPEN,N)),A},_.prototype._read_open_handlebars=function(D,x){var N=null,A=null;return(!x||x.type===f.CONTROL_FLOW_OPEN)&&this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(N=this.__patterns.handlebars_comment.read(),N=N||this.__patterns.handlebars.read(),A=this._create_token(f.COMMENT,N)):(N=this.__patterns.handlebars_open.read(),A=this._create_token(f.TAG_OPEN,N))),A},_.prototype._read_control_flows=function(D,x){var N="",A=null;if(!this._options.templating.includes("angular")||!this._options.indent_handlebars)return A;if(D==="@"){if(N=this.__patterns.angular_control_flow_start.read(),N==="")return A;for(var U=N.endsWith("(")?1:0,ee=0;!(N.endsWith("{")&&U===ee);){var he=this._input.next();if(he===null)break;he==="("?U++:he===")"&&ee++,N+=he}A=this._create_token(f.CONTROL_FLOW_OPEN,N)}else D==="}"&&x&&x.type===f.CONTROL_FLOW_OPEN&&(N=this._input.next(),A=this._create_token(f.CONTROL_FLOW_CLOSE,N));return A},_.prototype._read_close=function(D,x){var N=null,A=null;return x&&x.type===f.TAG_OPEN&&(x.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(N=this._input.next(),D==="/"&&(N+=this._input.next()),A=this._create_token(f.TAG_CLOSE,N)):x.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),A=this._create_token(f.TAG_CLOSE,"}}"))),A},_.prototype._read_attribute=function(D,x,N){var A=null,U="";if(N&&N.text[0]==="<")if(D==="=")A=this._create_token(f.EQUALS,this._input.next());else if(D==='"'||D==="'"){var ee=this._input.next();D==='"'?ee+=this.__patterns.double_quote.read():ee+=this.__patterns.single_quote.read(),A=this._create_token(f.VALUE,ee)}else U=this.__patterns.attribute.read(),U&&(x.type===f.EQUALS?A=this._create_token(f.VALUE,U):A=this._create_token(f.ATTRIBUTE,U));return A},_.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},_.prototype._read_raw_content=function(D,x,N){var A="";if(N&&N.text[0]==="{")A=this.__patterns.handlebars_raw_close.read();else if(x.type===f.TAG_CLOSE&&x.opened.text[0]==="<"&&x.text[0]!=="/"){var U=x.opened.text.substr(1).toLowerCase();if(U==="script"||U==="style"){var ee=this._read_comment_or_cdata(D);if(ee)return ee.type=f.TEXT,ee;A=this._input.readUntil(new RegExp("</"+U+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(U)&&(A=this._input.readUntil(new RegExp("</"+U+"[\\n\\r\\t ]*?>","ig")))}return A?this._create_token(f.TEXT,A):null},_.prototype._read_content_word=function(D,x){var N="";if(this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]&&(N=this.__patterns.unformatted_content_delimiter.read()),N||(N=x&&x.type===f.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),N)return this._create_token(f.TEXT,N)},i.exports.Tokenizer=_,i.exports.TOKEN=f}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(18);PHe=n})()});function AHe(r,e,t){let n=r.getText(),i=!0,o=0,s=t.tabSize||4;if(e){let u=r.offsetAt(e.start),l=u;for(;l>0&&kHe(n,l-1);)l--;l===0||IHe(n,l-1)?u=l:l<u&&(u=l+1);let d=r.offsetAt(e.end),f=d;for(;f<n.length&&kHe(n,f);)f++;(f===n.length||IHe(n,f))&&(d=f),e=Ri.create(r.positionAt(u),r.positionAt(d));let p=n.substring(0,u);if(new RegExp(/.*[<][^>]*$/).test(p))return n=n.substring(u,d),[{range:e,newText:n}];if(i=d===n.length,n=n.substring(u,d),u!==0){let _=r.offsetAt(Xa.create(e.start.line,0));o=lMt(r.getText(),_,t)}}else e=Ri.create(Xa.create(0,0),r.positionAt(n.length));let a={indent_size:s,indent_char:t.insertSpaces?" ":"	",indent_empty_lines:Mg(t,"indentEmptyLines",!1),wrap_line_length:Mg(t,"wrapLineLength",120),unformatted:mle(t,"unformatted",void 0),content_unformatted:mle(t,"contentUnformatted",void 0),indent_inner_html:Mg(t,"indentInnerHtml",!1),preserve_newlines:Mg(t,"preserveNewLines",!0),max_preserve_newlines:Mg(t,"maxPreserveNewLines",32786),indent_handlebars:Mg(t,"indentHandlebars",!1),end_with_newline:i&&Mg(t,"endWithNewline",!1),extra_liners:mle(t,"extraLiners",void 0),wrap_attributes:Mg(t,"wrapAttributes","auto"),wrap_attributes_indent_size:Mg(t,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:Mg(t,"indentScripts","normal"),templating:uMt(t,"all"),unformatted_content_delimiter:Mg(t,"unformattedContentDelimiter","")},c=xHe(cMt(n),a);if(o>0){let u=t.insertSpaces?hle(" ",s*o):hle("	",o);c=c.split(`
`).join(`
`+u),e.start.character===0&&(c=u+c)}return[{range:e,newText:c}]}function cMt(r){return r.replace(/^\s+/,"")}function Mg(r,e,t){if(r&&r.hasOwnProperty(e)){let n=r[e];if(n!==null)return n}return t}function mle(r,e,t){let n=Mg(r,e,null);return typeof n=="string"?n.length>0?n.split(",").map(i=>i.trim().toLowerCase()):[]:t}function uMt(r,e){let t=Mg(r,"templating",e);return t===!0?["auto"]:t===!1||t===e||Array.isArray(t)===!1?["none"]:t}function lMt(r,e,t){let n=e,i=0,o=t.tabSize||4;for(;n<r.length;){let s=r.charAt(n);if(s===" ")i++;else if(s==="	")i+=o;else break;n++}return Math.floor(i/o)}function IHe(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}function kHe(r,e){return" 	".indexOf(r.charAt(e))!==-1}var LHe=Ti(()=>{xm();OHe();vI()});var NHe,MHe,Tar,FHe=Ti(()=>{(()=>{"use strict";var r={975:ae=>{function ue(ce){if(typeof ce!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(ce))}function qe(ce,Ce){for(var be,xe="",Ne=0,$e=-1,Ct=0,ze=0;ze<=ce.length;++ze){if(ze<ce.length)be=ce.charCodeAt(ze);else{if(be===47)break;be=47}if(be===47){if(!($e===ze-1||Ct===1))if($e!==ze-1&&Ct===2){if(xe.length<2||Ne!==2||xe.charCodeAt(xe.length-1)!==46||xe.charCodeAt(xe.length-2)!==46){if(xe.length>2){var st=xe.lastIndexOf("/");if(st!==xe.length-1){st===-1?(xe="",Ne=0):Ne=(xe=xe.slice(0,st)).length-1-xe.lastIndexOf("/"),$e=ze,Ct=0;continue}}else if(xe.length===2||xe.length===1){xe="",Ne=0,$e=ze,Ct=0;continue}}Ce&&(xe.length>0?xe+="/..":xe="..",Ne=2)}else xe.length>0?xe+="/"+ce.slice($e+1,ze):xe=ce.slice($e+1,ze),Ne=ze-$e-1;$e=ze,Ct=0}else be===46&&Ct!==-1?++Ct:Ct=-1}return xe}var Me={resolve:function(){for(var ce,Ce="",be=!1,xe=arguments.length-1;xe>=-1&&!be;xe--){var Ne;xe>=0?Ne=arguments[xe]:(ce===void 0&&(ce=process.cwd()),Ne=ce),ue(Ne),Ne.length!==0&&(Ce=Ne+"/"+Ce,be=Ne.charCodeAt(0)===47)}return Ce=qe(Ce,!be),be?Ce.length>0?"/"+Ce:"/":Ce.length>0?Ce:"."},normalize:function(ce){if(ue(ce),ce.length===0)return".";var Ce=ce.charCodeAt(0)===47,be=ce.charCodeAt(ce.length-1)===47;return(ce=qe(ce,!Ce)).length!==0||Ce||(ce="."),ce.length>0&&be&&(ce+="/"),Ce?"/"+ce:ce},isAbsolute:function(ce){return ue(ce),ce.length>0&&ce.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var ce,Ce=0;Ce<arguments.length;++Ce){var be=arguments[Ce];ue(be),be.length>0&&(ce===void 0?ce=be:ce+="/"+be)}return ce===void 0?".":Me.normalize(ce)},relative:function(ce,Ce){if(ue(ce),ue(Ce),ce===Ce||(ce=Me.resolve(ce))===(Ce=Me.resolve(Ce)))return"";for(var be=1;be<ce.length&&ce.charCodeAt(be)===47;++be);for(var xe=ce.length,Ne=xe-be,$e=1;$e<Ce.length&&Ce.charCodeAt($e)===47;++$e);for(var Ct=Ce.length-$e,ze=Ne<Ct?Ne:Ct,st=-1,at=0;at<=ze;++at){if(at===ze){if(Ct>ze){if(Ce.charCodeAt($e+at)===47)return Ce.slice($e+at+1);if(at===0)return Ce.slice($e+at)}else Ne>ze&&(ce.charCodeAt(be+at)===47?st=at:at===0&&(st=0));break}var tt=ce.charCodeAt(be+at);if(tt!==Ce.charCodeAt($e+at))break;tt===47&&(st=at)}var fr="";for(at=be+st+1;at<=xe;++at)at!==xe&&ce.charCodeAt(at)!==47||(fr.length===0?fr+="..":fr+="/..");return fr.length>0?fr+Ce.slice($e+st):($e+=st,Ce.charCodeAt($e)===47&&++$e,Ce.slice($e))},_makeLong:function(ce){return ce},dirname:function(ce){if(ue(ce),ce.length===0)return".";for(var Ce=ce.charCodeAt(0),be=Ce===47,xe=-1,Ne=!0,$e=ce.length-1;$e>=1;--$e)if((Ce=ce.charCodeAt($e))===47){if(!Ne){xe=$e;break}}else Ne=!1;return xe===-1?be?"/":".":be&&xe===1?"//":ce.slice(0,xe)},basename:function(ce,Ce){if(Ce!==void 0&&typeof Ce!="string")throw new TypeError('"ext" argument must be a string');ue(ce);var be,xe=0,Ne=-1,$e=!0;if(Ce!==void 0&&Ce.length>0&&Ce.length<=ce.length){if(Ce.length===ce.length&&Ce===ce)return"";var Ct=Ce.length-1,ze=-1;for(be=ce.length-1;be>=0;--be){var st=ce.charCodeAt(be);if(st===47){if(!$e){xe=be+1;break}}else ze===-1&&($e=!1,ze=be+1),Ct>=0&&(st===Ce.charCodeAt(Ct)?--Ct==-1&&(Ne=be):(Ct=-1,Ne=ze))}return xe===Ne?Ne=ze:Ne===-1&&(Ne=ce.length),ce.slice(xe,Ne)}for(be=ce.length-1;be>=0;--be)if(ce.charCodeAt(be)===47){if(!$e){xe=be+1;break}}else Ne===-1&&($e=!1,Ne=be+1);return Ne===-1?"":ce.slice(xe,Ne)},extname:function(ce){ue(ce);for(var Ce=-1,be=0,xe=-1,Ne=!0,$e=0,Ct=ce.length-1;Ct>=0;--Ct){var ze=ce.charCodeAt(Ct);if(ze!==47)xe===-1&&(Ne=!1,xe=Ct+1),ze===46?Ce===-1?Ce=Ct:$e!==1&&($e=1):Ce!==-1&&($e=-1);else if(!Ne){be=Ct+1;break}}return Ce===-1||xe===-1||$e===0||$e===1&&Ce===xe-1&&Ce===be+1?"":ce.slice(Ce,xe)},format:function(ce){if(ce===null||typeof ce!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof ce);return function(Ce,be){var xe=be.dir||be.root,Ne=be.base||(be.name||"")+(be.ext||"");return xe?xe===be.root?xe+Ne:xe+"/"+Ne:Ne}(0,ce)},parse:function(ce){ue(ce);var Ce={root:"",dir:"",base:"",ext:"",name:""};if(ce.length===0)return Ce;var be,xe=ce.charCodeAt(0),Ne=xe===47;Ne?(Ce.root="/",be=1):be=0;for(var $e=-1,Ct=0,ze=-1,st=!0,at=ce.length-1,tt=0;at>=be;--at)if((xe=ce.charCodeAt(at))!==47)ze===-1&&(st=!1,ze=at+1),xe===46?$e===-1?$e=at:tt!==1&&(tt=1):$e!==-1&&(tt=-1);else if(!st){Ct=at+1;break}return $e===-1||ze===-1||tt===0||tt===1&&$e===ze-1&&$e===Ct+1?ze!==-1&&(Ce.base=Ce.name=Ct===0&&Ne?ce.slice(1,ze):ce.slice(Ct,ze)):(Ct===0&&Ne?(Ce.name=ce.slice(1,$e),Ce.base=ce.slice(1,ze)):(Ce.name=ce.slice(Ct,$e),Ce.base=ce.slice(Ct,ze)),Ce.ext=ce.slice($e,ze)),Ct>0?Ce.dir=ce.slice(0,Ct-1):Ne&&(Ce.dir="/"),Ce},sep:"/",delimiter:":",win32:null,posix:null};Me.posix=Me,ae.exports=Me}},e={};function t(ae){var ue=e[ae];if(ue!==void 0)return ue.exports;var qe=e[ae]={exports:{}};return r[ae](qe,qe.exports,t),qe.exports}t.d=(ae,ue)=>{for(var qe in ue)t.o(ue,qe)&&!t.o(ae,qe)&&Object.defineProperty(ae,qe,{enumerable:!0,get:ue[qe]})},t.o=(ae,ue)=>Object.prototype.hasOwnProperty.call(ae,ue),t.r=ae=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})};var n={};let i;t.r(n),t.d(n,{URI:()=>f,Utils:()=>De}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(ae,ue){if(!ae.scheme&&ue)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${ae.authority}", path: "${ae.path}", query: "${ae.query}", fragment: "${ae.fragment}"}`);if(ae.scheme&&!o.test(ae.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ae.path){if(ae.authority){if(!s.test(ae.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(ae.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",l="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static isUri(ue){return ue instanceof f||!!ue&&typeof ue.authority=="string"&&typeof ue.fragment=="string"&&typeof ue.path=="string"&&typeof ue.query=="string"&&typeof ue.scheme=="string"&&typeof ue.fsPath=="string"&&typeof ue.with=="function"&&typeof ue.toString=="function"}scheme;authority;path;query;fragment;constructor(ue,qe,Me,ce,Ce,be=!1){typeof ue=="object"?(this.scheme=ue.scheme||u,this.authority=ue.authority||u,this.path=ue.path||u,this.query=ue.query||u,this.fragment=ue.fragment||u):(this.scheme=function(xe,Ne){return xe||Ne?xe:"file"}(ue,be),this.authority=qe||u,this.path=function(xe,Ne){switch(xe){case"https":case"http":case"file":Ne?Ne[0]!==l&&(Ne=l+Ne):Ne=l}return Ne}(this.scheme,Me||u),this.query=ce||u,this.fragment=Ce||u,c(this,be))}get fsPath(){return A(this,!1)}with(ue){if(!ue)return this;let{scheme:qe,authority:Me,path:ce,query:Ce,fragment:be}=ue;return qe===void 0?qe=this.scheme:qe===null&&(qe=u),Me===void 0?Me=this.authority:Me===null&&(Me=u),ce===void 0?ce=this.path:ce===null&&(ce=u),Ce===void 0?Ce=this.query:Ce===null&&(Ce=u),be===void 0?be=this.fragment:be===null&&(be=u),qe===this.scheme&&Me===this.authority&&ce===this.path&&Ce===this.query&&be===this.fragment?this:new _(qe,Me,ce,Ce,be)}static parse(ue,qe=!1){let Me=d.exec(ue);return Me?new _(Me[2]||u,we(Me[4]||u),we(Me[5]||u),we(Me[7]||u),we(Me[9]||u),qe):new _(u,u,u,u,u)}static file(ue){let qe=u;if(i&&(ue=ue.replace(/\\/g,l)),ue[0]===l&&ue[1]===l){let Me=ue.indexOf(l,2);Me===-1?(qe=ue.substring(2),ue=l):(qe=ue.substring(2,Me),ue=ue.substring(Me)||l)}return new _("file",qe,ue,u,u)}static from(ue){let qe=new _(ue.scheme,ue.authority,ue.path,ue.query,ue.fragment);return c(qe,!0),qe}toString(ue=!1){return U(this,ue)}toJSON(){return this}static revive(ue){if(ue){if(ue instanceof f)return ue;{let qe=new _(ue);return qe._formatted=ue.external,qe._fsPath=ue._sep===p?ue.fsPath:null,qe}}return ue}}let p=i?1:void 0;class _ extends f{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=A(this,!1)),this._fsPath}toString(ue=!1){return ue?U(this,!0):(this._formatted||(this._formatted=U(this,!1)),this._formatted)}toJSON(){let ue={$mid:1};return this._fsPath&&(ue.fsPath=this._fsPath,ue._sep=p),this._formatted&&(ue.external=this._formatted),this.path&&(ue.path=this.path),this.scheme&&(ue.scheme=this.scheme),this.authority&&(ue.authority=this.authority),this.query&&(ue.query=this.query),this.fragment&&(ue.fragment=this.fragment),ue}}let D={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function x(ae,ue,qe){let Me,ce=-1;for(let Ce=0;Ce<ae.length;Ce++){let be=ae.charCodeAt(Ce);if(be>=97&&be<=122||be>=65&&be<=90||be>=48&&be<=57||be===45||be===46||be===95||be===126||ue&&be===47||qe&&be===91||qe&&be===93||qe&&be===58)ce!==-1&&(Me+=encodeURIComponent(ae.substring(ce,Ce)),ce=-1),Me!==void 0&&(Me+=ae.charAt(Ce));else{Me===void 0&&(Me=ae.substr(0,Ce));let xe=D[be];xe!==void 0?(ce!==-1&&(Me+=encodeURIComponent(ae.substring(ce,Ce)),ce=-1),Me+=xe):ce===-1&&(ce=Ce)}}return ce!==-1&&(Me+=encodeURIComponent(ae.substring(ce))),Me!==void 0?Me:ae}function N(ae){let ue;for(let qe=0;qe<ae.length;qe++){let Me=ae.charCodeAt(qe);Me===35||Me===63?(ue===void 0&&(ue=ae.substr(0,qe)),ue+=D[Me]):ue!==void 0&&(ue+=ae[qe])}return ue!==void 0?ue:ae}function A(ae,ue){let qe;return qe=ae.authority&&ae.path.length>1&&ae.scheme==="file"?`//${ae.authority}${ae.path}`:ae.path.charCodeAt(0)===47&&(ae.path.charCodeAt(1)>=65&&ae.path.charCodeAt(1)<=90||ae.path.charCodeAt(1)>=97&&ae.path.charCodeAt(1)<=122)&&ae.path.charCodeAt(2)===58?ue?ae.path.substr(1):ae.path[1].toLowerCase()+ae.path.substr(2):ae.path,i&&(qe=qe.replace(/\//g,"\\")),qe}function U(ae,ue){let qe=ue?N:x,Me="",{scheme:ce,authority:Ce,path:be,query:xe,fragment:Ne}=ae;if(ce&&(Me+=ce,Me+=":"),(Ce||ce==="file")&&(Me+=l,Me+=l),Ce){let $e=Ce.indexOf("@");if($e!==-1){let Ct=Ce.substr(0,$e);Ce=Ce.substr($e+1),$e=Ct.lastIndexOf(":"),$e===-1?Me+=qe(Ct,!1,!1):(Me+=qe(Ct.substr(0,$e),!1,!1),Me+=":",Me+=qe(Ct.substr($e+1),!1,!0)),Me+="@"}Ce=Ce.toLowerCase(),$e=Ce.lastIndexOf(":"),$e===-1?Me+=qe(Ce,!1,!0):(Me+=qe(Ce.substr(0,$e),!1,!0),Me+=Ce.substr($e))}if(be){if(be.length>=3&&be.charCodeAt(0)===47&&be.charCodeAt(2)===58){let $e=be.charCodeAt(1);$e>=65&&$e<=90&&(be=`/${String.fromCharCode($e+32)}:${be.substr(3)}`)}else if(be.length>=2&&be.charCodeAt(1)===58){let $e=be.charCodeAt(0);$e>=65&&$e<=90&&(be=`${String.fromCharCode($e+32)}:${be.substr(2)}`)}Me+=qe(be,!0,!1)}return xe&&(Me+="?",Me+=qe(xe,!1,!1)),Ne&&(Me+="#",Me+=ue?Ne:x(Ne,!1,!1)),Me}function ee(ae){try{return decodeURIComponent(ae)}catch{return ae.length>3?ae.substr(0,3)+ee(ae.substr(3)):ae}}let he=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function we(ae){return ae.match(he)?ae.replace(he,ue=>ee(ue)):ae}var V=t(975);let W=V.posix||V,te="/";var De;(function(ae){ae.joinPath=function(ue,...qe){return ue.with({path:W.join(ue.path,...qe)})},ae.resolvePath=function(ue,...qe){let Me=ue.path,ce=!1;Me[0]!==te&&(Me=te+Me,ce=!0);let Ce=W.resolve(Me,...qe);return ce&&Ce[0]===te&&!ue.authority&&(Ce=Ce.substring(1)),ue.with({path:Ce})},ae.dirname=function(ue){if(ue.path.length===0||ue.path===te)return ue;let qe=W.dirname(ue.path);return qe.length===1&&qe.charCodeAt(0)===46&&(qe=""),ue.with({path:qe})},ae.basename=function(ue){return W.basename(ue.path)},ae.extname=function(ue){return W.extname(ue.path)}})(De||(De={})),NHe=n})();({URI:MHe,Utils:Tar}=NHe)});function gle(r){let e=r[0],t=r[r.length-1];return e===t&&(e==="'"||e==='"')&&(r=r.substring(1,r.length-1)),r}function dMt(r,e){return!r.length||e==="handlebars"&&/{{|}}/.test(r)?!1:/\b(w[\w\d+.-]*:\/\/)?[^\s()<>]+(?:\([\w\d]+\)|([^[:punct:]\s]|\/?))/.test(r)}function fMt(r,e,t,n){if(/^\s*javascript\:/i.test(e)||/[\n\r]/.test(e))return;e=e.replace(/^\s*/g,"");let i=e.match(/^(\w[\w\d+.-]*):/);if(i){let o=i[1].toLowerCase();return o==="http"||o==="https"||o==="file"?e:void 0}return/^\#/i.test(e)?r+e:/^\/\//i.test(e)?(v_(r,"https://")?"https":"http")+":"+e.replace(/^\s*/g,""):t?t.resolveReference(e,n||r):e}function hMt(r,e,t,n,i,o){let s=gle(t);if(!dMt(s,r.languageId))return;s.length<t.length&&(n++,i--);let a=fMt(r.uri,s,e,o);if(!a)return;let c=mMt(a,r);return{range:Ri.create(r.positionAt(n),r.positionAt(i)),target:c}}function mMt(r,e){try{let t=MHe.parse(r);return t.scheme==="file"&&t.query&&(t=t.with({query:null}),r=t.toString(!0)),t.scheme==="file"&&t.fragment&&!(r.startsWith(e.uri)&&r.charCodeAt(e.uri.length)===pMt)?t.with({fragment:null}).toString(!0):r}catch{return}}var pMt,s4,qHe=Ti(()=>{nC();vI();FHe();xm();pMt=35;s4=class{constructor(e){this.dataManager=e}findDocumentLinks(e,t){let n=[],i=Hu(e.getText(),0),o=i.scan(),s,a,c=!1,u,l={};for(;o!==Xt.EOS;){switch(o){case Xt.StartTag:a=i.getTokenText().toLowerCase(),u||(c=a==="base");break;case Xt.AttributeName:s=i.getTokenText().toLowerCase();break;case Xt.AttributeValue:if(a&&s&&this.dataManager.isPathAttribute(a,s)){let d=i.getTokenText();if(!c){let f=hMt(e,t,d,i.getTokenOffset(),i.getTokenEnd(),u);f&&n.push(f)}c&&typeof u>"u"&&(u=gle(d),u&&t&&(u=t.resolveReference(u,e.uri))),c=!1,s=void 0}else if(s==="id"){let d=gle(i.getTokenText());l[d]=i.getTokenOffset()}break}o=i.scan()}for(let d of n){let f=e.uri+"#";if(d.target&&v_(d.target,f)){let p=d.target.substring(f.length),_=l[p];if(_!==void 0){let D=e.positionAt(_);d.target=`${f}${D.line+1},${D.character+1}`}else d.target=e.uri}}return n}}});function HHe(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag)return[];let o=[],s=UHe(Xt.StartTag,r,i.start),a=typeof i.endTagStart=="number"&&UHe(Xt.EndTag,r,i.endTagStart);return(s&&zHe(s,e)||a&&zHe(a,e))&&(s&&o.push({kind:zE.Read,range:s}),a&&o.push({kind:zE.Read,range:a})),o}function jHe(r,e){return r.line<e.line||r.line===e.line&&r.character<=e.character}function zHe(r,e){return jHe(r.start,e)&&jHe(e,r.end)}function UHe(r,e,t){let n=Hu(e.getText(),t),i=n.scan();for(;i!==Xt.EOS&&i!==r;)i=n.scan();return i!==Xt.EOS?{start:e.positionAt(n.getTokenOffset()),end:e.positionAt(n.getTokenEnd())}:null}var BHe=Ti(()=>{nC();xm()});function WHe(r,e){let t=[],n=vle(r,e);for(let o of n)i(o,void 0);return t;function i(o,s){let a=pI.create(o.name,o.kind,o.range,r.uri,s?.name);if(a.containerName??(a.containerName=""),t.push(a),o.children)for(let c of o.children)i(c,o)}}function vle(r,e){let t=[];return e.roots.forEach(n=>{$He(r,n,t)}),t}function $He(r,e,t){let n=gMt(e),i=Ri.create(r.positionAt(e.start),r.positionAt(e.end)),o=mI.create(n,void 0,hI.Field,i,i);t.push(o),e.children.forEach(s=>{o.children??(o.children=[]),$He(r,s,o.children)})}function gMt(r){let e=r.tag;if(r.attributes){let t=r.attributes.id,n=r.attributes.class;t&&(e+=`#${t.replace(/[\"\']/g,"")}`),n&&(e+=n.replace(/[\"\']/g,"").split(/\s+/).map(i=>`.${i}`).join(""))}return e||"?"}var VHe=Ti(()=>{xm()});function GHe(r,e,t,n){let i=r.offsetAt(e),o=n.findNodeAt(i);if(!o.tag||!vMt(o,i,o.tag))return null;let s=[],a={start:r.positionAt(o.start+1),end:r.positionAt(o.start+1+o.tag.length)};if(s.push({range:a,newText:t}),o.endTagStart){let u={start:r.positionAt(o.endTagStart+2),end:r.positionAt(o.endTagStart+2+o.tag.length)};s.push({range:u,newText:t})}return{changes:{[r.uri.toString()]:s}}}function vMt(r,e,t){return r.endTagStart&&r.endTagStart+2<=e&&e<=r.endTagStart+2+t.length?!0:r.start+1<=e&&e<=r.start+1+t.length}var KHe=Ti(()=>{});function YHe(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag||!i.endTagStart)return null;if(i.start+1<=n&&n<=i.start+1+i.tag.length){let o=n-1-i.start+i.endTagStart+2;return r.positionAt(o)}if(i.endTagStart+2<=n&&n<=i.endTagStart+2+i.tag.length){let o=n-2-i.endTagStart+i.start+1;return r.positionAt(o)}return null}var JHe=Ti(()=>{});function yle(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n),o=i.tag?i.tag.length:0;return i.endTagStart&&(i.start+1<=n&&n<=i.start+1+o||i.endTagStart+2<=n&&n<=i.endTagStart+2+o)?[Ri.create(r.positionAt(i.start+1),r.positionAt(i.start+1+o)),Ri.create(r.positionAt(i.endTagStart+2),r.positionAt(i.endTagStart+2+o))]:null}var XHe=Ti(()=>{xm()});var a4,QHe=Ti(()=>{xm();nC();a4=class{constructor(e){this.dataManager=e}limitRanges(e,t){e=e.sort((d,f)=>{let p=d.startLine-f.startLine;return p===0&&(p=d.endLine-f.endLine),p});let n,i=[],o=[],s=[],a=(d,f)=>{o[d]=f,f<30&&(s[f]=(s[f]||0)+1)};for(let d=0;d<e.length;d++){let f=e[d];if(!n)n=f,a(d,0);else if(f.startLine>n.startLine){if(f.endLine<=n.endLine)i.push(n),n=f,a(d,i.length);else if(f.startLine>n.endLine){do n=i.pop();while(n&&f.startLine>n.endLine);n&&i.push(n),n=f,a(d,i.length)}}}let c=0,u=0;for(let d=0;d<s.length;d++){let f=s[d];if(f){if(f+c>t){u=d;break}c+=f}}let l=[];for(let d=0;d<e.length;d++){let f=o[d];typeof f=="number"&&(f<u||f===u&&c++<t)&&l.push(e[d])}return l}getFoldingRanges(e,t){let n=Hu(e.getText()),i=n.scan(),o=[],s=[],a=null,c=-1,u;function l(f){o.push(f),c=f.startLine}for(;i!==Xt.EOS;){switch(i){case Xt.StartTag:{let f=n.getTokenText(),p=e.positionAt(n.getTokenOffset()).line;s.push({startLine:p,tagName:f}),a=f;break}case Xt.EndTag:{a=n.getTokenText();break}case Xt.StartTagClose:if(!a||(u??(u=this.dataManager.getVoidElements(e.languageId)),!this.dataManager.isVoidElement(a,u)))break;case Xt.EndTagClose:case Xt.StartTagSelfClose:{let f=s.length-1;for(;f>=0&&s[f].tagName!==a;)f--;if(f>=0){let p=s[f];s.length=f;let _=e.positionAt(n.getTokenOffset()).line,D=p.startLine,x=_-1;x>D&&c!==D&&l({startLine:D,endLine:x})}break}case Xt.Comment:{let f=e.positionAt(n.getTokenOffset()).line,_=n.getTokenText().match(/^\s*#(region\b)|(endregion\b)/);if(_)if(_[1])s.push({startLine:f,tagName:""});else{let D=s.length-1;for(;D>=0&&s[D].tagName.length;)D--;if(D>=0){let x=s[D];s.length=D;let N=f;f=x.startLine,N>f&&c!==f&&l({startLine:f,endLine:N,kind:qE.Region})}}else{let D=e.positionAt(n.getTokenOffset()+n.getTokenLength()).line;f<D&&l({startLine:f,endLine:D,kind:qE.Comment})}break}}i=n.scan()}let d=t&&t.rangeLimit||Number.MAX_VALUE;return o.length>d?this.limitRanges(o,d):o}}});var c4,ZHe=Ti(()=>{nC();xm();c4=class{constructor(e){this.htmlParser=e}getSelectionRanges(e,t){let n=this.htmlParser.parseDocument(e);return t.map(i=>this.getSelectionRange(i,e,n))}getSelectionRange(e,t,n){let i=this.getApplicableRanges(t,e,n),o,s;for(let a=i.length-1;a>=0;a--){let c=i[a];(!o||c[0]!==o[0]||c[1]!==o[1])&&(s=UE.create(Ri.create(t.positionAt(i[a][0]),t.positionAt(i[a][1])),s)),o=c}return s||(s=UE.create(Ri.create(e,e))),s}getApplicableRanges(e,t,n){let i=e.offsetAt(t),o=n.findNodeAt(i),s=this.getAllParentTagRanges(o);if(o.startTagEnd&&!o.endTagStart){if(o.startTagEnd!==o.end)return[[o.start,o.end]];let a=Ri.create(e.positionAt(o.startTagEnd-2),e.positionAt(o.startTagEnd));return e.getText(a)==="/>"?s.unshift([o.start+1,o.startTagEnd-2]):s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s}return!o.startTagEnd||!o.endTagStart?s:(s.unshift([o.start,o.end]),o.start<i&&i<o.startTagEnd?(s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s):o.startTagEnd<=i&&i<=o.endTagStart?(s.unshift([o.startTagEnd,o.endTagStart]),s):(i>=o.endTagStart+2&&s.unshift([o.endTagStart+2,o.end-1]),s))}getAllParentTagRanges(e){let t=e,n=[];for(;t.parent;)t=t.parent,this.getNodeRanges(t).forEach(i=>n.push(i));return n}getNodeRanges(e){return e.startTagEnd&&e.endTagStart&&e.startTagEnd<e.endTagStart?[[e.startTagEnd,e.endTagStart],[e.start,e.end]]:[[e.start,e.end]]}getAttributeLevelRanges(e,t,n){let i=Ri.create(e.positionAt(t.start),e.positionAt(t.end)),o=e.getText(i),s=n-t.start,a=Hu(o),c=a.scan(),u=t.start,l=[],d=!1,f=-1;for(;c!==Xt.EOS;){switch(c){case Xt.AttributeName:{if(s<a.getTokenOffset()){d=!1;break}s<=a.getTokenEnd()&&l.unshift([a.getTokenOffset(),a.getTokenEnd()]),d=!0,f=a.getTokenOffset();break}case Xt.AttributeValue:{if(!d)break;let p=a.getTokenText();if(s<a.getTokenOffset()){l.push([f,a.getTokenEnd()]);break}s>=a.getTokenOffset()&&s<=a.getTokenEnd()&&(l.unshift([a.getTokenOffset(),a.getTokenEnd()]),(p[0]==='"'&&p[p.length-1]==='"'||p[0]==="'"&&p[p.length-1]==="'")&&s>=a.getTokenOffset()+1&&s<=a.getTokenEnd()-1&&l.unshift([a.getTokenOffset()+1,a.getTokenEnd()-1]),l.push([f,a.getTokenEnd()]));break}}c=a.scan()}return l.map(p=>[p[0]+u,p[1]+u])}}});var u4,_le=Ti(()=>{u4={version:1.1,tags:[{name:"html",description:{kind:"markdown",value:"The html element represents the root of an HTML document."},attributes:[{name:"manifest",description:{kind:"markdown",value:"Specifies the URI of a resource manifest indicating resources that should be cached locally. See [Using the application cache](https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache) for details."}},{name:"version",description:'Specifies the version of the HTML [Document Type Definition](https://developer.mozilla.org/en-US/docs/Glossary/DTD "Document Type Definition: In HTML, the doctype is the required "<!DOCTYPE html>" preamble found at the top of all documents. Its sole purpose is to prevent a browser from switching into so-called \u201Cquirks mode\u201D when rendering a document; that is, the "<!DOCTYPE html>" doctype ensures that the browser makes a best-effort attempt at following the relevant specifications, rather than using a different rendering mode that is incompatible with some specifications.") that governs the current document. This attribute is not needed, because it is redundant with the version information in the document type declaration.'},{name:"xmlns",description:'Specifies the XML Namespace of the document. Default value is `"http://www.w3.org/1999/xhtml"`. This is required in documents parsed with XML parsers, and optional in text/html documents.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/html"}]},{name:"head",description:{kind:"markdown",value:"The head element represents a collection of metadata for the Document."},attributes:[{name:"profile",description:"The URIs of one or more metadata profiles, separated by white space."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/head"}]},{name:"title",description:{kind:"markdown",value:"The title element represents the document's title or name. Authors should use titles that identify their documents even when they are used out of context, for example in a user's history or bookmarks, or in search results. The document's title is often different from its first heading, since the first heading does not have to stand alone when taken out of context."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/title"}]},{name:"base",description:{kind:"markdown",value:"The base element allows authors to specify the document base URL for the purposes of resolving relative URLs, and the name of the default browsing context for the purposes of following hyperlinks. The element does not represent any content beyond this information."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:"The base URL to be used throughout the document for relative URL addresses. If this attribute is specified, this element must come before any other elements with attributes whose values are URLs. Absolute and relative URLs are allowed."}},{name:"target",valueSet:"target",description:{kind:"markdown",value:"A name or keyword indicating the default location to display the result when hyperlinks or forms cause navigation, for elements that do not have an explicit target reference. It is a name of, or keyword for, a _browsing context_ (for example: tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the result into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the result into a new unnamed browsing context.\n*   `_parent`: Load the result into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the result into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n\nIf this attribute is specified, this element must come before any other elements with attributes whose values are URLs."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/base"}]},{name:"link",description:{kind:"markdown",value:"The link element allows authors to link their document to other resources."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:'This attribute specifies the [URL](https://developer.mozilla.org/en-US/docs/Glossary/URL "URL: Uniform Resource Locator (URL) is a text string specifying where a resource can be found on the Internet.") of the linked resource. A URL can be absolute or relative.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") must be used when fetching the resource. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\n`anonymous`\n\nA cross-origin request (i.e. with an [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) is performed, but no credential is sent (i.e. no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header) the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e. with an `Origin` HTTP header) is performed along with a credential sent (i.e. a cookie, certificate, and/or HTTP Basic authentication is performed). If the server does not give credentials to the origin site (through [`Access-Control-Allow-Credentials`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials "The Access-Control-Allow-Credentials response header tells browsers whether to expose the response to frontend JavaScript code when the request\'s credentials mode (Request.credentials) is "include".") HTTP header), the resource will be _tainted_ and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") request (i.e. without sending the `Origin` HTTP header), preventing its non-tainted usage. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for additional information.'}},{name:"rel",description:{kind:"markdown",value:"This attribute names a relationship of the linked document to the current document. The attribute must be a space-separated list of the [link types values](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"media",description:{kind:"markdown",value:"This attribute specifies the media that the linked resource applies to. Its value must be a media type / [media query](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries). This attribute is mainly useful when linking to external stylesheets \u2014 it allows the user agent to pick the best adapted one for the device it runs on.\n\n**Notes:**\n\n*   In HTML 4, this can only be a simple white-space-separated list of media description literals, i.e., [media types and groups](https://developer.mozilla.org/en-US/docs/Web/CSS/@media), where defined and allowed as values for this attribute, such as `print`, `screen`, `aural`, `braille`. HTML5 extended this to any kind of [media queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries), which are a superset of the allowed values of HTML 4.\n*   Browsers not supporting [CSS3 Media Queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries) won't necessarily recognize the adequate link; do not forget to set fallback links, the restricted set of media queries defined in HTML 4."}},{name:"hreflang",description:{kind:"markdown",value:"This attribute indicates the language of the linked resource. It is purely advisory. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt). Use this attribute only if the [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute is present."}},{name:"type",description:{kind:"markdown",value:'This attribute is used to define the type of the content linked to. The value of the attribute should be a MIME type such as **text/html**, **text/css**, and so on. The common use of this attribute is to define the type of stylesheet being referenced (such as **text/css**), but given that CSS is the only stylesheet language used on the web, not only is it possible to omit the `type` attribute, but is actually now recommended practice. It is also used on `rel="preload"` link types, to make sure the browser only downloads file types that it supports.'}},{name:"sizes",description:{kind:"markdown",value:"This attribute defines the sizes of the icons for visual media contained in the resource. It must be present only if the [`rel`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-rel) contains a value of `icon` or a non-standard type such as Apple's `apple-touch-icon`. It may have the following values:\n\n*   `any`, meaning that the icon can be scaled to any size as it is in a vector format, like `image/svg+xml`.\n*   a white-space separated list of sizes, each in the format `_<width in pixels>_x_<height in pixels>_` or `_<width in pixels>_X_<height in pixels>_`. Each of these sizes must be contained in the resource.\n\n**Note:** Most icon formats are only able to store one single icon; therefore most of the time the [`sizes`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-sizes) contains only one entry. MS's ICO format does, as well as Apple's ICNS. ICO is more ubiquitous; you should definitely use it."}},{name:"as",description:'This attribute is only used when `rel="preload"` or `rel="prefetch"` has been set on the `<link>` element. It specifies the type of content being loaded by the `<link>`, which is necessary for content prioritization, request matching, application of correct [content security policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP), and setting of correct [`Accept`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept "The Accept request HTTP header advertises which content types, expressed as MIME types, the client is able to understand. Using content negotiation, the server then selects one of the proposals, uses it and informs the client of its choice with the Content-Type response header. Browsers set adequate values for this header depending on\xA0the context where the request is done: when fetching a CSS stylesheet a different value is set for the request than when fetching an image,\xA0video or a script.") request header.'},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:'**`auto`**: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the resource.\n\n**`high`**: Indicates to the\xA0browser\xA0that the resource is of\xA0**high** priority.\n\n**`low`**:\xA0Indicates to the\xA0browser\xA0that the resource is of\xA0**low** priority.\n\n**Note:** The `importance` attribute may only be used for the `<link>` element if `rel="preload"` or `rel="prefetch"` is present.'},{name:"integrity",description:"Contains inline metadata \u2014 a base64-encoded cryptographic hash of the resource (file) you\u2019re telling the browser to fetch. The browser can use this to verify that the fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"referrerpolicy",description:'A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer` means that the [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` means that no [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior, if no policy is otherwise specified.\n*   `origin` means that the referrer will be the origin of the page, which is roughly the scheme, the host, and the port.\n*   `origin-when-cross-origin` means that navigating to other origins will be limited to the scheme, the host, and the port, while navigating on the same origin will include the referrer\'s path.\n*   `unsafe-url` means that the referrer will include the origin and the path (but not the fragment, password, or username). This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins.'},{name:"title",description:'The `title` attribute has special semantics on the `<link>` element. When used on a `<link rel="stylesheet">` it defines a [preferred or an alternate stylesheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets). Incorrectly using it may [cause the stylesheet to be ignored](https://developer.mozilla.org/en-US/docs/Correctly_Using_Titles_With_External_Stylesheets).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/link"}]},{name:"meta",description:{kind:"markdown",value:"The meta element represents various kinds of metadata that cannot be expressed using the title, base, link, style, and script elements."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:`This attribute defines the name of a piece of document-level metadata. It should not be set if one of the attributes [\`itemprop\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-itemprop), [\`http-equiv\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [\`charset\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) is also set.

This metadata name is associated with the value contained by the [\`content\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute. The possible values for the name attribute are:

*   \`application-name\` which defines the name of the application running in the web page.
    
    **Note:**
    
    *   Browsers may use this to identify the application. It is different from the [\`<title>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/title "The HTML Title element (<title>) defines the document's title that is shown in a browser's title bar or a page's tab.") element, which usually contain the application name, but may also contain information like the document name or a status.
    *   Simple web pages shouldn't define an application-name.
    
*   \`author\` which defines the name of the document's author.
*   \`description\` which contains a short and accurate summary of the content of the page. Several browsers, like Firefox and Opera, use this as the default description of bookmarked pages.
*   \`generator\` which contains the identifier of the software that generated the page.
*   \`keywords\` which contains words relevant to the page's content separated by commas.
*   \`referrer\` which controls the [\`Referer\` HTTP header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) attached to requests sent from the document:
    
    Values for the \`content\` attribute of \`<meta name="referrer">\`
    
    \`no-referrer\`
    
    Do not send a HTTP \`Referrer\` header.
    
    \`origin\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the document.
    
    \`no-referrer-when-downgrade\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) as a referrer to URLs as secure as the current page, (https\u2192https), but does not send a referrer to less secure URLs (https\u2192http). This is the default behaviour.
    
    \`origin-when-cross-origin\`
    
    Send the full URL (stripped of parameters) for same-origin requests, but only send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) for other cases.
    
    \`same-origin\`
    
    A referrer will be sent for [same-site origins](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy), but cross-origin requests will contain no referrer information.
    
    \`strict-origin\`
    
    Only send the origin of the document as the referrer to a-priori as-much-secure destination (HTTPS->HTTPS), but don't send it to a less secure destination (HTTPS->HTTP).
    
    \`strict-origin-when-cross-origin\`
    
    Send a full URL when performing a same-origin request, only send the origin of the document to a-priori as-much-secure destination (HTTPS->HTTPS), and send no header to a less secure destination (HTTPS->HTTP).
    
    \`unsafe-URL\`
    
    Send the full URL (stripped of parameters) for same-origin or cross-origin requests.
    
    **Notes:**
    
    *   Some browsers support the deprecated values of \`always\`, \`default\`, and \`never\` for referrer.
    *   Dynamically inserting \`<meta name="referrer">\` (with [\`document.write\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/write) or [\`appendChild\`](https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild)) makes the referrer behaviour unpredictable.
    *   When several conflicting policies are defined, the no-referrer policy is applied.
    

This attribute may also have a value taken from the extended list defined on [WHATWG Wiki MetaExtensions page](https://wiki.whatwg.org/wiki/MetaExtensions). Although none have been formally accepted yet, a few commonly used names are:

*   \`creator\` which defines the name of the creator of the document, such as an organization or institution. If there are more than one, several [\`<meta>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") elements should be used.
*   \`googlebot\`, a synonym of \`robots\`, is only followed by Googlebot (the indexing crawler for Google).
*   \`publisher\` which defines the name of the document's publisher.
*   \`robots\` which defines the behaviour that cooperative crawlers, or "robots", should use with the page. It is a comma-separated list of the values below:
    
    Values for the content of \`<meta name="robots">\`
    
    Value
    
    Description
    
    Used by
    
    \`index\`
    
    Allows the robot to index the page (default).
    
    All
    
    \`noindex\`
    
    Requests the robot to not index the page.
    
    All
    
    \`follow\`
    
    Allows the robot to follow the links on the page (default).
    
    All
    
    \`nofollow\`
    
    Requests the robot to not follow the links on the page.
    
    All
    
    \`none\`
    
    Equivalent to \`noindex, nofollow\`
    
    [Google](https://support.google.com/webmasters/answer/79812)
    
    \`noodp\`
    
    Prevents using the [Open Directory Project](https://www.dmoz.org/) description, if any, as the page description in search engine results.
    
    [Google](https://support.google.com/webmasters/answer/35624#nodmoz), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/meta-tags-robotstxt-yahoo-search-sln2213.html#cont5), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noarchive\`
    
    Requests the search engine not to cache the page content.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/SLN2213.html), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`nosnippet\`
    
    Prevents displaying any description of the page in search engine results.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noimageindex\`
    
    Requests this page not to appear as the referring page of an indexed image.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives)
    
    \`nocache\`
    
    Synonym of \`noarchive\`.
    
    [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    **Notes:**
    
    *   Only cooperative robots follow these rules. Do not expect to prevent e-mail harvesters with them.
    *   The robot still needs to access the page in order to read these rules. To prevent bandwidth consumption, use a _[robots.txt](https://developer.mozilla.org/en-US/docs/Glossary/robots.txt "robots.txt: Robots.txt is a file which is usually placed in the root of any website. It decides whether\xA0crawlers are permitted or forbidden access to the web site.")_ file.
    *   If you want to remove a page, \`noindex\` will work, but only after the robot visits the page again. Ensure that the \`robots.txt\` file is not preventing revisits.
    *   Some values are mutually exclusive, like \`index\` and \`noindex\`, or \`follow\` and \`nofollow\`. In these cases the robot's behaviour is undefined and may vary between them.
    *   Some crawler robots, like Google, Yahoo and Bing, support the same values for the HTTP header \`X-Robots-Tag\`; this allows non-HTML documents like images to use these rules.
    
*   \`slurp\`, is a synonym of \`robots\`, but only for Slurp - the crawler for Yahoo Search.
*   \`viewport\`, which gives hints about the size of the initial size of the [viewport](https://developer.mozilla.org/en-US/docs/Glossary/viewport "viewport: A viewport represents a polygonal (normally rectangular) area in computer graphics that is currently being viewed. In web browser terms, it refers to the part of the document you're viewing which is currently visible in its window (or the screen, if the document is being viewed in full screen mode). Content outside the viewport is not visible onscreen until scrolled into view."). Used by mobile devices only.
    
    Values for the content of \`<meta name="viewport">\`
    
    Value
    
    Possible subvalues
    
    Description
    
    \`width\`
    
    A positive integer number, or the text \`device-width\`
    
    Defines the pixel width of the viewport that you want the web site to be rendered at.
    
    \`height\`
    
    A positive integer, or the text \`device-height\`
    
    Defines the height of the viewport. Not used by any browser.
    
    \`initial-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the ratio between the device width (\`device-width\` in portrait mode or \`device-height\` in landscape mode) and the viewport size.
    
    \`maximum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the maximum amount to zoom in. It must be greater or equal to the \`minimum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`minimum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the minimum zoom level. It must be smaller or equal to the \`maximum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`user-scalable\`
    
    \`yes\` or \`no\`
    
    If set to \`no\`, the user is not able to zoom in the webpage. The default is \`yes\`. Browser settings can ignore this rule, and iOS10+ ignores it by default.
    
    Specification
    
    Status
    
    Comment
    
    [CSS Device Adaptation  
    The definition of '<meta name="viewport">' in that specification.](https://drafts.csswg.org/css-device-adapt/#viewport-meta)
    
    Working Draft
    
    Non-normatively describes the Viewport META element
    
    See also: [\`@viewport\`](https://developer.mozilla.org/en-US/docs/Web/CSS/@viewport "The @viewport CSS at-rule lets you configure the viewport through which the document is viewed. It's primarily used for mobile devices, but is also used by desktop browsers that support features like "snap to edge" (such as Microsoft Edge).")
    
    **Notes:**
    
    *   Though unstandardized, this declaration is respected by most mobile browsers due to de-facto dominance.
    *   The default values may vary between devices and browsers.
    *   To learn about this declaration in Firefox for Mobile, see [this article](https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag "Mobile/Viewport meta tag").`}},{name:"http-equiv",description:{kind:"markdown",value:'Defines a pragma directive. The attribute is named `**http-equiv**(alent)` because all the allowed values are names of particular HTTP headers:\n\n*   `"content-language"`  \n    Defines the default language of the page. It can be overridden by the [lang](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang) attribute on any element.\n    \n    **Warning:** Do not use this value, as it is obsolete. Prefer the `lang` attribute on the [`<html>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/html "The HTML <html> element represents the root (top-level element) of an HTML document, so it is also referred to as the root element. All other elements must be descendants of this element.") element.\n    \n*   `"content-security-policy"`  \n    Allows page authors to define a [content policy](https://developer.mozilla.org/en-US/docs/Web/Security/CSP/CSP_policy_directives) for the current page. Content policies mostly specify allowed server origins and script endpoints which help guard against cross-site scripting attacks.\n*   `"content-type"`  \n    Defines the [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type) of the document, followed by its character encoding. It follows the same syntax as the HTTP `content-type` entity-header field, but as it is inside a HTML page, most values other than `text/html` are impossible. Therefore the valid syntax for its `content` is the string \'`text/html`\' followed by a character set with the following syntax: \'`; charset=_IANAcharset_`\', where `IANAcharset` is the _preferred MIME name_ for a character set as [defined by the IANA.](https://www.iana.org/assignments/character-sets)\n    \n    **Warning:** Do not use this value, as it is obsolete. Use the [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute on the [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element.\n    \n    **Note:** As [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") can\'t change documents\' types in XHTML or HTML5\'s XHTML serialization, never set the MIME type to an XHTML MIME type with `<meta>`.\n    \n*   `"refresh"`  \n    This instruction specifies:\n    *   The number of seconds until the page should be reloaded - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer.\n    *   The number of seconds until the page should redirect to another - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer followed by the string \'`;url=`\', and a valid URL.\n*   `"set-cookie"`  \n    Defines a [cookie](https://developer.mozilla.org/en-US/docs/cookie) for the page. Its content must follow the syntax defined in the [IETF HTTP Cookie Specification](https://tools.ietf.org/html/draft-ietf-httpstate-cookie-14).\n    \n    **Warning:** Do not use this instruction, as it is obsolete. Use the HTTP header [`Set-Cookie`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie) instead.'}},{name:"content",description:{kind:"markdown",value:"This attribute contains the value for the [`http-equiv`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-name) attribute, depending on which is used."}},{name:"charset",description:{kind:"markdown",value:'This attribute declares the page\'s character encoding. It must contain a [standard IANA MIME name for character encodings](https://www.iana.org/assignments/character-sets). Although the standard doesn\'t request a specific encoding, it suggests:\n\n*   Authors are encouraged to use [`UTF-8`](https://developer.mozilla.org/en-US/docs/Glossary/UTF-8).\n*   Authors should not use ASCII-incompatible encodings to avoid security risk: browsers not supporting them may interpret harmful content as HTML. This happens with the `JIS_C6226-1983`, `JIS_X0212-1990`, `HZ-GB-2312`, `JOHAB`, the ISO-2022 family and the EBCDIC family.\n\n**Note:** ASCII-incompatible encodings are those that don\'t map the 8-bit code points `0x20` to `0x7E` to the `0x0020` to `0x007E` Unicode code points)\n\n*   Authors **must not** use `CESU-8`, `UTF-7`, `BOCU-1` and/or `SCSU` as [cross-site scripting](https://developer.mozilla.org/en-US/docs/Glossary/Cross-site_scripting) attacks with these encodings have been demonstrated.\n*   Authors should not use `UTF-32` because not all HTML5 encoding algorithms can distinguish it from `UTF-16`.\n\n**Notes:**\n\n*   The declared character encoding must match the one the page was saved with to avoid garbled characters and security holes.\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element declaring the encoding must be inside the [`<head>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head "The HTML <head> element provides general information (metadata) about the document, including its title and links to its\xA0scripts and style sheets.") element and **within the first 1024 bytes** of the HTML as some browsers only look at those bytes before choosing an encoding.\n*   This [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element is only one part of the [algorithm to determine a page\'s character set](https://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#encoding-sniffing-algorithm "Algorithm charset page"). The [`Content-Type` header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type) and any [Byte-Order Marks](https://developer.mozilla.org/en-US/docs/Glossary/Byte-Order_Mark "The definition of that term (Byte-Order Marks) has not been written yet; please consider contributing it!") override this element.\n*   It is strongly recommended to define the character encoding. If a page\'s encoding is undefined, cross-scripting techniques are possible, such as the [`UTF-7` fallback cross-scripting technique](https://code.google.com/p/doctype-mirror/wiki/ArticleUtf7).\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element with a `charset` attribute is a synonym for the pre-HTML5 `<meta http-equiv="Content-Type" content="text/html; charset=_IANAcharset_">`, where _`IANAcharset`_ contains the value of the equivalent [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute. This syntax is still allowed, although no longer recommended.'}},{name:"scheme",description:"This attribute defines the scheme in which metadata is described. A scheme is a context leading to the correct interpretations of the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) value, like a format.\n\n**Warning:** Do not use this value, as it is obsolete. There is no replacement as there was no real usage for it."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meta"}]},{name:"style",description:{kind:"markdown",value:"The style element allows authors to embed style information in their documents. The style element is one of several inputs to the styling processing model. The element does not represent content for the user."},attributes:[{name:"media",description:{kind:"markdown",value:"This attribute defines which media the style should be applied to. Its value is a [media query](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries), which defaults to `all` if the attribute is missing."}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) used to allow inline styles in a [style-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource\u2019s policy is otherwise trivial."}},{name:"type",description:{kind:"markdown",value:"This attribute defines the styling language as a MIME type (charset should not be specified). This attribute is optional and defaults to `text/css` if it is not specified \u2014 there is very little reason to include this in modern web documents."}},{name:"scoped",valueSet:"v"},{name:"title",description:"This attribute specifies [alternative style sheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets) sets."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/style"}]},{name:"body",description:{kind:"markdown",value:"The body element represents the content of the document."},attributes:[{name:"onafterprint",description:{kind:"markdown",value:"Function to call after the user has printed the document."}},{name:"onbeforeprint",description:{kind:"markdown",value:"Function to call when the user requests printing of the document."}},{name:"onbeforeunload",description:{kind:"markdown",value:"Function to call when the document is about to be unloaded."}},{name:"onhashchange",description:{kind:"markdown",value:"Function to call when the fragment identifier part (starting with the hash (`'#'`) character) of the document's current address has changed."}},{name:"onlanguagechange",description:{kind:"markdown",value:"Function to call when the preferred languages changed."}},{name:"onmessage",description:{kind:"markdown",value:"Function to call when the document has received a message."}},{name:"onoffline",description:{kind:"markdown",value:"Function to call when network communication has failed."}},{name:"ononline",description:{kind:"markdown",value:"Function to call when network communication has been restored."}},{name:"onpagehide"},{name:"onpageshow"},{name:"onpopstate",description:{kind:"markdown",value:"Function to call when the user has navigated session history."}},{name:"onstorage",description:{kind:"markdown",value:"Function to call when the storage area has changed."}},{name:"onunload",description:{kind:"markdown",value:"Function to call when the document is going away."}},{name:"alink",description:'Color of text for hyperlinks when selected. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:active`](https://developer.mozilla.org/en-US/docs/Web/CSS/:active "The :active CSS pseudo-class represents an element (such as a button) that is being activated by the user.") pseudo-class instead._'},{name:"background",description:'URI of a image to use as a background. _This method is non-conforming, use CSS [`background`](https://developer.mozilla.org/en-US/docs/Web/CSS/background "The background shorthand CSS property sets all background style properties at once, such as color, image, origin and size, or repeat method.") property on the element instead._'},{name:"bgcolor",description:'Background color for the document. _This method is non-conforming, use CSS [`background-color`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property on the element instead._'},{name:"bottommargin",description:'The margin of the bottom of the body. _This method is non-conforming, use CSS [`margin-bottom`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-bottom "The margin-bottom CSS property sets the margin area on the bottom of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"leftmargin",description:'The margin of the left of the body. _This method is non-conforming, use CSS [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"link",description:'Color of text for unvisited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:link`](https://developer.mozilla.org/en-US/docs/Web/CSS/:link "The :link CSS pseudo-class represents an element that has not yet been visited. It matches every unvisited <a>, <area>, or <link> element that has an href attribute.") pseudo-class instead._'},{name:"onblur",description:"Function to call when the document loses focus."},{name:"onerror",description:"Function to call when the document fails to load properly."},{name:"onfocus",description:"Function to call when the document receives focus."},{name:"onload",description:"Function to call when the document has finished loading."},{name:"onredo",description:"Function to call when the user has moved forward in undo transaction history."},{name:"onresize",description:"Function to call when the document has been resized."},{name:"onundo",description:"Function to call when the user has moved backward in undo transaction history."},{name:"rightmargin",description:'The margin of the right of the body. _This method is non-conforming, use CSS [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"text",description:'Foreground color of text. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property on the element instead._'},{name:"topmargin",description:'The margin of the top of the body. _This method is non-conforming, use CSS [`margin-top`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-top "The margin-top CSS property sets the margin area on the top of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"vlink",description:'Color of text for visited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:visited`](https://developer.mozilla.org/en-US/docs/Web/CSS/:visited "The :visited CSS pseudo-class represents links that the user has already visited. For privacy reasons, the styles that can be modified using this selector are very limited.") pseudo-class instead._'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/body"}]},{name:"article",description:{kind:"markdown",value:"The article element represents a complete, or self-contained, composition in a document, page, application, or site and that is, in principle, independently distributable or reusable, e.g. in syndication. This could be a forum post, a magazine or newspaper article, a blog entry, a user-submitted comment, an interactive widget or gadget, or any other independent item of content. Each article should be identified, typically by including a heading (h1\u2013h6 element) as a child of the article element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/article"}]},{name:"section",description:{kind:"markdown",value:"The section element represents a generic section of a document or application. A section, in this context, is a thematic grouping of content. Each section should be identified, typically by including a heading ( h1- h6 element) as a child of the section element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/section"}]},{name:"nav",description:{kind:"markdown",value:"The nav element represents a section of a page that links to other pages or to parts within the page: a section with navigation links."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/nav"}]},{name:"aside",description:{kind:"markdown",value:"The aside element represents a section of a page that consists of content that is tangentially related to the content around the aside element, and which could be considered separate from that content. Such sections are often represented as sidebars in printed typography."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/aside"}]},{name:"h1",description:{kind:"markdown",value:"The h1 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h2",description:{kind:"markdown",value:"The h2 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h3",description:{kind:"markdown",value:"The h3 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h4",description:{kind:"markdown",value:"The h4 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h5",description:{kind:"markdown",value:"The h5 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h6",description:{kind:"markdown",value:"The h6 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"header",description:{kind:"markdown",value:"The header element represents introductory content for its nearest ancestor sectioning content or sectioning root element. A header typically contains a group of introductory or navigational aids. When the nearest ancestor sectioning content or sectioning root element is the body element, then it applies to the whole page."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/header"}]},{name:"footer",description:{kind:"markdown",value:"The footer element represents a footer for its nearest ancestor sectioning content or sectioning root element. A footer typically contains information about its section such as who wrote it, links to related documents, copyright data, and the like."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/footer"}]},{name:"address",description:{kind:"markdown",value:"The address element represents the contact information for its nearest article or body element ancestor. If that is the body element, then the contact information applies to the document as a whole."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/address"}]},{name:"p",description:{kind:"markdown",value:"The p element represents a paragraph."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/p"}]},{name:"hr",description:{kind:"markdown",value:"The hr element represents a paragraph-level thematic break, e.g. a scene change in a story, or a transition to another topic within a section of a reference book."},void:!0,attributes:[{name:"align",description:"Sets the alignment of the rule on the page. If no value is specified, the default value is `left`."},{name:"color",description:"Sets the color of the rule through color name or hexadecimal value."},{name:"noshade",description:"Sets the rule to have no shading."},{name:"size",description:"Sets the height, in pixels, of the rule."},{name:"width",description:"Sets the length of the rule on the page through a pixel or percentage value."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hr"}]},{name:"pre",description:{kind:"markdown",value:"The pre element represents a block of preformatted text, in which structure is represented by typographic conventions rather than by elements."},attributes:[{name:"cols",description:'Contains the _preferred_ count of characters that a line should have. It was a non-standard synonym of [`width`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/pre#attr-width). To achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"width",description:'Contains the _preferred_ count of characters that a line should have. Though technically still implemented, this attribute has no visual effect; to achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"wrap",description:'Is a _hint_ indicating how the overflow must happen. In modern browser this hint is ignored and no visual effect results in its present; to achieve such an effect, use CSS [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space "The white-space CSS property sets how white space inside an element is handled.") instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/pre"}]},{name:"blockquote",description:{kind:"markdown",value:"The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/blockquote"}]},{name:"ol",description:{kind:"markdown",value:"The ol element represents a list of items, where the items have been intentionally ordered, such that changing the order would change the meaning of the document."},attributes:[{name:"reversed",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute specifies that the items of the list are specified in reversed order."}},{name:"start",description:{kind:"markdown",value:'This integer attribute specifies the start value for numbering the individual list items. Although the ordering type of list elements might be Roman numerals, such as XXXI, or letters, the value of start is always represented as a number. To start numbering elements from the letter "C", use `<ol start="3">`.\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.'}},{name:"type",valueSet:"lt",description:{kind:"markdown",value:"Indicates the numbering type:\n\n*   `'a'` indicates lowercase letters,\n*   `'A'` indicates uppercase letters,\n*   `'i'` indicates lowercase Roman numerals,\n*   `'I'` indicates uppercase Roman numerals,\n*   and `'1'` indicates numbers (default).\n\nThe type set is used for the entire list unless a different [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li#attr-type) attribute is used within an enclosed [`<li>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li \"The HTML <li> element is used to represent an item in a list. It must be contained in a parent element: an ordered list (<ol>), an unordered list (<ul>), or a menu (<menu>). In menus and unordered lists, list items are usually displayed using bullet points. In ordered lists, they are usually displayed with an ascending counter on the left, such as a number or letter.\") element.\n\n**Note:** This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\nUnless the value of the list number matters (e.g. in legal or technical documents where items are to be referenced by their number/letter), the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type \"The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.\") property should be used instead."}},{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Warning:** Do not use this attribute, as it has been deprecated: the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give an effect similar to the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [`line-height`](https://developer.mozilla.org/en-US/docs/Web/CSS/line-height "The line-height CSS property sets the amount of space used for lines, such as in text. On block-level elements, it specifies the minimum height of line boxes within the element. On non-replaced inline elements, it specifies the height that is used to calculate line box height.") can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ol"}]},{name:"ul",description:{kind:"markdown",value:"The ul element represents a list of items, where the order of the items is not important \u2014 that is, where changing the order would not materially change the meaning of the document."},attributes:[{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Usage note:\xA0**Do not use this attribute, as it has been deprecated: the [`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give a similar effect as the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [line-height](https://developer.mozilla.org/en-US/docs/CSS/line-height) can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ul"}]},{name:"li",description:{kind:"markdown",value:"The li element represents a list item. If its parent element is an ol, ul, or menu element, then the element is an item of the parent element's list, as defined for those elements. Otherwise, the list item has no defined list-related relationship to any other li element."},attributes:[{name:"value",description:{kind:"markdown",value:'This integer attribute indicates the current ordinal value of the list item as defined by the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element. The only allowed value for this attribute is a number, even if the list is displayed with Roman numerals or letters. List items that follow this one continue numbering from the value set. The **value** attribute has no meaning for unordered lists ([`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.")) or for menus ([`<menu>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.")).\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\n**Note:** Prior to Gecko\xA09.0, negative values were incorrectly converted to 0. Starting in Gecko\xA09.0 all integer values are correctly parsed.'}},{name:"type",description:'This character attribute indicates the numbering type:\n\n*   `a`: lowercase letters\n*   `A`: uppercase letters\n*   `i`: lowercase Roman numerals\n*   `I`: uppercase Roman numerals\n*   `1`: numbers\n\nThis type overrides the one used by its parent [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element, if any.\n\n**Usage note:** This attribute has been deprecated: use the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type "The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.") property instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/li"}]},{name:"dl",description:{kind:"markdown",value:"The dl element represents an association list consisting of zero or more name-value groups (a description list). A name-value group consists of one or more names (dt elements) followed by one or more values (dd elements), ignoring any nodes other than dt and dd elements. Within a single dl element, there should not be more than one dt element for each name."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dl"}]},{name:"dt",description:{kind:"markdown",value:"The dt element represents the term, or name, part of a term-description group in a description list (dl element)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dt"}]},{name:"dd",description:{kind:"markdown",value:"The dd element represents the description, definition, or value, part of a term-description group in a description list (dl element)."},attributes:[{name:"nowrap",description:"If the value of this attribute is set to `yes`, the definition text will not wrap. The default value is `no`."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dd"}]},{name:"figure",description:{kind:"markdown",value:"The figure element represents some flow content, optionally with a caption, that is self-contained (like a complete sentence) and is typically referenced as a single unit from the main flow of the document."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figure"}]},{name:"figcaption",description:{kind:"markdown",value:"The figcaption element represents a caption or legend for the rest of the contents of the figcaption element's parent figure element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figcaption"}]},{name:"main",description:{kind:"markdown",value:"The main element represents the main content of the body of a document or application. The main content area consists of content that is directly related to or expands upon the central topic of a document or central functionality of an application."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/main"}]},{name:"div",description:{kind:"markdown",value:"The div element has no special meaning at all. It represents its children. It can be used with the class, lang, and title attributes to mark up semantics common to a group of consecutive elements."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/div"}]},{name:"a",description:{kind:"markdown",value:"If the a element has an href attribute, then it represents a hyperlink (a hypertext anchor) labeled by its contents."},attributes:[{name:"href",description:{kind:"markdown",value:'Contains a URL or a URL fragment that the hyperlink points to.\nA URL fragment is a name preceded by a hash mark (`#`), which specifies an internal target location (an [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of an HTML element) within the current document. URLs are not restricted to Web (HTTP)-based documents, but can use any protocol supported by the browser. For example, [`file:`](https://en.wikipedia.org/wiki/File_URI_scheme), `ftp:`, and `mailto:` work in most browsers.\n\n**Note:** You can use `href="#top"` or the empty fragment `href="#"` to link to the top of the current page. [This behavior is specified by HTML5](https://www.w3.org/TR/html5/single-page.html#scroll-to-fragid).'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'Specifies where to display the linked URL. It is a name of, or keyword for, a _browsing context_: a tab, window, or `<iframe>`. The following keywords have special meanings:\n\n*   `_self`: Load the URL into the same browsing context as the current one. This is the default behavior.\n*   `_blank`: Load the URL into a new browsing context. This is usually a tab, but users can configure browsers to use new windows instead.\n*   `_parent`: Load the URL into the parent browsing context of the current one. If there is no parent, this behaves the same way as `_self`.\n*   `_top`: Load the URL into the top-level browsing context (that is, the "highest" browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this behaves the same way as `_self`.\n\n**Note:** When using `target`, consider adding `rel="noreferrer"` to avoid exploitation of the `window.opener` API.\n\n**Note:** Linking to another page using `target="_blank"` will run the new page on the same process as your page. If the new page is executing expensive JS, your page\'s performance may suffer. To avoid this use `rel="noopener"`.'}},{name:"download",description:{kind:"markdown",value:"This attribute instructs browsers to download a URL instead of navigating to it, so the user will be prompted to save it as a local file. If the attribute has a value, it is used as the pre-filled file name in the Save prompt (the user can still change the file name if they want). There are no restrictions on allowed values, though `/` and `\\` are converted to underscores. Most file systems limit some punctuation in file names, and browsers will adjust the suggested name accordingly.\n\n**Notes:**\n\n*   This attribute only works for [same-origin URLs](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy).\n*   Although HTTP(s) URLs need to be in the same-origin, [`blob:` URLs](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL) and [`data:` URLs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs) are allowed so that content generated by JavaScript, such as pictures created in an image-editor Web app, can be downloaded.\n*   If the HTTP header [`Content-Disposition:`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition) gives a different filename than this attribute, the HTTP header takes priority over this attribute.\n*   If `Content-Disposition:` is set to `inline`, Firefox prioritizes `Content-Disposition`, like the filename case, while Chrome prioritizes the `download` attribute."}},{name:"ping",description:{kind:"markdown",value:'Contains a space-separated list of URLs to which, when the hyperlink is followed, [`POST`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST "The HTTP POST method sends data to the server. The type of the body of the request is indicated by the Content-Type header.") requests with the body `PING` will be sent by the browser (in the background). Typically used for tracking.'}},{name:"rel",description:{kind:"markdown",value:"Specifies the relationship of the target object to the link object. The value is a space-separated list of [link types](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"hreflang",description:{kind:"markdown",value:'This attribute indicates the human language of the linked resource. It is purely advisory, with no built-in functionality. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt "Tags for Identifying Languages").'}},{name:"type",description:{kind:"markdown",value:'Specifies the media type in the form of a [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type "MIME type: A\xA0MIME type\xA0(now properly called "media type", but\xA0also sometimes "content type") is a string sent along\xA0with a file indicating the type of the file (describing the content format, for example, a sound file might be labeled\xA0audio/ogg, or an image file\xA0image/png).") for the linked URL. It is purely advisory, with no built-in functionality.'}},{name:"referrerpolicy",description:"Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) to send when fetching the URL:\n\n*   `'no-referrer'` means the `Referer:` header will not be sent.\n*   `'no-referrer-when-downgrade'` means no `Referer:` header will be sent when navigating to an origin without HTTPS. This is the default behavior.\n*   `'origin'` means the referrer will be the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the page, not including information after the domain.\n*   `'origin-when-cross-origin'` meaning that navigations to other origins will be limited to the scheme, the host and the port, while navigations on the same origin will include the referrer's path.\n*   `'strict-origin-when-cross-origin'`\n*   `'unsafe-url'` means the referrer will include the origin and path, but not the fragment, password, or username. This is unsafe because it can leak data from secure URLs to insecure ones."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/a"}]},{name:"em",description:{kind:"markdown",value:"The em element represents stress emphasis of its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/em"}]},{name:"strong",description:{kind:"markdown",value:"The strong element represents strong importance, seriousness, or urgency for its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/strong"}]},{name:"small",description:{kind:"markdown",value:"The small element represents side comments such as small print."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/small"}]},{name:"s",description:{kind:"markdown",value:"The s element represents contents that are no longer accurate or no longer relevant."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/s"}]},{name:"cite",description:{kind:"markdown",value:"The cite element represents a reference to a creative work. It must include the title of the work or the name of the author(person, people or organization) or an URL reference, or a reference in abbreviated form as per the conventions used for the addition of citation metadata."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/cite"}]},{name:"q",description:{kind:"markdown",value:"The q element represents some phrasing content quoted from another source."},attributes:[{name:"cite",description:{kind:"markdown",value:"The value of this attribute is a URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/q"}]},{name:"dfn",description:{kind:"markdown",value:"The dfn element represents the defining instance of a term. The paragraph, description list group, or section that is the nearest ancestor of the dfn element must also contain the definition(s) for the term given by the dfn element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dfn"}]},{name:"abbr",description:{kind:"markdown",value:"The abbr element represents an abbreviation or acronym, optionally with its expansion. The title attribute may be used to provide an expansion of the abbreviation. The attribute, if specified, must contain an expansion of the abbreviation, and nothing else."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/abbr"}]},{name:"ruby",description:{kind:"markdown",value:"The ruby element allows one or more spans of phrasing content to be marked with ruby annotations. Ruby annotations are short runs of text presented alongside base text, primarily used in East Asian typography as a guide for pronunciation or to include other annotations. In Japanese, this form of typography is also known as furigana. Ruby text can appear on either side, and sometimes both sides, of the base text, and it is possible to control its position using CSS. A more complete introduction to ruby can be found in the Use Cases & Exploratory Approaches for Ruby Markup document as well as in CSS Ruby Module Level 1. [RUBY-UC] [CSSRUBY]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ruby"}]},{name:"rb",description:{kind:"markdown",value:"The rb element marks the base text component of a ruby annotation. When it is the child of a ruby element, it doesn't represent anything itself, but its parent ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rb"}]},{name:"rt",description:{kind:"markdown",value:"The rt element marks the ruby text component of a ruby annotation. When it is the child of a ruby element or of an rtc element that is itself the child of a ruby element, it doesn't represent anything itself, but its ancestor ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rt"}]},{name:"rp",description:{kind:"markdown",value:"The rp element is used to provide fallback text to be shown by user agents that don't support ruby annotations. One widespread convention is to provide parentheses around the ruby text component of a ruby annotation."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rp"}]},{name:"time",description:{kind:"markdown",value:"The time element represents its contents, along with a machine-readable form of those contents in the datetime attribute. The kind of content is limited to various kinds of dates, times, time-zone offsets, and durations, as described below."},attributes:[{name:"datetime",description:{kind:"markdown",value:"This attribute indicates the time and/or date of the element and must be in one of the formats described below."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/time"}]},{name:"code",description:{kind:"markdown",value:"The code element represents a fragment of computer code. This could be an XML element name, a file name, a computer program, or any other string that a computer would recognize."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/code"}]},{name:"var",description:{kind:"markdown",value:"The var element represents a variable. This could be an actual variable in a mathematical expression or programming context, an identifier representing a constant, a symbol identifying a physical quantity, a function parameter, or just be a term used as a placeholder in prose."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/var"}]},{name:"samp",description:{kind:"markdown",value:"The samp element represents sample or quoted output from another program or computing system."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/samp"}]},{name:"kbd",description:{kind:"markdown",value:"The kbd element represents user input (typically keyboard input, although it may also be used to represent other input, such as voice commands)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/kbd"}]},{name:"sub",description:{kind:"markdown",value:"The sub element represents a subscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sub"}]},{name:"sup",description:{kind:"markdown",value:"The sup element represents a superscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sup"}]},{name:"i",description:{kind:"markdown",value:"The i element represents a span of text in an alternate voice or mood, or otherwise offset from the normal prose in a manner indicating a different quality of text, such as a taxonomic designation, a technical term, an idiomatic phrase from another language, transliteration, a thought, or a ship name in Western texts."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/i"}]},{name:"b",description:{kind:"markdown",value:"The b element represents a span of text to which attention is being drawn for utilitarian purposes without conveying any extra importance and with no implication of an alternate voice or mood, such as key words in a document abstract, product names in a review, actionable words in interactive text-driven software, or an article lede."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/b"}]},{name:"u",description:{kind:"markdown",value:"The u element represents a span of text with an unarticulated, though explicitly rendered, non-textual annotation, such as labeling the text as being a proper name in Chinese text (a Chinese proper name mark), or labeling the text as being misspelt."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/u"}]},{name:"mark",description:{kind:"markdown",value:"The mark element represents a run of text in one document marked or highlighted for reference purposes, due to its relevance in another context. When used in a quotation or other block of text referred to from the prose, it indicates a highlight that was not originally present but which has been added to bring the reader's attention to a part of the text that might not have been considered important by the original author when the block was originally written, but which is now under previously unexpected scrutiny. When used in the main prose of a document, it indicates a part of the document that has been highlighted due to its likely relevance to the user's current activity."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/mark"}]},{name:"bdi",description:{kind:"markdown",value:"The bdi element represents a span of text that is to be isolated from its surroundings for the purposes of bidirectional text formatting. [BIDI]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdi"}]},{name:"bdo",description:{kind:"markdown",value:"The bdo element represents explicit text directionality formatting control for its children. It allows authors to override the Unicode bidirectional algorithm by explicitly specifying a direction override. [BIDI]"},attributes:[{name:"dir",description:"The direction in which text should be rendered in this element's contents. Possible values are:\n\n*   `ltr`: Indicates that the text should go in a left-to-right direction.\n*   `rtl`: Indicates that the text should go in a right-to-left direction."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdo"}]},{name:"span",description:{kind:"markdown",value:"The span element doesn't mean anything on its own, but can be useful when used together with the global attributes, e.g. class, lang, or dir. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/span"}]},{name:"br",description:{kind:"markdown",value:"The br element represents a line break."},void:!0,attributes:[{name:"clear",description:"Indicates where to begin the next line after the break."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/br"}]},{name:"wbr",description:{kind:"markdown",value:"The wbr element represents a line break opportunity."},void:!0,attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/wbr"}]},{name:"ins",description:{kind:"markdown",value:"The ins element represents an addition to the document."},attributes:[{name:"cite",description:"This attribute defines the URI of a resource that explains the change, such as a link to meeting minutes or a ticket in a troubleshooting system."},{name:"datetime",description:'This attribute indicates the time and date of the change and must be a valid date with an optional time string. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ins"}]},{name:"del",description:{kind:"markdown",value:"The del element represents a removal from the document."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URI for a resource that explains the change (for example, meeting minutes)."}},{name:"datetime",description:{kind:"markdown",value:'This attribute indicates the time and date of the change and must be a valid date string with an optional time. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/del"}]},{name:"picture",description:{kind:"markdown",value:"The picture element is a container which provides multiple sources to its contained img element to allow authors to declaratively control or give hints to the user agent about which image resource to use, based on the screen pixel density, viewport size, image format, and other factors. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/picture"}]},{name:"img",description:{kind:"markdown",value:"An img element represents an image."},void:!0,attributes:[{name:"alt",description:{kind:"markdown",value:'This attribute defines an alternative text description of the image.\n\n**Note:** Browsers do not always display the image referenced by the element. This is the case for non-graphical browsers (including those used by people with visual impairments), if the user chooses not to display images, or if the browser cannot display the image because it is invalid or an [unsupported type](#Supported_image_formats). In these cases, the browser may replace the image with the text defined in this element\'s `alt` attribute. You should, for these reasons and others, provide a useful value for `alt` whenever possible.\n\n**Note:** Omitting this attribute altogether indicates that the image is a key part of the content, and no textual equivalent is available. Setting this attribute to an empty string (`alt=""`) indicates that this image is _not_ a key part of the content (decorative), and that non-visual browsers may omit it from rendering.'}},{name:"src",description:{kind:"markdown",value:"The image URL. This attribute is mandatory for the `<img>` element. On browsers supporting `srcset`, `src` is treated like a candidate image with a pixel density descriptor `1x` unless an image with this pixel density descriptor is already defined in `srcset,` or unless `srcset` contains '`w`' descriptors."}},{name:"srcset",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of possible image sources for the user agent to use. Each string is composed of:\n\n1.  a URL to an image,\n2.  optionally, whitespace followed by one of:\n    *   A width descriptor, or a positive integer directly followed by '`w`'. The width descriptor is divided by the source size given in the `sizes` attribute to calculate the effective pixel density.\n    *   A pixel density descriptor, which is a positive floating point number directly followed by '`x`'.\n\nIf no descriptor is specified, the source is assigned the default descriptor: `1x`.\n\nIt is incorrect to mix width descriptors and pixel density descriptors in the same `srcset` attribute. Duplicate descriptors (for instance, two sources in the same `srcset` which are both described with '`2x`') are also invalid.\n\nThe user agent selects any one of the available sources at its discretion. This provides them with significant leeway to tailor their selection based on things like user preferences or bandwidth conditions. See our [Responsive images](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images) tutorial for an example."}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates if the fetching of the related image must be done using CORS or not. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being "[tainted](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image#What_is_a_tainted_canvas)." The allowed values are:\n`anonymous`\n\nA cross-origin request (i.e., with `Origin:` HTTP header) is performed, but no credential is sent (i.e., no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header), the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e., with the [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) performed along with credentials sent (i.e., a cookie, certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (through the `Access-Control-Allow-Credentials` HTTP header), the image will be tainted and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a CORS request (i.e., without sending the `Origin` HTTP header), preventing its non-tainted usage in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the `anonymous` value was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"usemap",description:{kind:"markdown",value:'The partial URL (starting with \'#\') of an [image map](https://developer.mozilla.org/en-US/docs/HTML/Element/map) associated with the element.\n\n**Note:** You cannot use this attribute if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") element.'}},{name:"ismap",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the image is part of a server-side map. If so, the precise coordinates of a click are sent to the server.\n\n**Note:** This attribute is allowed only if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") element with a valid [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute.'}},{name:"width",description:{kind:"markdown",value:"The intrinsic width of the image in pixels."}},{name:"height",description:{kind:"markdown",value:"The intrinsic height of the image in pixels."}},{name:"decoding",valueSet:"decoding",description:{kind:"markdown",value:`Provides an image decoding hint to the browser. The allowed values are:
\`sync\`

Decode the image synchronously for atomic presentation with other content.

\`async\`

Decode the image asynchronously to reduce delay in presenting other content.

\`auto\`

Default mode, which indicates no preference for the decoding mode. The browser decides what is best for the user.`}},{name:"loading",valueSet:"loading",description:{kind:"markdown",value:"Indicates how the browser should load the image."}},{name:"referrerpolicy",valueSet:"referrerpolicy",description:{kind:"markdown",value:"A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer:` The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer \"The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.\") header will not be sent.\n*   `no-referrer-when-downgrade:` No `Referer` header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior if no policy is otherwise specified.\n*   `origin:` The `Referer` header will include the page of origin's scheme, the host, and the port.\n*   `origin-when-cross-origin:` Navigating to other origins will limit the included referral data to the scheme, the host and the port, while navigating from the same origin will include the referrer's full path.\n*   `unsafe-url:` The `Referer` header will include the origin and the path, but not the fragment, password, or username. This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins."}},{name:"sizes",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of source sizes. Each source size consists of:\n\n1.  a media condition. This must be omitted for the last item.\n2.  a source size value.\n\nSource size values specify the intended display size of the image. User agents use the current source size to select one of the sources supplied by the `srcset` attribute, when those sources are described using width ('`w`') descriptors. The selected source size affects the intrinsic size of the image (the image\u2019s display size if no CSS styling is applied). If the `srcset` attribute is absent, or contains no values with a width (`w`) descriptor, then the `sizes` attribute has no effect."}},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:"`auto`: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the image.\n\n`high`: Indicates to the\xA0browser\xA0that the image is of\xA0**high** priority.\n\n`low`:\xA0Indicates to the\xA0browser\xA0that the image is of\xA0**low** priority."},{name:"intrinsicsize",description:"This attribute tells the browser to ignore the actual intrinsic size of the image and pretend it\u2019s the size specified in the attribute. Specifically, the image would raster at these dimensions and `naturalWidth`/`naturalHeight` on images would return the values specified in this attribute. [Explainer](https://github.com/ojanvafai/intrinsicsize-attribute), [examples](https://googlechrome.github.io/samples/intrinsic-size/index.html)"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/img"}]},{name:"iframe",description:{kind:"markdown",value:"The iframe element represents a nested browsing context."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the page to embed. Use a value of `about:blank` to embed an empty page that conforms to the [same-origin policy](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#Inherited_origins). Also note that programatically removing an `<iframe>`\'s src attribute (e.g. via [`Element.removeAttribute()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute "The Element method removeAttribute() removes the attribute with the specified name from the element.")) causes `about:blank` to be loaded in the frame in Firefox (from version 65), Chromium-based browsers, and Safari/iOS.'}},{name:"srcdoc",description:{kind:"markdown",value:"Inline HTML to embed, overriding the `src` attribute. If a browser does not support the `srcdoc` attribute, it will fall back to the URL in the `src` attribute."}},{name:"name",description:{kind:"markdown",value:'A targetable name for the embedded browsing context. This can be used in the `target` attribute of the [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL."), [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server."), or [`<base>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base "The HTML <base> element specifies the base URL to use for all relative URLs contained within a document. There can be only one <base> element in a document.") elements; the `formtarget` attribute of the [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") elements; or the `windowName` parameter in the [`window.open()`](https://developer.mozilla.org/en-US/docs/Web/API/Window/open "The\xA0Window interface\'s open() method loads the specified resource into the browsing context (window, <iframe> or tab) with the specified name. If the name doesn\'t exist, then a new window is opened and the specified resource is loaded into its browsing context.") method.'}},{name:"sandbox",valueSet:"sb",description:{kind:"markdown",value:'Applies extra restrictions to the content in the frame. The value of the attribute can either be empty to apply all restrictions, or space-separated tokens to lift particular restrictions:\n\n*   `allow-forms`: Allows the resource to submit forms. If this keyword is not used, form submission is blocked.\n*   `allow-modals`: Lets the resource [open modal windows](https://html.spec.whatwg.org/multipage/origin.html#sandboxed-modals-flag).\n*   `allow-orientation-lock`: Lets the resource [lock the screen orientation](https://developer.mozilla.org/en-US/docs/Web/API/Screen/lockOrientation).\n*   `allow-pointer-lock`: Lets the resource use the [Pointer Lock API](https://developer.mozilla.org/en-US/docs/WebAPI/Pointer_Lock).\n*   `allow-popups`: Allows popups (such as `window.open()`, `target="_blank"`, or `showModalDialog()`). If this keyword is not used, the popup will silently fail to open.\n*   `allow-popups-to-escape-sandbox`: Lets the sandboxed document open new windows without those windows inheriting the sandboxing. For example, this can safely sandbox an advertisement without forcing the same restrictions upon the page the ad links to.\n*   `allow-presentation`: Lets the resource start a [presentation session](https://developer.mozilla.org/en-US/docs/Web/API/PresentationRequest).\n*   `allow-same-origin`: If this token is not used, the resource is treated as being from a special origin that always fails the [same-origin policy](https://developer.mozilla.org/en-US/docs/Glossary/same-origin_policy "same-origin policy: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin.").\n*   `allow-scripts`: Lets the resource run scripts (but not create popup windows).\n*   `allow-storage-access-by-user-activation` : Lets the resource request access to the parent\'s storage capabilities with the [Storage Access API](https://developer.mozilla.org/en-US/docs/Web/API/Storage_Access_API).\n*   `allow-top-navigation`: Lets the resource navigate the top-level browsing context (the one named `_top`).\n*   `allow-top-navigation-by-user-activation`: Lets the resource navigate the top-level browsing context, but only if initiated by a user gesture.\n\n**Notes about sandboxing:**\n\n*   When the embedded document has the same origin as the embedding page, it is **strongly discouraged** to use both `allow-scripts` and `allow-same-origin`, as that lets the embedded document remove the `sandbox` attribute \u2014 making it no more secure than not using the `sandbox` attribute at all.\n*   Sandboxing is useless if the attacker can display content outside a sandboxed `iframe` \u2014 such as if the viewer opens the frame in a new tab. Such content should be also served from a _separate origin_ to limit potential damage.\n*   The `sandbox` attribute is unsupported in Internet Explorer 9 and earlier.'}},{name:"seamless",valueSet:"v"},{name:"allowfullscreen",valueSet:"v",description:{kind:"markdown",value:'Set to `true` if the `<iframe>` can activate fullscreen mode by calling the [`requestFullscreen()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullscreen "The Element.requestFullscreen() method issues an asynchronous request to make the element be displayed in full-screen mode.") method.\nThis attribute is considered a legacy attribute and redefined as `allow="fullscreen"`.'}},{name:"width",description:{kind:"markdown",value:"The width of the frame in CSS pixels. Default is `300`."}},{name:"height",description:{kind:"markdown",value:"The height of the frame in CSS pixels. Default is `150`."}},{name:"allow",description:"Specifies a [feature policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Feature_Policy) for the `<iframe>`."},{name:"allowpaymentrequest",description:"Set to `true` if a cross-origin `<iframe>` should be allowed to invoke the [Payment Request API](https://developer.mozilla.org/en-US/docs/Web/API/Payment_Request_API)."},{name:"allowpaymentrequest",description:'This attribute is considered a legacy attribute and redefined as `allow="payment"`.'},{name:"csp",description:'A [Content Security Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) enforced for the embedded resource. See [`HTMLIFrameElement.csp`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/csp "The csp property of the HTMLIFrameElement interface specifies the Content Security Policy that an embedded document must agree to enforce upon itself.") for details.'},{name:"importance",description:`The download priority of the resource in the \`<iframe>\`'s \`src\` attribute. Allowed values:

\`auto\` (default)

No preference. The browser uses its own heuristics to decide the priority of the resource.

\`high\`

The resource should be downloaded before other lower-priority page resources.

\`low\`

The resource should be downloaded after other higher-priority page resources.`},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the frame\'s resource:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, only send the origin when the protocol security level stays the same (HTTPS\u2192HTTPS), and send no header to a less secure destination (HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/iframe"}]},{name:"embed",description:{kind:"markdown",value:"The embed element provides an integration point for an external (typically non-HTML) application or interactive content."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:"The URL\xA0of the resource being embedded."}},{name:"type",description:{kind:"markdown",value:"The MIME\xA0type to use to select the plug-in to instantiate."}},{name:"width",description:{kind:"markdown",value:"The displayed width of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}},{name:"height",description:{kind:"markdown",value:"The displayed height of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/embed"}]},{name:"object",description:{kind:"markdown",value:"The object element can represent an external resource, which, depending on the type of the resource, will either be treated as an image, as a nested browsing context, or as an external resource to be processed by a plugin."},attributes:[{name:"data",description:{kind:"markdown",value:"The address of the resource as a valid URL. At least one of **data** and **type** must be defined."}},{name:"type",description:{kind:"markdown",value:"The [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource specified by **data**. At least one of **data** and **type** must be defined."}},{name:"typemustmatch",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates if the **type** attribute and the actual [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource must match to be used."}},{name:"name",description:{kind:"markdown",value:"The name of valid browsing context (HTML5), or the name of the control (HTML 4)."}},{name:"usemap",description:{kind:"markdown",value:"A hash-name reference to a [`<map>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map \"The HTML <map> element is used with <area> elements to define an image map (a clickable link area).\") element; that is a '#' followed by the value of a [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map#attr-name) of a map element."}},{name:"form",description:{kind:"markdown",value:'The form element, if any, that the object element is associated with (its _form owner_). The value of the attribute must be an ID of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document.'}},{name:"width",description:{kind:"markdown",value:"The width of the display resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"height",description:{kind:"markdown",value:"The height of the displayed resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"archive",description:"A space-separated list of URIs for archives of resources for the object."},{name:"border",description:"The width of a border around the control, in pixels."},{name:"classid",description:"The URI of the object's implementation. It can be used together with, or in place of, the **data** attribute."},{name:"codebase",description:"The base path used to resolve relative URIs specified by **classid**, **data**, or **archive**. If not specified, the default is the base URI of the current document."},{name:"codetype",description:"The content type of the data specified by **classid**."},{name:"declare",description:"The presence of this Boolean attribute makes this element a declaration only. The object must be instantiated by a subsequent `<object>` element. In HTML5, repeat the <object> element completely each that that the resource is reused."},{name:"standby",description:"A message that the browser can show while loading the object's implementation and data."},{name:"tabindex",description:"The position of the element in the tabbing navigation order for the current document."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/object"}]},{name:"param",description:{kind:"markdown",value:"The param element defines parameters for plugins invoked by object elements. It does not represent anything on its own."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:"Name of the parameter."}},{name:"value",description:{kind:"markdown",value:"Specifies the value of the parameter."}},{name:"type",description:'Only used if the `valuetype` is set to "ref". Specifies the MIME type of values found at the URI specified by value.'},{name:"valuetype",description:`Specifies the type of the \`value\` attribute. Possible values are:

*   data: Default value. The value is passed to the object's implementation as a string.
*   ref: The value is a URI to a resource where run-time values are stored.
*   object: An ID of another [\`<object>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object "The HTML <object> element represents an external resource, which can be treated as an image, a nested browsing context, or a resource to be handled by a plugin.") in the same document.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/param"}]},{name:"video",description:{kind:"markdown",value:"A video element is used for playing videos or movies, and audio files with captions."},attributes:[{name:"src"},{name:"crossorigin",valueSet:"xo"},{name:"poster"},{name:"preload",valueSet:"pl"},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:'A Boolean attribute; if specified, the video automatically begins to play back as soon as it can do so without stopping to finish loading the data.\n**Note**: Sites that automatically play audio (or video with an audio track) can be an unpleasant experience for users, so it should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.\n\nTo disable video autoplay, `autoplay="false"` will not work; the video will autoplay if the attribute is there in the `<video>` tag at all. To remove autoplay the attribute needs to be removed altogether.\n\nIn some browsers (e.g. Chrome 70.0) autoplay is not working if no `muted` attribute is present.'}},{name:"mediagroup"},{name:"loop",valueSet:"v"},{name:"muted",valueSet:"v"},{name:"controls",valueSet:"v"},{name:"width"},{name:"height"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/video"}]},{name:"audio",description:{kind:"markdown",value:"An audio element represents a sound or audio stream."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the audio to embed. This is subject to [HTTP access controls](https://developer.mozilla.org/en-US/docs/HTTP_access_control). This is optional; you may instead use the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element within the audio block to specify the audio to embed.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether to use CORS to fetch the related image. [CORS-enabled resources](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\nanonymous\n\nSends a cross-origin request without a credential. In other words, it sends the `Origin:` HTTP header without a cookie, X.509 certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (by not setting the `Access-Control-Allow-Origin:` HTTP header), the image will be _tainted_, and its usage restricted.\n\nuse-credentials\n\nSends a cross-origin request with a credential. In other words, it sends the `Origin:` HTTP header with a cookie, a certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (through `Access-Control-Allow-Credentials:` HTTP header), the image will be _tainted_ and its usage restricted.\n\nWhen not present, the resource is fetched without a CORS request (i.e. without sending the `Origin:` HTTP header), preventing its non-tainted used in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"preload",valueSet:"pl",description:{kind:"markdown",value:"This enumerated attribute is intended to provide a hint to the browser about what the author thinks will lead to the best user experience. It may have one of the following values:\n\n*   `none`: Indicates that the audio should not be preloaded.\n*   `metadata`: Indicates that only audio metadata (e.g. length) is fetched.\n*   `auto`: Indicates that the whole audio file can be downloaded, even if the user is not expected to use it.\n*   _empty string_: A synonym of the `auto` value.\n\nIf not set, `preload`'s default value is browser-defined (i.e. each browser may have its own default value). The spec advises it to be set to `metadata`.\n\n**Usage notes:**\n\n*   The `autoplay` attribute has precedence over\xA0`preload`. If `autoplay` is specified, the browser would obviously need to start downloading the audio for playback.\n*   The browser is not forced by the specification to follow the value of this attribute; it is a mere hint."}},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:`A Boolean attribute:\xA0if specified, the audio will automatically begin playback as soon as it can do so, without waiting for the entire audio file to finish downloading.

**Note**: Sites that automatically play audio (or videos with an audio track) can be an unpleasant experience for users, so should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.`}},{name:"mediagroup"},{name:"loop",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute:\xA0if specified, the audio player will\xA0automatically seek back to the start\xA0upon reaching the end of the audio."}},{name:"muted",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute that indicates whether the audio will be initially silenced. Its default value is `false`."}},{name:"controls",valueSet:"v",description:{kind:"markdown",value:"If this attribute is present, the browser will offer controls to allow the user to control audio playback, including volume, seeking, and pause/resume playback."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/audio"}]},{name:"source",description:{kind:"markdown",value:"The source element allows authors to specify multiple alternative media resources for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:'Required for [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") and [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document."), address of the media resource. The value of this attribute is ignored when the `<source>` element is placed inside a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}},{name:"type",description:{kind:"markdown",value:"The MIME-type of the resource, optionally with a `codecs` parameter. See [RFC 4281](https://tools.ietf.org/html/rfc4281) for information about how to specify codecs."}},{name:"sizes",description:'Is a list of source sizes that describes the final rendered width of the image represented by the source. Each source size consists of a comma-separated list of media condition-length pairs. This information is used by the browser to determine, before laying the page out, which image defined in [`srcset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source#attr-srcset) to use.  \nThe `sizes` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'},{name:"srcset",description:"A list of one or more strings separated by commas indicating a set of possible images represented by the source for the browser to use. Each string is composed of:\n\n1.  one URL to an image,\n2.  a width descriptor, that is a positive integer directly followed by `'w'`. The default value, if missing, is the infinity.\n3.  a pixel density descriptor, that is a positive floating number directly followed by `'x'`. The default value, if missing, is `1x`.\n\nEach string in the list must have at least a width descriptor or a pixel density descriptor to be valid. Among the list, there must be only one string containing the same tuple of width descriptor and pixel density descriptor.  \nThe browser chooses the most adequate image to display at a given point of time.  \nThe `srcset` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source \"The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.\") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture \"The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.\") element."},{name:"media",description:'[Media query](https://developer.mozilla.org/en-US/docs/CSS/Media_queries) of the resource\'s intended media; this should be used only in a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/source"}]},{name:"track",description:{kind:"markdown",value:"The track element allows authors to specify explicit external timed text tracks for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"default",valueSet:"v",description:{kind:"markdown",value:"This attribute indicates that the track should be enabled unless the user's preferences indicate that another track is more appropriate. This may only be used on one `track` element per media element."}},{name:"kind",valueSet:"tk",description:{kind:"markdown",value:"How the text track is meant to be used. If omitted the default kind is `subtitles`. If the attribute is not present, it will use the `subtitles`. If the attribute contains an invalid value, it will use `metadata`. (Versions of Chrome earlier than 52 treated an invalid value as `subtitles`.)\xA0The following keywords are allowed:\n\n*   `subtitles`\n    *   Subtitles provide translation of content that cannot be understood by the viewer. For example dialogue or text that is not English in an English language film.\n    *   Subtitles may contain additional content, usually extra background information. For example the text at the beginning of the Star Wars films, or the date, time, and location of a scene.\n*   `captions`\n    *   Closed captions provide a transcription and possibly a translation of audio.\n    *   It may include important non-verbal information such as music cues or sound effects. It may indicate the cue's source (e.g. music, text, character).\n    *   Suitable for users who are deaf or when the sound is muted.\n*   `descriptions`\n    *   Textual description of the video content.\n    *   Suitable for users who are blind or where the video cannot be seen.\n*   `chapters`\n    *   Chapter titles are intended to be used when the user is navigating the media resource.\n*   `metadata`\n    *   Tracks used by scripts. Not visible to the user."}},{name:"label",description:{kind:"markdown",value:"A user-readable title of the text track which is used by the browser when listing available text tracks."}},{name:"src",description:{kind:"markdown",value:'Address of the track (`.vtt` file). Must be a valid URL. This attribute must be specified and its URL value must have the same origin as the document \u2014 unless the [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") or [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document.") parent element of the `track` element has a [`crossorigin`](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) attribute.'}},{name:"srclang",description:{kind:"markdown",value:"Language of the track text data. It must be a valid [BCP 47](https://r12a.github.io/app-subtags/) language tag. If the `kind` attribute is set to\xA0`subtitles,` then `srclang` must be defined."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/track"}]},{name:"map",description:{kind:"markdown",value:"The map element, in conjunction with an img element and any area element descendants, defines an image map. The element represents its children."},attributes:[{name:"name",description:{kind:"markdown",value:"The name attribute gives the map a name so that it can be referenced. The attribute must be present and must have a non-empty value with no space characters. The value of the name attribute must not be a compatibility-caseless match for the value of the name attribute of another map element in the same document. If the id attribute is also specified, both attributes must have the same value."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/map"}]},{name:"area",description:{kind:"markdown",value:"The area element represents either a hyperlink with some text and a corresponding area on an image map, or a dead area on an image map."},void:!0,attributes:[{name:"alt"},{name:"coords"},{name:"shape",valueSet:"sh"},{name:"href"},{name:"target",valueSet:"target"},{name:"download"},{name:"ping"},{name:"rel"},{name:"hreflang"},{name:"type"},{name:"accesskey",description:"Specifies a keyboard navigation accelerator for the element. Pressing ALT or a similar key in association with the specified character selects the form control correlated with that key sequence. Page designers are forewarned to avoid key sequences already bound to browsers. This attribute is global since HTML5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/area"}]},{name:"table",description:{kind:"markdown",value:"The table element represents data with more than one dimension, in the form of a table."},attributes:[{name:"border"},{name:"align",description:'This enumerated attribute indicates how the table must be aligned inside the containing document. It may have the following values:\n\n*   left: the table is displayed on the left side of the document;\n*   center: the table is displayed in the center of the document;\n*   right: the table is displayed on the right side of the document.\n\n**Usage Note**\n\n*   **Do not use this attribute**, as it has been deprecated. The [`<table>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table "The HTML <table> element represents tabular data \u2014 that is, information presented in a two-dimensional table comprised of rows and columns of cells containing data.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). Set [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") and [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") to `auto` or [`margin`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin "The margin CSS property sets the margin area on all four sides of an element. It is a shorthand for margin-top, margin-right, margin-bottom, and margin-left.") to `0 auto` to achieve an effect that is similar to the align attribute.\n*   Prior to Firefox 4, Firefox also supported the `middle`, `absmiddle`, and `abscenter` values as synonyms of `center`, in quirks mode only.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/table"}]},{name:"caption",description:{kind:"markdown",value:"The caption element represents the title of the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"align",description:`This enumerated attribute indicates how the caption must be aligned with respect to the table. It may have one of the following values:

\`left\`

The caption is displayed to the left of the table.

\`top\`

The caption is displayed above the table.

\`right\`

The caption is displayed to the right of the table.

\`bottom\`

The caption is displayed below the table.

**Usage note:** Do not use this attribute, as it has been deprecated. The [\`<caption>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/caption "The HTML Table Caption element (<caption>) specifies the caption (or title) of a table, and if used is always the first child of a <table>.") element should be styled using the [CSS](https://developer.mozilla.org/en-US/docs/CSS) properties [\`caption-side\`](https://developer.mozilla.org/en-US/docs/Web/CSS/caption-side "The caption-side CSS property puts the content of a table's <caption> on the specified side. The values are relative to the writing-mode of the table.") and [\`text-align\`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.").`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/caption"}]},{name:"colgroup",description:{kind:"markdown",value:"The colgroup element represents a group of one or more columns in the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed. The descendant [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") elements may override this value using their own [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-align) attribute.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use one `td:nth-child(an+b)` CSS selector per column, where a is the total number of the columns in the table and b is the ordinal position of this column in the table. Only after this selector the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property can be used.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/colgroup"}]},{name:"col",description:{kind:"markdown",value:"If a col element has a parent and that is a colgroup element that itself has a parent that is a table element, then the col element represents one or more columns in the column group represented by that colgroup."},void:!0,attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, its value is inherited from the [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-align) of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element this `<col>` element belongs too. If there are none, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use the `td:nth-child(an+b)` CSS selector. Set `a` to zero and `b` to the position of the column in the table, e.g. `td:nth-child(2) { text-align: right; }` to right-align the second column.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/col"}]},{name:"tbody",description:{kind:"markdown",value:"The tbody element represents a block of rows that consist of a body of data for the parent table element, if the tbody element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes.\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tbody"}]},{name:"thead",description:{kind:"markdown",value:"The thead element represents the block of rows that consist of the column labels (headers) for the parent table element, if the thead element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/thead"}]},{name:"tfoot",description:{kind:"markdown",value:"The tfoot element represents the block of rows that consist of the column summaries (footers) for the parent table element, if the tfoot element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tfoot#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tfoot"}]},{name:"tr",description:{kind:"markdown",value:"The tr element represents a row of cells in a table."},attributes:[{name:"align",description:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") which specifies how the cell\'s context should be aligned horizontally within the cells in the row; this is shorthand for using `align` on every cell in the row individually. Possible values are:\n\n`left`\n\nAlign the content of each cell at its left edge.\n\n`center`\n\nCenter the contents of each cell between their left and right edges.\n\n`right`\n\nAlign the content of each cell at its right edge.\n\n`justify`\n\nWiden whitespaces within the text of each cell so that the text fills the full width of each cell (full justification).\n\n`char`\n\nAlign each cell in the row on a specific character (such that each row in the column that is configured this way will horizontally align its cells on that character). This uses the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-charoff) to establish the alignment character (typically "." or "," when aligning numerical data) and the number of characters that should follow the alignment character. This alignment type was never widely supported.\n\nIf no value is expressly set for `align`, the parent node\'s value is inherited.\n\nInstead of using the obsolete `align` attribute, you should instead use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to establish `left`, `center`, `right`, or `justify` alignment for the row\'s cells. To apply character-based alignment, set the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the alignment character (such as `"."` or `","`).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tr"}]},{name:"td",description:{kind:"markdown",value:"The td element represents a data cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"abbr",description:`This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself.

**Note:** Do not use this attribute as it is obsolete in the latest standard. Alternatively, you can put the abbreviated description inside the cell and place the long content in the **title** attribute.`},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<td>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/td"}]},{name:"th",description:{kind:"markdown",value:"The th element represents a header cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"scope",valueSet:"s"},{name:"sorted"},{name:"abbr",description:{kind:"markdown",value:"This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself."}},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-charoff) attributes.\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard: use the [`scope`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-scope) attribute instead."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<th>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th "The HTML <th> element defines a cell as header of a group of table cells. The exact nature of this group is defined by the scope and headers attributes.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/th"}]},{name:"form",description:{kind:"markdown",value:"The form element represents a collection of form-associated elements, some of which can represent editable values that can be submitted to a server for processing."},attributes:[{name:"accept-charset",description:{kind:"markdown",value:'A space- or comma-delimited list of character encodings that the server accepts. The browser uses them in the order in which they are listed. The default value, the reserved string `"UNKNOWN"`, indicates the same encoding as that of the document containing the form element.  \nIn previous versions of HTML, the different character encodings could be delimited by spaces or commas. In HTML5, only spaces are allowed as delimiters.'}},{name:"action",description:{kind:"markdown",value:'The URI of a program that processes the form information. This value can be overridden by a [`formaction`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formaction) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"autocomplete",valueSet:"o",description:{kind:"markdown",value:"Indicates whether input elements can by default have their values automatically completed by the browser. This setting can be overridden by an `autocomplete` attribute on an element belonging to the form. Possible values are:\n\n*   `off`: The user must explicitly enter a value into each field for every use, or the document provides its own auto-completion method; the browser does not automatically complete entries.\n*   `on`: The browser can automatically complete values based on values that the user has previously entered in the form.\n\nFor most modern browsers (including Firefox 38+, Google Chrome 34+, IE 11+) setting the autocomplete attribute will not prevent a browser's password manager from asking the user if they want to store login fields (username and password), if the user permits the storage the browser will autofill the login the next time the user visits the page. See [The autocomplete attribute and login fields](https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion#The_autocomplete_attribute_and_login_fields).\n**Note:** If you set `autocomplete` to `off` in a form because the document provides its own auto-completion, then you should also set `autocomplete` to `off` for each of the form's `input` elements that the document can auto-complete. For details, see the note regarding Google Chrome in the [Browser Compatibility chart](#compatChart)."}},{name:"enctype",valueSet:"et",description:{kind:"markdown",value:'When the value of the `method` attribute is `post`, enctype is the [MIME type](https://en.wikipedia.org/wiki/Mime_type) of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: The value used for an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the `type` attribute set to "file".\n*   `text/plain`: (HTML5)\n\nThis value can be overridden by a [`formenctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formenctype) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"method",valueSet:"m",description:{kind:"markdown",value:'The [HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP) method that the browser uses to submit the form. Possible values are:\n\n*   `post`: Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5) ; form data are included in the body of the form and sent to the server.\n*   `get`: Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a \'?\' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n*   `dialog`: Use when the form is inside a\xA0[`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog "The HTML <dialog> element represents a dialog box or other interactive component, such as an inspector or window.") element to close the dialog when submitted.\n\nThis value can be overridden by a [`formmethod`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formmethod) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"name",description:{kind:"markdown",value:"The name of the form. In HTML 4, its use is deprecated (`id` should be used instead). It must be unique among the forms in a document and not just an empty string in HTML 5."}},{name:"novalidate",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the form is not to be validated when submitted. If this attribute is not specified (and therefore the form is validated), this default setting can be overridden by a [`formnovalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formnovalidate) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element belonging to the form.'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'A name or keyword indicating where to display the response that is received after submitting the form. In HTML 4, this is the name/keyword for a frame. In HTML5, it is a name/keyword for a _browsing context_ (for example, tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the response into the same HTML 4 frame (or HTML5 browsing context) as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed HTML 4 window or HTML5 browsing context.\n*   `_parent`: Load the response into the HTML 4 frameset parent of the current frame, or HTML5 parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: HTML 4: Load the response into the full original window, and cancel all other frames. HTML5: Load the response into the top-level browsing context (i.e., the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n*   _iframename_: The response is displayed in a named [`<iframe>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe "The HTML Inline Frame element (<iframe>) represents a nested browsing context, embedding another HTML page into the current one.").\n\nHTML5: This value can be overridden by a [`formtarget`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formtarget) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"accept",description:'A comma-separated list of content types that the server accepts.\n\n**Usage note:** This attribute has been removed in HTML5 and should no longer be used. Instead, use the [`accept`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept) attribute of the specific [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'},{name:"autocapitalize",description:"This is a nonstandard attribute used by iOS Safari Mobile which controls whether and how the text value for textual form control descendants should be automatically capitalized as it is entered/edited by the user. If the `autocapitalize` attribute is specified on an individual form control descendant, it trumps the form-wide `autocapitalize` setting. The non-deprecated values are available in iOS 5 and later. The default value is `sentences`. Possible values are:\n\n*   `none`: Completely disables automatic capitalization\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/form"}]},{name:"label",description:{kind:"markdown",value:"The label element represents a caption in a user interface. The caption can be associated with a specific form control, known as the label element's labeled control, either using the for attribute, or by putting the form control inside the label element itself."},attributes:[{name:"form",description:{kind:"markdown",value:'The [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element with which the label is associated (its _form owner_). If specified, the value of the attribute is the `id` of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. This lets you place label elements anywhere within a document, not just as descendants of their form elements.'}},{name:"for",description:{kind:"markdown",value:"The [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of a [labelable](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Form_labelable) form-related element in the same document as the `<label>` element. The first element in the document with an `id` matching the value of the `for` attribute is the _labeled control_ for this label element, if it is a labelable element. If it is\xA0not labelable then the `for` attribute has no effect. If there are other elements which also match the `id` value, later in the document, they are not considered.\n\n**Note**: A `<label>` element can have both a `for` attribute and a contained control element, as long as the `for` attribute points to the contained control element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/label"}]},{name:"input",description:{kind:"markdown",value:"The input element represents a typed data field, usually with a form control to allow the user to edit the data."},void:!0,attributes:[{name:"accept"},{name:"alt"},{name:"autocomplete",valueSet:"inputautocomplete"},{name:"autofocus",valueSet:"v"},{name:"checked",valueSet:"v"},{name:"dirname"},{name:"disabled",valueSet:"v"},{name:"form"},{name:"formaction"},{name:"formenctype",valueSet:"et"},{name:"formmethod",valueSet:"fm"},{name:"formnovalidate",valueSet:"v"},{name:"formtarget"},{name:"height"},{name:"inputmode",valueSet:"im"},{name:"list"},{name:"max"},{name:"maxlength"},{name:"min"},{name:"minlength"},{name:"multiple",valueSet:"v"},{name:"name"},{name:"pattern"},{name:"placeholder"},{name:"readonly",valueSet:"v"},{name:"required",valueSet:"v"},{name:"size"},{name:"src"},{name:"step"},{name:"type",valueSet:"t"},{name:"value"},{name:"width"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/input"}]},{name:"button",description:{kind:"markdown",value:"The button element represents a button labeled by its contents."},attributes:[{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that the button should have input focus when the page loads, unless the user overrides it, for example by typing in a different control. Only one form-associated element in a document can have this attribute specified."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the button. If this attribute is not specified, the button inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element with the **disabled** attribute set, then the button is enabled.\n\nFirefox will, unlike other browsers, by default, [persist the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Use the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-autocomplete) attribute to control this feature.'}},{name:"form",description:{kind:"markdown",value:'The form element that the button is associated with (its _form owner_). The value of the attribute must be the **id** attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. If this attribute is not specified, the `<button>` element will be associated to an ancestor [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element, if one exists. This attribute enables you to associate `<button>` elements to [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements anywhere within a document, not just as descendants of [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements.'}},{name:"formaction",description:{kind:"markdown",value:"The URI of a program that processes the information submitted by the button. If specified, it overrides the [`action`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-action) attribute of the button's form owner."}},{name:"formenctype",valueSet:"et",description:{kind:"markdown",value:'If the button is a submit button, this attribute specifies the type of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: Use this value if you are using an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-type) attribute set to `file`.\n*   `text/plain`\n\nIf this attribute is specified, it overrides the [`enctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-enctype) attribute of the button\'s form owner.'}},{name:"formmethod",valueSet:"fm",description:{kind:"markdown",value:"If the button is a submit button, this attribute specifies the HTTP method that the browser uses to submit the form. Possible values are:\n\n*   `post`: The data from the form are included in the body of the form and sent to the server.\n*   `get`: The data from the form are appended to the **form** attribute URI, with a '?' as a separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n\nIf specified, this attribute overrides the [`method`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-method) attribute of the button's form owner."}},{name:"formnovalidate",valueSet:"v",description:{kind:"markdown",value:"If the button is a submit button, this Boolean attribute specifies that the form is not to be validated when it is submitted. If this attribute is specified, it overrides the [`novalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-novalidate) attribute of the button's form owner."}},{name:"formtarget",description:{kind:"markdown",value:"If the button is a submit button, this attribute is a name or keyword indicating where to display the response that is received after submitting the form. This is a name of, or keyword for, a _browsing context_ (for example, tab, window, or inline frame). If this attribute is specified, it overrides the [`target`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-target) attribute of the button's form owner. The following keywords have special meanings:\n\n*   `_self`: Load the response into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed browsing context.\n*   `_parent`: Load the response into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the response into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`."}},{name:"name",description:{kind:"markdown",value:"The name of the button, which is submitted with the form data."}},{name:"type",valueSet:"bt",description:{kind:"markdown",value:"The type of the button. Possible values are:\n\n*   `submit`: The button submits the form data to the server. This is the default if the attribute is not specified, or if the attribute is dynamically changed to an empty or invalid value.\n*   `reset`: The button resets all the controls to their initial values.\n*   `button`: The button has no default behavior. It can have client-side scripts associated with the element's events, which are triggered when the events occur."}},{name:"value",description:{kind:"markdown",value:"The initial value of the button. It defines the value associated with the button which is submitted with the form data. This value is passed to the server in params when the form is submitted."}},{name:"autocomplete",description:'The use of this attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") is nonstandard and Firefox-specific. By default, unlike other browsers, [Firefox persists the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Setting the value of this attribute to `off` (i.e. `autocomplete="off"`) disables this feature. See [bug\xA0654072](https://bugzilla.mozilla.org/show_bug.cgi?id=654072 "if disabled state is changed with javascript, the normal state doesn\'t return after refreshing the page").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/button"}]},{name:"select",description:{kind:"markdown",value:"The select element represents a control for selecting amongst a set of options."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") providing a hint for a [user agent\'s](https://developer.mozilla.org/en-US/docs/Glossary/user_agent "user agent\'s: A user agent is a computer program representing a person, for example, a browser in a Web context.") autocomplete feature. See [The HTML autocomplete attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) for a complete list of values and details on how to use autocomplete.'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form element in a document can have the `autofocus` attribute."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example `fieldset`; if there is no containing element with the `disabled` attribute set, then the control is enabled."}},{name:"form",description:{kind:"markdown",value:'This attribute lets you specify the form element to\xA0which\xA0the select element is associated\xA0(that is, its "form owner"). If this attribute is specified, its value must be the same as the `id` of a form element in the same document. This enables you to place select elements anywhere within a document, not just as descendants of their form elements.'}},{name:"multiple",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that multiple options can be selected in the list. If it is not specified, then only one option can be selected at a time. When `multiple` is specified, most browsers will show a scrolling list box instead of a single line dropdown."}},{name:"name",description:{kind:"markdown",value:"This attribute is used to specify the name of the control."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute indicating that an option with a non-empty string value must be selected."}},{name:"size",description:{kind:"markdown",value:"If the control is presented as a scrolling list box (e.g. when `multiple` is specified), this attribute represents the number of rows in the list that should be visible at one time. Browsers are not required to present a select element as a scrolled list box. The default value is 0.\n\n**Note:** According to the HTML5 specification, the default value for size should be 1; however, in practice, this has been found to break some web sites, and no other browser currently does that, so Mozilla has opted to continue to return 0 for the time being with Firefox."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/select"}]},{name:"datalist",description:{kind:"markdown",value:"The datalist element represents a set of option elements that represent predefined options for other controls. In the rendering, the datalist element represents nothing and it, along with its children, should be hidden."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/datalist"}]},{name:"optgroup",description:{kind:"markdown",value:"The optgroup element represents a group of option elements with a common label."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, none of the items in this option group is selectable. Often browsers grey out such control and it won't receive any browsing events, like mouse clicks or focus-related ones."}},{name:"label",description:{kind:"markdown",value:"The name of the group of options, which the browser can use when labeling the options in the user interface. This attribute is mandatory if this element is used."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/optgroup"}]},{name:"option",description:{kind:"markdown",value:"The option element represents an option in a select element or as part of a list of suggestions in a datalist element."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'If this Boolean attribute is set, this option is not checkable. Often browsers grey out such control and it won\'t receive any browsing event, like mouse clicks or focus-related ones. If this attribute is not set, the element can still be disabled if one of its ancestors is a disabled [`<optgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup "The HTML <optgroup> element creates a grouping of options within a <select> element.") element.'}},{name:"label",description:{kind:"markdown",value:"This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content."}},{name:"selected",valueSet:"v",description:{kind:"markdown",value:'If present, this Boolean attribute indicates that the option is initially selected. If the `<option>` element is the descendant of a [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element whose [`multiple`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#attr-multiple) attribute is not set, only one single `<option>` of this [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element may have the `selected` attribute.'}},{name:"value",description:{kind:"markdown",value:"The content of this attribute represents the value to be submitted with the form, should this option be selected.\xA0If this attribute is omitted, the value is taken from the text content of the option element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/option"}]},{name:"textarea",description:{kind:"markdown",value:"The textarea element represents a multiline plain text edit control for the element's raw value. The contents of the control represent the control's default value."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'This attribute indicates whether the value of the control can be automatically completed by the browser. Possible values are:\n\n*   `off`: The user must explicitly enter a value into this field for every use, or the document provides its own auto-completion method; the browser does not automatically complete the entry.\n*   `on`: The browser can automatically complete the value based on values that the user has entered during previous uses.\n\nIf the `autocomplete` attribute is not specified on a `<textarea>` element, then the browser uses the `autocomplete` attribute value of the `<textarea>` element\'s form owner. The form owner is either the [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element that this `<textarea>` element is a descendant of or the form element whose `id` is specified by the `form` attribute of the input element. For more information, see the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-autocomplete) attribute in [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.").'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form-associated element in a document can have this attribute specified."}},{name:"cols",description:{kind:"markdown",value:"The visible width of the text control, in average character widths. If it is specified, it must be a positive integer. If it is not specified, the default value is `20`."}},{name:"dirname"},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element when the `disabled` attribute is set, the control is enabled.'}},{name:"form",description:{kind:"markdown",value:'The form element that the `<textarea>` element is associated with (its "form owner"). The value of the attribute must be the `id` of a form element in the same document. If this attribute is not specified, the `<textarea>` element must be a descendant of a form element. This attribute enables you to place `<textarea>` elements anywhere within a document, not just as descendants of form elements.'}},{name:"inputmode",valueSet:"im"},{name:"maxlength",description:{kind:"markdown",value:"The maximum number of characters (unicode code points) that the user can enter. If this value isn't specified, the user can enter an unlimited number of characters."}},{name:"minlength",description:{kind:"markdown",value:"The minimum number of characters (unicode code points) required that the user should enter."}},{name:"name",description:{kind:"markdown",value:"The name of the control."}},{name:"placeholder",description:{kind:"markdown",value:'A hint to the user of what can be entered in the control. Carriage returns or line-feeds within the placeholder text must be treated as line breaks when rendering the hint.\n\n**Note:** Placeholders should only be used to show an example of the type of data that should be entered into a form; they are _not_ a substitute for a proper [`<label>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label "The HTML <label> element represents a caption for an item in a user interface.") element tied to the input. See [Labels and placeholders](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Labels_and_placeholders "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") in [<input>: The Input (Form Input) element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") for a full explanation.'}},{name:"readonly",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot modify the value of the control. Unlike the `disabled` attribute, the `readonly` attribute does not prevent the user from clicking or selecting in the control. The value of a read-only control is still submitted with the form."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"This attribute specifies that the user must fill in a value before submitting a form."}},{name:"rows",description:{kind:"markdown",value:"The number of visible text lines for the control."}},{name:"wrap",valueSet:"w",description:{kind:"markdown",value:"Indicates how the control wraps text. Possible values are:\n\n*   `hard`: The browser automatically inserts line breaks (CR+LF) so that each line has no more than the width of the control; the `cols` attribute must also be specified for this to take effect.\n*   `soft`: The browser ensures that all line breaks in the value consist of a CR+LF pair, but does not insert any additional line breaks.\n*   `off` : Like `soft` but changes appearance to `white-space: pre` so line segments exceeding `cols` are not wrapped and the `<textarea>` becomes horizontally scrollable.\n\nIf this attribute is not specified, `soft` is its default value."}},{name:"autocapitalize",description:"This is a non-standard attribute supported by WebKit on iOS (therefore nearly all browsers running on iOS, including Safari, Firefox, and Chrome), which controls whether and how the text value should be automatically capitalized as it is entered/edited by the user. The non-deprecated values are available in iOS 5 and later. Possible values are:\n\n*   `none`: Completely disables automatic capitalization.\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."},{name:"spellcheck",description:"Specifies whether the `<textarea>` is subject to spell checking by the underlying browser/OS. the value can be:\n\n*   `true`: Indicates that the element needs to have its spelling and grammar checked.\n*   `default` : Indicates that the element is to act according to a default behavior, possibly based on the parent element's own `spellcheck` value.\n*   `false` : Indicates that the element should not be spell checked."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/textarea"}]},{name:"output",description:{kind:"markdown",value:"The output element represents the result of a calculation performed by the application, or the result of a user action."},attributes:[{name:"for",description:{kind:"markdown",value:"A space-separated list of other elements\u2019 [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id)s, indicating that those elements contributed input values to (or otherwise affected) the calculation."}},{name:"form",description:{kind:"markdown",value:'The [form element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form) that this element is associated with (its "form owner"). The value of the attribute must be an `id` of a form element in the same document. If this attribute is not specified, the output element must be a descendant of a form element. This attribute enables you to place output elements anywhere within a document, not just as descendants of their form elements.'}},{name:"name",description:{kind:"markdown",value:'The name of the element, exposed in the [`HTMLFormElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement "The HTMLFormElement interface represents a <form> element in the DOM; it allows access to and in some cases modification of aspects of the form, as well as access to its component elements.") API.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/output"}]},{name:"progress",description:{kind:"markdown",value:"The progress element represents the completion progress of a task. The progress is either indeterminate, indicating that progress is being made but that it is not clear how much more work remains to be done before the task is complete (e.g. because the task is waiting for a remote host to respond), or the progress is a number in the range zero to a maximum, giving the fraction of work that has so far been completed."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies how much of the task that has been completed. It must be a valid floating point number between 0 and `max`, or between 0 and 1 if `max` is omitted. If there is no `value` attribute, the progress bar is indeterminate; this indicates that an activity is ongoing with no indication of how long it is expected to take."}},{name:"max",description:{kind:"markdown",value:"This attribute describes how much work the task indicated by the `progress` element requires. The `max` attribute, if present, must have a value greater than zero and be a valid floating point number. The default value is 1."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/progress"}]},{name:"meter",description:{kind:"markdown",value:"The meter element represents a scalar measurement within a known range, or a fractional value; for example disk usage, the relevance of a query result, or the fraction of a voting population to have selected a particular candidate."},attributes:[{name:"value",description:{kind:"markdown",value:"The current numeric value. This must be between the minimum and maximum values (`min` attribute and `max` attribute) if they are specified. If unspecified or malformed, the value is 0. If specified, but not within the range given by the `min` attribute and `max` attribute, the value is equal to the nearest end of the range.\n\n**Usage note:** Unless the `value` attribute is between `0` and `1` (inclusive), the `min` and `max` attributes should define the range so that the `value` attribute's value is within it."}},{name:"min",description:{kind:"markdown",value:"The lower numeric bound of the measured range. This must be less than the maximum value (`max` attribute), if specified. If unspecified, the minimum value is 0."}},{name:"max",description:{kind:"markdown",value:"The upper numeric bound of the measured range. This must be greater than the minimum value (`min` attribute), if specified. If unspecified, the maximum value is 1."}},{name:"low",description:{kind:"markdown",value:"The upper numeric bound of the low end of the measured range. This must be greater than the minimum value (`min` attribute), and it also must be less than the high value and maximum value (`high` attribute and `max` attribute, respectively), if any are specified. If unspecified, or if less than the minimum value, the `low` value is equal to the minimum value."}},{name:"high",description:{kind:"markdown",value:"The lower numeric bound of the high end of the measured range. This must be less than the maximum value (`max` attribute), and it also must be greater than the low value and minimum value (`low` attribute and **min** attribute, respectively), if any are specified. If unspecified, or if greater than the maximum value, the `high` value is equal to the maximum value."}},{name:"optimum",description:{kind:"markdown",value:"This attribute indicates the optimal numeric value. It must be within the range (as defined by the `min` attribute and `max` attribute). When used with the `low` attribute and `high` attribute, it gives an indication where along the range is considered preferable. For example, if it is between the `min` attribute and the `low` attribute, then the lower range is considered preferred."}},{name:"form",description:"This attribute associates the element with a `form` element that has ownership of the `meter` element. For example, a `meter` might be displaying a range corresponding to an `input` element of `type` _number_. This attribute is only used if the `meter` element is being used as a form-associated element; even then, it may be omitted if the element appears as a descendant of a `form` element."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meter"}]},{name:"fieldset",description:{kind:"markdown",value:"The fieldset element represents a set of form controls optionally grouped under a common name."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, all form controls that are descendants of the `<fieldset>`, are disabled, meaning they are not editable and won't be submitted along with the `<form>`. They won't receive any browsing events, like mouse clicks or focus-related events. By default browsers display such controls grayed out. Note that form elements inside the [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend \"The HTML <legend> element represents a caption for the content of its parent <fieldset>.\") element won't be disabled."}},{name:"form",description:{kind:"markdown",value:'This attribute takes the value of the `id` attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element you want the `<fieldset>` to be part of, even if it is not inside the form.'}},{name:"name",description:{kind:"markdown",value:'The name associated with the group.\n\n**Note**: The caption for the fieldset is given by the first [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend "The HTML <legend> element represents a caption for the content of its parent <fieldset>.") element nested inside it.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/fieldset"}]},{name:"legend",description:{kind:"markdown",value:"The legend element represents a caption for the rest of the contents of the legend element's parent fieldset element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/legend"}]},{name:"details",description:{kind:"markdown",value:"The details element represents a disclosure widget from which the user can obtain additional information or controls."},attributes:[{name:"open",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates whether or not the details \u2014 that is, the contents of the `<details>` element \u2014 are currently visible. The default, `false`, means the details are not visible."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/details"}]},{name:"summary",description:{kind:"markdown",value:"The summary element represents a summary, caption, or legend for the rest of the contents of the summary element's parent details element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/summary"}]},{name:"dialog",description:{kind:"markdown",value:"The dialog element represents a part of an application that a user interacts with to perform a task, for example a dialog box, inspector, or window."},attributes:[{name:"open",description:"Indicates that the dialog is active and available for interaction. When the `open` attribute is not set, the dialog shouldn't be shown to the user."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dialog"}]},{name:"script",description:{kind:"markdown",value:"The script element allows authors to include dynamic script and data blocks in their documents. The element does not represent content for the user."},attributes:[{name:"src",description:{kind:"markdown",value:"This attribute specifies the URI of an external script; this can be used as an alternative to embedding a script directly within a document.\n\nIf a `script` element has a `src` attribute specified, it should not have a script embedded inside its tags."}},{name:"type",description:{kind:"markdown",value:'This attribute indicates the type of script represented. The value of this attribute will be in one of the following categories:\n\n*   **Omitted or a JavaScript MIME type:** For HTML5-compliant browsers this indicates the script is JavaScript. HTML5 specification urges authors to omit the attribute rather than provide a redundant MIME type. In earlier browsers, this identified the scripting language of the embedded or imported (via the `src` attribute) code. JavaScript MIME types are [listed in the specification](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types#JavaScript_types).\n*   **`module`:** For HTML5-compliant browsers the code is treated as a JavaScript module. The processing of the script contents is not affected by the `charset` and `defer` attributes. For information on using `module`, see [ES6 in Depth: Modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/). Code may behave differently when the `module` keyword is used.\n*   **Any other value:** The embedded content is treated as a data block which won\'t be processed by the browser. Developers must use a valid MIME type that is not a JavaScript MIME type to denote data blocks. The `src` attribute will be ignored.\n\n**Note:** in Firefox you could specify the version of JavaScript contained in a `<script>` element by including a non-standard `version` parameter inside the `type` attribute \u2014 for example `type="text/javascript;version=1.8"`. This has been removed in Firefox 59 (see [bug\xA01428745](https://bugzilla.mozilla.org/show_bug.cgi?id=1428745 "FIXED: Remove support for version parameter from script loader")).'}},{name:"charset"},{name:"async",valueSet:"v",description:{kind:"markdown",value:`This is a Boolean attribute indicating that the browser should, if possible, load the script asynchronously.

This attribute must not be used if the \`src\` attribute is absent (i.e. for inline scripts). If it is included in this case it will have no effect.

Browsers usually assume the worst case scenario and load scripts synchronously, (i.e. \`async="false"\`) during HTML parsing.

Dynamically inserted scripts (using [\`document.createElement()\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement "In an HTML document, the document.createElement() method creates the HTML element specified by tagName, or an HTMLUnknownElement if tagName isn't recognized.")) load asynchronously by default, so to turn on synchronous loading (i.e. scripts load in the order they were inserted) set \`async="false"\`.

See [Browser compatibility](#Browser_compatibility) for notes on browser support. See also [Async scripts for asm.js](https://developer.mozilla.org/en-US/docs/Games/Techniques/Async_scripts).`}},{name:"defer",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute is set to indicate to a browser that the script is meant to be executed after the document has been parsed, but before firing [`DOMContentLoaded`](https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded "/en-US/docs/Web/Events/DOMContentLoaded").\n\nScripts with the `defer` attribute will prevent the `DOMContentLoaded` event from firing until the script has loaded and finished evaluating.\n\nThis attribute must not be used if the `src` attribute is absent (i.e. for inline scripts), in this case it would have no effect.\n\nTo achieve a similar effect for dynamically inserted scripts use `async="false"` instead. Scripts with the `defer` attribute will execute in the order in which they appear in the document.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'Normal `script` elements pass minimal information to the [`window.onerror`](https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror "The onerror property of the GlobalEventHandlers mixin is an EventHandler that processes error events.") for scripts which do not pass the standard [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") checks. To allow error logging for sites which use a separate domain for static media, use this attribute. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for a more descriptive explanation of its valid arguments.'}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) to list the allowed inline scripts in a [script-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource's policy is otherwise trivial."}},{name:"integrity",description:"This attribute contains inline metadata that a user agent can use to verify that a fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"nomodule",description:"This Boolean attribute is set to indicate that the script should not be executed in browsers that support [ES2015 modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/) \u2014 in effect, this can be used to serve fallback scripts to older browsers that do not support modular JavaScript code."},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the script, or resources fetched by the script:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (e.g. HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, but only send the origin when the protocol security level stays the same (e.g.HTTPS\u2192HTTPS), and send no header to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.\n\n**Note**: An empty string value (`""`) is both the default value, and a fallback value if `referrerpolicy` is not supported. If `referrerpolicy` is not explicitly specified on the `<script>` element, it will adopt a higher-level referrer policy, i.e. one set on the whole document or domain. If a higher-level policy is not available,\xA0the empty string is treated as being equivalent to `no-referrer-when-downgrade`.'},{name:"text",description:"Like the `textContent` attribute, this attribute sets the text content of the element. Unlike the `textContent` attribute, however, this attribute is evaluated as executable code after the node is inserted into the DOM."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/script"}]},{name:"noscript",description:{kind:"markdown",value:"The noscript element represents nothing if scripting is enabled, and represents its children if scripting is disabled. It is used to present different markup to user agents that support scripting and those that don't support scripting, by affecting how the document is parsed."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/noscript"}]},{name:"template",description:{kind:"markdown",value:"The template element is used to declare fragments of HTML that can be cloned and inserted in the document by script."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/template"}]},{name:"canvas",description:{kind:"markdown",value:"The canvas element provides scripts with a resolution-dependent bitmap canvas, which can be used for rendering graphs, game graphics, art, or other visual images on the fly."},attributes:[{name:"width",description:{kind:"markdown",value:"The width of the coordinate space in CSS pixels. Defaults to 300."}},{name:"height",description:{kind:"markdown",value:"The height of the coordinate space in CSS pixels. Defaults to 150."}},{name:"moz-opaque",description:"Lets the canvas know whether or not translucency will be a factor. If the canvas knows there's no translucency, painting performance can be optimized. This is only supported by Mozilla-based browsers; use the standardized [`canvas.getContext('2d', { alpha: false })`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext \"The HTMLCanvasElement.getContext() method returns a drawing context on the canvas, or null if the context identifier is not supported.\") instead."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/canvas"}]},{name:"slot",description:{kind:"markdown",value:"The slot element is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together."},attributes:[{name:"name",description:{kind:"markdown",value:"The slot's name.\nA **named slot** is a `<slot>` element with a `name` attribute."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/slot"}]},{name:"data",description:{kind:"markdown",value:"The data element links a given piece of content with a machine-readable translation."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies the machine-readable translation of the content of the element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/data"}]},{name:"hgroup",description:{kind:"markdown",value:"The hgroup element represents a heading and related content. It groups a single h1\u2013h6 element with one or more p."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hgroup"}]},{name:"menu",description:{kind:"markdown",value:"The menu element represents an unordered list of interactive items."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/menu"}]}],globalAttributes:[{name:"accesskey",description:{kind:"markdown",value:"Provides a hint for generating a keyboard shortcut for the current element. This attribute consists of a space-separated list of characters. The browser should use the first one that exists on the computer keyboard layout."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/accesskey"}]},{name:"autocapitalize",description:{kind:"markdown",value:"Controls whether and how text input is automatically capitalized as it is entered/edited by the user. It can have the following values:\n\n*   `off` or `none`, no autocapitalization is applied (all letters default to lowercase)\n*   `on` or `sentences`, the first letter of each sentence defaults to a capital letter; all other letters default to lowercase\n*   `words`, the first letter of each word defaults to a capital letter; all other letters default to lowercase\n*   `characters`, all letters should default to uppercase"},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/autocapitalize"}]},{name:"class",description:{kind:"markdown",value:'A space-separated list of the classes of the element. Classes allows CSS and JavaScript to select and access specific elements via the [class selectors](https://developer.mozilla.org/docs/Web/CSS/Class_selectors) or functions like the method [`Document.getElementsByClassName()`](https://developer.mozilla.org/docs/Web/API/Document/getElementsByClassName "returns an array-like object of all child elements which have all of the given class names.").'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/class"}]},{name:"contenteditable",description:{kind:"markdown",value:"An enumerated attribute indicating if the element should be editable by the user. If so, the browser modifies its widget to allow editing. The attribute must take one of the following values:\n\n*   `true` or the _empty string_, which indicates that the element must be editable;\n*   `false`, which indicates that the element must not be editable."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/contenteditable"}]},{name:"contextmenu",description:{kind:"markdown",value:'The `[**id**](#attr-id)` of a [`<menu>`](https://developer.mozilla.org/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.") to use as the contextual menu for this element.'}},{name:"dir",description:{kind:"markdown",value:"An enumerated attribute indicating the directionality of the element's text. It can have the following values:\n\n*   `ltr`, which means _left to right_ and is to be used for languages that are written from the left to the right (like English);\n*   `rtl`, which means _right to left_ and is to be used for languages that are written from the right to the left (like Arabic);\n*   `auto`, which lets the user agent decide. It uses a basic algorithm as it parses the characters inside the element until it finds a character with a strong directionality, then it applies that directionality to the whole element."},valueSet:"d",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/dir"}]},{name:"draggable",description:{kind:"markdown",value:"An enumerated attribute indicating whether the element can be dragged, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `true`, which indicates that the element may be dragged\n*   `false`, which indicates that the element may not be dragged."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/draggable"}]},{name:"dropzone",description:{kind:"markdown",value:"An enumerated attribute indicating what types of content can be dropped on an element, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `copy`, which indicates that dropping will create a copy of the element that was dragged\n*   `move`, which indicates that the element that was dragged will be moved to this new location.\n*   `link`, will create a link to the dragged data."}},{name:"exportparts",description:{kind:"markdown",value:"Used to transitively export shadow parts from a nested shadow tree into a containing light tree."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/exportparts"}]},{name:"hidden",description:{kind:"markdown",value:"A Boolean attribute indicates that the element is not yet, or is no longer, _relevant_. For example, it can be used to hide elements of the page that can't be used until the login process has been completed. The browser won't render such elements. This attribute must not be used to hide content that could legitimately be shown."},valueSet:"v",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/hidden"}]},{name:"id",description:{kind:"markdown",value:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/id"}]},{name:"inputmode",description:{kind:"markdown",value:'Provides a hint to browsers as to the type of virtual keyboard configuration to use when editing this element or its contents. Used primarily on [`<input>`](https://developer.mozilla.org/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") elements, but is usable on any element while in `[contenteditable](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-contenteditable)` mode.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/inputmode"}]},{name:"is",description:{kind:"markdown",value:"Allows you to specify that a standard HTML element should behave like a registered custom built-in element (see [Using custom elements](https://developer.mozilla.org/docs/Web/Web_Components/Using_custom_elements) for more details)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/is"}]},{name:"itemid",description:{kind:"markdown",value:"The unique, global identifier of an item."}},{name:"itemprop",description:{kind:"markdown",value:"Used to add properties to an item. Every HTML element may have an `itemprop` attribute specified, where an `itemprop` consists of a name and value pair."}},{name:"itemref",description:{kind:"markdown",value:"Properties that are not descendants of an element with the `itemscope` attribute can be associated with the item using an `itemref`. It provides a list of element ids (not `itemid`s) with additional properties elsewhere in the document."}},{name:"itemscope",description:{kind:"markdown",value:"`itemscope` (usually) works along with `[itemtype](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemtype)` to specify that the HTML contained in a block is about a particular item. `itemscope` creates the Item and defines the scope of the `itemtype` associated with it. `itemtype` is a valid URL of a vocabulary (such as [schema.org](https://schema.org/)) that describes the item and its properties context."},valueSet:"v"},{name:"itemtype",description:{kind:"markdown",value:"Specifies the URL of the vocabulary that will be used to define `itemprop`s (item properties) in the data structure. `[itemscope](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemscope)` is used to set the scope of where in the data structure the vocabulary set by `itemtype` will be active."}},{name:"lang",description:{kind:"markdown",value:"Helps define the language of an element: the language that non-editable elements are in, or the language that editable elements should be written in by the user. The attribute contains one \u201Clanguage tag\u201D (made of hyphen-separated \u201Clanguage subtags\u201D) in the format defined in [_Tags for Identifying Languages (BCP47)_](https://www.ietf.org/rfc/bcp/bcp47.txt). [**xml:lang**](#attr-xml:lang) has priority over it."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/lang"}]},{name:"part",description:{kind:"markdown",value:'A space-separated list of the part names of the element. Part names allows CSS to select and style specific elements in a shadow tree via the [`::part`](https://developer.mozilla.org/docs/Web/CSS/::part "The ::part CSS pseudo-element represents any element within a shadow tree that has a matching part attribute.") pseudo-element.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/part"}]},{name:"role",valueSet:"roles"},{name:"slot",description:{kind:"markdown",value:"Assigns a slot in a [shadow DOM](https://developer.mozilla.org/docs/Web/Web_Components/Shadow_DOM) shadow tree to an element: An element with a `slot` attribute is assigned to the slot created by the [`<slot>`](https://developer.mozilla.org/docs/Web/HTML/Element/slot \"The HTML <slot> element\u2014part of the Web Components technology suite\u2014is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together.\") element whose `[name](https://developer.mozilla.org/docs/Web/HTML/Element/slot#attr-name)` attribute's value matches that `slot` attribute's value."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/slot"}]},{name:"spellcheck",description:{kind:"markdown",value:"An enumerated attribute defines whether the element may be checked for spelling errors. It may have the following values:\n\n*   `true`, which indicates that the element should be, if possible, checked for spelling errors;\n*   `false`, which indicates that the element should not be checked for spelling errors."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/spellcheck"}]},{name:"style",description:{kind:"markdown",value:'Contains [CSS](https://developer.mozilla.org/docs/Web/CSS) styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files. This attribute and the [`<style>`](https://developer.mozilla.org/docs/Web/HTML/Element/style "The HTML <style> element contains style information for a document, or part of a document.") element have mainly the purpose of allowing for quick styling, for example for testing purposes.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/style"}]},{name:"tabindex",description:{kind:"markdown",value:`An integer attribute indicating if the element can take input focus (is _focusable_), if it should participate to sequential keyboard navigation, and if so, at what position. It can take several values:

*   a _negative value_ means that the element should be focusable, but should not be reachable via sequential keyboard navigation;
*   \`0\` means that the element should be focusable and reachable via sequential keyboard navigation, but its relative order is defined by the platform convention;
*   a _positive value_ means that the element should be focusable and reachable via sequential keyboard navigation; the order in which the elements are focused is the increasing value of the [**tabindex**](#attr-tabindex). If several elements share the same tabindex, their relative order follows their relative positions in the document.`},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/tabindex"}]},{name:"title",description:{kind:"markdown",value:"Contains a text representing advisory information related to the element it belongs to. Such information can typically, but not necessarily, be presented to the user as a tooltip."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/title"}]},{name:"translate",description:{kind:"markdown",value:"An enumerated attribute that is used to specify whether an element's attribute values and the values of its [`Text`](https://developer.mozilla.org/docs/Web/API/Text \"The Text interface represents the textual content of Element or Attr. If an element has no markup within its content, it has a single child implementing Text that contains the element's text. However, if the element contains markup, it is parsed into information items and Text nodes that form its children.\") node children are to be translated when the page is localized, or whether to leave them unchanged. It can have the following values:\n\n*   empty string and `yes`, which indicates that the element will be translated.\n*   `no`, which indicates that the element will not be translated."},valueSet:"y",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/translate"}]},{name:"onabort",description:{kind:"markdown",value:"The loading of a resource has been aborted."}},{name:"onblur",description:{kind:"markdown",value:"An element has lost focus (does not bubble)."}},{name:"oncanplay",description:{kind:"markdown",value:"The user agent can play the media, but estimates that not enough data has been loaded to play the media up to its end without having to stop for further buffering of content."}},{name:"oncanplaythrough",description:{kind:"markdown",value:"The user agent can play the media up to its end without having to stop for further buffering of content."}},{name:"onchange",description:{kind:"markdown",value:"The change event is fired for <input>, <select>, and <textarea> elements when a change to the element's value is committed by the user."}},{name:"onclick",description:{kind:"markdown",value:"A pointing device button has been pressed and released on an element."}},{name:"oncontextmenu",description:{kind:"markdown",value:"The right button of the mouse is clicked (before the context menu is displayed)."}},{name:"ondblclick",description:{kind:"markdown",value:"A pointing device button is clicked twice on an element."}},{name:"ondrag",description:{kind:"markdown",value:"An element or text selection is being dragged (every 350ms)."}},{name:"ondragend",description:{kind:"markdown",value:"A drag operation is being ended (by releasing a mouse button or hitting the escape key)."}},{name:"ondragenter",description:{kind:"markdown",value:"A dragged element or text selection enters a valid drop target."}},{name:"ondragleave",description:{kind:"markdown",value:"A dragged element or text selection leaves a valid drop target."}},{name:"ondragover",description:{kind:"markdown",value:"An element or text selection is being dragged over a valid drop target (every 350ms)."}},{name:"ondragstart",description:{kind:"markdown",value:"The user starts dragging an element or text selection."}},{name:"ondrop",description:{kind:"markdown",value:"An element is dropped on a valid drop target."}},{name:"ondurationchange",description:{kind:"markdown",value:"The duration attribute has been updated."}},{name:"onemptied",description:{kind:"markdown",value:"The media has become empty; for example, this event is sent if the media has already been loaded (or partially loaded), and the load() method is called to reload it."}},{name:"onended",description:{kind:"markdown",value:"Playback has stopped because the end of the media was reached."}},{name:"onerror",description:{kind:"markdown",value:"A resource failed to load."}},{name:"onfocus",description:{kind:"markdown",value:"An element has received focus (does not bubble)."}},{name:"onformchange"},{name:"onforminput"},{name:"oninput",description:{kind:"markdown",value:"The value of an element changes or the content of an element with the attribute contenteditable is modified."}},{name:"oninvalid",description:{kind:"markdown",value:"A submittable element has been checked and doesn't satisfy its constraints."}},{name:"onkeydown",description:{kind:"markdown",value:"A key is pressed down."}},{name:"onkeypress",description:{kind:"markdown",value:"A key is pressed down and that key normally produces a character value (use input instead)."}},{name:"onkeyup",description:{kind:"markdown",value:"A key is released."}},{name:"onload",description:{kind:"markdown",value:"A resource and its dependent resources have finished loading."}},{name:"onloadeddata",description:{kind:"markdown",value:"The first frame of the media has finished loading."}},{name:"onloadedmetadata",description:{kind:"markdown",value:"The metadata has been loaded."}},{name:"onloadstart",description:{kind:"markdown",value:"Progress has begun."}},{name:"onmousedown",description:{kind:"markdown",value:"A pointing device button (usually a mouse) is pressed on an element."}},{name:"onmousemove",description:{kind:"markdown",value:"A pointing device is moved over an element."}},{name:"onmouseout",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached or off one of its children."}},{name:"onmouseover",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached or onto one of its children."}},{name:"onmouseup",description:{kind:"markdown",value:"A pointing device button is released over an element."}},{name:"onmousewheel"},{name:"onmouseenter",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached."}},{name:"onmouseleave",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached."}},{name:"onpause",description:{kind:"markdown",value:"Playback has been paused."}},{name:"onplay",description:{kind:"markdown",value:"Playback has begun."}},{name:"onplaying",description:{kind:"markdown",value:"Playback is ready to start after having been paused or delayed due to lack of data."}},{name:"onprogress",description:{kind:"markdown",value:"In progress."}},{name:"onratechange",description:{kind:"markdown",value:"The playback rate has changed."}},{name:"onreset",description:{kind:"markdown",value:"A form is reset."}},{name:"onresize",description:{kind:"markdown",value:"The document view has been resized."}},{name:"onreadystatechange",description:{kind:"markdown",value:"The readyState attribute of a document has changed."}},{name:"onscroll",description:{kind:"markdown",value:"The document view or an element has been scrolled."}},{name:"onseeked",description:{kind:"markdown",value:"A seek operation completed."}},{name:"onseeking",description:{kind:"markdown",value:"A seek operation began."}},{name:"onselect",description:{kind:"markdown",value:"Some text is being selected."}},{name:"onshow",description:{kind:"markdown",value:"A contextmenu event was fired on/bubbled to an element that has a contextmenu attribute"}},{name:"onstalled",description:{kind:"markdown",value:"The user agent is trying to fetch media data, but data is unexpectedly not forthcoming."}},{name:"onsubmit",description:{kind:"markdown",value:"A form is submitted."}},{name:"onsuspend",description:{kind:"markdown",value:"Media data loading has been suspended."}},{name:"ontimeupdate",description:{kind:"markdown",value:"The time indicated by the currentTime attribute has been updated."}},{name:"onvolumechange",description:{kind:"markdown",value:"The volume has changed."}},{name:"onwaiting",description:{kind:"markdown",value:"Playback has stopped because of a temporary lack of data."}},{name:"onpointercancel",description:{kind:"markdown",value:"The pointer is unlikely to produce any more events."}},{name:"onpointerdown",description:{kind:"markdown",value:"The pointer enters the active buttons state."}},{name:"onpointerenter",description:{kind:"markdown",value:"Pointing device is moved inside the hit-testing boundary."}},{name:"onpointerleave",description:{kind:"markdown",value:"Pointing device is moved out of the hit-testing boundary."}},{name:"onpointerlockchange",description:{kind:"markdown",value:"The pointer was locked or released."}},{name:"onpointerlockerror",description:{kind:"markdown",value:"It was impossible to lock the pointer for technical reasons or because the permission was denied."}},{name:"onpointermove",description:{kind:"markdown",value:"The pointer changed coordinates."}},{name:"onpointerout",description:{kind:"markdown",value:"The pointing device moved out of hit-testing boundary or leaves detectable hover range."}},{name:"onpointerover",description:{kind:"markdown",value:"The pointing device is moved into the hit-testing boundary."}},{name:"onpointerup",description:{kind:"markdown",value:"The pointer leaves the active buttons state."}},{name:"aria-activedescendant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-activedescendant"}],description:{kind:"markdown",value:"Identifies the currently active element when DOM focus is on a [`composite`](https://www.w3.org/TR/wai-aria-1.1/#composite) widget, [`textbox`](https://www.w3.org/TR/wai-aria-1.1/#textbox), [`group`](https://www.w3.org/TR/wai-aria-1.1/#group), or [`application`](https://www.w3.org/TR/wai-aria-1.1/#application)."}},{name:"aria-atomic",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-atomic"}],description:{kind:"markdown",value:"Indicates whether [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology) will present all, or only parts of, the changed region based on the change notifications defined by the [`aria-relevant`](https://www.w3.org/TR/wai-aria-1.1/#aria-relevant) attribute."}},{name:"aria-autocomplete",valueSet:"autocomplete",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-autocomplete"}],description:{kind:"markdown",value:"Indicates whether inputting text could trigger display of one or more predictions of the user's intended value for an input and specifies how predictions would be presented if they are made."}},{name:"aria-busy",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-busy"}],description:{kind:"markdown",value:"Indicates an element is being modified and that assistive technologies _MAY_ want to wait until the modifications are complete before exposing them to the user."}},{name:"aria-checked",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-checked"}],description:{kind:"markdown",value:'Indicates the current "checked" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of checkboxes, radio buttons, and other [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-colcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colcount"}],description:{kind:"markdown",value:"Defines the total number of columns in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex)."}},{name:"aria-colindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) column index or position with respect to the total number of columns within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-colcount) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-colspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colspan"}],description:{kind:"markdown",value:"Defines the number of columns spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-controls",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-controls"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) whose contents or presence are controlled by the current element. See related [`aria-owns`](https://www.w3.org/TR/wai-aria-1.1/#aria-owns)."}},{name:"aria-current",valueSet:"current",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-current"}],description:{kind:"markdown",value:"Indicates the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that represents the current item within a container or set of related elements."}},{name:"aria-describedby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-describedby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that describes the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-disabled",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-disabled"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is [perceivable](https://www.w3.org/TR/wai-aria-1.1/#dfn-perceivable) but disabled, so it is not editable or otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-hidden`](https://www.w3.org/TR/wai-aria-1.1/#aria-hidden) and [`aria-readonly`](https://www.w3.org/TR/wai-aria-1.1/#aria-readonly)."}},{name:"aria-dropeffect",valueSet:"dropeffect",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-dropeffect"}],description:{kind:"markdown",value:"\\[Deprecated in ARIA 1.1\\] Indicates what functions can be performed when a dragged object is released on the drop target."}},{name:"aria-errormessage",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides an error message for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-invalid`](https://www.w3.org/TR/wai-aria-1.1/#aria-invalid) and [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-expanded",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-expanded"}],description:{kind:"markdown",value:"Indicates whether the element, or another grouping element it controls, is currently expanded or collapsed."}},{name:"aria-flowto",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-flowto"}],description:{kind:"markdown",value:"Identifies the next [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in an alternate reading order of content which, at the user's discretion, allows assistive technology to override the general default of reading in document source order."}},{name:"aria-grabbed",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-grabbed"}],description:{kind:"markdown",value:`\\[Deprecated in ARIA 1.1\\] Indicates an element's "grabbed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) in a drag-and-drop operation.`}},{name:"aria-haspopup",valueSet:"haspopup",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup"}],description:{kind:"markdown",value:"Indicates the availability and type of interactive popup element, such as menu or dialog, that can be triggered by an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-hidden",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-hidden"}],description:{kind:"markdown",value:"Indicates whether the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is exposed to an accessibility API. See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-invalid",valueSet:"invalid",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-invalid"}],description:{kind:"markdown",value:"Indicates the entered value does not conform to the format expected by the application. See related [`aria-errormessage`](https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage)."}},{name:"aria-label",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-label"}],description:{kind:"markdown",value:"Defines a string value that labels the current element. See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-labelledby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that labels the current element. See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-level",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-level"}],description:{kind:"markdown",value:"Defines the hierarchical level of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) within a structure."}},{name:"aria-live",valueSet:"live",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-live"}],description:{kind:"markdown",value:"Indicates that an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) will be updated, and describes the types of updates the [user agents](https://www.w3.org/TR/wai-aria-1.1/#dfn-user-agent), [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology), and user can expect from the [live region](https://www.w3.org/TR/wai-aria-1.1/#dfn-live-region)."}},{name:"aria-modal",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-modal"}],description:{kind:"markdown",value:"Indicates whether an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is modal when displayed."}},{name:"aria-multiline",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiline"}],description:{kind:"markdown",value:"Indicates whether a text box accepts multiple lines of input or only a single line."}},{name:"aria-multiselectable",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiselectable"}],description:{kind:"markdown",value:"Indicates that the user may select more than one item from the current selectable descendants."}},{name:"aria-orientation",valueSet:"orientation",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-orientation"}],description:{kind:"markdown",value:"Indicates whether the element's orientation is horizontal, vertical, or unknown/ambiguous."}},{name:"aria-owns",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-owns"}],description:{kind:"markdown",value:"Identifies an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in order to define a visual, functional, or contextual parent/child [relationship](https://www.w3.org/TR/wai-aria-1.1/#dfn-relationship) between DOM elements where the DOM hierarchy cannot be used to represent the relationship. See related [`aria-controls`](https://www.w3.org/TR/wai-aria-1.1/#aria-controls)."}},{name:"aria-placeholder",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-placeholder"}],description:{kind:"markdown",value:"Defines a short hint (a word or short phrase) intended to aid the user with data entry when the control has no value. A hint could be a sample value or a brief description of the expected format."}},{name:"aria-posinset",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-posinset"}],description:{kind:"markdown",value:"Defines an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)'s number or position in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-setsize`](https://www.w3.org/TR/wai-aria-1.1/#aria-setsize)."}},{name:"aria-pressed",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-pressed"}],description:{kind:"markdown",value:'Indicates the current "pressed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of toggle buttons. See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-readonly",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-readonly"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is not editable, but is otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-relevant",valueSet:"relevant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-relevant"}],description:{kind:"markdown",value:"Indicates what notifications the user agent will trigger when the accessibility tree within a live region is modified. See related [`aria-atomic`](https://www.w3.org/TR/wai-aria-1.1/#aria-atomic)."}},{name:"aria-required",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-required"}],description:{kind:"markdown",value:"Indicates that user input is required on the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) before a form may be submitted."}},{name:"aria-roledescription",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-roledescription"}],description:{kind:"markdown",value:"Defines a human-readable, author-localized description for the [role](https://www.w3.org/TR/wai-aria-1.1/#dfn-role) of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-rowcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount"}],description:{kind:"markdown",value:"Defines the total number of rows in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex)."}},{name:"aria-rowindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) row index or position with respect to the total number of rows within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-rowspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan"}],description:{kind:"markdown",value:"Defines the number of rows spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-selected",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-selected"}],description:{kind:"markdown",value:'Indicates the current "selected" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of various [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed).'}},{name:"aria-setsize",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-setsize"}],description:{kind:"markdown",value:"Defines the number of items in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-posinset`](https://www.w3.org/TR/wai-aria-1.1/#aria-posinset)."}},{name:"aria-sort",valueSet:"sort",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-sort"}],description:{kind:"markdown",value:"Indicates if items in a table or grid are sorted in ascending or descending order."}},{name:"aria-valuemax",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemax"}],description:{kind:"markdown",value:"Defines the maximum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuemin",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemin"}],description:{kind:"markdown",value:"Defines the minimum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuenow",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow"}],description:{kind:"markdown",value:"Defines the current value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-valuetext`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext)."}},{name:"aria-valuetext",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext"}],description:{kind:"markdown",value:"Defines the human readable text alternative of [`aria-valuenow`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow) for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-details",description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides a detailed, extended description for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-keyshortcuts",description:{kind:"markdown",value:"Indicates keyboard shortcuts that an author has implemented to activate or give focus to an element."}}],valueSets:[{name:"b",values:[{name:"true"},{name:"false"}]},{name:"u",values:[{name:"true"},{name:"false"},{name:"undefined"}]},{name:"o",values:[{name:"on"},{name:"off"}]},{name:"y",values:[{name:"yes"},{name:"no"}]},{name:"w",values:[{name:"soft"},{name:"hard"}]},{name:"d",values:[{name:"ltr"},{name:"rtl"},{name:"auto"}]},{name:"m",values:[{name:"get",description:{kind:"markdown",value:"Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a '?' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters."}},{name:"post",description:{kind:"markdown",value:"Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5); form data are included in the body of the form and sent to the server."}},{name:"dialog",description:{kind:"markdown",value:"Use when the form is inside a [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) element to close the dialog when submitted."}}]},{name:"fm",values:[{name:"get"},{name:"post"}]},{name:"s",values:[{name:"row"},{name:"col"},{name:"rowgroup"},{name:"colgroup"}]},{name:"t",values:[{name:"hidden"},{name:"text"},{name:"search"},{name:"tel"},{name:"url"},{name:"email"},{name:"password"},{name:"datetime"},{name:"date"},{name:"month"},{name:"week"},{name:"time"},{name:"datetime-local"},{name:"number"},{name:"range"},{name:"color"},{name:"checkbox"},{name:"radio"},{name:"file"},{name:"submit"},{name:"image"},{name:"reset"},{name:"button"}]},{name:"im",values:[{name:"verbatim"},{name:"latin"},{name:"latin-name"},{name:"latin-prose"},{name:"full-width-latin"},{name:"kana"},{name:"kana-name"},{name:"katakana"},{name:"numeric"},{name:"tel"},{name:"email"},{name:"url"}]},{name:"bt",values:[{name:"button"},{name:"submit"},{name:"reset"},{name:"menu"}]},{name:"lt",values:[{name:"1"},{name:"a"},{name:"A"},{name:"i"},{name:"I"}]},{name:"mt",values:[{name:"context"},{name:"toolbar"}]},{name:"mit",values:[{name:"command"},{name:"checkbox"},{name:"radio"}]},{name:"et",values:[{name:"application/x-www-form-urlencoded"},{name:"multipart/form-data"},{name:"text/plain"}]},{name:"tk",values:[{name:"subtitles"},{name:"captions"},{name:"descriptions"},{name:"chapters"},{name:"metadata"}]},{name:"pl",values:[{name:"none"},{name:"metadata"},{name:"auto"}]},{name:"sh",values:[{name:"circle"},{name:"default"},{name:"poly"},{name:"rect"}]},{name:"xo",values:[{name:"anonymous"},{name:"use-credentials"}]},{name:"target",values:[{name:"_self"},{name:"_blank"},{name:"_parent"},{name:"_top"}]},{name:"sb",values:[{name:"allow-forms"},{name:"allow-modals"},{name:"allow-pointer-lock"},{name:"allow-popups"},{name:"allow-popups-to-escape-sandbox"},{name:"allow-same-origin"},{name:"allow-scripts"},{name:"allow-top-navigation"}]},{name:"tristate",values:[{name:"true"},{name:"false"},{name:"mixed"},{name:"undefined"}]},{name:"inputautocomplete",values:[{name:"additional-name"},{name:"address-level1"},{name:"address-level2"},{name:"address-level3"},{name:"address-level4"},{name:"address-line1"},{name:"address-line2"},{name:"address-line3"},{name:"bday"},{name:"bday-year"},{name:"bday-day"},{name:"bday-month"},{name:"billing"},{name:"cc-additional-name"},{name:"cc-csc"},{name:"cc-exp"},{name:"cc-exp-month"},{name:"cc-exp-year"},{name:"cc-family-name"},{name:"cc-given-name"},{name:"cc-name"},{name:"cc-number"},{name:"cc-type"},{name:"country"},{name:"country-name"},{name:"current-password"},{name:"email"},{name:"family-name"},{name:"fax"},{name:"given-name"},{name:"home"},{name:"honorific-prefix"},{name:"honorific-suffix"},{name:"impp"},{name:"language"},{name:"mobile"},{name:"name"},{name:"new-password"},{name:"nickname"},{name:"off"},{name:"on"},{name:"organization"},{name:"organization-title"},{name:"pager"},{name:"photo"},{name:"postal-code"},{name:"sex"},{name:"shipping"},{name:"street-address"},{name:"tel-area-code"},{name:"tel"},{name:"tel-country-code"},{name:"tel-extension"},{name:"tel-local"},{name:"tel-local-prefix"},{name:"tel-local-suffix"},{name:"tel-national"},{name:"transaction-amount"},{name:"transaction-currency"},{name:"url"},{name:"username"},{name:"work"}]},{name:"autocomplete",values:[{name:"inline"},{name:"list"},{name:"both"},{name:"none"}]},{name:"current",values:[{name:"page"},{name:"step"},{name:"location"},{name:"date"},{name:"time"},{name:"true"},{name:"false"}]},{name:"dropeffect",values:[{name:"copy"},{name:"move"},{name:"link"},{name:"execute"},{name:"popup"},{name:"none"}]},{name:"invalid",values:[{name:"grammar"},{name:"false"},{name:"spelling"},{name:"true"}]},{name:"live",values:[{name:"off"},{name:"polite"},{name:"assertive"}]},{name:"orientation",values:[{name:"vertical"},{name:"horizontal"},{name:"undefined"}]},{name:"relevant",values:[{name:"additions"},{name:"removals"},{name:"text"},{name:"all"},{name:"additions text"}]},{name:"sort",values:[{name:"ascending"},{name:"descending"},{name:"none"},{name:"other"}]},{name:"roles",values:[{name:"alert"},{name:"alertdialog"},{name:"button"},{name:"checkbox"},{name:"dialog"},{name:"gridcell"},{name:"link"},{name:"log"},{name:"marquee"},{name:"menuitem"},{name:"menuitemcheckbox"},{name:"menuitemradio"},{name:"option"},{name:"progressbar"},{name:"radio"},{name:"scrollbar"},{name:"searchbox"},{name:"slider"},{name:"spinbutton"},{name:"status"},{name:"switch"},{name:"tab"},{name:"tabpanel"},{name:"textbox"},{name:"timer"},{name:"tooltip"},{name:"treeitem"},{name:"combobox"},{name:"grid"},{name:"listbox"},{name:"menu"},{name:"menubar"},{name:"radiogroup"},{name:"tablist"},{name:"tree"},{name:"treegrid"},{name:"application"},{name:"article"},{name:"cell"},{name:"columnheader"},{name:"definition"},{name:"directory"},{name:"document"},{name:"feed"},{name:"figure"},{name:"group"},{name:"heading"},{name:"img"},{name:"list"},{name:"listitem"},{name:"math"},{name:"none"},{name:"note"},{name:"presentation"},{name:"region"},{name:"row"},{name:"rowgroup"},{name:"rowheader"},{name:"separator"},{name:"table"},{name:"term"},{name:"text"},{name:"toolbar"},{name:"banner"},{name:"complementary"},{name:"contentinfo"},{name:"form"},{name:"main"},{name:"navigation"},{name:"region"},{name:"search"},{name:"doc-abstract"},{name:"doc-acknowledgments"},{name:"doc-afterword"},{name:"doc-appendix"},{name:"doc-backlink"},{name:"doc-biblioentry"},{name:"doc-bibliography"},{name:"doc-biblioref"},{name:"doc-chapter"},{name:"doc-colophon"},{name:"doc-conclusion"},{name:"doc-cover"},{name:"doc-credit"},{name:"doc-credits"},{name:"doc-dedication"},{name:"doc-endnote"},{name:"doc-endnotes"},{name:"doc-epigraph"},{name:"doc-epilogue"},{name:"doc-errata"},{name:"doc-example"},{name:"doc-footnote"},{name:"doc-foreword"},{name:"doc-glossary"},{name:"doc-glossref"},{name:"doc-index"},{name:"doc-introduction"},{name:"doc-noteref"},{name:"doc-notice"},{name:"doc-pagebreak"},{name:"doc-pagelist"},{name:"doc-part"},{name:"doc-preface"},{name:"doc-prologue"},{name:"doc-pullquote"},{name:"doc-qna"},{name:"doc-subtitle"},{name:"doc-tip"},{name:"doc-toc"}]},{name:"metanames",values:[{name:"application-name"},{name:"author"},{name:"description"},{name:"format-detection"},{name:"generator"},{name:"keywords"},{name:"publisher"},{name:"referrer"},{name:"robots"},{name:"theme-color"},{name:"viewport"}]},{name:"haspopup",values:[{name:"false",description:{kind:"markdown",value:"(default) Indicates the element does not have a popup."}},{name:"true",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"menu",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"listbox",description:{kind:"markdown",value:"Indicates the popup is a listbox."}},{name:"tree",description:{kind:"markdown",value:"Indicates the popup is a tree."}},{name:"grid",description:{kind:"markdown",value:"Indicates the popup is a grid."}},{name:"dialog",description:{kind:"markdown",value:"Indicates the popup is a dialog."}}]},{name:"decoding",values:[{name:"sync"},{name:"async"},{name:"auto"}]},{name:"loading",values:[{name:"eager",description:{kind:"markdown",value:"Loads the image immediately, regardless of whether or not the image is currently within the visible viewport (this is the default value)."}},{name:"lazy",description:{kind:"markdown",value:"Defers loading the image until it reaches a calculated distance from the viewport, as defined by the browser. The intent is to avoid the network and storage bandwidth needed to handle the image until it's reasonably certain that it will be needed. This generally improves the performance of the content in most typical use cases."}}]},{name:"referrerpolicy",values:[{name:"no-referrer"},{name:"no-referrer-when-downgrade"},{name:"origin"},{name:"origin-when-cross-origin"},{name:"same-origin"},{name:"strict-origin"},{name:"strict-origin-when-cross-origin"},{name:"unsafe-url"}]}]}});var l4,yMt,eBe=Ti(()=>{OF();_le();dle();l4=class{constructor(e){this.dataProviders=[],this.setDataProviders(e.useDefaultDataProvider!==!1,e.customDataProviders||[])}setDataProviders(e,t){this.dataProviders=[],e&&this.dataProviders.push(new _I("html5",u4)),this.dataProviders.push(...t)}getDataProviders(){return this.dataProviders}isVoidElement(e,t){return!!e&&fHe(t,e.toLowerCase(),(n,i)=>n.localeCompare(i))>=0}getVoidElements(e){let t=Array.isArray(e)?e:this.getDataProviders().filter(i=>i.isApplicable(e)),n=[];return t.forEach(i=>{i.provideTags().filter(o=>o.void).forEach(o=>n.push(o.name))}),n.sort()}isPathAttribute(e,t){if(t==="src"||t==="href")return!0;let n=yMt[e];return n?typeof n=="string"?n===t:n.indexOf(t)!==-1:!1}},yMt={a:"href",area:"href",body:"background",blockquote:"cite",del:"cite",form:"action",frame:["src","longdesc"],img:["src","longdesc"],ins:"cite",link:"href",object:"data",q:"cite",script:"src",audio:"src",button:"formaction",command:"icon",embed:"src",html:"manifest",input:["src","formaction"],source:"src",track:"src",video:["src","poster"]}});var rBe={};Qk(rBe,{ClientCapabilities:()=>ale,Color:()=>RF,ColorInformation:()=>qV,ColorPresentation:()=>jV,Command:()=>TD,CompletionItem:()=>WV,CompletionItemKind:()=>Rd,CompletionItemTag:()=>UV,CompletionList:()=>$V,Diagnostic:()=>lI,DocumentHighlight:()=>GV,DocumentHighlightKind:()=>zE,DocumentLink:()=>JV,DocumentSymbol:()=>mI,DocumentUri:()=>MV,FileType:()=>xF,FoldingRange:()=>zV,FoldingRangeKind:()=>qE,FormattingOptions:()=>YV,Hover:()=>VV,InsertReplaceEdit:()=>HV,InsertTextFormat:()=>Pm,InsertTextMode:()=>BV,Location:()=>uI,MarkedString:()=>fI,MarkupContent:()=>jE,MarkupKind:()=>Ng,Position:()=>Xa,Range:()=>Ri,ScannerState:()=>Yn,SelectionRange:()=>UE,SymbolInformation:()=>pI,SymbolKind:()=>hI,TextDocument:()=>HE,TextEdit:()=>vu,TokenType:()=>Xt,WorkspaceEdit:()=>PF,getDefaultHTMLDataProvider:()=>bMt,getLanguageService:()=>ble,newHTMLDataProvider:()=>tBe});function ble(r=_Mt){let e=new l4(r),t=new o4(r,e),n=new n4(r,e),i=new t4(e),o=new c4(i),s=new a4(e),a=new s4(e);return{setDataProviders:e.setDataProviders.bind(e),createScanner:Hu,parseHTMLDocument:i.parseDocument.bind(i),doComplete:n.doComplete.bind(n),doComplete2:n.doComplete2.bind(n),setCompletionParticipants:n.setCompletionParticipants.bind(n),doHover:t.doHover.bind(t),format:AHe,findDocumentHighlights:HHe,findDocumentLinks:a.findDocumentLinks.bind(a),findDocumentSymbols:WHe,findDocumentSymbols2:vle,getFoldingRanges:s.getFoldingRanges.bind(s),getSelectionRanges:o.getSelectionRanges.bind(o),doQuoteComplete:n.doQuoteComplete.bind(n),doTagComplete:n.doTagComplete.bind(n),doRename:GHe,findMatchingTagPosition:YHe,findOnTypeRenameRanges:yle,findLinkedEditingRanges:yle}}function tBe(r,e){return new _I(r,e)}function bMt(){return tBe("default",u4)}var _Mt,wle=Ti(()=>{nC();hHe();bHe();SHe();LHe();qHe();BHe();VHe();KHe();JHe();XHe();QHe();ZHe();OF();eBe();_le();xm();_Mt={}});var iBe=C(bI=>{"use strict";var nBe=bI&&bI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(bI,"__esModule",{value:!0});bI.HtmlTagCompletionProvider=void 0;var y_=require("vscode"),wMt=(wle(),GC(rBe)),SMt=(QV(),GC(lHe)),CMt=SD(),TMt=Gv(),Sle=class{constructor(e,t){this.documentManager=e,this.serviceClient=t,this.timeout=void 0,this.enabled=!1}register(){this.htmlLanguageService=(0,wMt.getLanguageService)();let e=y_.workspace.onDidChangeTextDocument(n=>this.onDidChangeTextDocument(n.document,n.contentChanges)),t=y_.window.onDidChangeActiveTextEditor(()=>this.checkIfEnabled());return this.checkIfEnabled(),y_.Disposable.from(e,t)}checkIfEnabled(){this.enabled=!1;let e=y_.window.activeTextEditor;if(!e)return;let t=e.document;t.languageId===CMt.RazorLanguage.id&&y_.workspace.getConfiguration(void 0,t.uri).get("html.autoClosingTags")&&(this.enabled=!0)}onDidChangeTextDocument(e,t){return nBe(this,void 0,void 0,function*(){if(!this.enabled||t.length===0||!y_.window.activeTextEditor||y_.window.activeTextEditor.document!==e)return;this.timeout!==void 0&&clearTimeout(this.timeout);let n=t[t.length-1];if(n.rangeLength>0||n.text[n.text.length-1]!==">")return;let o=n.range.start;if(o.character<2)return;let s=e.offsetAt(n.range.start),a=e.getText(),c=a.charAt(s-1);if(c==="/"||c===">")return;if(!this.atMarkupTransition(a,s)){if((yield this.serviceClient.languageQuery(n.range.start,e.uri)).kind!==TMt.LanguageKind.Html)return}let u=e.version;this.timeout=setTimeout(()=>nBe(this,void 0,void 0,function*(){if(!this.enabled)return;let l=y_.window.activeTextEditor;if(!l)return;let d=l.document;if(e!==d||d.version!==u)return;let f=new y_.Position(o.line,o.character+n.text.length);if(!this.htmlLanguageService)return;let p=yield this.documentManager.getActiveDocument();p&&(a=p.htmlDocument.getContent());let _=SMt.TextDocument.create(e.uri.fsPath,e.languageId,e.version,a),D=this.htmlLanguageService.parseHTMLDocument(_),x=this.htmlLanguageService.doTagComplete(_,f,D);if(!x)return;let N=l.selections;N.length&&N.some(A=>A.active.isEqual(f))?l.insertSnippet(new y_.SnippetString(x),N.map(A=>A.active)):l.insertSnippet(new y_.SnippetString(x),f)}),75)})}atMarkupTransition(e,t){return e.substring(t-5,t)==="<text"}};bI.HtmlTagCompletionProvider=Sle});var aBe=C(wI=>{"use strict";var DMt=wI&&wI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(wI,"__esModule",{value:!0});wI.RazorHtmlFeature=void 0;var kF=require("vscode"),oBe=wUe(),sBe=bV(),EMt=iBe(),Cle=class{constructor(e,t,n,i){this.projectionProvider=new sBe.HtmlProjectedDocumentContentProvider(e,n,i),this.htmlTagCompletionProvider=new EMt.HtmlTagCompletionProvider(e,t),this.htmlPreviewPanel=new oBe.HtmlPreviewPanel(e)}register(){let e=[kF.workspace.registerTextDocumentContentProvider(sBe.HtmlProjectedDocumentContentProvider.scheme,this.projectionProvider),kF.commands.registerCommand("extension.showRazorHtmlWindow",()=>this.htmlPreviewPanel.show()),this.htmlTagCompletionProvider.register()];return kF.window.registerWebviewPanelSerializer&&e.push(kF.window.registerWebviewPanelSerializer(oBe.HtmlPreviewPanel.viewType,{deserializeWebviewPanel:t=>DMt(this,void 0,void 0,function*(){yield this.htmlPreviewPanel.revive(t)})})),kF.Disposable.from(...e)}};wI.RazorHtmlFeature=Cle});var uBe=C(SI=>{"use strict";var RMt=SI&&SI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(SI,"__esModule",{value:!0});SI.RazorImplementationProvider=void 0;var PMt=require("vscode"),xMt=s_(),cBe=Gv(),Tle=class extends xMt.RazorLanguageFeatureBase{provideImplementation(e,t,n){return RMt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind===cBe.LanguageKind.Html||i.languageKind===cBe.LanguageKind.Razor?void 0:yield PMt.commands.executeCommand("vscode.executeImplementationProvider",i.uri,i.position)})}};SI.RazorImplementationProvider=Tle});var lBe=C(CI=>{"use strict";var OMt=CI&&CI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(CI,"__esModule",{value:!0});CI.ProposedApisFeature=void 0;var Dle=class{register(e,t){return OMt(this,void 0,void 0,function*(){e.env.appName.endsWith("Insiders")})}};CI.ProposedApisFeature=Dle});var hBe=C(TI=>{"use strict";var dBe=TI&&TI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(TI,"__esModule",{value:!0});TI.RazorCSharpLanguageMiddleware=void 0;var Ele=require("vscode"),d4=_F(),fBe=Gv(),Rle=class{constructor(e,t){this.serviceClient=e,this.logger=t,this.language="Razor"}remapWorkspaceEdit(e,t){return dBe(this,void 0,void 0,function*(){let n=new Map;for(let o of e.entries()){let s=o[0],a=o[1];if(!(0,d4.isRazorCSharpFile)(s)){n.set(s,a);continue}let c=(0,d4.getRazorDocumentUri)(s);for(let u of a){let l=yield this.serviceClient.mapToDocumentRanges(fBe.LanguageKind.CSharp,[u.range],c);if(!l||!l.ranges||!l.ranges[0]){this.logger.logWarning(`Unable to remap file ${s.path} at ${u.range}.`);continue}else{let d=new Ele.TextEdit(l.ranges[0],u.newText);this.logger.logVerbose(`Re-mapping text ${u.newText} at ${u.range} in ${s.path} to ${l.ranges[0]} in ${c.path}`),this.addElementToDictionary(n,c,d)}}}return this.mapToTextEdit(n)})}remapLocations(e,t){return dBe(this,void 0,void 0,function*(){let n=[];for(let i of e){if(!(0,d4.isRazorCSharpFile)(i.uri)){n.push(i);continue}let o=(0,d4.getRazorDocumentUri)(i.uri),s=yield this.serviceClient.mapToDocumentRanges(fBe.LanguageKind.CSharp,[i.range],o);if(!s||!s.ranges||!s.ranges[0]){this.logger.logWarning(`Unable to remap file ${i.uri.path} at ${i.range}.`);continue}let a=new Ele.Location(o,s.ranges[0]);n.push(a),this.logger.logVerbose(`Re-mapping location ${i.range} in ${i.uri.path} to ${s.ranges[0]} in ${o.path}`)}return n})}mapToTextEdit(e){let t=new Ele.WorkspaceEdit;return e.forEach((n,i)=>{t.set(i,n)}),t}addElementToDictionary(e,t,n){let i;if(e.has(t))i=e.get(t),i&&i.push(n);else{let o=new Array;o.push(n),e.set(t,o)}}};TI.RazorCSharpLanguageMiddleware=Rle});var mBe=C(f4=>{"use strict";Object.defineProperty(f4,"__esModule",{value:!0});f4.RazorLanguageConfiguration=void 0;var Ple=require("vscode"),IMt=SD(),pBe=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],xle=class{register(){return Ple.languages.setLanguageConfiguration(IMt.RazorLanguage.id,{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${pBe.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:Ple.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${pBe.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:Ple.IndentAction.Indent}}]})}};f4.RazorLanguageConfiguration=xle});var vBe=C((ycr,gBe)=>{"use strict";gBe.exports=Qb()});var bBe=C(h4=>{"use strict";Object.defineProperty(h4,"__esModule",{value:!0});h4.resolveRazorLanguageServerOptions=void 0;var yBe=require("fs"),kMt=require("os"),_Be=require("path");function AMt(r,e,t,n){let i=LMt(e),s=r.workspace.getConfiguration("razor.languageServer").get("debug");return{serverPath:i,debug:s,trace:t,outputChannel:n.outputChannel}}h4.resolveRazorLanguageServerOptions=AMt;function LMt(r){let e=NMt()?".exe":"",t=_Be.join(r,`rzls${e}`),n="";if(yBe.existsSync(t))n=t;else{let i=_Be.join(r,"rzls.dll");if(!yBe.existsSync(i))throw new Error(`Could not find Razor Language Server executable within directory '${r}'`);n=i}return n}function NMt(){return!!kMt.platform().match(/^win/)}});var Ole=C(m4=>{"use strict";Object.defineProperty(m4,"__esModule",{value:!0});m4.resolveRazorLanguageServerTrace=void 0;var p4=wF();function MMt(r){let t=r.workspace.getConfiguration("razor").get("trace");return FMt(t)}m4.resolveRazorLanguageServerTrace=MMt;function FMt(r){switch(r){case"Off":return p4.Trace.Off;case"Messages":return p4.Trace.Messages;case"Verbose":return p4.Trace.Verbose;default:return console.log("Invalid trace setting for Razor language server. Defaulting to 'Off'"),p4.Trace.Off}}});var CBe=C(DI=>{"use strict";var g4=DI&&DI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(DI,"__esModule",{value:!0});DI.RazorLanguageServerClient=void 0;var qMt=require("events"),Ile=require("vscode"),kle=Qb(),jMt=vBe(),wBe=SD(),zMt=bBe(),SBe=Ole(),Ale={ServerStop:"ServerStop"},Lle=class{constructor(e,t,n,i){this.vscodeType=e,this.languageServerDir=t,this.telemetryReporter=n,this.logger=i,this.onStartListeners=[],this.onStartedListeners=[],this.isStarted=!1,this.setupLanguageServer(),this.eventBus=new qMt.EventEmitter}get initializeResult(){return this.client.initializeResult}updateTraceLevel(){let e=(0,SBe.resolveRazorLanguageServerTrace)(this.vscodeType);this.setupLanguageServer(),this.logger.setTraceLevel(e)}onStarted(e){this.onStartedListeners.push(e)}onStart(e){this.onStartListeners.push(e)}onStop(e){return this.eventBus.addListener(Ale.ServerStop,e),new Ile.Disposable(()=>this.eventBus.removeListener(Ale.ServerStop,e))}start(){return g4(this,void 0,void 0,function*(){if(this.startHandle)return this.startHandle;let e=Function,t=Function;this.startHandle=new Promise((o,s)=>{e=o,t=s});let n=0,i=this.client.onDidChangeState(o=>{o.oldState===kle.State.Starting&&o.newState===kle.State.Stopped?(n++,n===5&&t("Server failed to start after retrying 5 times.")):o.newState===kle.State.Running&&(n=0)});try{this.logger.logMessage("Starting Razor Language Server..."),yield this.client.start(),this.logger.logMessage("Server started, waiting for client to be ready..."),this.isStarted=!0;for(let o of this.onStartListeners)yield o();e(),this.logger.logMessage("Server ready!");for(let o of this.onStartedListeners)yield o();i.dispose()}catch(o){Ile.window.showErrorMessage("Razor Language Server failed to start unexpectedly, please check the 'Razor Log' and report an issue."),this.telemetryReporter.reportErrorOnServerStart(o),t(o)}return this.startHandle})}sendRequest(e,t){return g4(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to send requests while server is not started.");return this.client.sendRequest(e,t)})}onRequestWithParams(e,t){return g4(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to bind on request logic while server is not started.");this.client.onRequest(e,t)})}onNotification(e,t){if(!this.isStarted)throw new Error("Tried to bind on notification logic while server is not started.");this.client.onNotification(e,t)}dispose(){this.logger.logMessage("Disposing Razor Language Server."),this.isStarted=!1,this.startHandle=void 0,this.eventBus.emit(Ale.ServerStop)}stop(){return g4(this,void 0,void 0,function*(){let e=Function,t=Function;this.stopHandle=new Promise((n,i)=>{e=n,t=i}),this.startHandle||t(new Error("Cannot stop Razor Language Server as it is already stopped.")),this.logger.logMessage("Stopping Razor Language Server.");try{this.client&&(yield this.client.stop()),this.dispose(),e()}catch(n){Ile.window.showErrorMessage("Razor Language Server failed to stop correctly, please check the 'Razor Log' and report an issue."),t(n)}return this.stopHandle})}setupLanguageServer(){let e=(0,SBe.resolveRazorLanguageServerTrace)(this.vscodeType),t=(0,zMt.resolveRazorLanguageServerOptions)(this.vscodeType,this.languageServerDir,e,this.logger);this.clientOptions={outputChannel:t.outputChannel,documentSelector:[{language:wBe.RazorLanguage.id,pattern:wBe.RazorLanguage.globbingPattern}]};let n=[],i=t.serverPath;t.serverPath.endsWith(".dll")&&(this.logger.logMessage("Razor Language Server path is an assembly. Using 'dotnet' from the current path to start the server."),i="dotnet",n.push(t.serverPath)),this.logger.logMessage(`Razor language server path: ${t.serverPath}`),n.push("-lsp"),n.push("--trace"),this.telemetryReporter.reportTraceLevel(t.trace),n.push(t.trace.toString()),t.debug&&(this.telemetryReporter.reportDebugLanguageServer(),this.logger.logMessage("Debug flag set for Razor Language Server."),n.push("--debug")),this.serverOptions={command:i,args:n},this.client=new jMt.LanguageClient("razorLanguageServer","Razor Language Server",this.serverOptions,this.clientOptions)}};DI.RazorLanguageServerClient=Lle});var TBe=C(v4=>{"use strict";Object.defineProperty(v4,"__esModule",{value:!0});v4.LanguageQueryRequest=void 0;var Nle=class{constructor(e,t){this.position=e,this.uri=t.toString()}};v4.LanguageQueryRequest=Nle});var DBe=C(y4=>{"use strict";Object.defineProperty(y4,"__esModule",{value:!0});y4.RazorMapToDocumentRangesRequest=void 0;var Mle=class{constructor(e,t,n){this.kind=e,this.projectedRanges=t,this.razorDocumentUri=n.toString()}};y4.RazorMapToDocumentRangesRequest=Mle});var EBe=C(_4=>{"use strict";Object.defineProperty(_4,"__esModule",{value:!0});_4.SemanticTokensRangeRequest=void 0;var UMt=Qb(),HMt=dO(),Fle=class{constructor(e,t){this.textDocument=UMt.TextDocumentIdentifier.create(e.toString()),this.range=(0,HMt.convertRangeToSerializable)(t)}};_4.SemanticTokensRangeRequest=Fle});var PBe=C(EI=>{"use strict";var b4=EI&&EI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(EI,"__esModule",{value:!0});EI.RazorLanguageServiceClient=void 0;var BMt=require("vscode"),WMt=TBe(),$Mt=DBe(),RBe=dO(),VMt=EBe(),qle=class{constructor(e){this.serverClient=e}languageQuery(e,t){return b4(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new WMt.LanguageQueryRequest(e,t),i=yield this.serverClient.sendRequest("razor/languageQuery",n);return i.position=new BMt.Position(i.position.line,i.position.character),i})}mapToDocumentRanges(e,t,n){return b4(this,void 0,void 0,function*(){yield this.ensureStarted();let i=[];for(let c of t){let u=(0,RBe.convertRangeToSerializable)(c);i.push(u)}let o=new $Mt.RazorMapToDocumentRangesRequest(e,i,n),s=yield this.serverClient.sendRequest("razor/mapToDocumentRanges",o),a=[];for(let c of s.ranges)if(c.start.line>=0){let u=(0,RBe.convertRangeFromSerializable)(s.ranges[0]);a.push(u)}return s.ranges=a,s})}semanticTokensRange(e,t){return b4(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new VMt.SemanticTokensRangeRequest(e,t),i=yield this.serverClient.sendRequest("textDocument/semanticTokens/range",n);if(i.data&&i.data.length>0)return i})}ensureStarted(){return b4(this,void 0,void 0,function*(){yield this.serverClient.start()})}};EI.RazorLanguageServiceClient=qle});var IBe=C(C4=>{"use strict";Object.defineProperty(C4,"__esModule",{value:!0});C4.RazorLogger=void 0;var OBe=require("fs"),xBe=require("path"),w4=wF(),S4=class r{constructor(e,t,n){this.vscodeApi=e,this.trace=n,this.processTraceLevel(),this.onLogEmitter=t.create(),this.onTraceLevelChangeEmitter=t.create(),this.outputChannel=this.vscodeApi.window.createOutputChannel(r.logName),this.logRazorInformation()}setTraceLevel(e){this.trace=e,this.processTraceLevel(),this.logMessage(`Updated trace level to: ${w4.Trace[this.trace]}`),this.onTraceLevelChangeEmitter.fire(this.trace)}get onLog(){return this.onLogEmitter.event}get onTraceLevelChange(){return this.onTraceLevelChangeEmitter.event}logAlways(e){this.logWithMarker(e)}logWarning(e){let t=`(Warning) ${e}`;this.logAlways(t)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logMessage(e){this.messageEnabled&&this.logWithMarker(e)}logVerbose(e){this.verboseEnabled&&this.logWithMarker(e)}dispose(){this.outputChannel.dispose()}logErrorInternal(e,t){let n=`(Error) ${e}
${t.message}
Stack Trace:
${t.stack}`;this.logAlways(n)}logWithMarker(e){let n=`[Client - ${new Date().toLocaleTimeString()}] ${e}`;this.log(n)}log(e){this.outputChannel.appendLine(e),this.onLogEmitter.fire(e)}logRazorInformation(){let e=GMt();this.log("--------------------------------------------------------------------------------"),this.log(`Razor.VSCode version ${e.defaults.razor}`),this.log("--------------------------------------------------------------------------------"),this.log(`Razor's trace level is currently set to '${w4.Trace[this.trace]}'`),this.log(" - To change Razor's trace level set 'razor.trace' to 'Off', 'Messages' or 'Verbose' and then restart VSCode."),this.log(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.log("-----------------------------------------------------------------------------------------------------------------------------"),this.log("")}processTraceLevel(){this.verboseEnabled=this.trace>=w4.Trace.Verbose,this.messageEnabled=this.trace>=w4.Trace.Messages}};C4.RazorLogger=S4;S4.logName="Razor Log";function GMt(){let r=KMt(__dirname,"package.json");return JSON.parse(OBe.readFileSync(r).toString())}function KMt(r,e){for(;;){let t=xBe.join(r,e);if(OBe.existsSync(t))return t;let n=xBe.dirname(r);if(n===r)throw new Error(`Could not find '${e}' in or above '${r}'.`);r=n}}});var NBe=C(RI=>{"use strict";var YMt=RI&&RI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(RI,"__esModule",{value:!0});RI.RazorReferenceProvider=void 0;var kBe=require("vscode"),ABe=_F(),JMt=s_(),LBe=Gv(),jle=class extends JMt.RazorLanguageFeatureBase{provideReferences(e,t,n,i){return YMt(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);if(!o||o.languageKind===LBe.LanguageKind.Razor)return;let s=yield kBe.commands.executeCommand("vscode.executeReferenceProvider",o.uri,o.position),a=new Array;for(let c of s)if(o.languageKind===LBe.LanguageKind.Html&&(0,ABe.isRazorHtmlFile)(c.uri)){let u=(0,ABe.getRazorDocumentUri)(c.uri);a.push(new kBe.Location(u,c.range))}else a.push(c);return a})}};RI.RazorReferenceProvider=jle});var qBe=C(PI=>{"use strict";var MBe=PI&&PI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(PI,"__esModule",{value:!0});PI.RazorRenameProvider=void 0;var XMt=require("vscode"),QMt=s_(),FBe=Gv(),zle=class extends QMt.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i)}prepareRename(e,t,n){return MBe(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind!==FBe.LanguageKind.CSharp?null:e.getWordRangeAtPosition(t)})}provideRenameEdits(e,t,n,i){return MBe(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);return!o||o.languageKind!==FBe.LanguageKind.CSharp?void 0:yield XMt.commands.executeCommand("vscode.executeDocumentRenameProvider",o.uri,o.position,n)})}};PI.RazorRenameProvider=zle});var jBe=C(xI=>{"use strict";var ZMt=xI&&xI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(xI,"__esModule",{value:!0});xI.RazorDocumentSemanticTokensProvider=void 0;var eFt=require("vscode"),tFt=s_(),Ule=class extends tFt.RazorLanguageFeatureBase{provideDocumentRangeSemanticTokens(e,t,n){return ZMt(this,void 0,void 0,function*(){let i=yield this.serviceClient.semanticTokensRange(e.uri,t);if(i){let o=new Uint32Array(i.data);i=new eFt.SemanticTokens(o,i.resultId)}return i})}};xI.RazorDocumentSemanticTokensProvider=Ule});var zBe=C(T4=>{"use strict";Object.defineProperty(T4,"__esModule",{value:!0});T4.ProvideSemanticTokensResponse=void 0;var Hle=class{constructor(e,t){this.Result=e,this.HostDocumentSyncVersion=t}};T4.ProvideSemanticTokensResponse=Hle});var UBe=C(D4=>{"use strict";Object.defineProperty(D4,"__esModule",{value:!0});D4.SemanticTokensResponse=void 0;var Ble=class{constructor(e,t){this.data=e,this.resultId=t}};D4.SemanticTokensResponse=Ble});var BBe=C(OI=>{"use strict";var HBe=OI&&OI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(OI,"__esModule",{value:!0});OI.SemanticTokensRangeHandler=void 0;var rFt=Qb(),nFt=zBe(),iFt=UBe(),E4=class r{constructor(e){this.serverClient=e,this.semanticTokensRequestType=new rFt.RequestType(r.getSemanticTokensRangeEndpoint),this.emptySemanticTokensResponse=new nFt.ProvideSemanticTokensResponse(new iFt.SemanticTokensResponse(new Array,""),null)}register(){return this.serverClient.onRequestWithParams(this.semanticTokensRequestType,(e,t)=>HBe(this,void 0,void 0,function*(){return this.getSemanticTokens(e,t)}))}getSemanticTokens(e,t){return HBe(this,void 0,void 0,function*(){return this.emptySemanticTokensResponse})}};OI.SemanticTokensRangeHandler=E4;E4.getSemanticTokensRangeEndpoint="razor/provideSemanticTokensRange"});var WBe=C(II=>{"use strict";var oFt=II&&II.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(II,"__esModule",{value:!0});II.RazorSignatureHelpProvider=void 0;var sFt=require("vscode"),aFt=s_(),Wle=class extends aFt.RazorLanguageFeatureBase{provideSignatureHelp(e,t,n){return oFt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(i)return yield sFt.commands.executeCommand("vscode.executeSignatureHelpProvider",i.uri,i.position)})}};II.RazorSignatureHelpProvider=Wle});var $Be=C(kI=>{"use strict";Object.defineProperty(kI,"__esModule",{value:!0});kI.createTelemetryErrorEvent=kI.createTelemetryEvent=void 0;function cFt(r,e,t){return{type:R4.TelemetryEvent,eventName:r,properties:e,measures:t}}kI.createTelemetryEvent=cFt;function uFt(r,e,t,n){return{type:R4.TelemetryErrorEvent,eventName:r,properties:e,measures:t,errorProps:n}}kI.createTelemetryErrorEvent=uFt;var R4;(function(r){r[r.TelemetryEvent=1]="TelemetryEvent",r[r.TelemetryErrorEvent=78]="TelemetryErrorEvent"})(R4||(R4={}))});var VBe=C(P4=>{"use strict";Object.defineProperty(P4,"__esModule",{value:!0});P4.TelemetryReporter=void 0;var AF=$Be(),lFt=wF(),$le=class{constructor(e){this.eventStream=e,this.razorExtensionActivated=(0,AF.createTelemetryEvent)("VSCode.Razor.RazorExtensionActivated"),this.debugLanguageServerEvent=(0,AF.createTelemetryEvent)("VSCode.Razor.DebugLanguageServer"),this.workspaceContainsRazorEvent=(0,AF.createTelemetryEvent)("VSCode.Razor.WorkspaceContainsRazor"),this.reportedWorkspaceContainsRazor=!1,this.eventStream.post(this.razorExtensionActivated)}reportTraceLevel(e){let t=(0,AF.createTelemetryEvent)("VSCode.Razor.TraceLevel",{trace:lFt.Trace[e]});this.eventStream.post(t)}reportErrorOnServerStart(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnServerStart",t)}reportErrorOnActivation(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnActivation",t)}reportDebugLanguageServer(){this.eventStream.post(this.debugLanguageServerEvent)}reportWorkspaceContainsRazor(){this.reportedWorkspaceContainsRazor||(this.reportedWorkspaceContainsRazor=!0,this.eventStream.post(this.workspaceContainsRazorEvent))}reportError(e,t){let n=(0,AF.createTelemetryErrorEvent)(e,{error:JSON.stringify(t)},void 0,["error"]);this.eventStream.post(n)}};P4.TelemetryReporter=$le});var GBe=C(LI=>{"use strict";var AI=LI&&LI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(LI,"__esModule",{value:!0});LI.activate=void 0;var dFt=require("vscode"),fFt=vqe(),hFt=Cqe(),pFt=Rqe(),mFt=yze(),gFt=Sze(),vFt=yue(),yFt=Tze(),_Ft=Oze(),bFt=Lze(),wFt=Uze(),SFt=Kze(),CFt=Jze(),TFt=eUe(),DFt=rUe(),EFt=nUe(),RFt=aUe(),PFt=dUe(),xFt=fUe(),OFt=yUe(),IFt=_Ue(),kFt=aBe(),AFt=uBe(),LFt=lBe(),NFt=hBe(),Om=SD(),MFt=mBe(),FFt=CBe(),qFt=Ole(),jFt=PBe(),zFt=IBe(),UFt=NBe(),HFt=qBe(),BFt=jBe(),WFt=BBe(),$Ft=WBe(),VFt=VBe();function GFt(r,e,t,n,i=!1){return AI(this,void 0,void 0,function*(){let o=new VFt.TelemetryReporter(n),s={create:()=>new dFt.EventEmitter},a=(0,qFt.resolveRazorLanguageServerTrace)(r),c=new zFt.RazorLogger(r,s,a);try{let u=new FFt.RazorLanguageServerClient(r,t,o,c),l=new jFt.RazorLanguageServiceClient(u),d=new NFt.RazorCSharpLanguageMiddleware(l,c),f=new SFt.RazorDocumentManager(u,c);(0,EFt.reportTelemetryForDocuments)(f,o);let p=new MFt.RazorLanguageConfiguration,_=new _Ft.RazorCSharpFeature(f,s,c),D=new kFt.RazorHtmlFeature(f,l,s,c),x=[],N=new wFt.ReportIssueCommand(r,f,c),A=new OFt.RazorFormattingFeature(u,f,c),U=new hFt.RazorCodeActionRunner(u,c),ee;u.onStart(()=>AI(this,void 0,void 0,function*(){r.commands.executeCommand("omnisharp.registerLanguageMiddleware",d),ee=new CFt.RazorDocumentSynchronizer(f,c);let V=new gFt.ProvisionalCompletionOrchestrator(f,_.projectionProvider,l,c),W=new WFt.SemanticTokensRangeHandler(u),te=new mFt.ColorPresentationHandler(f,u,c),De=new TFt.DocumentColorHandler(f,u,c),ae=new RFt.FoldingRangeHandler(u,f,c),ue=new PFt.FormattingHandler(f,u,c),qe=new vFt.RazorCompletionItemProvider(ee,f,l,V,c),Me=new $Ft.RazorSignatureHelpProvider(ee,f,l,c),ce=new bFt.RazorDefinitionProvider(ee,f,l,c),Ce=new AFt.RazorImplementationProvider(ee,f,l,c),be=new IFt.RazorHoverProvider(ee,f,l,c),xe=new pFt.RazorCodeLensProvider(ee,f,l,c),Ne=new HFt.RazorRenameProvider(ee,f,l,c),$e=new UFt.RazorReferenceProvider(ee,f,l,c),Ct=new DFt.RazorDocumentHighlightProvider(ee,f,l,c),ze=new xFt.RazorFormatOnTypeProvider;x.push(p.register(),V.register(),r.languages.registerCompletionItemProvider(Om.RazorLanguage.id,qe,".","<","@"),r.languages.registerSignatureHelpProvider(Om.RazorLanguage.id,Me,"(",","),r.languages.registerDefinitionProvider(Om.RazorLanguage.id,ce),r.languages.registerImplementationProvider(Om.RazorLanguage.id,Ce),r.languages.registerHoverProvider(Om.RazorLanguage.documentSelector,be),r.languages.registerReferenceProvider(Om.RazorLanguage.id,$e),r.languages.registerCodeLensProvider(Om.RazorLanguage.id,xe),r.languages.registerRenameProvider(Om.RazorLanguage.id,Ne),r.languages.registerDocumentHighlightProvider(Om.RazorLanguage.id,Ct),r.languages.registerOnTypeFormattingEditProvider(Om.RazorLanguage.documentSelector,ze,""),f.register(),_.register(),D.register(),ee.register(),N.register(),(0,yFt.listenToConfigurationChanges)(u)),i&&(yield new LFt.ProposedApisFeature().register(r,x)),U.register(),yield A.register(),yield te.register(),yield De.register(),yield ae.register(),yield ue.register(),yield W.register()}));let he=u.onStop(()=>{x.forEach(V=>V.dispose()),x.length=0}),we=new fFt.BlazorDebugConfigurationProvider(c,r);e.subscriptions.push(r.debug.registerDebugConfigurationProvider("blazorwasm",we)),u.onStarted(()=>AI(this,void 0,void 0,function*(){var V,W;let te=(W=(V=u.initializeResult)===null||V===void 0?void 0:V.capabilities.semanticTokensProvider)===null||W===void 0?void 0:W.legend,De=new BFt.RazorDocumentSemanticTokensProvider(ee,f,l,c);te&&x.push(r.languages.registerDocumentRangeSemanticTokensProvider(Om.RazorLanguage.id,De,te)),yield f.initialize()})),yield KFt(r,u,c,e),e.subscriptions.push(u,he,c)}catch(u){c.logError("Failed when activating Razor VSCode.",u),o.reportErrorOnActivation(u)}})}LI.activate=GFt;function KFt(r,e,t,n){return AI(this,void 0,void 0,function*(){if((yield r.workspace.findFiles(Om.RazorLanguage.globbingPattern)).length===0){t.logAlways("No Razor files detected in workspace, delaying language server start.");let o=r.workspace.createFileSystemWatcher(Om.RazorLanguage.globbingPattern),s=()=>AI(this,void 0,void 0,function*(){a.dispose(),c.dispose(),yield e.start()}),a=o.onDidCreate(()=>s()),c=r.workspace.onDidOpenTextDocument(u=>AI(this,void 0,void 0,function*(){u.languageId===Om.RazorLanguage.id&&(yield s())}));n.subscriptions.push(a,c)}else yield e.start()})}});function HF(){return J4>X4.length-16&&(aWe.default.randomFillSync(X4),J4=0),X4.slice(J4,J4+=16)}var aWe,X4,J4,cde=Ti(()=>{aWe=ye(require("crypto")),X4=new Uint8Array(256),J4=X4.length});var cWe,uWe=Ti(()=>{cWe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function eqt(r){return typeof r=="string"&&cWe.test(r)}var DD,BF=Ti(()=>{uWe();DD=eqt});function VE(r,e=0){return(mf[r[e+0]]+mf[r[e+1]]+mf[r[e+2]]+mf[r[e+3]]+"-"+mf[r[e+4]]+mf[r[e+5]]+"-"+mf[r[e+6]]+mf[r[e+7]]+"-"+mf[r[e+8]]+mf[r[e+9]]+"-"+mf[r[e+10]]+mf[r[e+11]]+mf[r[e+12]]+mf[r[e+13]]+mf[r[e+14]]+mf[r[e+15]]).toLowerCase()}function tqt(r,e=0){let t=VE(r,e);if(!DD(t))throw TypeError("Stringified UUID is invalid");return t}var mf,lWe,WF=Ti(()=>{BF();mf=[];for(let r=0;r<256;++r)mf.push((r+256).toString(16).slice(1));lWe=tqt});function rqt(r,e,t){let n=e&&t||0,i=e||new Array(16);r=r||{};let o=r.node||dWe,s=r.clockseq!==void 0?r.clockseq:ude;if(o==null||s==null){let f=r.random||(r.rng||HF)();o==null&&(o=dWe=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=ude=(f[6]<<8|f[7])&16383)}let a=r.msecs!==void 0?r.msecs:Date.now(),c=r.nsecs!==void 0?r.nsecs:dde+1,u=a-lde+(c-dde)/1e4;if(u<0&&r.clockseq===void 0&&(s=s+1&16383),(u<0||a>lde)&&r.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");lde=a,dde=c,ude=s,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let f=0;f<6;++f)i[n+f]=o[f];return e||VE(i)}var dWe,ude,lde,dde,fWe,hWe=Ti(()=>{cde();WF();lde=0,dde=0;fWe=rqt});function nqt(r){if(!DD(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Q4,fde=Ti(()=>{BF();Q4=nqt});function iqt(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function $F(r,e,t){function n(i,o,s,a){var c;if(typeof i=="string"&&(i=iqt(i)),typeof o=="string"&&(o=Q4(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=u[l];return s}return VE(u)}try{n.name=r}catch{}return n.DNS=oqt,n.URL=sqt,n}var oqt,sqt,hde=Ti(()=>{WF();fde();oqt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",sqt="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function aqt(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),pWe.default.createHash("md5").update(r).digest()}var pWe,mWe,gWe=Ti(()=>{pWe=ye(require("crypto"));mWe=aqt});var cqt,vWe,yWe=Ti(()=>{hde();gWe();cqt=$F("v3",48,mWe),vWe=cqt});var _We,pde,bWe=Ti(()=>{_We=ye(require("crypto")),pde={randomUUID:_We.default.randomUUID}});function uqt(r,e,t){if(pde.randomUUID&&!e&&!r)return pde.randomUUID();r=r||{};let n=r.random||(r.rng||HF)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return VE(n)}var ED,wWe=Ti(()=>{bWe();cde();WF();ED=uqt});function lqt(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),SWe.default.createHash("sha1").update(r).digest()}var SWe,CWe,TWe=Ti(()=>{SWe=ye(require("crypto"));CWe=lqt});var dqt,DWe,EWe=Ti(()=>{hde();TWe();dqt=$F("v5",80,CWe),DWe=dqt});var RWe,PWe=Ti(()=>{RWe="00000000-0000-0000-0000-000000000000"});function fqt(r){if(!DD(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var xWe,OWe=Ti(()=>{BF();xWe=fqt});var Z4={};Qk(Z4,{NIL:()=>RWe,parse:()=>Q4,stringify:()=>lWe,v1:()=>fWe,v3:()=>vWe,v4:()=>ED,v5:()=>DWe,validate:()=>DD,version:()=>xWe});var qI=Ti(()=>{hWe();yWe();wWe();EWe();PWe();OWe();BF();WF();fde()});var a$e=C((Xhr,s$e)=>{var YI=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",t$e=require("path"),_qt=YI?";":":",r$e=fQ(),n$e=r=>Object.assign(new Error(`not found: ${r}`),{code:"ENOENT"}),i$e=(r,e)=>{let t=e.colon||_qt,n=r.match(/\//)||YI&&r.match(/\\/)?[""]:[...YI?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(t)],i=YI?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=YI?i.split(t):[""];return YI&&r.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},o$e=(r,e,t)=>{typeof e=="function"&&(t=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=i$e(r,e),s=[],a=u=>new Promise((l,d)=>{if(u===n.length)return e.all&&s.length?l(s):d(n$e(r));let f=n[u],p=/^".*"$/.test(f)?f.slice(1,-1):f,_=t$e.join(p,r),D=!p&&/^\.[\\\/]/.test(r)?r.slice(0,2)+_:_;l(c(D,u,0))}),c=(u,l,d)=>new Promise((f,p)=>{if(d===i.length)return f(a(l+1));let _=i[d];r$e(u+_,{pathExt:o},(D,x)=>{if(!D&&x)if(e.all)s.push(u+_);else return f(u+_);return f(c(u,l,d+1))})});return t?a(0).then(u=>t(null,u),t):a(0)},bqt=(r,e)=>{e=e||{};let{pathEnv:t,pathExt:n,pathExtExe:i}=i$e(r,e),o=[];for(let s=0;s<t.length;s++){let a=t[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=t$e.join(c,r),l=!c&&/^\.[\\\/]/.test(r)?r.slice(0,2)+u:u;for(let d=0;d<n.length;d++){let f=l+n[d];try{if(r$e.sync(f,{pathExt:i}))if(e.all)o.push(f);else return f}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw n$e(r)};s$e.exports=o$e;o$e.sync=bqt});var u$e=C((Qhr,Cde)=>{"use strict";var c$e=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Cde.exports=c$e;Cde.exports.default=c$e});var h$e=C((Zhr,f$e)=>{"use strict";var l$e=require("path"),wqt=a$e(),Sqt=u$e();function d$e(r,e){let t=r.options.env||process.env,n=process.cwd(),i=r.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(r.options.cwd)}catch{}let s;try{s=wqt.sync(r.command,{path:t[Sqt({env:t})],pathExt:e?l$e.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=l$e.resolve(i?r.options.cwd:"",s)),s}function Cqt(r){return d$e(r)||d$e(r,!0)}f$e.exports=Cqt});var p$e=C((epr,Dde)=>{"use strict";var Tde=/([()\][%!^"`<>&|;, *?])/g;function Tqt(r){return r=r.replace(Tde,"^$1"),r}function Dqt(r,e){return r=`${r}`,r=r.replace(/(\\*)"/g,'$1$1\\"'),r=r.replace(/(\\*)$/,"$1$1"),r=`"${r}"`,r=r.replace(Tde,"^$1"),e&&(r=r.replace(Tde,"^$1")),r}Dde.exports.command=Tqt;Dde.exports.argument=Dqt});var g$e=C((tpr,m$e)=>{"use strict";m$e.exports=/^#!(.*)/});var y$e=C((rpr,v$e)=>{"use strict";var Eqt=g$e();v$e.exports=(r="")=>{let e=r.match(Eqt);if(!e)return null;let[t,n]=e[0].replace(/#! ?/,"").split(" "),i=t.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var b$e=C((npr,_$e)=>{"use strict";var Ede=require("fs"),Rqt=y$e();function Pqt(r){let t=Buffer.alloc(150),n;try{n=Ede.openSync(r,"r"),Ede.readSync(n,t,0,150,0),Ede.closeSync(n)}catch{}return Rqt(t.toString())}_$e.exports=Pqt});var T$e=C((ipr,C$e)=>{"use strict";var xqt=require("path"),w$e=h$e(),S$e=p$e(),Oqt=b$e(),Iqt=process.platform==="win32",kqt=/\.(?:com|exe)$/i,Aqt=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Lqt(r){r.file=w$e(r);let e=r.file&&Oqt(r.file);return e?(r.args.unshift(r.file),r.command=e,w$e(r)):r.file}function Nqt(r){if(!Iqt)return r;let e=Lqt(r),t=!kqt.test(e);if(r.options.forceShell||t){let n=Aqt.test(e);r.command=xqt.normalize(r.command),r.command=S$e.command(r.command),r.args=r.args.map(o=>S$e.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function Mqt(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?n:Nqt(n)}C$e.exports=Mqt});var R$e=C((opr,E$e)=>{"use strict";var Rde=process.platform==="win32";function Pde(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function Fqt(r,e){if(!Rde)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=D$e(i,e,"spawn");if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function D$e(r,e){return Rde&&r===1&&!e.file?Pde(e.original,"spawn"):null}function qqt(r,e){return Rde&&r===1&&!e.file?Pde(e.original,"spawnSync"):null}E$e.exports={hookChildProcess:Fqt,verifyENOENT:D$e,verifyENOENTSync:qqt,notFoundError:Pde}});var O$e=C((spr,JI)=>{"use strict";var P$e=require("child_process"),xde=T$e(),Ode=R$e();function x$e(r,e,t){let n=xde(r,e,t),i=P$e.spawn(n.command,n.args,n.options);return Ode.hookChildProcess(i,n),i}function jqt(r,e,t){let n=xde(r,e,t),i=P$e.spawnSync(n.command,n.args,n.options);return i.error=i.error||Ode.verifyENOENTSync(i.status,n),i}JI.exports=x$e;JI.exports.spawn=x$e;JI.exports.sync=jqt;JI.exports._parse=xde;JI.exports._enoent=Ode});var k$e=C((apr,I$e)=>{"use strict";I$e.exports=r=>{let e=typeof r=="string"?`
`:10,t=typeof r=="string"?"\r":13;return r[r.length-1]===e&&(r=r.slice(0,r.length-1)),r[r.length-1]===t&&(r=r.slice(0,r.length-1)),r}});var L$e=C((cpr,Ide)=>{"use strict";var A$e=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Ide.exports=A$e;Ide.exports.default=A$e});var F$e=C((upr,tq)=>{"use strict";var eq=require("path"),N$e=L$e(),M$e=r=>{r={cwd:process.cwd(),path:process.env[N$e()],execPath:process.execPath,...r};let e,t=eq.resolve(r.cwd),n=[];for(;e!==t;)n.push(eq.join(t,"node_modules/.bin")),e=t,t=eq.resolve(t,"..");let i=eq.resolve(r.cwd,r.execPath,"..");return n.push(i),n.concat(r.path).join(eq.delimiter)};tq.exports=M$e;tq.exports.default=M$e;tq.exports.env=r=>{r={env:process.env,...r};let e={...r.env},t=N$e({env:e});return r.path=e[t],e[t]=tq.exports(r),e}});var j$e=C((lpr,kde)=>{"use strict";var q$e=(r,e)=>{for(let t of Reflect.ownKeys(e))Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t));return r};kde.exports=q$e;kde.exports.default=q$e});var U$e=C((dpr,B6)=>{"use strict";var zqt=j$e(),H6=new WeakMap,z$e=(r,e={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let t,n=0,i=r.displayName||r.name||"<anonymous>",o=function(...s){if(H6.set(o,++n),n===1)t=r.apply(this,s),r=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return t};return zqt(o,r),H6.set(o,n),o};B6.exports=z$e;B6.exports.default=z$e;B6.exports.callCount=r=>{if(!H6.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return H6.get(r)}});var H$e=C(W6=>{"use strict";Object.defineProperty(W6,"__esModule",{value:!0});W6.SIGNALS=void 0;var Uqt=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];W6.SIGNALS=Uqt});var Ade=C(XI=>{"use strict";Object.defineProperty(XI,"__esModule",{value:!0});XI.SIGRTMAX=XI.getRealtimeSignals=void 0;var Hqt=function(){let r=W$e-B$e+1;return Array.from({length:r},Bqt)};XI.getRealtimeSignals=Hqt;var Bqt=function(r,e){return{name:`SIGRT${e+1}`,number:B$e+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},B$e=34,W$e=64;XI.SIGRTMAX=W$e});var $$e=C($6=>{"use strict";Object.defineProperty($6,"__esModule",{value:!0});$6.getSignals=void 0;var Wqt=require("os"),$qt=H$e(),Vqt=Ade(),Gqt=function(){let r=(0,Vqt.getRealtimeSignals)();return[...$qt.SIGNALS,...r].map(Kqt)};$6.getSignals=Gqt;var Kqt=function({name:r,number:e,description:t,action:n,forced:i=!1,standard:o}){let{signals:{[r]:s}}=Wqt.constants,a=s!==void 0;return{name:r,number:a?s:e,description:t,supported:a,action:n,forced:i,standard:o}}});var G$e=C(QI=>{"use strict";Object.defineProperty(QI,"__esModule",{value:!0});QI.signalsByNumber=QI.signalsByName=void 0;var Yqt=require("os"),V$e=$$e(),Jqt=Ade(),Xqt=function(){return(0,V$e.getSignals)().reduce(Qqt,{})},Qqt=function(r,{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}){return{...r,[e]:{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}}},Zqt=Xqt();QI.signalsByName=Zqt;var e2t=function(){let r=(0,V$e.getSignals)(),e=Jqt.SIGRTMAX+1,t=Array.from({length:e},(n,i)=>t2t(i,r));return Object.assign({},...t)},t2t=function(r,e){let t=r2t(r,e);if(t===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=t;return{[r]:{name:n,number:r,description:i,supported:o,action:s,forced:a,standard:c}}},r2t=function(r,e){let t=e.find(({name:n})=>Yqt.constants.signals[n]===r);return t!==void 0?t:e.find(n=>n.number===r)},n2t=e2t();QI.signalsByNumber=n2t});var Y$e=C((gpr,K$e)=>{"use strict";var{signalsByName:i2t}=G$e(),o2t=({timedOut:r,timeout:e,errorCode:t,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>r?`timed out after ${e} milliseconds`:s?"was canceled":t!==void 0?`failed with ${t}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",s2t=({stdout:r,stderr:e,all:t,error:n,signal:i,exitCode:o,command:s,timedOut:a,isCanceled:c,killed:u,parsed:{options:{timeout:l}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let d=i===void 0?void 0:i2t[i].description,f=n&&n.code,_=`Command ${o2t({timedOut:a,timeout:l,errorCode:f,signal:i,signalDescription:d,exitCode:o,isCanceled:c})}: ${s}`,D=n instanceof Error?`${_}
${n.message}`:_,x=[D,e,r].filter(Boolean).join(`
`);return n instanceof Error?(n.originalMessage=n.message,n.message=x):n=new Error(x),n.shortMessage=D,n.command=s,n.exitCode=o,n.signal=i,n.signalDescription=d,n.stdout=r,n.stderr=e,t!==void 0&&(n.all=t),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!a,n.isCanceled=c,n.killed=u&&!a,n};K$e.exports=s2t});var X$e=C((vpr,Lde)=>{"use strict";var V6=["stdin","stdout","stderr"],a2t=r=>V6.some(e=>r[e]!==void 0),J$e=r=>{if(!r)return;let{stdio:e}=r;if(e===void 0)return V6.map(n=>r[n]);if(a2t(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${V6.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let t=Math.max(e.length,V6.length);return Array.from({length:t},(n,i)=>e[i])};Lde.exports=J$e;Lde.exports.node=r=>{let e=J$e(r);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var Q$e=C((ypr,G6)=>{G6.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&G6.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&G6.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var n3e=C((_pr,tk)=>{var Cc=global.process,GE=function(r){return r&&typeof r=="object"&&typeof r.removeListener=="function"&&typeof r.emit=="function"&&typeof r.reallyExit=="function"&&typeof r.listeners=="function"&&typeof r.kill=="function"&&typeof r.pid=="number"&&typeof r.on=="function"};GE(Cc)?(Z$e=require("assert"),ZI=Q$e(),e3e=/^win/i.test(Cc.platform),rq=require("events"),typeof rq!="function"&&(rq=rq.EventEmitter),Cc.__signal_exit_emitter__?xd=Cc.__signal_exit_emitter__:(xd=Cc.__signal_exit_emitter__=new rq,xd.count=0,xd.emitted={}),xd.infinite||(xd.setMaxListeners(1/0),xd.infinite=!0),tk.exports=function(r,e){if(!GE(global.process))return function(){};Z$e.equal(typeof r,"function","a callback must be provided for exit handler"),ek===!1&&Nde();var t="exit";e&&e.alwaysLast&&(t="afterexit");var n=function(){xd.removeListener(t,r),xd.listeners("exit").length===0&&xd.listeners("afterexit").length===0&&K6()};return xd.on(t,r),n},K6=function(){!ek||!GE(global.process)||(ek=!1,ZI.forEach(function(e){try{Cc.removeListener(e,Y6[e])}catch{}}),Cc.emit=J6,Cc.reallyExit=Mde,xd.count-=1)},tk.exports.unload=K6,KE=function(e,t,n){xd.emitted[e]||(xd.emitted[e]=!0,xd.emit(e,t,n))},Y6={},ZI.forEach(function(r){Y6[r]=function(){if(GE(global.process)){var t=Cc.listeners(r);t.length===xd.count&&(K6(),KE("exit",null,r),KE("afterexit",null,r),e3e&&r==="SIGHUP"&&(r="SIGINT"),Cc.kill(Cc.pid,r))}}}),tk.exports.signals=function(){return ZI},ek=!1,Nde=function(){ek||!GE(global.process)||(ek=!0,xd.count+=1,ZI=ZI.filter(function(e){try{return Cc.on(e,Y6[e]),!0}catch{return!1}}),Cc.emit=r3e,Cc.reallyExit=t3e)},tk.exports.load=Nde,Mde=Cc.reallyExit,t3e=function(e){GE(global.process)&&(Cc.exitCode=e||0,KE("exit",Cc.exitCode,null),KE("afterexit",Cc.exitCode,null),Mde.call(Cc,Cc.exitCode))},J6=Cc.emit,r3e=function(e,t){if(e==="exit"&&GE(global.process)){t!==void 0&&(Cc.exitCode=t);var n=J6.apply(this,arguments);return KE("exit",Cc.exitCode,null),KE("afterexit",Cc.exitCode,null),n}else return J6.apply(this,arguments)}):tk.exports=function(){return function(){}};var Z$e,ZI,e3e,rq,xd,K6,KE,Y6,ek,Nde,Mde,t3e,J6,r3e});var o3e=C((bpr,i3e)=>{"use strict";var c2t=require("os"),u2t=n3e(),l2t=1e3*5,d2t=(r,e="SIGTERM",t={})=>{let n=r(e);return f2t(r,e,t,n),n},f2t=(r,e,t,n)=>{if(!h2t(e,t,n))return;let i=m2t(t),o=setTimeout(()=>{r("SIGKILL")},i);o.unref&&o.unref()},h2t=(r,{forceKillAfterTimeout:e},t)=>p2t(r)&&e!==!1&&t,p2t=r=>r===c2t.constants.signals.SIGTERM||typeof r=="string"&&r.toUpperCase()==="SIGTERM",m2t=({forceKillAfterTimeout:r=!0})=>{if(r===!0)return l2t;if(!Number.isInteger(r)||r<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`);return r},g2t=(r,e)=>{r.kill()&&(e.isCanceled=!0)},v2t=(r,e,t)=>{r.kill(e),t(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},y2t=(r,{timeout:e,killSignal:t="SIGTERM"},n)=>{if(e===0||e===void 0)return n;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);let i,o=new Promise((a,c)=>{i=setTimeout(()=>{v2t(r,t,c)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},_2t=async(r,{cleanup:e,detached:t},n)=>{if(!e||t)return n;let i=u2t(()=>{r.kill()});return n.finally(()=>{i()})};i3e.exports={spawnedKill:d2t,spawnedCancel:g2t,setupTimeout:y2t,setExitHandler:_2t}});var a3e=C((wpr,s3e)=>{"use strict";var ow=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";ow.writable=r=>ow(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object";ow.readable=r=>ow(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object";ow.duplex=r=>ow.writable(r)&&ow.readable(r);ow.transform=r=>ow.duplex(r)&&typeof r._transform=="function";s3e.exports=ow});var l3e=C((Spr,u3e)=>{var b2t=FL(),w2t=function(){},S2t=function(r){return r.setHeader&&typeof r.abort=="function"},C2t=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},c3e=function(r,e,t){if(typeof e=="function")return c3e(r,null,e);e||(e={}),t=b2t(t||w2t);var n=r._writableState,i=r._readableState,o=e.readable||e.readable!==!1&&r.readable,s=e.writable||e.writable!==!1&&r.writable,a=!1,c=function(){r.writable||u()},u=function(){s=!1,o||t.call(r)},l=function(){o=!1,s||t.call(r)},d=function(x){t.call(r,x?new Error("exited with error code: "+x):null)},f=function(x){t.call(r,x)},p=function(){process.nextTick(_)},_=function(){if(!a){if(o&&!(i&&i.ended&&!i.destroyed))return t.call(r,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return t.call(r,new Error("premature close"))}},D=function(){r.req.on("finish",u)};return S2t(r)?(r.on("complete",u),r.on("abort",p),r.req?D():r.on("request",D)):s&&!n&&(r.on("end",c),r.on("close",c)),C2t(r)&&r.on("exit",d),r.on("end",l),r.on("finish",u),e.error!==!1&&r.on("error",f),r.on("close",p),function(){a=!0,r.removeListener("complete",u),r.removeListener("abort",p),r.removeListener("request",D),r.req&&r.req.removeListener("finish",u),r.removeListener("end",c),r.removeListener("close",c),r.removeListener("finish",u),r.removeListener("exit",d),r.removeListener("end",l),r.removeListener("error",f),r.removeListener("close",p)}};u3e.exports=c3e});var h3e=C((Cpr,f3e)=>{var T2t=FL(),D2t=l3e(),Fde=require("fs"),nq=function(){},E2t=/^v?\.0/.test(process.version),X6=function(r){return typeof r=="function"},R2t=function(r){return!E2t||!Fde?!1:(r instanceof(Fde.ReadStream||nq)||r instanceof(Fde.WriteStream||nq))&&X6(r.close)},P2t=function(r){return r.setHeader&&X6(r.abort)},x2t=function(r,e,t,n){n=T2t(n);var i=!1;r.on("close",function(){i=!0}),D2t(r,{readable:e,writable:t},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,R2t(r))return r.close(nq);if(P2t(r))return r.abort();if(X6(r.destroy))return r.destroy();n(s||new Error("stream was destroyed"))}}},d3e=function(r){r()},O2t=function(r,e){return r.pipe(e)},I2t=function(){var r=Array.prototype.slice.call(arguments),e=X6(r[r.length-1]||nq)&&r.pop()||nq;if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Error("pump requires two streams per minimum");var t,n=r.map(function(i,o){var s=o<r.length-1,a=o>0;return x2t(i,s,a,function(c){t||(t=c),c&&n.forEach(d3e),!s&&(n.forEach(d3e),e(t))})});return r.reduce(O2t)};f3e.exports=I2t});var m3e=C((Tpr,p3e)=>{"use strict";var{PassThrough:k2t}=require("stream");p3e.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let o=new k2t({objectMode:i});t&&o.setEncoding(t);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var g3e=C((Dpr,rk)=>{"use strict";var{constants:A2t}=require("buffer"),L2t=h3e(),N2t=m3e(),Q6=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Z6(r,e){if(!r)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n;return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=A2t.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};n=L2t(r,N2t(e),a=>{if(a){s(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>t&&s(new Q6)})}),n.getBufferedValue()}rk.exports=Z6;rk.exports.default=Z6;rk.exports.buffer=(r,e)=>Z6(r,{...e,encoding:"buffer"});rk.exports.array=(r,e)=>Z6(r,{...e,array:!0});rk.exports.MaxBufferError=Q6});var y3e=C((Epr,v3e)=>{"use strict";var{PassThrough:M2t}=require("stream");v3e.exports=function(){var r=[],e=new M2t({objectMode:!0});return e.setMaxListeners(0),e.add=t,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(t),e;function t(o){return Array.isArray(o)?(o.forEach(t),this):(r.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return r.length==0}function i(o){r=r.filter(function(s){return s!==o}),!r.length&&e.readable&&e.end()}}});var S3e=C((Rpr,w3e)=>{"use strict";var b3e=a3e(),_3e=g3e(),F2t=y3e(),q2t=(r,e)=>{e===void 0||r.stdin===void 0||(b3e(e)?e.pipe(r.stdin):r.stdin.end(e))},j2t=(r,{all:e})=>{if(!e||!r.stdout&&!r.stderr)return;let t=F2t();return r.stdout&&t.add(r.stdout),r.stderr&&t.add(r.stderr),t},qde=async(r,e)=>{if(r){r.destroy();try{return await e}catch(t){return t.bufferedData}}},jde=(r,{encoding:e,buffer:t,maxBuffer:n})=>{if(!(!r||!t))return e?_3e(r,{encoding:e,maxBuffer:n}):_3e.buffer(r,{maxBuffer:n})},z2t=async({stdout:r,stderr:e,all:t},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=jde(r,{encoding:n,buffer:i,maxBuffer:o}),c=jde(e,{encoding:n,buffer:i,maxBuffer:o}),u=jde(t,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,c,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},qde(r,a),qde(e,c),qde(t,u)])}},U2t=({input:r})=>{if(b3e(r))throw new TypeError("The `input` option cannot be a stream in sync mode")};w3e.exports={handleInput:q2t,makeAllStream:j2t,getSpawnedResult:z2t,validateInputSync:U2t}});var T3e=C((Ppr,C3e)=>{"use strict";var zde=(r,e,t)=>{let n=typeof e=="function"?(...i)=>e()[t](...i):e[t].bind(e);Object.defineProperty(r,t,{value:n,writable:!0,enumerable:!1,configurable:!0})},H2t=(r,e)=>(zde(r,e,"then"),zde(r,e,"catch"),zde(r,e,"finally"),r),B2t=r=>new Promise((e,t)=>{r.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),r.on("error",n=>{t(n)}),r.stdin&&r.stdin.on("error",n=>{t(n)})});C3e.exports={mergePromise:H2t,getSpawnedPromise:B2t}});var E3e=C((xpr,D3e)=>{"use strict";var W2t=/ +/g,$2t=(r,e=[])=>Array.isArray(e)?[r,...e].join(" "):r,V2t=(r,e,t)=>{if(t===0)return[e];let n=r[r.length-1];return n.endsWith("\\")?[...r.slice(0,-1),`${n.slice(0,-1)} ${e}`]:[...r,e]},G2t=r=>r.trim().split(W2t).reduce(V2t,[]);D3e.exports={joinCommand:$2t,parseCommand:G2t}});var A3e=C((Opr,nk)=>{"use strict";var K2t=require("path"),Ude=require("child_process"),P3e=O$e(),Y2t=k$e(),J2t=F$e(),X2t=U$e(),e5=Y$e(),x3e=X$e(),{spawnedKill:Q2t,spawnedCancel:Z2t,setupTimeout:ejt,setExitHandler:tjt}=o3e(),{handleInput:rjt,getSpawnedResult:njt,makeAllStream:ijt,validateInputSync:ojt}=S3e(),{mergePromise:R3e,getSpawnedPromise:sjt}=T3e(),{joinCommand:O3e,parseCommand:I3e}=E3e(),ajt=1e3*1e3*100,cjt=({env:r,extendEnv:e,preferLocal:t,localDir:n,execPath:i})=>{let o=e?{...process.env,...r}:r;return t?J2t.env({env:o,cwd:n,execPath:i}):o},k3e=(r,e,t={})=>{let n=P3e._parse(r,e,t);return r=n.command,e=n.args,t=n.options,t={maxBuffer:ajt,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:t.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...t},t.env=cjt(t),t.stdio=x3e(t),process.platform==="win32"&&K2t.basename(r,".exe")==="cmd"&&e.unshift("/q"),{file:r,args:e,options:t,parsed:n}},iq=(r,e,t)=>typeof e!="string"&&!Buffer.isBuffer(e)?t===void 0?void 0:"":r.stripFinalNewline?Y2t(e):e,t5=(r,e,t)=>{let n=k3e(r,e,t),i=O3e(r,e),o;try{o=Ude.spawn(n.file,n.args,n.options)}catch(f){let p=new Ude.ChildProcess,_=Promise.reject(e5({error:f,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return R3e(p,_)}let s=sjt(o),a=ejt(o,n.options,s),c=tjt(o,n.options,a),u={isCanceled:!1};o.kill=Q2t.bind(null,o.kill.bind(o)),o.cancel=Z2t.bind(null,o,u);let d=X2t(async()=>{let[{error:f,exitCode:p,signal:_,timedOut:D},x,N,A]=await njt(o,n.options,c),U=iq(n.options,x),ee=iq(n.options,N),he=iq(n.options,A);if(f||p!==0||_!==null){let we=e5({error:f,exitCode:p,signal:_,stdout:U,stderr:ee,all:he,command:i,parsed:n,timedOut:D,isCanceled:u.isCanceled,killed:o.killed});if(!n.options.reject)return we;throw we}return{command:i,exitCode:0,stdout:U,stderr:ee,all:he,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return P3e._enoent.hookChildProcess(o,n.parsed),rjt(o,n.options.input),o.all=ijt(o,n.options),R3e(o,d)};nk.exports=t5;nk.exports.sync=(r,e,t)=>{let n=k3e(r,e,t),i=O3e(r,e);ojt(n.options);let o;try{o=Ude.spawnSync(n.file,n.args,n.options)}catch(c){throw e5({error:c,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let s=iq(n.options,o.stdout,o.error),a=iq(n.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let c=e5({stdout:s,stderr:a,error:o.error,signal:o.signal,exitCode:o.status,command:i,parsed:n,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!n.options.reject)return c;throw c}return{command:i,exitCode:0,stdout:s,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};nk.exports.command=(r,e)=>{let[t,...n]=I3e(r);return t5(t,n,e)};nk.exports.commandSync=(r,e)=>{let[t,...n]=I3e(r);return t5.sync(t,n,e)};nk.exports.node=(r,e,t={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(t=e,e=[]);let n=x3e.node(t),{nodePath:i=process.execPath,nodeOptions:o=process.execArgv}=t;return t5(i,[...o,r,...Array.isArray(e)?e:[]],{...t,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var fC=C(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.findWindowsCandidates=bh.sort=bh.preferredEdgePath=bh.preferredFirefoxPath=bh.preferredChromePath=bh.escapeRegexSpecialChars=bh.canAccess=void 0;var ujt=require("path");async function oq({access:r},e){if(!e)return!1;try{return await r(e),!0}catch{return!1}}bh.canAccess=oq;var ljt="/\\.?*()^${}|[]+";function djt(r,e){let t=ljt.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${t}]`,"g");return r.replace(n,"\\$&")}bh.escapeRegexSpecialChars=djt;async function fjt(r,e){if(await oq(r,e.CHROME_PATH))return e.CHROME_PATH}bh.preferredChromePath=fjt;async function hjt(r,e){if(await oq(r,e.FIREFOX_PATH))return e.FIREFOX_PATH}bh.preferredFirefoxPath=hjt;async function pjt(r,e){if(await oq(r,e.EDGE_PATH))return e.EDGE_PATH}bh.preferredEdgePath=pjt;function mjt(r,e){return[...r].filter(n=>!!n).map(n=>{let i=e.find(o=>o.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}bh.sort=mjt;async function gjt(r,e,t){let n=[r.LOCALAPPDATA,r.PROGRAMFILES,r["PROGRAMFILES(X86)"]].filter(o=>!!o),i=[];for(let o of n)for(let s of t){let a=ujt.win32.join(o,s.name);i.push(oq(e,a).then(c=>c?{path:a,quality:s.type}:void 0))}return(await Promise.all(i)).filter(o=>!!o)}bh.findWindowsCandidates=gjt});var n5=C(r5=>{"use strict";Object.defineProperty(r5,"__esModule",{value:!0});r5.DarwinFinderBase=void 0;var vjt=require("path"),yjt=require("fs"),Hde=fC(),L3e=/( \(0x[a-f0-9]+\))/,Bde=class{constructor(e=process.env,t=yjt.promises,n=n){this.env=e,this.fs=t,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let t of this.wellKnownPaths)if(e(t)&&await(0,Hde.canAccess)(this.fs,t.path))return t;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,t,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${L3e.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),o=[...t,...i.split(`
`).map(c=>c.trim().replace(L3e,""))].filter(c=>!!c),s=this.getPreferredPath();s&&o.push(s);let a=new Set;for(let c of o)for(let u of n){let l=vjt.posix.join(c.trim(),u);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let t=this.env.HOME&&(0,Hde.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((o,s)=>[...o,{regex:new RegExp(`^/Applications/.*${s.name}`),weight:s.weight+100,quality:s.quality},{regex:new RegExp(`^${t}/Applications/.*${s.name}`),weight:s.weight,quality:s.quality},{regex:new RegExp(`^/Volumes/.*${s.name}`),weight:s.weight-100,quality:s.quality}],[]);return n&&i.unshift({regex:new RegExp((0,Hde.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};r5.DarwinFinderBase=Bde});var N3e=C(i5=>{"use strict";Object.defineProperty(i5,"__esModule",{value:!0});i5.DarwinChromeBrowserFinder=void 0;var _jt=fC(),bjt=n5(),Wde=class extends bjt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],t=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",t,e);return(0,_jt.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};i5.DarwinChromeBrowserFinder=Wde});var M3e=C(o5=>{"use strict";Object.defineProperty(o5,"__esModule",{value:!0});o5.DarwinEdgeBrowserFinder=void 0;var wjt=fC(),Sjt=n5(),$de=class extends Sjt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],t=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",t,e);return(0,wjt.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};o5.DarwinEdgeBrowserFinder=$de});var F3e=C(s5=>{"use strict";Object.defineProperty(s5,"__esModule",{value:!0});s5.DarwinFirefoxBrowserFinder=void 0;var Cjt=fC(),Tjt=n5(),Vde=class extends Tjt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Firefox.app/Contents/MacOS/firefox",quality:"stable"},{path:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",quality:"dev"},{path:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",quality:"canary"}]}async findAllInner(){let e=["/Contents/MacOS/firefox"],t=["/Applications/Firefox.app"],n=await this.findLaunchRegisteredApps("Firefox[A-Za-z ]*.app",t,e);return(0,Cjt.sort)(n,this.createPriorities([{name:"Firefox.app",weight:0,quality:"stable"},{name:"Firefox Nightly.app",weight:1,quality:"canary"},{name:"Firefox Developer Edition.app",weight:2,quality:"dev"}]))}getPreferredPath(){return this.env.FIREFOX_PATH}};s5.DarwinFirefoxBrowserFinder=Vde});var c5=C(a5=>{"use strict";Object.defineProperty(a5,"__esModule",{value:!0});a5.LinuxChromeBrowserFinder=void 0;var Djt=require("path"),ik=fC(),Gde=require("child_process"),Ejt=require("os"),Rjt=require("fs"),q3e=/\r?\n/,Kde=class{constructor(e=process.env,t=Rjt.promises){this.env=e,this.fs=t,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,t=this.env[this.pathEnvironmentVar];t&&await(0,ik.canAccess)(this.fs,t)&&e.add(t),[Djt.posix.join((0,Ejt.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(s=>{for(let a in this.findChromeExecutables(s))e.add(a)}),await Promise.all(this.executablesOnPath.map(async s=>{try{let a=(0,Gde.execFileSync)("which",[s],{stdio:"pipe"}).toString().split(q3e)[0];await(0,ik.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let o=t?[{regex:new RegExp((0,ik.escapeRegexSpecialChars)(t)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,ik.sort)(e,o)}async findChromeExecutables(e){let t=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,ik.canAccess)(this.fs,e)){let o;try{o=(0,Gde.execSync)(`grep -ER "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{o=(0,Gde.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let s=o.toString().split(q3e).map(a=>a.replace(t,"$1"));await Promise.all(s.map(async a=>{await(0,ik.canAccess)(this.fs,a)&&i.push(a)}))}return i}};a5.LinuxChromeBrowserFinder=Kde});var j3e=C(u5=>{"use strict";Object.defineProperty(u5,"__esModule",{value:!0});u5.LinuxEdgeBrowserFinder=void 0;var Pjt=c5(),Yde=class extends Pjt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};u5.LinuxEdgeBrowserFinder=Yde});var z3e=C(l5=>{"use strict";Object.defineProperty(l5,"__esModule",{value:!0});l5.LinuxFirefoxBrowserFinder=void 0;var xjt=c5(),Jde=class extends xjt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="FIREFOX_PATH",this.executablesOnPath=["firefox-aurora","firefox-dev","firefox-developer","firefox-trunk","firefox-nightly","firefox"],this.priorities=[{regex:/firefox\-aurora$/,weight:51,quality:"dev"},{regex:/firefox\-dev$/,weight:51,quality:"dev"},{regex:/firefox\-developer$/,weight:51,quality:"dev"},{regex:/firefox\-trunk'$/,weight:50,quality:"canary"},{regex:/firefox\-nightly'$/,weight:50,quality:"canary"},{regex:/firefox$/,weight:49,quality:"stable"}]}};l5.LinuxFirefoxBrowserFinder=Jde});var H3e=C(d5=>{"use strict";Object.defineProperty(d5,"__esModule",{value:!0});d5.WindowsChromeBrowserFinder=void 0;var Ojt=require("path"),U3e=fC(),Ijt=require("fs"),Xde=class{constructor(e=process.env,t=Ijt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=Ojt.win32.sep,t=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,U3e.findWindowsCandidates)(this.env,this.fs,t),i=await(0,U3e.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};d5.WindowsChromeBrowserFinder=Xde});var W3e=C(f5=>{"use strict";Object.defineProperty(f5,"__esModule",{value:!0});f5.WindowsEdgeBrowserFinder=void 0;var wh=require("path"),kjt=require("fs"),B3e=fC(),Qde=class{constructor(e=process.env,t=kjt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${wh.sep}Microsoft${wh.sep}Edge SxS${wh.sep}Application${wh.sep}msedge.exe`,type:"canary"},{name:`${wh.sep}Microsoft${wh.sep}Edge Dev${wh.sep}Application${wh.sep}msedge.exe`,type:"dev"},{name:`${wh.sep}Microsoft${wh.sep}Edge Beta${wh.sep}Application${wh.sep}msedge.exe`,type:"beta"},{name:`${wh.sep}Microsoft${wh.sep}Edge${wh.sep}Application${wh.sep}msedge.exe`,type:"stable"}],t=await(0,B3e.findWindowsCandidates)(this.env,this.fs,e),n=await(0,B3e.preferredEdgePath)(this.fs,this.env);return n&&t.unshift({path:n,quality:"custom"}),t}};f5.WindowsEdgeBrowserFinder=Qde});var V3e=C(h5=>{"use strict";Object.defineProperty(h5,"__esModule",{value:!0});h5.WindowsFirefoxBrowserFinder=void 0;var Ajt=require("path"),$3e=fC(),Ljt=require("fs"),Zde=class{constructor(e=process.env,t=Ljt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=Ajt.win32.sep,t=[{name:`${e}Firefox Developer Edition${e}firefox.exe`,type:"dev"},{name:`${e}Firefox Nightly${e}firefox.exe`,type:"canary"},{name:`${e}Mozilla Firefox${e}firefox.exe`,type:"stable"}],n=await(0,$3e.findWindowsCandidates)(this.env,this.fs,t),i=await(0,$3e.preferredFirefoxPath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};h5.WindowsFirefoxBrowserFinder=Zde});var G3e=C(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.FirefoxBrowserFinder=jg.EdgeBrowserFinder=jg.ChromeBrowserFinder=jg.isQuality=jg.allQualities=void 0;var Njt=N3e(),Mjt=M3e(),Fjt=F3e(),qjt=c5(),jjt=j3e(),zjt=z3e(),Ujt=H3e(),Hjt=W3e(),Bjt=V3e(),Wjt={canary:null,stable:null,beta:null,dev:null,custom:null};jg.allQualities=new Set(Object.keys(Wjt));var $jt=r=>jg.allQualities.has(r);jg.isQuality=$jt;jg.ChromeBrowserFinder=process.platform==="win32"?Ujt.WindowsChromeBrowserFinder:process.platform==="darwin"?Njt.DarwinChromeBrowserFinder:qjt.LinuxChromeBrowserFinder;jg.EdgeBrowserFinder=process.platform==="win32"?Hjt.WindowsEdgeBrowserFinder:process.platform==="darwin"?Mjt.DarwinEdgeBrowserFinder:jjt.LinuxEdgeBrowserFinder;jg.FirefoxBrowserFinder=process.platform==="win32"?Bjt.WindowsFirefoxBrowserFinder:process.platform==="darwin"?Fjt.DarwinFirefoxBrowserFinder:zjt.LinuxFirefoxBrowserFinder});var ID=C(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.PIPE_NAME_PREFIX=vf.availabilityChangedEvent=vf.RemoteServiceConnections=vf.MessageDelimiters=vf.Formatters=void 0;var rzt;(function(r){r[r.Utf8=0]="Utf8",r[r.MessagePack=1]="MessagePack"})(rzt=vf.Formatters||(vf.Formatters={}));var nzt;(function(r){r[r.HttpLikeHeaders=0]="HttpLikeHeaders",r[r.BigEndianInt32LengthHeader=1]="BigEndianInt32LengthHeader"})(nzt=vf.MessageDelimiters||(vf.MessageDelimiters={}));var lVe;(function(r){r[r.None=0]="None",r[r.Multiplexing=1]="Multiplexing",r[r.IpcPipe=2]="IpcPipe",r[r.ClrActivation=8]="ClrActivation"})(lVe=vf.RemoteServiceConnections||(vf.RemoteServiceConnections={}));(function(r){function e(n,i){return typeof n=="string"&&(n=t(n)),(n&i)===i}r.contains=e;function t(n){let i=r.None;for(let o of n.split(","))switch(o.trim()){case"None":break;case"Multiplexing":i|=r.Multiplexing;break;case"IpcPipe":i|=r.IpcPipe;break;case"ClrActivation":i|=r.ClrActivation;break;default:throw new Error(`unrecognized element '${o.trim()}'.`)}return i}r.parse=t})(lVe=vf.RemoteServiceConnections||(vf.RemoteServiceConnections={}));vf.availabilityChangedEvent="availabilityChanged";vf.PIPE_NAME_PREFIX=process.platform==="win32"?"\\\\.\\pipe\\":"/tmp/"});var ak=C(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.stringArray=Sh.array=Sh.func=Sh.error=Sh.number=Sh.string=Sh.boolean=void 0;function izt(r){return r===!0||r===!1}Sh.boolean=izt;function dVe(r){return typeof r=="string"||r instanceof String}Sh.string=dVe;function ozt(r){return typeof r=="number"||r instanceof Number}Sh.number=ozt;function szt(r){return r instanceof Error}Sh.error=szt;function azt(r){return typeof r=="function"}Sh.func=azt;function fVe(r){return Array.isArray(r)}Sh.array=fVe;function czt(r){return fVe(r)&&r.every(e=>dVe(e))}Sh.stringArray=czt});var Vfe=C(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.Message=xn.NotificationType9=xn.NotificationType8=xn.NotificationType7=xn.NotificationType6=xn.NotificationType5=xn.NotificationType4=xn.NotificationType3=xn.NotificationType2=xn.NotificationType1=xn.NotificationType0=xn.NotificationType=xn.RequestType9=xn.RequestType8=xn.RequestType7=xn.RequestType6=xn.RequestType5=xn.RequestType4=xn.RequestType3=xn.RequestType2=xn.RequestType1=xn.RequestType=xn.RequestType0=xn.AbstractMessageSignature=xn.ParameterStructures=xn.ResponseError=xn.ErrorCodes=void 0;var JE=ak(),hVe;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(hVe=xn.ErrorCodes||(xn.ErrorCodes={}));var Cfe=class r extends Error{constructor(e,t,n){super(t),this.code=JE.number(e)?e:hVe.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};xn.ResponseError=Cfe;var Im=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};xn.ParameterStructures=Im;Im.auto=new Im("auto");Im.byPosition=new Im("byPosition");Im.byName=new Im("byName");var Qa=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return Im.auto}};xn.AbstractMessageSignature=Qa;var Tfe=class extends Qa{constructor(e){super(e,0)}};xn.RequestType0=Tfe;var Dfe=class extends Qa{constructor(e,t=Im.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.RequestType=Dfe;var Efe=class extends Qa{constructor(e,t=Im.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.RequestType1=Efe;var Rfe=class extends Qa{constructor(e){super(e,2)}};xn.RequestType2=Rfe;var Pfe=class extends Qa{constructor(e){super(e,3)}};xn.RequestType3=Pfe;var xfe=class extends Qa{constructor(e){super(e,4)}};xn.RequestType4=xfe;var Ofe=class extends Qa{constructor(e){super(e,5)}};xn.RequestType5=Ofe;var Ife=class extends Qa{constructor(e){super(e,6)}};xn.RequestType6=Ife;var kfe=class extends Qa{constructor(e){super(e,7)}};xn.RequestType7=kfe;var Afe=class extends Qa{constructor(e){super(e,8)}};xn.RequestType8=Afe;var Lfe=class extends Qa{constructor(e){super(e,9)}};xn.RequestType9=Lfe;var Nfe=class extends Qa{constructor(e,t=Im.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.NotificationType=Nfe;var Mfe=class extends Qa{constructor(e){super(e,0)}};xn.NotificationType0=Mfe;var Ffe=class extends Qa{constructor(e,t=Im.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.NotificationType1=Ffe;var qfe=class extends Qa{constructor(e){super(e,2)}};xn.NotificationType2=qfe;var jfe=class extends Qa{constructor(e){super(e,3)}};xn.NotificationType3=jfe;var zfe=class extends Qa{constructor(e){super(e,4)}};xn.NotificationType4=zfe;var Ufe=class extends Qa{constructor(e){super(e,5)}};xn.NotificationType5=Ufe;var Hfe=class extends Qa{constructor(e){super(e,6)}};xn.NotificationType6=Hfe;var Bfe=class extends Qa{constructor(e){super(e,7)}};xn.NotificationType7=Bfe;var Wfe=class extends Qa{constructor(e){super(e,8)}};xn.NotificationType8=Wfe;var $fe=class extends Qa{constructor(e){super(e,9)}};xn.NotificationType9=$fe;var uzt;(function(r){function e(i){let o=i;return o&&JE.string(o.method)&&(JE.string(o.id)||JE.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&JE.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(JE.string(o.id)||JE.number(o.id)||o.id===null)}r.isResponse=n})(uzt=xn.Message||(xn.Message={}))});var Kfe=C(mC=>{"use strict";var pVe;Object.defineProperty(mC,"__esModule",{value:!0});mC.LRUCache=mC.LinkedMap=mC.Touch=void 0;var wp;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(wp=mC.Touch||(mC.Touch={}));var _5=class{constructor(){this[pVe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=wp.None){let n=this._map.get(e);if(n)return t!==wp.None&&this.touch(n,t),n.value}set(e,t,n=wp.None){let i=this._map.get(e);if(i)i.value=t,n!==wp.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case wp.None:this.addItemLast(i);break;case wp.First:this.addItemFirst(i);break;case wp.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(pVe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==wp.First&&t!==wp.Last)){if(t===wp.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===wp.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};mC.LinkedMap=_5;var Gfe=class extends _5{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=wp.AsNew){return super.get(e,t)}peek(e){return super.get(e,wp.None)}set(e,t){return super.set(e,t,wp.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};mC.LRUCache=Gfe});var mVe=C(lq=>{"use strict";Object.defineProperty(lq,"__esModule",{value:!0});lq.Disposable=void 0;var lzt;(function(r){function e(t){return{dispose:t}}r.create=e})(lzt=lq.Disposable||(lq.Disposable={}))});var kD=C(Xfe=>{"use strict";Object.defineProperty(Xfe,"__esModule",{value:!0});var Yfe;function Jfe(){if(Yfe===void 0)throw new Error("No runtime abstraction layer installed");return Yfe}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");Yfe=t}r.install=e})(Jfe||(Jfe={}));Xfe.default=Jfe});var ck=C(XE=>{"use strict";Object.defineProperty(XE,"__esModule",{value:!0});XE.Emitter=XE.Event=void 0;var dzt=kD(),fzt;(function(r){let e={dispose(){}};r.None=function(){return e}})(fzt=XE.Event||(XE.Event={}));var Qfe=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,dzt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},b5=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new Qfe),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};XE.Emitter=b5;b5._noop=function(){}});var S5=C(QE=>{"use strict";Object.defineProperty(QE,"__esModule",{value:!0});QE.CancellationTokenSource=QE.CancellationToken=void 0;var hzt=kD(),pzt=ak(),Zfe=ck(),ehe;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Zfe.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Zfe.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||pzt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(ehe=QE.CancellationToken||(QE.CancellationToken={}));var mzt=Object.freeze(function(r,e){let t=(0,hzt.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),w5=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?mzt:(this._emitter||(this._emitter=new Zfe.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},the=class{get token(){return this._token||(this._token=new w5),this._token}cancel(){this._token?this._token.cancel():this._token=ehe.Cancelled}dispose(){this._token?this._token instanceof w5&&this._token.dispose():this._token=ehe.None}};QE.CancellationTokenSource=the});var gVe=C(uk=>{"use strict";Object.defineProperty(uk,"__esModule",{value:!0});uk.SharedArrayReceiverStrategy=uk.SharedArraySenderStrategy=void 0;var gzt=S5(),dq;(function(r){r.Continue=0,r.Cancelled=1})(dq||(dq={}));var rhe=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=dq.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,dq.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};uk.SharedArraySenderStrategy=rhe;var nhe=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===dq.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},ihe=class{constructor(e){this.token=new nhe(e)}cancel(){}dispose(){}},ohe=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new gzt.CancellationTokenSource:new ihe(t)}};uk.SharedArrayReceiverStrategy=ohe});var ahe=C(C5=>{"use strict";Object.defineProperty(C5,"__esModule",{value:!0});C5.Semaphore=void 0;var vzt=kD(),she=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,vzt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};C5.Semaphore=she});var vVe=C(gC=>{"use strict";Object.defineProperty(gC,"__esModule",{value:!0});gC.ReadableStreamMessageReader=gC.AbstractMessageReader=gC.MessageReader=void 0;var uhe=kD(),lk=ak(),che=ck(),yzt=ahe(),_zt;(function(r){function e(t){let n=t;return n&&lk.func(n.listen)&&lk.func(n.dispose)&&lk.func(n.onError)&&lk.func(n.onClose)&&lk.func(n.onPartialMessage)}r.is=e})(_zt=gC.MessageReader||(gC.MessageReader={}));var T5=class{constructor(){this.errorEmitter=new che.Emitter,this.closeEmitter=new che.Emitter,this.partialMessageEmitter=new che.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${lk.string(e.message)?e.message:"unknown"}`)}};gC.AbstractMessageReader=T5;var lhe;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,uhe.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(lhe||(lhe={}));var dhe=class extends T5{constructor(e,t){super(),this.readable=e,this.options=lhe.fromOptions(t),this.buffer=(0,uhe.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new yzt.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,uhe.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};gC.ReadableStreamMessageReader=dhe});var wVe=C(vC=>{"use strict";Object.defineProperty(vC,"__esModule",{value:!0});vC.WriteableStreamMessageWriter=vC.AbstractMessageWriter=vC.MessageWriter=void 0;var yVe=kD(),fq=ak(),bzt=ahe(),_Ve=ck(),wzt="Content-Length: ",bVe=`\r
`,Szt;(function(r){function e(t){let n=t;return n&&fq.func(n.dispose)&&fq.func(n.onClose)&&fq.func(n.onError)&&fq.func(n.write)}r.is=e})(Szt=vC.MessageWriter||(vC.MessageWriter={}));var D5=class{constructor(){this.errorEmitter=new _Ve.Emitter,this.closeEmitter=new _Ve.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${fq.string(e.message)?e.message:"unknown"}`)}};vC.AbstractMessageWriter=D5;var fhe;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,yVe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,yVe.default)().applicationJson.encoder}}r.fromOptions=e})(fhe||(fhe={}));var hhe=class extends D5{constructor(e,t){super(),this.writable=e,this.options=fhe.fromOptions(t),this.errorCount=0,this.writeSemaphore=new bzt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(wzt,n.byteLength.toString(),bVe),i.push(bVe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};vC.WriteableStreamMessageWriter=hhe});var SVe=C(E5=>{"use strict";Object.defineProperty(E5,"__esModule",{value:!0});E5.AbstractMessageBuffer=void 0;var Czt=13,Tzt=10,Dzt=`\r
`,phe=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case Czt:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case Tzt:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(Dzt);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error("Message header must separate key and value using :");let f=l.substr(0,d),p=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,p)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};E5.AbstractMessageBuffer=phe});var xVe=C(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.createMessageConnection=wn.ConnectionOptions=wn.MessageStrategy=wn.CancellationStrategy=wn.CancellationSenderStrategy=wn.CancellationReceiverStrategy=wn.RequestCancellationReceiverStrategy=wn.IdCancellationReceiverStrategy=wn.ConnectionStrategy=wn.ConnectionError=wn.ConnectionErrors=wn.LogTraceNotification=wn.SetTraceNotification=wn.TraceFormat=wn.TraceValues=wn.Trace=wn.NullLogger=wn.ProgressType=wn.ProgressToken=void 0;var CVe=kD(),tu=ak(),_i=Vfe(),TVe=Kfe(),hq=ck(),mhe=S5(),mq;(function(r){r.type=new _i.NotificationType("$/cancelRequest")})(mq||(mq={}));var DVe;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(DVe=wn.ProgressToken||(wn.ProgressToken={}));var pq;(function(r){r.type=new _i.NotificationType("$/progress")})(pq||(pq={}));var ghe=class{constructor(){}};wn.ProgressType=ghe;var vhe;(function(r){function e(t){return tu.func(t)}r.is=e})(vhe||(vhe={}));wn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Hs;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(Hs=wn.Trace||(wn.Trace={}));var Ezt;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(Ezt=wn.TraceValues||(wn.TraceValues={}));(function(r){function e(n){if(!tu.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(Hs=wn.Trace||(wn.Trace={}));var S_;(function(r){r.Text="text",r.JSON="json"})(S_=wn.TraceFormat||(wn.TraceFormat={}));(function(r){function e(t){return tu.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(S_=wn.TraceFormat||(wn.TraceFormat={}));var EVe;(function(r){r.type=new _i.NotificationType("$/setTrace")})(EVe=wn.SetTraceNotification||(wn.SetTraceNotification={}));var yhe;(function(r){r.type=new _i.NotificationType("$/logTrace")})(yhe=wn.LogTraceNotification||(wn.LogTraceNotification={}));var R5;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(R5=wn.ConnectionErrors||(wn.ConnectionErrors={}));var dk=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};wn.ConnectionError=dk;var RVe;(function(r){function e(t){let n=t;return n&&tu.func(n.cancelUndispatched)}r.is=e})(RVe=wn.ConnectionStrategy||(wn.ConnectionStrategy={}));var whe;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&tu.func(n.createCancellationTokenSource)&&(n.dispose===void 0||tu.func(n.dispose))}r.is=e})(whe=wn.IdCancellationReceiverStrategy||(wn.IdCancellationReceiverStrategy={}));var PVe;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&tu.func(n.createCancellationTokenSource)&&(n.dispose===void 0||tu.func(n.dispose))}r.is=e})(PVe=wn.RequestCancellationReceiverStrategy||(wn.RequestCancellationReceiverStrategy={}));var _he;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new mhe.CancellationTokenSource}});function e(t){return whe.is(t)||PVe.is(t)}r.is=e})(_he=wn.CancellationReceiverStrategy||(wn.CancellationReceiverStrategy={}));var bhe;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(mq.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&tu.func(n.sendCancellation)&&tu.func(n.cleanup)}r.is=e})(bhe=wn.CancellationSenderStrategy||(wn.CancellationSenderStrategy={}));var She;(function(r){r.Message=Object.freeze({receiver:_he.Message,sender:bhe.Message});function e(t){let n=t;return n&&_he.is(n.receiver)&&bhe.is(n.sender)}r.is=e})(She=wn.CancellationStrategy||(wn.CancellationStrategy={}));var Che;(function(r){function e(t){let n=t;return n&&tu.func(n.handleMessage)}r.is=e})(Che=wn.MessageStrategy||(wn.MessageStrategy={}));var Rzt;(function(r){function e(t){let n=t;return n&&(She.is(n.cancellationStrategy)||RVe.is(n.connectionStrategy)||Che.is(n.messageStrategy))}r.is=e})(Rzt=wn.ConnectionOptions||(wn.ConnectionOptions={}));var C_;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(C_||(C_={}));function Pzt(r,e,t,n){let i=t!==void 0?t:wn.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,p=new Map,_,D=new TVe.LinkedMap,x=new Map,N=new Set,A=new Map,U=Hs.Off,ee=S_.Text,he,we=C_.New,V=new hq.Emitter,W=new hq.Emitter,te=new hq.Emitter,De=new hq.Emitter,ae=new hq.Emitter,ue=n&&n.cancellationStrategy?n.cancellationStrategy:She.Message;function qe(oe){if(oe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+oe.toString()}function Me(oe){return oe===null?"res-unknown-"+(++a).toString():"res-"+oe.toString()}function ce(){return"not-"+(++s).toString()}function Ce(oe,Q){_i.Message.isRequest(Q)?oe.set(qe(Q.id),Q):_i.Message.isResponse(Q)?oe.set(Me(Q.id),Q):oe.set(ce(),Q)}function be(oe){}function xe(){return we===C_.Listening}function Ne(){return we===C_.Closed}function $e(){return we===C_.Disposed}function Ct(){(we===C_.New||we===C_.Listening)&&(we=C_.Closed,W.fire(void 0))}function ze(oe){V.fire([oe,void 0,void 0])}function st(oe){V.fire(oe)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(st);function at(){_||D.size===0||(_=(0,CVe.default)().timer.setImmediate(()=>{_=void 0,fr()}))}function tt(oe){_i.Message.isRequest(oe)?zr(oe):_i.Message.isNotification(oe)?xt(oe):_i.Message.isResponse(oe)?cr(oe):hr(oe)}function fr(){if(D.size===0)return;let oe=D.shift();try{let Q=n?.messageStrategy;Che.is(Q)?Q.handleMessage(oe,tt):tt(oe)}finally{at()}}let Lr=oe=>{try{if(_i.Message.isNotification(oe)&&oe.method===mq.type.method){let Q=oe.params.id,_e=qe(Q),Je=D.get(_e);if(_i.Message.isRequest(Je)){let Yt=n?.connectionStrategy,rr=Yt&&Yt.cancelUndispatched?Yt.cancelUndispatched(Je,be):void 0;if(rr&&(rr.error!==void 0||rr.result!==void 0)){D.delete(_e),A.delete(Q),rr.id=Je.id,On(rr,oe.method,Date.now()),e.write(rr).catch(()=>i.error("Sending response for canceled message failed."));return}}let ft=A.get(Q);if(ft!==void 0){ft.cancel(),Hn(oe);return}else N.add(Q)}Ce(D,oe)}finally{at()}};function zr(oe){if($e())return;function Q($t,kt,K){let Fe={jsonrpc:c,id:oe.id};$t instanceof _i.ResponseError?Fe.error=$t.toJson():Fe.result=$t===void 0?null:$t,On(Fe,kt,K),e.write(Fe).catch(()=>i.error("Sending response failed."))}function _e($t,kt,K){let Fe={jsonrpc:c,id:oe.id,error:$t.toJson()};On(Fe,kt,K),e.write(Fe).catch(()=>i.error("Sending response failed."))}function Je($t,kt,K){$t===void 0&&($t=null);let Fe={jsonrpc:c,id:oe.id,result:$t};On(Fe,kt,K),e.write(Fe).catch(()=>i.error("Sending response failed."))}Or(oe);let ft=l.get(oe.method),Yt,rr;ft&&(Yt=ft.type,rr=ft.handler);let Jt=Date.now();if(rr||u){let $t=oe.id??String(Date.now()),kt=whe.is(ue.receiver)?ue.receiver.createCancellationTokenSource($t):ue.receiver.createCancellationTokenSource(oe);oe.id!==null&&N.has(oe.id)&&kt.cancel(),oe.id!==null&&A.set($t,kt);try{let K;if(rr)if(oe.params===void 0){if(Yt!==void 0&&Yt.numberOfParams!==0){_e(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines ${Yt.numberOfParams} params but received none.`),oe.method,Jt);return}K=rr(kt.token)}else if(Array.isArray(oe.params)){if(Yt!==void 0&&Yt.parameterStructures===_i.ParameterStructures.byName){_e(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by name but received parameters by position`),oe.method,Jt);return}K=rr(...oe.params,kt.token)}else{if(Yt!==void 0&&Yt.parameterStructures===_i.ParameterStructures.byPosition){_e(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by position but received parameters by name`),oe.method,Jt);return}K=rr(oe.params,kt.token)}else u&&(K=u(oe.method,oe.params,kt.token));let Fe=K;K?Fe.then?Fe.then(Ht=>{A.delete($t),Q(Ht,oe.method,Jt)},Ht=>{A.delete($t),Ht instanceof _i.ResponseError?_e(Ht,oe.method,Jt):Ht&&tu.string(Ht.message)?_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${Ht.message}`),oe.method,Jt):_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Jt)}):(A.delete($t),Q(K,oe.method,Jt)):(A.delete($t),Je(K,oe.method,Jt))}catch(K){A.delete($t),K instanceof _i.ResponseError?Q(K,oe.method,Jt):K&&tu.string(K.message)?_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${K.message}`),oe.method,Jt):_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Jt)}}else _e(new _i.ResponseError(_i.ErrorCodes.MethodNotFound,`Unhandled method ${oe.method}`),oe.method,Jt)}function cr(oe){if(!$e())if(oe.id===null)oe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(oe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Q=oe.id,_e=x.get(Q);if($r(oe,_e),_e!==void 0){x.delete(Q);try{if(oe.error){let Je=oe.error;_e.reject(new _i.ResponseError(Je.code,Je.message,Je.data))}else if(oe.result!==void 0)_e.resolve(oe.result);else throw new Error("Should never happen.")}catch(Je){Je.message?i.error(`Response handler '${_e.method}' failed with message: ${Je.message}`):i.error(`Response handler '${_e.method}' failed unexpectedly.`)}}}}function xt(oe){if($e())return;let Q,_e;if(oe.method===mq.type.method){let Je=oe.params.id;N.delete(Je),Hn(oe);return}else{let Je=f.get(oe.method);Je&&(_e=Je.handler,Q=Je.type)}if(_e||d)try{if(Hn(oe),_e)if(oe.params===void 0)Q!==void 0&&Q.numberOfParams!==0&&Q.parameterStructures!==_i.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received none.`),_e();else if(Array.isArray(oe.params)){let Je=oe.params;oe.method===pq.type.method&&Je.length===2&&DVe.is(Je[0])?_e({token:Je[0],value:Je[1]}):(Q!==void 0&&(Q.parameterStructures===_i.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines parameters by name but received parameters by position`),Q.numberOfParams!==oe.params.length&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received ${Je.length} arguments`)),_e(...Je))}else Q!==void 0&&Q.parameterStructures===_i.ParameterStructures.byPosition&&i.error(`Notification ${oe.method} defines parameters by position but received parameters by name`),_e(oe.params);else d&&d(oe.method,oe.params)}catch(Je){Je.message?i.error(`Notification handler '${oe.method}' failed with message: ${Je.message}`):i.error(`Notification handler '${oe.method}' failed unexpectedly.`)}else te.fire(oe)}function hr(oe){if(!oe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(oe,null,4)}`);let Q=oe;if(tu.string(Q.id)||tu.number(Q.id)){let _e=Q.id,Je=x.get(_e);Je&&Je.reject(new Error("The received response has neither a result nor an error property."))}}function Nt(oe){if(oe!=null)switch(U){case Hs.Verbose:return JSON.stringify(oe,null,4);case Hs.Compact:return JSON.stringify(oe);default:return}}function on(oe){if(!(U===Hs.Off||!he))if(ee===S_.Text){let Q;(U===Hs.Verbose||U===Hs.Compact)&&oe.params&&(Q=`Params: ${Nt(oe.params)}

`),he.log(`Sending request '${oe.method} - (${oe.id})'.`,Q)}else dn("send-request",oe)}function ln(oe){if(!(U===Hs.Off||!he))if(ee===S_.Text){let Q;(U===Hs.Verbose||U===Hs.Compact)&&(oe.params?Q=`Params: ${Nt(oe.params)}

`:Q=`No parameters provided.

`),he.log(`Sending notification '${oe.method}'.`,Q)}else dn("send-notification",oe)}function On(oe,Q,_e){if(!(U===Hs.Off||!he))if(ee===S_.Text){let Je;(U===Hs.Verbose||U===Hs.Compact)&&(oe.error&&oe.error.data?Je=`Error data: ${Nt(oe.error.data)}

`:oe.result?Je=`Result: ${Nt(oe.result)}

`:oe.error===void 0&&(Je=`No result returned.

`)),he.log(`Sending response '${Q} - (${oe.id})'. Processing request took ${Date.now()-_e}ms`,Je)}else dn("send-response",oe)}function Or(oe){if(!(U===Hs.Off||!he))if(ee===S_.Text){let Q;(U===Hs.Verbose||U===Hs.Compact)&&oe.params&&(Q=`Params: ${Nt(oe.params)}

`),he.log(`Received request '${oe.method} - (${oe.id})'.`,Q)}else dn("receive-request",oe)}function Hn(oe){if(!(U===Hs.Off||!he||oe.method===yhe.type.method))if(ee===S_.Text){let Q;(U===Hs.Verbose||U===Hs.Compact)&&(oe.params?Q=`Params: ${Nt(oe.params)}

`:Q=`No parameters provided.

`),he.log(`Received notification '${oe.method}'.`,Q)}else dn("receive-notification",oe)}function $r(oe,Q){if(!(U===Hs.Off||!he))if(ee===S_.Text){let _e;if((U===Hs.Verbose||U===Hs.Compact)&&(oe.error&&oe.error.data?_e=`Error data: ${Nt(oe.error.data)}

`:oe.result?_e=`Result: ${Nt(oe.result)}

`:oe.error===void 0&&(_e=`No result returned.

`)),Q){let Je=oe.error?` Request failed: ${oe.error.message} (${oe.error.code}).`:"";he.log(`Received response '${Q.method} - (${oe.id})' in ${Date.now()-Q.timerStart}ms.${Je}`,_e)}else he.log(`Received response ${oe.id} without active response promise.`,_e)}else dn("receive-response",oe)}function dn(oe,Q){if(!he||U===Hs.Off)return;let _e={isLSPMessage:!0,type:oe,message:Q,timestamp:Date.now()};he.log(_e)}function ii(){if(Ne())throw new dk(R5.Closed,"Connection is closed.");if($e())throw new dk(R5.Disposed,"Connection is disposed.")}function Vr(){if(xe())throw new dk(R5.AlreadyListening,"Connection is already listening")}function An(){if(!xe())throw new Error("Call listen() first.")}function Pi(oe){return oe===void 0?null:oe}function Gr(oe){if(oe!==null)return oe}function Ji(oe){return oe!=null&&!Array.isArray(oe)&&typeof oe=="object"}function oi(oe,Q){switch(oe){case _i.ParameterStructures.auto:return Ji(Q)?Gr(Q):[Pi(Q)];case _i.ParameterStructures.byName:if(!Ji(Q))throw new Error("Received parameters by name but param is not an object literal.");return Gr(Q);case _i.ParameterStructures.byPosition:return[Pi(Q)];default:throw new Error(`Unknown parameter structure ${oe.toString()}`)}}function fn(oe,Q){let _e,Je=oe.numberOfParams;switch(Je){case 0:_e=void 0;break;case 1:_e=oi(oe.parameterStructures,Q[0]);break;default:_e=[];for(let ft=0;ft<Q.length&&ft<Je;ft++)_e.push(Pi(Q[ft]));if(Q.length<Je)for(let ft=Q.length;ft<Je;ft++)_e.push(null);break}return _e}let Oe={sendNotification:(oe,...Q)=>{ii();let _e,Je;if(tu.string(oe)){_e=oe;let Yt=Q[0],rr=0,Jt=_i.ParameterStructures.auto;_i.ParameterStructures.is(Yt)&&(rr=1,Jt=Yt);let $t=Q.length,kt=$t-rr;switch(kt){case 0:Je=void 0;break;case 1:Je=oi(Jt,Q[rr]);break;default:if(Jt===_i.ParameterStructures.byName)throw new Error(`Received ${kt} parameters for 'by Name' notification parameter structure.`);Je=Q.slice(rr,$t).map(K=>Pi(K));break}}else{let Yt=Q;_e=oe.method,Je=fn(oe,Yt)}let ft={jsonrpc:c,method:_e,params:Je};return ln(ft),e.write(ft).catch(Yt=>{throw i.error("Sending notification failed."),Yt})},onNotification:(oe,Q)=>{ii();let _e;return tu.func(oe)?d=oe:Q&&(tu.string(oe)?(_e=oe,f.set(oe,{type:void 0,handler:Q})):(_e=oe.method,f.set(oe.method,{type:oe,handler:Q}))),{dispose:()=>{_e!==void 0?f.delete(_e):d=void 0}}},onProgress:(oe,Q,_e)=>{if(p.has(Q))throw new Error(`Progress handler for token ${Q} already registered`);return p.set(Q,_e),{dispose:()=>{p.delete(Q)}}},sendProgress:(oe,Q,_e)=>Oe.sendNotification(pq.type,{token:Q,value:_e}),onUnhandledProgress:De.event,sendRequest:(oe,...Q)=>{ii(),An();let _e,Je,ft;if(tu.string(oe)){_e=oe;let $t=Q[0],kt=Q[Q.length-1],K=0,Fe=_i.ParameterStructures.auto;_i.ParameterStructures.is($t)&&(K=1,Fe=$t);let Ht=Q.length;mhe.CancellationToken.is(kt)&&(Ht=Ht-1,ft=kt);let Dr=Ht-K;switch(Dr){case 0:Je=void 0;break;case 1:Je=oi(Fe,Q[K]);break;default:if(Fe===_i.ParameterStructures.byName)throw new Error(`Received ${Dr} parameters for 'by Name' request parameter structure.`);Je=Q.slice(K,Ht).map(He=>Pi(He));break}}else{let $t=Q;_e=oe.method,Je=fn(oe,$t);let kt=oe.numberOfParams;ft=mhe.CancellationToken.is($t[kt])?$t[kt]:void 0}let Yt=o++,rr;ft&&(rr=ft.onCancellationRequested(()=>{let $t=ue.sender.sendCancellation(Oe,Yt);return $t===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Yt}`),Promise.resolve()):$t.catch(()=>{i.log(`Sending cancellation messages for id ${Yt} failed`)})}));let Jt={jsonrpc:c,id:Yt,method:_e,params:Je};return on(Jt),typeof ue.sender.enableCancellation=="function"&&ue.sender.enableCancellation(Jt),new Promise(async($t,kt)=>{let K=Dr=>{$t(Dr),ue.sender.cleanup(Yt),rr?.dispose()},Fe=Dr=>{kt(Dr),ue.sender.cleanup(Yt),rr?.dispose()},Ht={method:_e,timerStart:Date.now(),resolve:K,reject:Fe};try{await e.write(Jt),x.set(Yt,Ht)}catch(Dr){throw i.error("Sending request failed."),Ht.reject(new _i.ResponseError(_i.ErrorCodes.MessageWriteError,Dr.message?Dr.message:"Unknown reason")),Dr}})},onRequest:(oe,Q)=>{ii();let _e=null;return vhe.is(oe)?(_e=void 0,u=oe):tu.string(oe)?(_e=null,Q!==void 0&&(_e=oe,l.set(oe,{handler:Q,type:void 0}))):Q!==void 0&&(_e=oe.method,l.set(oe.method,{type:oe,handler:Q})),{dispose:()=>{_e!==null&&(_e!==void 0?l.delete(_e):u=void 0)}}},hasPendingResponse:()=>x.size>0,trace:async(oe,Q,_e)=>{let Je=!1,ft=S_.Text;_e!==void 0&&(tu.boolean(_e)?Je=_e:(Je=_e.sendNotification||!1,ft=_e.traceFormat||S_.Text)),U=oe,ee=ft,U===Hs.Off?he=void 0:he=Q,Je&&!Ne()&&!$e()&&await Oe.sendNotification(EVe.type,{value:Hs.toString(oe)})},onError:V.event,onClose:W.event,onUnhandledNotification:te.event,onDispose:ae.event,end:()=>{e.end()},dispose:()=>{if($e())return;we=C_.Disposed,ae.fire(void 0);let oe=new _i.ResponseError(_i.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Q of x.values())Q.reject(oe);x=new Map,A=new Map,N=new Set,D=new TVe.LinkedMap,tu.func(e.dispose)&&e.dispose(),tu.func(r.dispose)&&r.dispose()},listen:()=>{ii(),Vr(),we=C_.Listening,r.listen(Lr)},inspect:()=>{(0,CVe.default)().console.log("inspect")}};return Oe.onNotification(yhe.type,oe=>{if(U===Hs.Off||!he)return;let Q=U===Hs.Verbose||U===Hs.Compact;he.log(oe.message,Q?oe.verbose:void 0)}),Oe.onNotification(pq.type,oe=>{let Q=p.get(oe.token);Q?Q(oe.value):De.fire(oe)}),Oe}wn.createMessageConnection=Pzt});var P5=C(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.ProgressType=Ft.ProgressToken=Ft.createMessageConnection=Ft.NullLogger=Ft.ConnectionOptions=Ft.ConnectionStrategy=Ft.AbstractMessageBuffer=Ft.WriteableStreamMessageWriter=Ft.AbstractMessageWriter=Ft.MessageWriter=Ft.ReadableStreamMessageReader=Ft.AbstractMessageReader=Ft.MessageReader=Ft.SharedArrayReceiverStrategy=Ft.SharedArraySenderStrategy=Ft.CancellationToken=Ft.CancellationTokenSource=Ft.Emitter=Ft.Event=Ft.Disposable=Ft.LRUCache=Ft.Touch=Ft.LinkedMap=Ft.ParameterStructures=Ft.NotificationType9=Ft.NotificationType8=Ft.NotificationType7=Ft.NotificationType6=Ft.NotificationType5=Ft.NotificationType4=Ft.NotificationType3=Ft.NotificationType2=Ft.NotificationType1=Ft.NotificationType0=Ft.NotificationType=Ft.ErrorCodes=Ft.ResponseError=Ft.RequestType9=Ft.RequestType8=Ft.RequestType7=Ft.RequestType6=Ft.RequestType5=Ft.RequestType4=Ft.RequestType3=Ft.RequestType2=Ft.RequestType1=Ft.RequestType0=Ft.RequestType=Ft.Message=Ft.RAL=void 0;Ft.MessageStrategy=Ft.CancellationStrategy=Ft.CancellationSenderStrategy=Ft.CancellationReceiverStrategy=Ft.ConnectionError=Ft.ConnectionErrors=Ft.LogTraceNotification=Ft.SetTraceNotification=Ft.TraceFormat=Ft.TraceValues=Ft.Trace=void 0;var Ra=Vfe();Object.defineProperty(Ft,"Message",{enumerable:!0,get:function(){return Ra.Message}});Object.defineProperty(Ft,"RequestType",{enumerable:!0,get:function(){return Ra.RequestType}});Object.defineProperty(Ft,"RequestType0",{enumerable:!0,get:function(){return Ra.RequestType0}});Object.defineProperty(Ft,"RequestType1",{enumerable:!0,get:function(){return Ra.RequestType1}});Object.defineProperty(Ft,"RequestType2",{enumerable:!0,get:function(){return Ra.RequestType2}});Object.defineProperty(Ft,"RequestType3",{enumerable:!0,get:function(){return Ra.RequestType3}});Object.defineProperty(Ft,"RequestType4",{enumerable:!0,get:function(){return Ra.RequestType4}});Object.defineProperty(Ft,"RequestType5",{enumerable:!0,get:function(){return Ra.RequestType5}});Object.defineProperty(Ft,"RequestType6",{enumerable:!0,get:function(){return Ra.RequestType6}});Object.defineProperty(Ft,"RequestType7",{enumerable:!0,get:function(){return Ra.RequestType7}});Object.defineProperty(Ft,"RequestType8",{enumerable:!0,get:function(){return Ra.RequestType8}});Object.defineProperty(Ft,"RequestType9",{enumerable:!0,get:function(){return Ra.RequestType9}});Object.defineProperty(Ft,"ResponseError",{enumerable:!0,get:function(){return Ra.ResponseError}});Object.defineProperty(Ft,"ErrorCodes",{enumerable:!0,get:function(){return Ra.ErrorCodes}});Object.defineProperty(Ft,"NotificationType",{enumerable:!0,get:function(){return Ra.NotificationType}});Object.defineProperty(Ft,"NotificationType0",{enumerable:!0,get:function(){return Ra.NotificationType0}});Object.defineProperty(Ft,"NotificationType1",{enumerable:!0,get:function(){return Ra.NotificationType1}});Object.defineProperty(Ft,"NotificationType2",{enumerable:!0,get:function(){return Ra.NotificationType2}});Object.defineProperty(Ft,"NotificationType3",{enumerable:!0,get:function(){return Ra.NotificationType3}});Object.defineProperty(Ft,"NotificationType4",{enumerable:!0,get:function(){return Ra.NotificationType4}});Object.defineProperty(Ft,"NotificationType5",{enumerable:!0,get:function(){return Ra.NotificationType5}});Object.defineProperty(Ft,"NotificationType6",{enumerable:!0,get:function(){return Ra.NotificationType6}});Object.defineProperty(Ft,"NotificationType7",{enumerable:!0,get:function(){return Ra.NotificationType7}});Object.defineProperty(Ft,"NotificationType8",{enumerable:!0,get:function(){return Ra.NotificationType8}});Object.defineProperty(Ft,"NotificationType9",{enumerable:!0,get:function(){return Ra.NotificationType9}});Object.defineProperty(Ft,"ParameterStructures",{enumerable:!0,get:function(){return Ra.ParameterStructures}});var The=Kfe();Object.defineProperty(Ft,"LinkedMap",{enumerable:!0,get:function(){return The.LinkedMap}});Object.defineProperty(Ft,"LRUCache",{enumerable:!0,get:function(){return The.LRUCache}});Object.defineProperty(Ft,"Touch",{enumerable:!0,get:function(){return The.Touch}});var xzt=mVe();Object.defineProperty(Ft,"Disposable",{enumerable:!0,get:function(){return xzt.Disposable}});var OVe=ck();Object.defineProperty(Ft,"Event",{enumerable:!0,get:function(){return OVe.Event}});Object.defineProperty(Ft,"Emitter",{enumerable:!0,get:function(){return OVe.Emitter}});var IVe=S5();Object.defineProperty(Ft,"CancellationTokenSource",{enumerable:!0,get:function(){return IVe.CancellationTokenSource}});Object.defineProperty(Ft,"CancellationToken",{enumerable:!0,get:function(){return IVe.CancellationToken}});var kVe=gVe();Object.defineProperty(Ft,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return kVe.SharedArraySenderStrategy}});Object.defineProperty(Ft,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return kVe.SharedArrayReceiverStrategy}});var Dhe=vVe();Object.defineProperty(Ft,"MessageReader",{enumerable:!0,get:function(){return Dhe.MessageReader}});Object.defineProperty(Ft,"AbstractMessageReader",{enumerable:!0,get:function(){return Dhe.AbstractMessageReader}});Object.defineProperty(Ft,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Dhe.ReadableStreamMessageReader}});var Ehe=wVe();Object.defineProperty(Ft,"MessageWriter",{enumerable:!0,get:function(){return Ehe.MessageWriter}});Object.defineProperty(Ft,"AbstractMessageWriter",{enumerable:!0,get:function(){return Ehe.AbstractMessageWriter}});Object.defineProperty(Ft,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Ehe.WriteableStreamMessageWriter}});var Ozt=SVe();Object.defineProperty(Ft,"AbstractMessageBuffer",{enumerable:!0,get:function(){return Ozt.AbstractMessageBuffer}});var yf=xVe();Object.defineProperty(Ft,"ConnectionStrategy",{enumerable:!0,get:function(){return yf.ConnectionStrategy}});Object.defineProperty(Ft,"ConnectionOptions",{enumerable:!0,get:function(){return yf.ConnectionOptions}});Object.defineProperty(Ft,"NullLogger",{enumerable:!0,get:function(){return yf.NullLogger}});Object.defineProperty(Ft,"createMessageConnection",{enumerable:!0,get:function(){return yf.createMessageConnection}});Object.defineProperty(Ft,"ProgressToken",{enumerable:!0,get:function(){return yf.ProgressToken}});Object.defineProperty(Ft,"ProgressType",{enumerable:!0,get:function(){return yf.ProgressType}});Object.defineProperty(Ft,"Trace",{enumerable:!0,get:function(){return yf.Trace}});Object.defineProperty(Ft,"TraceValues",{enumerable:!0,get:function(){return yf.TraceValues}});Object.defineProperty(Ft,"TraceFormat",{enumerable:!0,get:function(){return yf.TraceFormat}});Object.defineProperty(Ft,"SetTraceNotification",{enumerable:!0,get:function(){return yf.SetTraceNotification}});Object.defineProperty(Ft,"LogTraceNotification",{enumerable:!0,get:function(){return yf.LogTraceNotification}});Object.defineProperty(Ft,"ConnectionErrors",{enumerable:!0,get:function(){return yf.ConnectionErrors}});Object.defineProperty(Ft,"ConnectionError",{enumerable:!0,get:function(){return yf.ConnectionError}});Object.defineProperty(Ft,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return yf.CancellationReceiverStrategy}});Object.defineProperty(Ft,"CancellationSenderStrategy",{enumerable:!0,get:function(){return yf.CancellationSenderStrategy}});Object.defineProperty(Ft,"CancellationStrategy",{enumerable:!0,get:function(){return yf.CancellationStrategy}});Object.defineProperty(Ft,"MessageStrategy",{enumerable:!0,get:function(){return yf.MessageStrategy}});var Izt=kD();Ft.RAL=Izt.default});var NVe=C(Ohe=>{"use strict";Object.defineProperty(Ohe,"__esModule",{value:!0});var AVe=require("util"),yC=P5(),x5=class r extends yC.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new AVe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};x5.emptyBuffer=Buffer.allocUnsafe(0);var Rhe=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),yC.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),yC.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),yC.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),yC.Disposable.create(()=>this.stream.off("data",e))}},Phe=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),yC.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),yC.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),yC.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},LVe=Object.freeze({messageBuffer:Object.freeze({create:r=>new x5(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new AVe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new Rhe(r),asWritableStream:r=>new Phe(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function xhe(){return LVe}(function(r){function e(){yC.RAL.install(LVe)}r.install=e})(xhe||(xhe={}));Ohe.default=xhe});var tR=C(Mo=>{"use strict";var kzt=Mo&&Mo.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Azt=Mo&&Mo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kzt(e,r,t)};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.createMessageConnection=Mo.createServerSocketTransport=Mo.createClientSocketTransport=Mo.createServerPipeTransport=Mo.createClientPipeTransport=Mo.generateRandomPipeName=Mo.StreamMessageWriter=Mo.StreamMessageReader=Mo.SocketMessageWriter=Mo.SocketMessageReader=Mo.PortMessageWriter=Mo.PortMessageReader=Mo.IPCMessageWriter=Mo.IPCMessageReader=void 0;var fk=NVe();fk.default.install();var MVe=require("path"),Lzt=require("os"),Nzt=require("crypto"),k5=require("net"),zg=P5();Azt(P5(),Mo);var Ihe=class extends zg.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),zg.Disposable.create(()=>this.process.off("message",e))}};Mo.IPCMessageReader=Ihe;var khe=class extends zg.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Mo.IPCMessageWriter=khe;var Ahe=class extends zg.AbstractMessageReader{constructor(e){super(),this.onData=new zg.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};Mo.PortMessageReader=Ahe;var Lhe=class extends zg.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Mo.PortMessageWriter=Lhe;var ZE=class extends zg.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,fk.default)().stream.asReadableStream(e),t)}};Mo.SocketMessageReader=ZE;var eR=class extends zg.WriteableStreamMessageWriter{constructor(e,t){super((0,fk.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Mo.SocketMessageWriter=eR;var O5=class extends zg.ReadableStreamMessageReader{constructor(e,t){super((0,fk.default)().stream.asReadableStream(e),t)}};Mo.StreamMessageReader=O5;var I5=class extends zg.WriteableStreamMessageWriter{constructor(e,t){super((0,fk.default)().stream.asWritableStream(e),t)}};Mo.StreamMessageWriter=I5;var FVe=process.env.XDG_RUNTIME_DIR,Mzt=new Map([["linux",107],["darwin",103]]);function Fzt(){let r=(0,Nzt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;FVe?e=MVe.join(FVe,`vscode-ipc-${r}.sock`):e=MVe.join(Lzt.tmpdir(),`vscode-${r}.sock`);let t=Mzt.get(process.platform);return t!==void 0&&e.length>t&&(0,fk.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}Mo.generateRandomPipeName=Fzt;function qzt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,k5.createServer)(a=>{s.close(),t([new ZE(a,e),new eR(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Mo.createClientPipeTransport=qzt;function jzt(r,e="utf-8"){let t=(0,k5.createConnection)(r);return[new ZE(t,e),new eR(t,e)]}Mo.createServerPipeTransport=jzt;function zzt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,k5.createServer)(a=>{s.close(),t([new ZE(a,e),new eR(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Mo.createClientSocketTransport=zzt;function Uzt(r,e="utf-8"){let t=(0,k5.createConnection)(r,"127.0.0.1");return[new ZE(t,e),new eR(t,e)]}Mo.createServerSocketTransport=Uzt;function Hzt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function Bzt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function Wzt(r,e,t,n){t||(t=zg.NullLogger);let i=Hzt(r)?new O5(r):r,o=Bzt(e)?new I5(e):e;return zg.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,zg.createMessageConnection)(i,o,t,n)}Mo.createMessageConnection=Wzt});var jVe=C((Mgr,qVe)=>{"use strict";qVe.exports=tR()});var vq=C(gq=>{"use strict";Object.defineProperty(gq,"__esModule",{value:!0});gq.ServiceMoniker=void 0;var $zt;(function(r){function e(o,s){if(!o||o==="")throw new Error("name cannot be empty.");return Object.freeze({name:o,version:s,toString:i})}r.create=e;function t(o,s){return o===s?!0:!o||!s?!1:o.name===s.name&&o.version===s.version}r.equals=t;function n(o){return o.version?`${o.name} (${o.version})`:o.name}r.toString=n;function i(){return n(this)}})($zt=gq.ServiceMoniker||(gq.ServiceMoniker={}))});var Fhe=C(AD=>{"use strict";var Vzt=AD&&AD.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(AD,"__esModule",{value:!0});AD.RpcConnection=AD.ServiceRpcDescriptor=void 0;var Gzt=Vzt(require("assert")),Nhe=class{moniker;constructor(e){this.moniker=e,(0,Gzt.default)(e)}constructRpc(e,t){let n;if(t?n=e:t=e,t===void 0)throw new Error("No pipe supplied.");let i=this.constructRpcConnection(t);n!==void 0&&i.addLocalRpcTarget(n);let o=i.constructRpcClient();return i.startListening(),o}};AD.ServiceRpcDescriptor=Nhe;var Mhe=class{static IsRpcEventServer(e){return e.rpcEventNames&&e.on}};AD.RpcConnection=Mhe});var UVe=C(yq=>{"use strict";var Kzt=yq&&yq.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yq,"__esModule",{value:!0});var zVe=function(){},qhe=function(){function r(e,t){this._isCancelled=e,this.canBeCancelled=t,this._callbacks=new Set}return Object.defineProperty(r.prototype,"isCancelled",{get:function(){return this._isCancelled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"reason",{get:function(){if(this.isCancelled)return this._reason;throw new Error("This token is not cancelled.")},enumerable:!1,configurable:!0}),r.prototype.racePromise=function(e){var t=this;return this.canBeCancelled?new Promise(function(n,i){var o=t.onCancelled(function(s){return i(new r.CancellationError(s))});e.then(function(s){n(s),o()},function(s){i(s),o()})}):e},r.prototype.throwIfCancelled=function(){if(this._isCancelled)throw new r.CancellationError(this._reason)},r.prototype.onCancelled=function(e){var t=this,n;return this.canBeCancelled?this.isCancelled?(e(this.reason),zVe):((n=this._callbacks)===null||n===void 0||n.add(e),function(){var i;return(i=t._callbacks)===null||i===void 0?void 0:i.delete(e)}):zVe},r.create=function(){var e=new r(!1,!0),t=function(n){var i;e._isCancelled||(e._isCancelled=!0,e._reason=n,(i=e._callbacks)===null||i===void 0||i.forEach(function(o){return o(n)}),delete e._callbacks)};return{token:e,cancel:t}},r.timeout=function(e){var t=r.create(),n=t.token,i=t.cancel,o=setTimeout(function(){return i(r.timeout)},e),s=function(a){n._isCancelled||(clearTimeout(o),i(a))};return{token:n,cancel:s}},r.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.some(function(s){return!s.canBeCancelled}))return r.CONTINUE;var n=r.create(),i=e.length,o=function(){if(--i===0){var s=e.map(function(a){return a._reason});n.cancel(s)}};return e.forEach(function(s){return s.onCancelled(o)}),n.token},r.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o._isCancelled)return o}var s=r.create(),a,c=function(u){a.forEach(function(l){return l()}),s.cancel(u)};return a=e.map(function(u){return u.onCancelled(c)}),s.token},r.CANCELLED=new r(!0,!0),r.CONTINUE=new r(!1,!1),r}();(function(r){var e=function(t){Kzt(n,t);function n(i){var o=t.call(this,"Operation cancelled")||this;return o.reason=i,Object.setPrototypeOf(o,n.prototype),o}return n}(Error);r.CancellationError=e})(qhe||(qhe={}));yq.default=qhe});var LD=C(jhe=>{"use strict";Object.defineProperty(jhe,"__esModule",{value:!0});var Yzt=UVe();jhe.default=Yzt.default});var HVe=C(hk=>{"use strict";var Jzt=hk&&hk.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hk,"__esModule",{value:!0});hk.CancellationTokenAdapters=void 0;var zhe=Jzt(LD()),_q=tR();function Xzt(r){return r&&r.ImAProxy!==void 0}var Uhe=class{static isVSCode(e){return _q.CancellationToken.is(e)}static isCancellationToken(e){return e&&!Xzt(e)&&typeof e.throwIfCancelled=="function"&&typeof e.onCancelled=="function"&&e.isCancelled!==void 0&&e.canBeCancelled!==void 0}static vscodeToCancellationToken(e){if(e.isCancellationRequested)return zhe.default.CANCELLED;if(e===_q.CancellationToken.None)return zhe.default.CONTINUE;{let t=zhe.default.create();return e.onCancellationRequested(n=>t.cancel()),t.token}}static cancellationTokenToVSCode(e){if(e.isCancelled)return _q.CancellationToken.Cancelled;if(e.canBeCancelled){let t=new _q.CancellationTokenSource;return e.onCancelled(n=>t.cancel()),t.token}else return _q.CancellationToken.None}};hk.CancellationTokenAdapters=Uhe});var Hhe=C(mk=>{"use strict";Object.defineProperty(mk,"__esModule",{value:!0});mk.registerInstanceMethodsAsRpcTargets=mk.invokeRpc=void 0;var pk=tR(),L5=HVe(),rR=N5();async function Qzt(r,e,t){if(e.length>0){if(pk.CancellationToken.is(e[e.length-1])){let i=e[e.length-1],o=A5(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,pk.ParameterStructures.byPosition,...o,i)}else if(L5.CancellationTokenAdapters.isCancellationToken(e[e.length-1])){let i=L5.CancellationTokenAdapters.cancellationTokenToVSCode(e[e.length-1]),o=A5(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,pk.ParameterStructures.byPosition,...o,i)}else if(e[e.length-1]===void 0){let i=A5(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,pk.ParameterStructures.byPosition,...i)}}let n=A5(t,Array.prototype.slice.call(e));try{let i=await t.sendRequest(r,pk.ParameterStructures.byPosition,...n);return oUt(t,i)}catch(i){for(let o of n)rR.IJsonRpcMarshaledObject.is(o)&&rR.IJsonRpcMarshaledObject.cancelWrap(o,t);throw i}}mk.invokeRpc=Qzt;function A5(r,e){return eUt(e).map(t=>WVe(r,t))}async function Zzt(r,e){let t=await e;return WVe(r,t)}function WVe(r,e){return rR.RpcMarshalable.is(e)||rR.MarshaledObjectProxy.is(e)?rR.IJsonRpcMarshaledObject.wrap(e,r):e}function eUt(r){for(let e=0;e<r.length;e++)if(r[e]===void 0)throw new Error(`Argument at 0-based index ${e} is set as undefined, which is not a valid JSON value.`);return r}function tUt(r,e){let t=Object.getOwnPropertyDescriptor(r,e);return!!t&&typeof t.value=="function"}function rUt(r,e){let t=[],n=Object.getPrototypeOf(r);for(;n&&n!==e;)Object.getOwnPropertyNames(n).forEach(i=>{i!=="constructor"&&tUt(n,i)&&t.push(i)}),n=Object.getPrototypeOf(n);return t}function nUt(r){if(r.length>0&&L5.CancellationTokenAdapters.isVSCode(r[r.length-1])){let e=L5.CancellationTokenAdapters.vscodeToCancellationToken(r[r.length-1]);r[r.length-1]=e}return r}function iUt(r,e){return rR.IJsonRpcMarshaledObject.is(e)?rR.IJsonRpcMarshaledObject.unwrap(e,r):e}function $Ve(r,e){return iUt(r,e)}function BVe(r,e){return nUt(e).map(t=>$Ve(r,t))}function oUt(r,e){return $Ve(r,e)}function sUt(r,e,t){let n=[];function i(o,s){let a=t?t(o):o;n.push(e.onRequest(a,(...c)=>Zzt(e,s.apply(r,BVe(e,c))))),n.push(e.onNotification(a,(...c)=>s.apply(r,BVe(e,c))))}return rUt(r,Object.prototype).forEach(o=>{if(o!=="dispose"){let s=r[o];i(o,s);let a="Async",c=o.endsWith(a)?o.substring(0,o.length-a.length):`${o}${a}`;i(c,s)}}),pk.Disposable.create(()=>n.forEach(o=>o.dispose()))}mk.registerInstanceMethodsAsRpcTargets=sUt});var N5=C(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});Ug.IJsonRpcMarshaledObject=Ug.MarshaledObjectProxy=Ug.RpcMarshalable=Ug.registerReleaseMarshaledObjectCallback=void 0;var aUt=tR(),VVe=Hhe(),GVe="$/releaseMarshaledObject";function cUt(r){r.onNotification(GVe,e=>{let t=Array.isArray(e)?{handle:e[0],ownedBySender:e[1]}:e,n=r;n._marshaledObjectTracker&&(t.ownedBySender?n._marshaledObjectTracker.theirsByHandle:n._marshaledObjectTracker.ownByHandle)[t.handle]?.dispose()})}Ug.registerReleaseMarshaledObjectCallback=cUt;function KVe(r,e,t){return t===void 0?`$/invokeProxy/${r}/${e}`:`$/invokeProxy/${r}/${t}.${e}`}var uUt;(function(r){function e(t){return typeof t?._jsonRpcMarshalableLifetime=="string"}r.is=e})(uUt=Ug.RpcMarshalable||(Ug.RpcMarshalable={}));var YVe;(function(r){function e(t){return typeof t?._jsonrpcMarshaledHandle=="number"}r.is=e})(YVe=Ug.MarshaledObjectProxy||(Ug.MarshaledObjectProxy={}));var lUt={get:(r,e)=>{switch(e.toString()){case"dispose":return r.dispose;case"_jsonrpcMarshaledHandle":return r._jsonrpcMarshaledHandle;case"then":return;case"toJSON":return;default:return function(){let t=KVe(r._jsonrpcMarshaledHandle,e.toString());return(0,VVe.invokeRpc)(t,arguments,r.messageConnection)}}}};function Bhe(r){let e=r;return e._marshaledObjectTracker??={counter:0,ownByHandle:{},theirsByHandle:{},ownTrackedObjectHandles:new WeakMap},e._marshaledObjectTracker}var dUt;(function(r){function e(o){let s=o;return typeof s?.__jsonrpc_marshaled=="number"&&typeof s.handle=="number"}r.is=e;function t(o,s){let a=Bhe(s);if(YVe.is(o))return{__jsonrpc_marshaled:0,handle:o._jsonrpcMarshaledHandle};{if(o._jsonRpcMarshalableLifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let c=a.ownTrackedObjectHandles.has(o),u=c?a.ownTrackedObjectHandles.get(o):++a.counter;if(!c){a.ownTrackedObjectHandles.set(o,u);let l=(0,VVe.registerInstanceMethodsAsRpcTargets)(o,s,d=>KVe(u,d));a.ownByHandle[u]={target:o,dispose:()=>{l.dispose(),delete a.ownByHandle[u],a.ownTrackedObjectHandles.delete(o),"dispose"in o&&typeof o.dispose=="function"&&o.dispose()}}}return{__jsonrpc_marshaled:1,handle:u,lifetime:o._jsonRpcMarshalableLifetime,optionalInterfaces:o._jsonRpcOptionalInterfaces}}}r.wrap=t;function n(o,s){Bhe(s).ownByHandle[o.handle]?.dispose()}r.cancelWrap=n;function i(o,s){if(o.lifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let a=Bhe(s);switch(o.__jsonrpc_marshaled){case 1:let c=a.theirsByHandle[o.handle]?.proxy;if(!c){let l={messageConnection:s,_jsonrpcMarshaledHandle:o.handle,dispose:()=>{if(a.theirsByHandle[o.handle]){delete a.theirsByHandle[o.handle];let d={handle:o.handle,ownedBySender:!1};s.sendNotification(GVe,aUt.ParameterStructures.byName,d)}}};c=new Proxy(l,lUt),a.theirsByHandle[o.handle]={proxy:c,dispose:()=>{delete a.theirsByHandle[o.handle]}}}return c;case 0:let u=a.ownByHandle[o.handle];if(!u)throw new Error(`Unrecognized handle ${o.handle}`);return u.target;default:throw new Error(`Unsupported value for __jsonrpc_marshaled: ${o.__jsonrpc_marshaled}.`)}}r.unwrap=i})(dUt=Ug.IJsonRpcMarshaledObject||(Ug.IJsonRpcMarshaledObject={}))});var Whe=C(ny=>{"use strict";var fUt=ny&&ny.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ny,"__esModule",{value:!0});ny.isChannel=ny.clone=ny.isReadWriteStream=ny.constructMessageConnection=void 0;var hUt=fUt(require("assert")),pUt=N5();function mUt(r,e){(0,hUt.default)(r);let t;return JVe(r)?(t=e(r),r.on("close",()=>{t?.dispose()}),t.onDispose(()=>r.end()),t.onClose(()=>r.end())):(t=e(r.stream),r.completion.then(()=>{t?.dispose()}),t.onDispose(()=>r.dispose()),t.onClose(()=>r.dispose())),(0,pUt.registerReleaseMarshaledObjectCallback)(t),t}ny.constructMessageConnection=mUt;function JVe(r){return r&&"unshift"in r}ny.isReadWriteStream=JVe;function gUt(r){var e=r.constructor();for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}ny.clone=gUt;function vUt(r){return r&&"stream"in r&&"acceptance"in r&&"completion"in r&&"dispose"in r}ny.isChannel=vUt});var Ghe=C(Vhe=>{"use strict";var M5=class{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(e===void 0)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise((e,t)=>{var n=()=>{var i=!1;e(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(e){return this.acquire().then(t=>e().then(n=>(t(),n)).catch(n=>{throw t(),n}))}};Vhe.Semaphore=M5;var $he=class extends M5{constructor(){super(1)}};Vhe.Mutex=$he});var bq=C(F5=>{"use strict";Object.defineProperty(F5,"__esModule",{value:!0});F5.Deferred=void 0;var Khe=class{constructor(e){this.state=e,this._isResolved=!1,this._isRejected=!1,this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n})}get isCompleted(){return this._isResolved||this._isRejected}get isResolved(){return this._isResolved}get isRejected(){return this._isRejected}get error(){return this._error}resolve(e){return this.isCompleted?!1:(this.resolvePromise(e),this._isResolved=!0,!0)}reject(e){return this.isCompleted?!1:(this.rejectPromise(e),this._error=e,this._isRejected=!0,!0)}};F5.Deferred=Khe});var gk=C(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.removeFromQueue=Ch.requireInteger=Ch.throwIfDisposed=Ch.getBufferFrom=Ch.readSubstream=Ch.writeSubstream=Ch.writeAsync=void 0;var QVe=require("stream"),XVe=bq();async function Yhe(r,e){return new Promise((t,n)=>{r.write(e,i=>{i?n(i):t()})})}Ch.writeAsync=Yhe;function yUt(r){return new QVe.Writable({async write(e,t,n){try{let i=new DataView(new ArrayBuffer(4));i.setUint32(0,e.length,!1),await Yhe(r,Buffer.from(i.buffer)),await Yhe(r,e),n()}catch(i){n(i)}},final(e){r.write(new Uint8Array(4),e)}})}Ch.writeSubstream=yUt;function _Ut(r){return new QVe.Readable({async read(e){let t=await Jhe(r,4),i=new DataView(t.buffer,t.byteOffset,t.length).getUint32(0,!1);if(i===0){this.push(null);return}let o=await Jhe(r,i);this.push(o)}})}Ch.readSubstream=_Ut;async function Jhe(r,e,t=!1,n){let i=new XVe.Deferred;if(e===0)return Buffer.from([]);let o=null,s=0;for(;e>0;){n?.throwIfCancelled();let a=r.readableLength;if(a)a>e&&(a=e);else{if(r.readableEnded||i.isCompleted){if(!t)throw new Error("Stream terminated before required bytes were read.");return o===null?null:o.subarray(0,s)}a=e}let c=r.read(a);if(c){if(c.length<a&&!t)throw new Error("Stream terminated before required bytes were read.");if(o===null){if(a===e||c.length<a)return c;o=Buffer.alloc(e)}c.copy(o,s),e-=c.length,s+=c.length}if(e>0){let u=new XVe.Deferred,l=u.resolve.bind(u),d=i.resolve.bind(i);r.once("readable",l),r.once("end",d);try{let f=Promise.race([u.promise,i.promise]);await(n?n.racePromise(f):f)}finally{r.removeListener("readable",l),r.removeListener("end",d)}}}return o}Ch.getBufferFrom=Jhe;function bUt(r){if(r.isDisposed)throw new Error("disposed")}Ch.throwIfDisposed=bUt;function wUt(r,e,t,n="signed"){if(!Number.isInteger(e))throw new Error(`${r} must be an integer.`);let i=t*8;n==="signed"&&i--;let o=Math.pow(2,i)-1,s=n==="signed"?-Math.pow(2,i):0;if(e>o||e<s)throw new Error(`${r} must be in the range ${s}-${o}.`)}Ch.requireInteger=wUt;function SUt(r,e){if(e){let t=e.indexOf(r);t>=0&&e.splice(t,1)}}Ch.removeFromQueue=SUt});var e4e=C(ND=>{"use strict";var CUt=ND&&ND.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ND,"__esModule",{value:!0});ND.BE32MessageWriter=ND.BE32MessageReader=void 0;var Xhe=tR(),TUt=CUt(LD()),ZVe=require("stream"),DUt=Ghe(),q5=gk(),Qhe=class extends Xhe.AbstractMessageReader{readable;decoder;constructor(e,t){super(),this.readable=e,this.decoder=t}listen(e){this.readable.on("error",n=>this.fireError(n));let t=TUt.default.create();return(async()=>{try{for(;;){let n=await(0,q5.getBufferFrom)(this.readable,4,!0,t.token);if(!n){this.fireClose();return}let i=n.readInt32BE(0),o=await(0,q5.getBufferFrom)(this.readable,i,!1,t.token),s=await this.decoder(o);e(s)}}catch(n){this.fireError(n)}})(),Xhe.Disposable.create(()=>t.cancel())}};ND.BE32MessageReader=Qhe;var Zhe=class extends Xhe.AbstractMessageWriter{writable;encoder;semaphore=new DUt.Semaphore(1);headerBuffer=Buffer.alloc(4);errorCount=0;constructor(e,t){super(),this.writable=e,this.encoder=t,e.on("error",n=>this.fireError([n,void 0,void 0])),e.once("close",()=>this.fireClose())}async write(e){await this.semaphore.use(async()=>{try{let t=await this.encoder(e);this.headerBuffer.writeInt32BE(t.byteLength,0),this.writable instanceof ZVe.Writable&&this.writable.cork();let n=Promise.all([(0,q5.writeAsync)(this.writable,this.headerBuffer),(0,q5.writeAsync)(this.writable,t)]);this.writable instanceof ZVe.Writable&&this.writable.uncork(),await n}catch(t){this.errorCount++,this.fireError([EUt(t),void 0,this.errorCount])}})}end(){this.writable.end()}};ND.BE32MessageWriter=Zhe;function EUt(r){return r instanceof Error?r:new Error(`Writer received error. Reason: ${typeof r.message=="string"?r.message:"unknown"}`)}});var r4e=C((tpe,t4e)=>{t4e.exports=epe(typeof Buffer<"u"&&Buffer)||epe(tpe.Buffer)||epe(typeof window<"u"&&window.Buffer)||tpe.Buffer;function epe(r){return r&&r.isBuffer&&r}});var j5=C((Ygr,n4e)=>{var RUt={}.toString;n4e.exports=Array.isArray||function(r){return RUt.call(r)=="[object Array]"}});var s4e=C((yk,o4e)=>{var vk=Hg(),yk=o4e.exports=i4e(0);yk.alloc=i4e;yk.concat=vk.concat;yk.from=PUt;function i4e(r){return new Array(r)}function PUt(r){if(!vk.isBuffer(r)&&vk.isView(r))r=vk.Uint8Array.from(r);else if(vk.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return vk.from.call(yk,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(r)}});var u4e=C((bk,c4e)=>{var _C=Hg(),_k=_C.global,bk=c4e.exports=_C.hasBuffer?a4e(0):[];bk.alloc=_C.hasBuffer&&_k.alloc||a4e;bk.concat=_C.concat;bk.from=xUt;function a4e(r){return new _k(r)}function xUt(r){if(!_C.isBuffer(r)&&_C.isView(r))r=_C.Uint8Array.from(r);else if(_C.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return _C.from.call(bk,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return _k.from&&_k.from.length!==1?_k.from(r):new _k(r)}});var f4e=C((wk,d4e)=>{var z5=Hg(),wk=d4e.exports=z5.hasArrayBuffer?l4e(0):[];wk.alloc=l4e;wk.concat=z5.concat;wk.from=OUt;function l4e(r){return new Uint8Array(r)}function OUt(r){if(z5.isView(r)){var e=r.byteOffset,t=r.byteLength;r=r.buffer,r.byteLength!==t&&(r.slice?r=r.slice(e,e+t):(r=new Uint8Array(r),r.byteLength!==t&&(r=Array.prototype.slice.call(r,e,e+t))))}else{if(typeof r=="string")return z5.from.call(wk,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return new Uint8Array(r)}});var h4e=C(U5=>{U5.copy=AUt;U5.toString=kUt;U5.write=IUt;function IUt(r,e){for(var t=this,n=e||(e|=0),i=r.length,o=0,s=0;s<i;)o=r.charCodeAt(s++),o<128?t[n++]=o:o<2048?(t[n++]=192|o>>>6,t[n++]=128|o&63):o<55296||o>57343?(t[n++]=224|o>>>12,t[n++]=128|o>>>6&63,t[n++]=128|o&63):(o=(o-55296<<10|r.charCodeAt(s++)-56320)+65536,t[n++]=240|o>>>18,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|o&63);return n-e}function kUt(r,e,t){var n=this,i=e|0;t||(t=n.length);for(var o="",s=0;i<t;){if(s=n[i++],s<128){o+=String.fromCharCode(s);continue}(s&224)===192?s=(s&31)<<6|n[i++]&63:(s&240)===224?s=(s&15)<<12|(n[i++]&63)<<6|n[i++]&63:(s&248)===240&&(s=(s&7)<<18|(n[i++]&63)<<12|(n[i++]&63)<<6|n[i++]&63),s>=65536?(s-=65536,o+=String.fromCharCode((s>>>10)+55296,(s&1023)+56320)):o+=String.fromCharCode(s)}return o}function AUt(r,e,t,n){var i;t||(t=0),!n&&n!==0&&(n=this.length),e||(e=0);var o=n-t;if(r===this&&t<e&&e<n)for(i=o-1;i>=0;i--)r[i+e]=this[i+t];else for(i=0;i<o;i++)r[i+e]=this[i+t];return o}});var H5=C(wq=>{var rpe=h4e();wq.copy=v4e;wq.slice=y4e;wq.toString=LUt;wq.write=NUt("write");var MD=Hg(),p4e=MD.global,m4e=MD.hasBuffer&&"TYPED_ARRAY_SUPPORT"in p4e,g4e=m4e&&!p4e.TYPED_ARRAY_SUPPORT;function v4e(r,e,t,n){var i=MD.isBuffer(this),o=MD.isBuffer(r);if(i&&o)return this.copy(r,e,t,n);if(!g4e&&!i&&!o&&MD.isView(this)&&MD.isView(r)){var s=t||n!=null?y4e.call(this,t,n):this;return r.set(s,e),s.length}else return rpe.copy.call(this,r,e,t,n)}function y4e(r,e){var t=this.slice||!g4e&&this.subarray;if(t)return t.call(this,r,e);var n=MD.alloc.call(this,e-r);return v4e.call(this,n,0,r,e),n}function LUt(r,e,t){var n=!m4e&&MD.isBuffer(this)?this.toString:rpe.toString;return n.apply(this,arguments)}function NUt(r){return e;function e(){var t=this[r]||rpe[r];return t.apply(this,arguments)}}});var Hg=C(Th=>{var npe=Th.global=r4e(),S4e=Th.hasBuffer=npe&&!!npe.isBuffer,ope=Th.hasArrayBuffer=typeof ArrayBuffer<"u",MUt=Th.isArray=j5();Th.isArrayBuffer=ope?HUt:ape;var FUt=Th.isBuffer=S4e?npe.isBuffer:ape,qUt=Th.isView=ope?ArrayBuffer.isView||T4e("ArrayBuffer","buffer"):ape;Th.alloc=spe;Th.concat=zUt;Th.from=jUt;var _4e=Th.Array=s4e(),b4e=Th.Buffer=u4e(),w4e=Th.Uint8Array=f4e(),ipe=Th.prototype=H5();function jUt(r){return typeof r=="string"?BUt.call(this,r):C4e(this).from(r)}function spe(r){return C4e(this).alloc(r)}function zUt(r,e){e||(e=0,Array.prototype.forEach.call(r,o));var t=this!==Th&&this||r[0],n=spe.call(t,e),i=0;return Array.prototype.forEach.call(r,s),n;function o(a){e+=a.length}function s(a){i+=ipe.copy.call(a,n,i)}}var UUt=T4e("ArrayBuffer");function HUt(r){return r instanceof ArrayBuffer||UUt(r)}function BUt(r){var e=r.length*3,t=spe.call(this,e),n=ipe.write.call(t,r);return e!==n&&(t=ipe.slice.call(t,0,n)),t}function C4e(r){return FUt(r)?b4e:qUt(r)?w4e:MUt(r)?_4e:S4e?b4e:ope?w4e:_4e}function ape(){return!1}function T4e(r,e){return r="[object "+r+"]",function(t){return t!=null&&{}.toString.call(e?t[e]:t)===r}}});var B5=C(D4e=>{D4e.ExtBuffer=cpe;var WUt=Hg();function cpe(r,e){if(!(this instanceof cpe))return new cpe(r,e);this.buffer=WUt.from(r),this.type=e}});var R4e=C(E4e=>{E4e.setExtPackers=GUt;var W5=Hg(),$Ut=W5.global,T_=W5.Uint8Array.from,upe,VUt={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function GUt(r){r.addExtPacker(14,Error,[nR,iy]),r.addExtPacker(1,EvalError,[nR,iy]),r.addExtPacker(2,RangeError,[nR,iy]),r.addExtPacker(3,ReferenceError,[nR,iy]),r.addExtPacker(4,SyntaxError,[nR,iy]),r.addExtPacker(5,TypeError,[nR,iy]),r.addExtPacker(6,URIError,[nR,iy]),r.addExtPacker(10,RegExp,[KUt,iy]),r.addExtPacker(11,Boolean,[lpe,iy]),r.addExtPacker(12,String,[lpe,iy]),r.addExtPacker(13,Date,[Number,iy]),r.addExtPacker(15,Number,[lpe,iy]),typeof Uint8Array<"u"&&(r.addExtPacker(17,Int8Array,T_),r.addExtPacker(18,Uint8Array,T_),r.addExtPacker(19,Int16Array,T_),r.addExtPacker(20,Uint16Array,T_),r.addExtPacker(21,Int32Array,T_),r.addExtPacker(22,Uint32Array,T_),r.addExtPacker(23,Float32Array,T_),typeof Float64Array<"u"&&r.addExtPacker(24,Float64Array,T_),typeof Uint8ClampedArray<"u"&&r.addExtPacker(25,Uint8ClampedArray,T_),r.addExtPacker(26,ArrayBuffer,T_),r.addExtPacker(29,DataView,T_)),W5.hasBuffer&&r.addExtPacker(27,$Ut,W5.from)}function iy(r){return upe||(upe=dpe().encode),upe(r)}function lpe(r){return r.valueOf()}function KUt(r){r=RegExp.prototype.toString.call(r).split("/"),r.shift();var e=[r.pop()];return e.unshift(r.join("/")),e}function nR(r){var e={};for(var t in VUt)e[t]=r[t];return e}});var $5=C(Sq=>{var YUt,JUt,XUt,QUt;(function(r){var e="undefined",t=e!==typeof Buffer&&Buffer,n=e!==typeof Uint8Array&&Uint8Array,i=e!==typeof ArrayBuffer&&ArrayBuffer,o=[0,0,0,0,0,0,0,0],s=Array.isArray||he,a=4294967296,c=16777216,u;YUt=l("Uint64BE",!0,!0),JUt=l("Int64BE",!0,!1),XUt=l("Uint64LE",!1,!0),QUt=l("Int64LE",!1,!1);function l(we,V,W){var te=V?0:4,De=V?4:0,ae=V?0:3,ue=V?1:2,qe=V?2:1,Me=V?3:0,ce=V?N:U,Ce=V?A:ee,be=$e.prototype,xe="is"+we,Ne="_"+xe;return be.buffer=void 0,be.offset=0,be[Ne]=!0,be.toNumber=at,be.toString=tt,be.toJSON=at,be.toArray=d,t&&(be.toBuffer=f),n&&(be.toArrayBuffer=p),$e[xe]=Ct,r[we]=$e,$e;function $e(zr,cr,xt,hr){return this instanceof $e?ze(this,zr,cr,xt,hr):new $e(zr,cr,xt,hr)}function Ct(zr){return!!(zr&&zr[Ne])}function ze(zr,cr,xt,hr,Nt){if(n&&i&&(cr instanceof i&&(cr=new n(cr)),hr instanceof i&&(hr=new n(hr))),!cr&&!xt&&!hr&&!u){zr.buffer=x(o,0);return}if(!_(cr,xt)){var on=u||Array;Nt=xt,hr=cr,xt=0,cr=new on(8)}zr.buffer=cr,zr.offset=xt|=0,e!==typeof hr&&(typeof hr=="string"?st(cr,xt,hr,Nt||10):_(hr,Nt)?D(cr,xt,hr,Nt):typeof Nt=="number"?(fr(cr,xt+te,hr),fr(cr,xt+De,Nt)):hr>0?ce(cr,xt,hr):hr<0?Ce(cr,xt,hr):D(cr,xt,o,0))}function st(zr,cr,xt,hr){var Nt=0,on=xt.length,ln=0,On=0;xt[0]==="-"&&Nt++;for(var Or=Nt;Nt<on;){var Hn=parseInt(xt[Nt++],hr);if(!(Hn>=0))break;On=On*hr+Hn,ln=ln*hr+Math.floor(On/a),On%=a}Or&&(ln=~ln,On?On=a-On:ln++),fr(zr,cr+te,ln),fr(zr,cr+De,On)}function at(){var zr=this.buffer,cr=this.offset,xt=Lr(zr,cr+te),hr=Lr(zr,cr+De);return W||(xt|=0),xt?xt*a+hr:hr}function tt(zr){var cr=this.buffer,xt=this.offset,hr=Lr(cr,xt+te),Nt=Lr(cr,xt+De),on="",ln=!W&&hr&2147483648;for(ln&&(hr=~hr,Nt=a-Nt),zr=zr||10;;){var On=hr%zr*a+Nt;if(hr=Math.floor(hr/zr),Nt=Math.floor(On/zr),on=(On%zr).toString(zr)+on,!hr&&!Nt)break}return ln&&(on="-"+on),on}function fr(zr,cr,xt){zr[cr+Me]=xt&255,xt=xt>>8,zr[cr+qe]=xt&255,xt=xt>>8,zr[cr+ue]=xt&255,xt=xt>>8,zr[cr+ae]=xt&255}function Lr(zr,cr){return zr[cr+ae]*c+(zr[cr+ue]<<16)+(zr[cr+qe]<<8)+zr[cr+Me]}}function d(we){var V=this.buffer,W=this.offset;return u=null,we!==!1&&W===0&&V.length===8&&s(V)?V:x(V,W)}function f(we){var V=this.buffer,W=this.offset;if(u=t,we!==!1&&W===0&&V.length===8&&Buffer.isBuffer(V))return V;var te=new t(8);return D(te,0,V,W),te}function p(we){var V=this.buffer,W=this.offset,te=V.buffer;if(u=n,we!==!1&&W===0&&te instanceof i&&te.byteLength===8)return te;var De=new n(8);return D(De,0,V,W),De.buffer}function _(we,V){var W=we&&we.length;return V|=0,W&&V+8<=W&&typeof we[V]!="string"}function D(we,V,W,te){V|=0,te|=0;for(var De=0;De<8;De++)we[V++]=W[te++]&255}function x(we,V){return Array.prototype.slice.call(we,V,V+8)}function N(we,V,W){for(var te=V+8;te>V;)we[--te]=W&255,W/=256}function A(we,V,W){var te=V+8;for(W++;te>V;)we[--te]=-W&255^255,W/=256}function U(we,V,W){for(var te=V+8;V<te;)we[V++]=W&255,W/=256}function ee(we,V,W){var te=V+8;for(W++;V<te;)we[V++]=-W&255^255,W/=256}function he(we){return!!we&&Object.prototype.toString.call(we)=="[object Array]"}})(typeof Sq=="object"&&typeof Sq.nodeName!="string"?Sq:Sq||{})});var hpe=C(fpe=>{fpe.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=t?i-1:0,f=t?-1:1,p=r[e+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=o*256+r[e+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+r[e+d],d+=f,l-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(p?-1:1)*s*Math.pow(2,o-n)};fpe.write=function(r,e,t,n,i,o){var s,a,c,u=o*8-i-1,l=(1<<u)-1,d=l>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,_=n?1:-1,D=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?e+=f/c:e+=f*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;r[t+p]=a&255,p+=_,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;r[t+p]=s&255,p+=_,s/=256,u-=8);r[t+p-_]|=D*128}});var ppe=C(P4e=>{var ZUt=P4e.uint8=new Array(256);for(Cq=0;Cq<=255;Cq++)ZUt[Cq]=eHt(Cq);var Cq;function eHt(r){return function(e){var t=e.reserve(1);e.buffer[t]=r}}});var j4e=C(q4e=>{var O4e=hpe(),I4e=$5(),tHt=I4e.Uint64BE,rHt=I4e.Int64BE,k4e=ppe().uint8,V5=Hg(),Ec=V5.global,nHt=V5.hasBuffer&&"TYPED_ARRAY_SUPPORT"in Ec,iHt=nHt&&!Ec.TYPED_ARRAY_SUPPORT,x4e=V5.hasBuffer&&Ec.prototype||{};q4e.getWriteToken=oHt;function oHt(r){return r&&r.uint8array?sHt():iHt||V5.hasBuffer&&r&&r.safe?aHt():A4e()}function sHt(){var r=A4e();return r[202]=Bs(202,4,M4e),r[203]=Bs(203,8,F4e),r}function A4e(){var r=k4e.slice();return r[196]=Tq(196),r[197]=iR(197),r[198]=oR(198),r[199]=Tq(199),r[200]=iR(200),r[201]=oR(201),r[202]=Bs(202,4,x4e.writeFloatBE||M4e,!0),r[203]=Bs(203,8,x4e.writeDoubleBE||F4e,!0),r[204]=Tq(204),r[205]=iR(205),r[206]=oR(206),r[207]=Bs(207,8,L4e),r[208]=Tq(208),r[209]=iR(209),r[210]=oR(210),r[211]=Bs(211,8,N4e),r[217]=Tq(217),r[218]=iR(218),r[219]=oR(219),r[220]=iR(220),r[221]=oR(221),r[222]=iR(222),r[223]=oR(223),r}function aHt(){var r=k4e.slice();return r[196]=Bs(196,1,Ec.prototype.writeUInt8),r[197]=Bs(197,2,Ec.prototype.writeUInt16BE),r[198]=Bs(198,4,Ec.prototype.writeUInt32BE),r[199]=Bs(199,1,Ec.prototype.writeUInt8),r[200]=Bs(200,2,Ec.prototype.writeUInt16BE),r[201]=Bs(201,4,Ec.prototype.writeUInt32BE),r[202]=Bs(202,4,Ec.prototype.writeFloatBE),r[203]=Bs(203,8,Ec.prototype.writeDoubleBE),r[204]=Bs(204,1,Ec.prototype.writeUInt8),r[205]=Bs(205,2,Ec.prototype.writeUInt16BE),r[206]=Bs(206,4,Ec.prototype.writeUInt32BE),r[207]=Bs(207,8,L4e),r[208]=Bs(208,1,Ec.prototype.writeInt8),r[209]=Bs(209,2,Ec.prototype.writeInt16BE),r[210]=Bs(210,4,Ec.prototype.writeInt32BE),r[211]=Bs(211,8,N4e),r[217]=Bs(217,1,Ec.prototype.writeUInt8),r[218]=Bs(218,2,Ec.prototype.writeUInt16BE),r[219]=Bs(219,4,Ec.prototype.writeUInt32BE),r[220]=Bs(220,2,Ec.prototype.writeUInt16BE),r[221]=Bs(221,4,Ec.prototype.writeUInt32BE),r[222]=Bs(222,2,Ec.prototype.writeUInt16BE),r[223]=Bs(223,4,Ec.prototype.writeUInt32BE),r}function Tq(r){return function(e,t){var n=e.reserve(2),i=e.buffer;i[n++]=r,i[n]=t}}function iR(r){return function(e,t){var n=e.reserve(3),i=e.buffer;i[n++]=r,i[n++]=t>>>8,i[n]=t}}function oR(r){return function(e,t){var n=e.reserve(5),i=e.buffer;i[n++]=r,i[n++]=t>>>24,i[n++]=t>>>16,i[n++]=t>>>8,i[n]=t}}function Bs(r,e,t,n){return function(i,o){var s=i.reserve(e+1);i.buffer[s++]=r,t.call(i.buffer,o,s,n)}}function L4e(r,e){new tHt(this,e,r)}function N4e(r,e){new rHt(this,e,r)}function M4e(r,e){O4e.write(this,r,e,!1,23,4)}function F4e(r,e){O4e.write(this,r,e,!1,52,8)}});var W4e=C(B4e=>{var cHt=j5(),H4e=$5(),uHt=H4e.Uint64BE,lHt=H4e.Int64BE,z4e=Hg(),U4e=H5(),dHt=j4e(),fHt=ppe().uint8,hHt=B5().ExtBuffer,pHt=typeof Uint8Array<"u",mHt=typeof Map<"u",Sk=[];Sk[1]=212;Sk[2]=213;Sk[4]=214;Sk[8]=215;Sk[16]=216;B4e.getWriteType=gHt;function gHt(r){var e=dHt.getWriteToken(r),t=r&&r.useraw,n=pHt&&r&&r.binarraybuffer,i=n?z4e.isArrayBuffer:z4e.isBuffer,o=n?he:ee,s=mHt&&r&&r.usemap,a=s?W:V,c={boolean:u,function:A,number:l,object:t?N:x,string:D(t?_:p),symbol:A,undefined:A};return c;function u(De,ae){var ue=ae?195:194;e[ue](De,ae)}function l(De,ae){var ue=ae|0,qe;if(ae!==ue){qe=203,e[qe](De,ae);return}else-32<=ue&&ue<=127?qe=ue&255:0<=ue?qe=ue<=255?204:ue<=65535?205:206:qe=-128<=ue?208:-32768<=ue?209:210;e[qe](De,ue)}function d(De,ae){var ue=207;e[ue](De,ae.toArray())}function f(De,ae){var ue=211;e[ue](De,ae.toArray())}function p(De){return De<32?1:De<=255?2:De<=65535?3:5}function _(De){return De<32?1:De<=65535?3:5}function D(De){return ae;function ae(ue,qe){var Me=qe.length,ce=5+Me*3;ue.offset=ue.reserve(ce);var Ce=ue.buffer,be=De(Me),xe=ue.offset+be;Me=U4e.write.call(Ce,qe,xe);var Ne=De(Me);if(be!==Ne){var $e=xe+Ne-be,Ct=xe+Me;U4e.copy.call(Ce,Ce,$e,xe,Ct)}var ze=Ne===1?160+Me:Ne<=3?215+Ne:219;e[ze](ue,Me),ue.offset+=Me}}function x(De,ae){if(ae===null)return A(De,ae);if(i(ae))return o(De,ae);if(cHt(ae))return U(De,ae);if(uHt.isUint64BE(ae))return d(De,ae);if(lHt.isInt64BE(ae))return f(De,ae);var ue=De.codec.getExtPacker(ae);if(ue&&(ae=ue(ae)),ae instanceof hHt)return we(De,ae);a(De,ae)}function N(De,ae){if(i(ae))return te(De,ae);x(De,ae)}function A(De,ae){var ue=192;e[ue](De,ae)}function U(De,ae){var ue=ae.length,qe=ue<16?144+ue:ue<=65535?220:221;e[qe](De,ue);for(var Me=De.codec.encode,ce=0;ce<ue;ce++)Me(De,ae[ce])}function ee(De,ae){var ue=ae.length,qe=ue<255?196:ue<=65535?197:198;e[qe](De,ue),De.send(ae)}function he(De,ae){ee(De,new Uint8Array(ae))}function we(De,ae){var ue=ae.buffer,qe=ue.length,Me=Sk[qe]||(qe<255?199:qe<=65535?200:201);e[Me](De,qe),fHt[ae.type](De),De.send(ue)}function V(De,ae){var ue=Object.keys(ae),qe=ue.length,Me=qe<16?128+qe:qe<=65535?222:223;e[Me](De,qe);var ce=De.codec.encode;ue.forEach(function(Ce){ce(De,Ce),ce(De,ae[Ce])})}function W(De,ae){if(!(ae instanceof Map))return V(De,ae);var ue=ae.size,qe=ue<16?128+ue:ue<=65535?222:223;e[qe](De,ue);var Me=De.codec.encode;ae.forEach(function(ce,Ce,be){Me(De,Ce),Me(De,ce)})}function te(De,ae){var ue=ae.length,qe=ue<32?160+ue:ue<=65535?218:219;e[qe](De,ue),De.send(ae)}}});var Eq=C(Dq=>{var vHt=j5();Dq.createCodec=$4e;Dq.install=_Ht;Dq.filter=SHt;var yHt=Hg();function Ck(r){if(!(this instanceof Ck))return new Ck(r);this.options=r,this.init()}Ck.prototype.init=function(){var r=this.options;return r&&r.uint8array&&(this.bufferish=yHt.Uint8Array),this};function _Ht(r){for(var e in r)Ck.prototype[e]=bHt(Ck.prototype[e],r[e])}function bHt(r,e){return r&&e?t:r||e;function t(){return r.apply(this,arguments),e.apply(this,arguments)}}function wHt(r){return r=r.slice(),function(t){return r.reduce(e,t)};function e(t,n){return n(t)}}function SHt(r){return vHt(r)?wHt(r):r}function $4e(r){return new Ck(r)}Dq.preset=$4e({preset:!0})});var G5=C(G4e=>{var CHt=B5().ExtBuffer,THt=R4e(),DHt=W4e(),mpe=Eq();mpe.install({addExtPacker:RHt,getExtPacker:PHt,init:V4e});G4e.preset=V4e.call(mpe.preset);function EHt(r){var e=DHt.getWriteType(r);return t;function t(n,i){var o=e[typeof i];if(!o)throw new Error('Unsupported type "'+typeof i+'": '+i);o(n,i)}}function V4e(){var r=this.options;return this.encode=EHt(r),r&&r.preset&&THt.setExtPackers(this),this}function RHt(r,e,t){t=mpe.filter(t);var n=e.name;if(n&&n!=="Object"){var i=this.extPackers||(this.extPackers={});i[n]=s}else{var o=this.extEncoderList||(this.extEncoderList=[]);o.unshift([e,s])}function s(a){return t&&(a=t(a)),new CHt(a,r)}}function PHt(r){var e=this.extPackers||(this.extPackers={}),t=r.constructor,n=t&&t.name&&e[t.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,s=0;s<o;s++){var a=i[s];if(t===a[0])return a[1]}}});var vpe=C(gpe=>{gpe.FlexDecoder=Tk;gpe.FlexEncoder=Dk;var Rq=Hg(),xHt=2048,OHt=65536,K4e="BUFFER_SHORTAGE";function Tk(){if(!(this instanceof Tk))return new Tk}function Dk(){if(!(this instanceof Dk))return new Dk}Tk.mixin=X4e(IHt());Tk.mixin(Tk.prototype);Dk.mixin=X4e(kHt());Dk.mixin(Dk.prototype);function IHt(){return{bufferish:Rq,write:r,fetch:LHt,flush:e,push:J4e,pull:NHt,read:Y4e,reserve:t,offset:0};function r(n){var i=this.offset?Rq.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=i?n?this.bufferish.concat([i,n]):i:n,this.offset=0}function e(){for(;this.offset<this.buffer.length;){var n=this.offset,i;try{i=this.fetch()}catch(o){if(o&&o.message!=K4e)throw o;this.offset=n;break}this.push(i)}}function t(n){var i=this.offset,o=i+n;if(o>this.buffer.length)throw new Error(K4e);return this.offset=o,i}}function kHt(){return{bufferish:Rq,write:AHt,fetch:r,flush:e,push:J4e,pull:t,read:Y4e,reserve:n,send:i,maxBufferSize:OHt,minBufferSize:xHt,offset:0,start:0};function r(){var o=this.start;if(o<this.offset){var s=this.start=this.offset;return Rq.prototype.slice.call(this.buffer,o,s)}}function e(){for(;this.start<this.offset;){var o=this.fetch();o&&this.push(o)}}function t(){var o=this.buffers||(this.buffers=[]),s=o.length>1?this.bufferish.concat(o):o[0];return o.length=0,s}function n(o){var s=o|0;if(this.buffer){var a=this.buffer.length,c=this.offset|0,u=c+s;if(u<a)return this.offset=u,c;this.flush(),o=Math.max(o,Math.min(a*2,this.maxBufferSize))}return o=Math.max(o,this.minBufferSize),this.buffer=this.bufferish.alloc(o),this.start=0,this.offset=s,0}function i(o){var s=o.length;if(s>this.minBufferSize)this.flush(),this.push(o);else{var a=this.reserve(s);Rq.prototype.copy.call(o,this.buffer,a)}}}function AHt(){throw new Error("method not implemented: write()")}function LHt(){throw new Error("method not implemented: fetch()")}function Y4e(){var r=this.buffers&&this.buffers.length;return r?(this.flush(),this.pull()):this.fetch()}function J4e(r){var e=this.buffers||(this.buffers=[]);e.push(r)}function NHt(){var r=this.buffers||(this.buffers=[]);return r.shift()}function X4e(r){return e;function e(t){for(var n in r)t[n]=r[n];return t}}});var K5=C(Q4e=>{Q4e.EncodeBuffer=Ek;var MHt=G5().preset,FHt=vpe().FlexEncoder;FHt.mixin(Ek.prototype);function Ek(r){if(!(this instanceof Ek))return new Ek(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}Ek.prototype.codec=MHt;Ek.prototype.write=function(r){this.codec.encode(this,r)}});var dpe=C(Z4e=>{Z4e.encode=jHt;var qHt=K5().EncodeBuffer;function jHt(r,e){var t=new qHt(e);return t.write(r),t.read()}});var r6e=C(t6e=>{t6e.setExtUnpackers=HHt;var e6e=Hg(),zHt=e6e.global,ype,UHt={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function HHt(r){r.addExtUnpacker(14,[oy,sR(Error)]),r.addExtUnpacker(1,[oy,sR(EvalError)]),r.addExtUnpacker(2,[oy,sR(RangeError)]),r.addExtUnpacker(3,[oy,sR(ReferenceError)]),r.addExtUnpacker(4,[oy,sR(SyntaxError)]),r.addExtUnpacker(5,[oy,sR(TypeError)]),r.addExtUnpacker(6,[oy,sR(URIError)]),r.addExtUnpacker(10,[oy,BHt]),r.addExtUnpacker(11,[oy,Sp(Boolean)]),r.addExtUnpacker(12,[oy,Sp(String)]),r.addExtUnpacker(13,[oy,Sp(Date)]),r.addExtUnpacker(15,[oy,Sp(Number)]),typeof Uint8Array<"u"&&(r.addExtUnpacker(17,Sp(Int8Array)),r.addExtUnpacker(18,Sp(Uint8Array)),r.addExtUnpacker(19,[FD,Sp(Int16Array)]),r.addExtUnpacker(20,[FD,Sp(Uint16Array)]),r.addExtUnpacker(21,[FD,Sp(Int32Array)]),r.addExtUnpacker(22,[FD,Sp(Uint32Array)]),r.addExtUnpacker(23,[FD,Sp(Float32Array)]),typeof Float64Array<"u"&&r.addExtUnpacker(24,[FD,Sp(Float64Array)]),typeof Uint8ClampedArray<"u"&&r.addExtUnpacker(25,Sp(Uint8ClampedArray)),r.addExtUnpacker(26,FD),r.addExtUnpacker(29,[FD,Sp(DataView)])),e6e.hasBuffer&&r.addExtUnpacker(27,Sp(zHt))}function oy(r){return ype||(ype=_pe().decode),ype(r)}function BHt(r){return RegExp.apply(null,r)}function sR(r){return function(e){var t=new r;for(var n in UHt)t[n]=e[n];return t}}function Sp(r){return function(e){return new r(e)}}function FD(r){return new Uint8Array(r).buffer}});var Spe=C(wpe=>{var n6e=hpe(),i6e=$5(),o6e=i6e.Uint64BE,s6e=i6e.Int64BE;wpe.getReadFormat=VHt;wpe.readUint8=a6e;var bpe=Hg(),J5=H5(),WHt=typeof Map<"u",$Ht=!0;function VHt(r){var e=bpe.hasArrayBuffer&&r&&r.binarraybuffer,t=r&&r.int64,n=WHt&&r&&r.usemap,i={map:n?KHt:GHt,array:YHt,str:JHt,bin:e?QHt:XHt,ext:ZHt,uint8:a6e,uint16:tBt,uint32:nBt,uint64:Y5(8,t?aBt:oBt),int8:eBt,int16:rBt,int32:iBt,int64:Y5(8,t?cBt:sBt),float32:Y5(4,uBt),float64:Y5(8,lBt)};return i}function GHt(r,e){var t={},n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t[i[n]]=o[n];return t}function KHt(r,e){var t=new Map,n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t.set(i[n],o[n]);return t}function YHt(r,e){for(var t=new Array(e),n=r.codec.decode,i=0;i<e;i++)t[i]=n(r);return t}function JHt(r,e){var t=r.reserve(e),n=t+e;return J5.toString.call(r.buffer,"utf-8",t,n)}function XHt(r,e){var t=r.reserve(e),n=t+e,i=J5.slice.call(r.buffer,t,n);return bpe.from(i)}function QHt(r,e){var t=r.reserve(e),n=t+e,i=J5.slice.call(r.buffer,t,n);return bpe.Uint8Array.from(i).buffer}function ZHt(r,e){var t=r.reserve(e+1),n=r.buffer[t++],i=t+e,o=r.codec.getExtUnpacker(n);if(!o)throw new Error("Invalid ext type: "+(n&&"0x"+n.toString(16)));var s=J5.slice.call(r.buffer,t,i);return o(s)}function a6e(r){var e=r.reserve(1);return r.buffer[e]}function eBt(r){var e=r.reserve(1),t=r.buffer[e];return t&128?t-256:t}function tBt(r){var e=r.reserve(2),t=r.buffer;return t[e++]<<8|t[e]}function rBt(r){var e=r.reserve(2),t=r.buffer,n=t[e++]<<8|t[e];return n&32768?n-65536:n}function nBt(r){var e=r.reserve(4),t=r.buffer;return t[e++]*16777216+(t[e++]<<16)+(t[e++]<<8)+t[e]}function iBt(r){var e=r.reserve(4),t=r.buffer;return t[e++]<<24|t[e++]<<16|t[e++]<<8|t[e]}function Y5(r,e){return function(t){var n=t.reserve(r);return e.call(t.buffer,n,$Ht)}}function oBt(r){return new o6e(this,r).toNumber()}function sBt(r){return new s6e(this,r).toNumber()}function aBt(r){return new o6e(this,r)}function cBt(r){return new s6e(this,r)}function uBt(r){return n6e.read(this,r,!1,23,4)}function lBt(r){return n6e.read(this,r,!1,52,8)}});var l6e=C(u6e=>{var dBt=Spe();u6e.getReadToken=fBt;function fBt(r){var e=dBt.getReadFormat(r);return r&&r.useraw?hBt(e):c6e(e)}function c6e(r){var e,t=new Array(256);for(e=0;e<=127;e++)t[e]=Pq(e);for(e=128;e<=143;e++)t[e]=bC(e-128,r.map);for(e=144;e<=159;e++)t[e]=bC(e-144,r.array);for(e=160;e<=191;e++)t[e]=bC(e-160,r.str);for(t[192]=Pq(null),t[193]=null,t[194]=Pq(!1),t[195]=Pq(!0),t[196]=Bg(r.uint8,r.bin),t[197]=Bg(r.uint16,r.bin),t[198]=Bg(r.uint32,r.bin),t[199]=Bg(r.uint8,r.ext),t[200]=Bg(r.uint16,r.ext),t[201]=Bg(r.uint32,r.ext),t[202]=r.float32,t[203]=r.float64,t[204]=r.uint8,t[205]=r.uint16,t[206]=r.uint32,t[207]=r.uint64,t[208]=r.int8,t[209]=r.int16,t[210]=r.int32,t[211]=r.int64,t[212]=bC(1,r.ext),t[213]=bC(2,r.ext),t[214]=bC(4,r.ext),t[215]=bC(8,r.ext),t[216]=bC(16,r.ext),t[217]=Bg(r.uint8,r.str),t[218]=Bg(r.uint16,r.str),t[219]=Bg(r.uint32,r.str),t[220]=Bg(r.uint16,r.array),t[221]=Bg(r.uint32,r.array),t[222]=Bg(r.uint16,r.map),t[223]=Bg(r.uint32,r.map),e=224;e<=255;e++)t[e]=Pq(e-256);return t}function hBt(r){var e,t=c6e(r).slice();for(t[217]=t[196],t[218]=t[197],t[219]=t[198],e=160;e<=191;e++)t[e]=bC(e-160,r.bin);return t}function Pq(r){return function(){return r}}function Bg(r,e){return function(t){var n=r(t);return e(t,n)}}function bC(r,e){return function(t){return e(t,r)}}});var X5=C(f6e=>{var pBt=B5().ExtBuffer,mBt=r6e(),gBt=Spe().readUint8,vBt=l6e(),Cpe=Eq();Cpe.install({addExtUnpacker:_Bt,getExtUnpacker:bBt,init:d6e});f6e.preset=d6e.call(Cpe.preset);function yBt(r){var e=vBt.getReadToken(r);return t;function t(n){var i=gBt(n),o=e[i];if(!o)throw new Error("Invalid type: "+(i&&"0x"+i.toString(16)));return o(n)}}function d6e(){var r=this.options;return this.decode=yBt(r),r&&r.preset&&mBt.setExtUnpackers(this),this}function _Bt(r,e){var t=this.extUnpackers||(this.extUnpackers=[]);t[r]=Cpe.filter(e)}function bBt(r){var e=this.extUnpackers||(this.extUnpackers=[]);return e[r]||t;function t(n){return new pBt(n,r)}}});var Q5=C(h6e=>{h6e.DecodeBuffer=Rk;var wBt=X5().preset,SBt=vpe().FlexDecoder;SBt.mixin(Rk.prototype);function Rk(r){if(!(this instanceof Rk))return new Rk(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}Rk.prototype.codec=wBt;Rk.prototype.fetch=function(){return this.codec.decode(this)}});var _pe=C(p6e=>{p6e.decode=TBt;var CBt=Q5().DecodeBuffer;function TBt(r,e){var t=new CBt(e);return t.write(r),t.read()}});var Epe=C((vvr,Dpe)=>{function Tpe(){if(!(this instanceof Tpe))return new Tpe}(function(r){typeof Dpe<"u"&&(Dpe.exports=r);var e="listeners",t={on:i,once:o,off:s,emit:a};n(r.prototype),r.mixin=n;function n(u){for(var l in t)u[l]=t[l];return u}function i(u,l){return c(this,u).push(l),this}function o(u,l){var d=this;return f.originalListener=l,c(d,u).push(f),d;function f(){s.call(d,u,f),l.apply(this,arguments)}}function s(u,l){var d=this,f;if(!arguments.length)delete d[e];else if(l){if(f=c(d,u,!0),f){if(f=f.filter(p),!f.length)return s.call(d,u);d[e][u]=f}}else if(f=d[e],f&&(delete f[u],!Object.keys(f).length))return s.call(d);return d;function p(_){return _!==l&&_.originalListener!==l}}function a(u,l){var d=this,f=c(d,u,!0);if(!f)return!1;var p=arguments.length;if(p===1)f.forEach(D);else if(p===2)f.forEach(x);else{var _=Array.prototype.slice.call(arguments,1);f.forEach(N)}return!!f.length;function D(A){A.call(d)}function x(A){A.call(d,l)}function N(A){A.apply(d,_)}}function c(u,l,d){if(!(d&&!u[e])){var f=u[e]||(u[e]={});return f[l]||(f[l]=[])}}})(Tpe)});var v6e=C(g6e=>{g6e.Encoder=aR;var DBt=Epe(),m6e=K5().EncodeBuffer;function aR(r){if(!(this instanceof aR))return new aR(r);m6e.call(this,r)}aR.prototype=new m6e;DBt.mixin(aR.prototype);aR.prototype.encode=function(r){this.write(r),this.emit("data",this.read())};aR.prototype.end=function(r){arguments.length&&this.encode(r),this.flush(),this.emit("end")}});var b6e=C(_6e=>{_6e.Decoder=qD;var EBt=Epe(),y6e=Q5().DecodeBuffer;function qD(r){if(!(this instanceof qD))return new qD(r);y6e.call(this,r)}qD.prototype=new y6e;EBt.mixin(qD.prototype);qD.prototype.decode=function(r){arguments.length&&this.write(r),this.flush()};qD.prototype.push=function(r){this.emit("data",r)};qD.prototype.end=function(r){this.decode(r),this.emit("end")}});var C6e=C(S6e=>{S6e.createEncodeStream=Pk;var RBt=require("util"),w6e=require("stream").Transform,PBt=K5().EncodeBuffer;RBt.inherits(Pk,w6e);var xBt={objectMode:!0};function Pk(r){if(!(this instanceof Pk))return new Pk(r);r?r.objectMode=!0:r=xBt,w6e.call(this,r);var e=this,t=this.encoder=new PBt(r);t.push=function(n){e.push(n)}}Pk.prototype._transform=function(r,e,t){this.encoder.write(r),t&&t()};Pk.prototype._flush=function(r){this.encoder.flush(),r&&r()}});var E6e=C(D6e=>{D6e.createDecodeStream=xq;var OBt=require("util"),T6e=require("stream").Transform,IBt=Q5().DecodeBuffer;OBt.inherits(xq,T6e);var kBt={objectMode:!0};function xq(r){if(!(this instanceof xq))return new xq(r);r?r.objectMode=!0:r=kBt,T6e.call(this,r);var e=this,t=this.decoder=new IBt(r);t.push=function(n){e.push(n)}}xq.prototype._transform=function(r,e,t){this.decoder.write(r),this.decoder.flush(),t&&t()}});var P6e=C(R6e=>{X5();G5();R6e.createCodec=Eq().createCodec});var O6e=C(x6e=>{X5();G5();x6e.codec={preset:Eq().preset}});var Rpe=C(wC=>{wC.encode=dpe().encode;wC.decode=_pe().decode;wC.Encoder=v6e().Encoder;wC.Decoder=b6e().Decoder;wC.createEncodeStream=C6e().createEncodeStream;wC.createDecodeStream=E6e().createDecodeStream;wC.createCodec=P6e().createCodec;wC.codec=O6e().codec});var Ppe=C(Oq=>{"use strict";Object.defineProperty(Oq,"__esModule",{value:!0});Oq.ControlCode=void 0;var ABt;(function(r){r[r.offer=0]="offer",r[r.offerAccepted=1]="offerAccepted",r[r.content=2]="content",r[r.contentWritingCompleted=3]="contentWritingCompleted",r[r.channelTerminated=4]="channelTerminated",r[r.contentProcessed=5]="contentProcessed"})(ABt=Oq.ControlCode||(Oq.ControlCode={}))});var eG=C(Z5=>{"use strict";Object.defineProperty(Z5,"__esModule",{value:!0});Z5.FrameHeader=void 0;var LBt=gk(),xpe=class{constructor(e,t){this.code=e,t&&(0,LBt.requireInteger)("channelId",t.id,4,"signed"),this.code=e,this._channel=t}get channel(){return this._channel}get requiredChannel(){if(this.channel)return this.channel;throw new Error("Expected channel not present in frame header.")}flipChannelPerspective(){this._channel&&(this._channel={id:this._channel.id,source:this._channel.source*-1})}};Z5.FrameHeader=xpe});var Iq=C(jD=>{"use strict";Object.defineProperty(jD,"__esModule",{value:!0});jD.QualifiedChannelId=jD.ChannelSource=void 0;var tG;(function(r){r[r.Local=1]="Local",r[r.Remote=-1]="Remote",r[r.Seeded=0]="Seeded"})(tG=jD.ChannelSource||(jD.ChannelSource={}));var NBt;(function(r){function e(t){let n=t.source===tG.Local?"local":t.source===tG.Remote?"remote":t.source===tG.Seeded?"seeded":"unknown";return`${t.id} (${n})`}r.toString=e})(NBt=jD.QualifiedChannelId||(jD.QualifiedChannelId={}))});var A6e=C(sw=>{"use strict";Object.defineProperty(sw,"__esModule",{value:!0});sw.MultiplexingStreamV3Formatter=sw.MultiplexingStreamV2Formatter=sw.MultiplexingStreamV1Formatter=sw.MultiplexingStreamFormatter=void 0;var Ope=iG(),MBt=require("crypto"),SC=gk(),Wg=Rpe(),I6e=bq(),Ipe=eG(),k6e=Iq(),CC=class{static getIsOddRandomData(){return(0,MBt.randomBytes)(16)}static isOdd(e,t){let n;for(let i=0;i<e.length;i++){let o=e[i],s=t[i];if(o>s){n=!0;break}else if(o<s){n=!1;break}}if(n===void 0)throw new Error("Unable to determine even/odd party.");return n}createFrameHeader(e,t){if(!t)return new Ipe.FrameHeader(e);let i=t%2===1===this.isOdd?k6e.ChannelSource.Remote:k6e.ChannelSource.Local;return new Ipe.FrameHeader(e,{id:t,source:i})}};sw.MultiplexingStreamFormatter=CC;var rG=class r extends CC{constructor(e){super(),this.stream=e}end(){this.stream.end()}async writeHandshakeAsync(){let e=CC.getIsOddRandomData(),t=Buffer.concat([r.protocolMagicNumber,e]);return await(0,SC.writeAsync)(this.stream,t),e}async readHandshakeAsync(e,t){let n=e,i=await(0,SC.getBufferFrom)(this.stream,r.protocolMagicNumber.length+16,!1,t);for(let s=0;s<r.protocolMagicNumber.length;s++){let a=r.protocolMagicNumber[s],c=i.readUInt8(s);if(a!==c)throw new Error(`Protocol magic number mismatch. Expected ${a} but was ${c}.`)}return{isOdd:CC.isOdd(n,i.slice(r.protocolMagicNumber.length)),protocolVersion:{major:1,minor:0}}}async writeFrameAsync(e,t){var n;let i=Buffer.alloc(7);i.writeInt8(e.code,0),i.writeUInt32BE(((n=e.channel)===null||n===void 0?void 0:n.id)||0,1),i.writeUInt16BE(t?.length||0,5),await(0,SC.writeAsync)(this.stream,i),t&&t.length>0&&await(0,SC.writeAsync)(this.stream,t)}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await(0,SC.getBufferFrom)(this.stream,7,!0,e);if(t===null)return null;let n=this.createFrameHeader(t.readInt8(0),t.readUInt32BE(1)),i=t.readUInt16BE(5),o=await(0,SC.getBufferFrom)(this.stream,i);return{header:n,payload:o}}serializeOfferParameters(e){let t=Buffer.from(e.name,Ope.MultiplexingStream.ControlFrameEncoding);if(t.length>Ope.MultiplexingStream.framePayloadMaxLength)throw new Error("Name is too long.");return t}deserializeOfferParameters(e){return{name:e.toString(Ope.MultiplexingStream.ControlFrameEncoding)}}serializeAcceptanceParameters(e){return Buffer.from([])}deserializeAcceptanceParameters(e){return{}}serializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}deserializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}};sw.MultiplexingStreamV1Formatter=rG;rG.protocolMagicNumber=Buffer.from([47,223,29,80]);var kq=class r extends CC{constructor(e){super(),this.reader=Wg.createDecodeStream(),e.pipe(this.reader),this.writer=e}end(){this.writer.end()}async writeHandshakeAsync(){let e=CC.getIsOddRandomData(),t=[[r.protocolVersion.major,r.protocolVersion.minor],e];return await(0,SC.writeAsync)(this.writer,Wg.encode(t)),e}async readHandshakeAsync(e,t){if(!e)throw new Error("Provide the result of writeHandshakeAsync as a first argument.");let n=await this.readMessagePackAsync(t);if(n===null)throw new Error("No data received during handshake.");return{isOdd:CC.isOdd(e,n[1]),protocolVersion:{major:n[0][0],minor:n[0][1]}}}async writeFrameAsync(e,t){var n;let i=[e.code];if(!((n=e.channel)===null||n===void 0)&&n.id)i.push(e.channel.id),t&&t.length>0&&i.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,SC.writeAsync)(this.writer,Wg.encode(i))}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await this.readMessagePackAsync(e);return t===null?null:{header:this.createFrameHeader(t[0],t[1]),payload:t[2]||Buffer.from([])}}serializeOfferParameters(e){let t=[e.name];return e.remoteWindowSize&&t.push(e.remoteWindowSize),Wg.encode(t)}deserializeOfferParameters(e){let t=Wg.decode(e);return{name:t[0],remoteWindowSize:t[1]}}serializeAcceptanceParameters(e){let t=[];return e.remoteWindowSize&&t.push(e.remoteWindowSize),Wg.encode(t)}deserializeAcceptanceParameters(e){return{remoteWindowSize:Wg.decode(e)[0]}}serializeContentProcessed(e){return Wg.encode([e])}deserializeContentProcessed(e){return Wg.decode(e)[0]}serializeException(e){if(!e)return Buffer.alloc(0);let n=[`${e.name}: ${e.message}`];return Wg.encode(n)}deserializeException(e){if(e.length===0)return null;let t=Wg.decode(e);if(!t||t.length===0)return null;let n=Wg.decode(e)[0];return n=`Received error from remote side: ${n}`,new Error(n)}async readMessagePackAsync(e){let t=new I6e.Deferred;for(;;){let n=this.reader.read();if(n===null){let i=new I6e.Deferred,o=i.resolve.bind(i),s=t.resolve.bind(t);this.reader.once("readable",o),this.reader.once("end",s);let a=Promise.race([i.promise,t.promise]);if(await(e?e.racePromise(a):a),this.reader.removeListener("readable",o),this.reader.removeListener("end",s),i.isCompleted)continue;return null}return n}}};sw.MultiplexingStreamV2Formatter=kq;kq.protocolVersion={major:2,minor:0};var nG=class r extends kq{writeHandshakeAsync(){return Promise.resolve(null)}readHandshakeAsync(){return Promise.resolve({protocolVersion:r.protocolV3Version})}async writeFrameAsync(e,t){let n=[e.code];if(e.channel)n.push(e.channel.id),n.push(e.channel.source),t&&t.length>0&&n.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,SC.writeAsync)(this.writer,Wg.encode(n))}async readFrameAsync(e){let t=await this.readMessagePackAsync(e);return t===null?null:{header:new Ipe.FrameHeader(t[0],t.length>1?{id:t[1],source:t[2]}:void 0),payload:t[3]||Buffer.from([])}}};sw.MultiplexingStreamV3Formatter=nG;nG.protocolV3Version={major:2,minor:0}});var N6e=C(L6e=>{"use strict";Object.defineProperty(L6e,"__esModule",{value:!0})});var oG=C((Ovr,M6e)=>{"use strict";M6e.exports=(r=>e=>(e.catch(r),e))(()=>{})});var iG=C(kk=>{"use strict";Object.defineProperty(kk,"__esModule",{value:!0});kk.MultiplexingStreamClass=kk.MultiplexingStream=void 0;var FBt=Ghe(),xk=LD(),qBt=require("events"),cG=kpe(),sy=Ppe(),F6e=bq(),Ik=eG(),sG=A6e();N6e();var TC=Iq(),Ok=gk(),aG=oG(),DC=class r{constructor(e,t,n){var i,o,s;if(this.formatter=e,this.isOdd=t,this._completionSource=new F6e.Deferred,this.seededOpenChannels={},this.locallyOfferedOpenChannels={},this.remotelyOfferedOpenChannels={},this.channelsOfferedByThemByName={},this.acceptingChannels={},this.eventEmitter=new qBt.EventEmitter,this.disposalTokenSource=xk.default.create(),this.defaultChannelReceivingWindowSize=(i=n.defaultChannelReceivingWindowSize)!==null&&i!==void 0?i:r.recommendedDefaultChannelReceivingWindowSize,this.protocolMajorVersion=(o=n.protocolMajorVersion)!==null&&o!==void 0?o:1,n.seededChannels)for(let a=0;a<n.seededChannels.length;a++){let c=n.seededChannels[a],u={id:a,source:TC.ChannelSource.Seeded};this.setOpenChannel(new cG.ChannelClass(this,u,{name:"",remoteWindowSize:(s=c.channelReceivingWindowSize)!==null&&s!==void 0?s:this.defaultChannelReceivingWindowSize}))}}get disposalToken(){return this.disposalTokenSource.token}get completion(){return this._completionSource.promise}get isDisposed(){return this.disposalTokenSource.token.isCancelled}static async CreateAsync(e,t,n=xk.default.CONTINUE){var i;if(!e)throw new Error("stream must be specified.");if(t=t||{},(i=t.protocolMajorVersion)!==null&&i!==void 0||(t.protocolMajorVersion=1),t.defaultChannelReceivingWindowSize=t.defaultChannelReceivingWindowSize||r.recommendedDefaultChannelReceivingWindowSize,t.protocolMajorVersion<3&&t.seededChannels&&t.seededChannels.length>0)throw new Error("Seeded channels require v3 of the protocol at least.");let o=t.protocolMajorVersion===1?new sG.MultiplexingStreamV1Formatter(e):t.protocolMajorVersion===2?new sG.MultiplexingStreamV2Formatter(e):t.protocolMajorVersion===3?new sG.MultiplexingStreamV3Formatter(e):void 0;if(!o)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported.`);let s=await o.writeHandshakeAsync(),a=await o.readHandshakeAsync(s,n);return o.isOdd=a.isOdd,new Aq(o,a.isOdd,t)}static Create(e,t){var n;t??(t={protocolMajorVersion:3}),(n=t.protocolMajorVersion)!==null&&n!==void 0||(t.protocolMajorVersion=3);let i=t.protocolMajorVersion===3?new sG.MultiplexingStreamV3Formatter(e):void 0;if(!i)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported. Try CreateAsync instead.`);return new Aq(i,void 0,t)}createChannel(e){var t;let n={name:"",remoteWindowSize:(t=e?.channelReceivingWindowSize)!==null&&t!==void 0?t:this.defaultChannelReceivingWindowSize},i=this.formatter.serializeOfferParameters(n),o=new cG.ChannelClass(this,{id:this.getUnusedChannelId(),source:TC.ChannelSource.Local},n);return this.setOpenChannel(o),this.rejectOnFailure(this.sendFrameAsync(new Ik.FrameHeader(sy.ControlCode.offer,o.qualifiedId),i,this.disposalToken)),o}acceptChannel(e,t){let n=this.remotelyOfferedOpenChannels[e]||this.seededOpenChannels[e];if(!n)throw new Error("No channel with ID "+e);return this.removeChannelFromOfferedQueue(n),this.acceptChannelOrThrow(n,t),n}rejectChannel(e){let t=this.remotelyOfferedOpenChannels[e];if(t)(0,Ok.removeFromQueue)(t,this.channelsOfferedByThemByName[t.name]);else throw new Error("No channel with that ID found.");aG(t.acceptance),aG(t.completion),t.dispose()}async offerChannelAsync(e,t,n=xk.default.CONTINUE){var i;if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,Ok.throwIfDisposed)(this);let o={name:e,remoteWindowSize:(i=t?.channelReceivingWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize},s=this.formatter.serializeOfferParameters(o),a=new cG.ChannelClass(this,{id:this.getUnusedChannelId(),source:TC.ChannelSource.Local},o);this.setOpenChannel(a);let c=new Ik.FrameHeader(sy.ControlCode.offer,a.qualifiedId),u=n.onCancelled(l=>this.offerChannelCanceled(a,l));try{return aG(a.acceptance),await this.sendFrameAsync(c,s,n),await a.acceptance,a}finally{u()}}async acceptChannelAsync(e,t,n=xk.default.CONTINUE){if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,Ok.throwIfDisposed)(this);let i,o,s=this.channelsOfferedByThemByName[e];if(s){for(;i===void 0&&s.length>0;)if(i=s.shift(),i.isAccepted||i.isRejectedOrCanceled){i=void 0;continue}}if(i===void 0){let a=this.acceptingChannels[e];a||(this.acceptingChannels[e]=a=[]),o=new F6e.Deferred(t),a.push(o)}if(i!==void 0)return this.acceptChannelOrThrow(i,t),i;{let a=n.onCancelled(c=>this.acceptChannelCanceled(o,e,c));try{return await o.promise}finally{a()}}}dispose(){this.disposalTokenSource.cancel(),this._completionSource.resolve(),this.formatter.end(),[this.locallyOfferedOpenChannels,this.remotelyOfferedOpenChannels].forEach(e=>{for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];aG(n.acceptance),n.dispose()}})}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}once(e,t){this.eventEmitter.once(e,t)}raiseChannelOffered(e,t,n){let i={id:e,isAccepted:n,name:t};try{this.eventEmitter.emit("channelOffered",i)}catch(o){this._completionSource.reject(o)}}acceptChannelOrThrow(e,t){var n,i;if(e.tryAcceptOffer(t)){let o={remoteWindowSize:(i=(n=t?.channelReceivingWindowSize)!==null&&n!==void 0?n:e.localWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize};if(o.remoteWindowSize<this.defaultChannelReceivingWindowSize&&(o.remoteWindowSize=this.defaultChannelReceivingWindowSize),e.qualifiedId.source!==TC.ChannelSource.Seeded){let s=this.formatter.serializeAcceptanceParameters(o);this.rejectOnFailure(this.sendFrameAsync(new Ik.FrameHeader(sy.ControlCode.offerAccepted,e.qualifiedId),s,this.disposalToken))}}else throw e.isAccepted?new Error("Channel is already accepted."):e.isRejectedOrCanceled?new Error("Channel is no longer available for acceptance."):new Error("Channel could not be accepted.")}async rejectOnFailure(e){try{await e}catch(t){this._completionSource.reject(t)}}removeChannelFromOfferedQueue(e){e.name&&(0,Ok.removeFromQueue)(e,this.channelsOfferedByThemByName[e.name])}getOpenChannel(e){return this.getChannelCollection(e.source)[e.id]}setOpenChannel(e){this.getChannelCollection(e.qualifiedId.source)[e.qualifiedId.id]=e}deleteOpenChannel(e){delete this.getChannelCollection(e.source)[e.id]}getChannelCollection(e){switch(e){case TC.ChannelSource.Local:return this.locallyOfferedOpenChannels;case TC.ChannelSource.Remote:return this.remotelyOfferedOpenChannels;case TC.ChannelSource.Seeded:return this.seededOpenChannels}}acceptChannelCanceled(e,t,n){e.reject(new xk.default.CancellationError(n))&&(0,Ok.removeFromQueue)(e,this.acceptingChannels[t])}offerChannelCanceled(e,t){e.tryCancelOffer(t)}getUnusedChannelId(){return this.lastOfferedChannelId+=this.isOdd!==void 0?2:1}};kk.MultiplexingStream=DC;DC.framePayloadMaxLength=20*1024;DC.recommendedDefaultChannelReceivingWindowSize=5*DC.framePayloadMaxLength;DC.defaultChannelOptions={};DC.ControlFrameEncoding="utf-8";var Aq=class extends DC{constructor(e,t,n){var i,o;super(e,t,n),this.sendingSemaphore=new FBt.Semaphore(1),this.lastOfferedChannelId=t?-1:0,this.lastOfferedChannelId+=(o=(i=n.seededChannels)===null||i===void 0?void 0:i.length)!==null&&o!==void 0?o:0,this.readFromStream(this.disposalToken).catch(s=>this._completionSource.reject(s))}get backpressureSupportEnabled(){return this.protocolMajorVersion>1}async sendFrameAsync(e,t,n=xk.default.CONTINUE){if(!e)throw new Error("Header is required.");await this.sendingSemaphore.use(async()=>{n.throwIfCancelled(),(0,Ok.throwIfDisposed)(this),await this.formatter.writeFrameAsync(e,t)})}async sendFrame(e,t){try{if(this._completionSource.isCompleted)return;let n=new Ik.FrameHeader(e,t);await this.sendFrameAsync(n)}catch(n){this._completionSource.reject(n)}}onChannelWritingCompleted(e){!e.isDisposed&&this.getOpenChannel(e.qualifiedId)&&this.sendFrame(sy.ControlCode.contentWritingCompleted,e.qualifiedId)}async onChannelDisposed(e,t){if(!this._completionSource.isCompleted)try{let n=this.protocolMajorVersion>1&&t?this.formatter.serializeException(t):Buffer.alloc(0),i=new Ik.FrameHeader(sy.ControlCode.channelTerminated,e.qualifiedId);await this.sendFrameAsync(i,n)}catch(n){if(this.isDisposed)return;throw n}}localContentExamined(e,t){let n=this.formatter.serializeContentProcessed(t);this.rejectOnFailure(this.sendFrameAsync(new Ik.FrameHeader(sy.ControlCode.contentProcessed,e.qualifiedId),n))}async readFromStream(e){for(;!this.isDisposed;){let t=await this.formatter.readFrameAsync(e);if(t===null)break;switch(t.header.flipChannelPerspective(),t.header.code){case sy.ControlCode.offer:this.onOffer(t.header.requiredChannel,t.payload);break;case sy.ControlCode.offerAccepted:this.onOfferAccepted(t.header.requiredChannel,t.payload);break;case sy.ControlCode.content:this.onContent(t.header.requiredChannel,t.payload);break;case sy.ControlCode.contentProcessed:this.onContentProcessed(t.header.requiredChannel,t.payload);break;case sy.ControlCode.contentWritingCompleted:this.onContentWritingCompleted(t.header.requiredChannel);break;case sy.ControlCode.channelTerminated:this.onChannelTerminated(t.header.requiredChannel,t.payload);break;default:break}}this.dispose()}onOffer(e,t){let n=this.formatter.deserializeOfferParameters(t),i=new cG.ChannelClass(this,e,n),o=!1,s,a;if((a=this.acceptingChannels[n.name])!==void 0)for(;a.length>0;){let c=a.shift();if(c.resolve(i)){o=!0,s=c.state;break}}if(!o&&n.name){let c;(c=this.channelsOfferedByThemByName[n.name])||(this.channelsOfferedByThemByName[n.name]=c=[]),c.push(i)}this.setOpenChannel(i),o&&this.acceptChannelOrThrow(i,s),this.raiseChannelOffered(i.id,i.name,o)}onOfferAccepted(e,t){if(e.source!==TC.ChannelSource.Local)throw new Error("Remote party tried to accept a channel that they offered.");let n=this.formatter.deserializeAcceptanceParameters(t),i=this.getOpenChannel(e);if(!i)throw new Error(`Unexpected channel created with ID ${TC.QualifiedChannelId.toString(e)}`);i.onAccepted(n)}onContent(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);n.onContent(t)}onContentProcessed(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);let i=this.formatter.deserializeContentProcessed(t);n.onContentProcessed(i)}onContentWritingCompleted(e){let t=this.getOpenChannel(e);if(!t)throw new Error(`No channel with id ${e} found.`);t.onContent(null)}onChannelTerminated(e,t){let n=this.getOpenChannel(e);if(n){this.deleteOpenChannel(e),this.removeChannelFromOfferedQueue(n);let i=this.protocolMajorVersion>1?this.formatter.deserializeException(t):null;n.dispose(i)}}};kk.MultiplexingStreamClass=Aq});var kpe=C(Ak=>{"use strict";Object.defineProperty(Ak,"__esModule",{value:!0});Ak.ChannelClass=Ak.Channel=void 0;var q6e=LD(),jBt=require("stream"),zBt=Ppe(),uG=bq(),UBt=eG(),HBt=iG(),Ape=Iq(),Lpe=oG(),lG=class{constructor(e){this._isDisposed=!1,this.qualifiedId=e}get id(){return this.qualifiedId.id}get isDisposed(){return this._isDisposed}dispose(e){this._isDisposed=!0}};Ak.Channel=lG;var Npe=class extends lG{constructor(e,t,n){super(t),this._acceptance=new uG.Deferred,this._completion=new uG.Deferred,this.remoteWindowFilled=0;let i=this;switch(this.name=n.name,t.source){case Ape.ChannelSource.Local:this.localWindowSize=n.remoteWindowSize;break;case Ape.ChannelSource.Remote:this.remoteWindowSize=n.remoteWindowSize;break;case Ape.ChannelSource.Seeded:this.remoteWindowSize=n.remoteWindowSize,this.localWindowSize=n.remoteWindowSize;break;default:throw new Error("Channel source not recognized.")}this._multiplexingStream=e,this.remoteWindowHasCapacity=new uG.Deferred,(!this._multiplexingStream.backpressureSupportEnabled||this.remoteWindowSize)&&this.remoteWindowHasCapacity.resolve(),this._duplex=new jBt.Duplex({async write(o,s,a){let c;try{let u=Buffer.from(o);for(;u.length>0;){let l=Math.min(u.length,HBt.MultiplexingStream.framePayloadMaxLength);if(i._multiplexingStream.backpressureSupportEnabled){if(await i.remoteWindowHasCapacity.promise,!i.remoteWindowSize)throw new Error("Remote window size unknown.");l=Math.min(i.remoteWindowSize-i.remoteWindowFilled,l)}i.onTransmittingBytes(l);let d=new UBt.FrameHeader(zBt.ControlCode.content,t);await e.sendFrameAsync(d,u.slice(0,l)),u=u.slice(l)}}catch(u){c=u}a&&a(c)},async final(o){let s;try{await e.onChannelWritingCompleted(i)}catch(a){s=a}o&&o(s)},read(){}})}get stream(){return this._duplex}get acceptance(){return this._acceptance.promise}get isAccepted(){return this._acceptance.isResolved}get isRejectedOrCanceled(){return this._acceptance.isRejected}get completion(){return this._completion.promise}tryAcceptOffer(e){return this._acceptance.resolve()?(this.localWindowSize=e?.channelReceivingWindowSize!==void 0?Math.max(this._multiplexingStream.defaultChannelReceivingWindowSize,e?.channelReceivingWindowSize):this._multiplexingStream.defaultChannelReceivingWindowSize,!0):!1}tryCancelOffer(e){let t=new q6e.default.CancellationError(e);this._acceptance.reject(t),this._completion.reject(t),Lpe(this._completion.promise),this.dispose()}onAccepted(e){return this._multiplexingStream.backpressureSupportEnabled&&(this.remoteWindowSize=e.remoteWindowSize,this.remoteWindowHasCapacity.resolve()),this._acceptance.resolve()}onContent(e){this._duplex.push(e),this._multiplexingStream.backpressureSupportEnabled&&e&&this._multiplexingStream.localContentExamined(this,e.length)}onContentProcessed(e){if(e<0)throw new Error("A non-negative number is required.");if(e>this.remoteWindowFilled)throw new Error("More bytes processed than we thought were in the window.");if(this.remoteWindowSize===void 0)throw new Error("Unexpected content processed message given we don't know the remote window size.");this.remoteWindowFilled-=e,this.remoteWindowFilled<this.remoteWindowSize&&this.remoteWindowHasCapacity.resolve()}dispose(e){this.isDisposed||(super.dispose(),this._acceptance.reject(new q6e.default.CancellationError("disposed"))&&Lpe(this.acceptance),this._duplex.end(),this._duplex.push(null),e?this._completion.reject(e):this._completion.resolve(),Lpe(this._multiplexingStream.onChannelDisposed(this,e??null)))}onTransmittingBytes(e){if(this._multiplexingStream.backpressureSupportEnabled){if(e<0)throw new Error("Negative byte count transmitted.");this.remoteWindowFilled+=e,this.remoteWindowFilled===this.remoteWindowSize&&(this.remoteWindowHasCapacity=new uG.Deferred)}}};Ak.ChannelClass=Npe});var j6e=C(dG=>{"use strict";Object.defineProperty(dG,"__esModule",{value:!0});dG.FullDuplexStream=void 0;var Mpe=require("stream"),Fpe=class r{static CreatePair(){let e=new Mpe.PassThrough,t=new Mpe.PassThrough;return{first:r.Splice(e,t),second:r.Splice(t,e)}}static Splice(e,t){let n=new Mpe.Duplex({write(i,o,s){t.write(i,o,s)},final(i){t.end(i)}});return n.read=e.read.bind(e),n.on=e.on.bind(e),n}};dG.FullDuplexStream=Fpe});var Lq=C(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.ChannelSource=Dh.QualifiedChannelId=Dh.readSubstream=Dh.writeSubstream=Dh.MultiplexingStream=Dh.FullDuplexStream=Dh.Channel=void 0;var BBt=kpe();Object.defineProperty(Dh,"Channel",{enumerable:!0,get:function(){return BBt.Channel}});var WBt=j6e();Object.defineProperty(Dh,"FullDuplexStream",{enumerable:!0,get:function(){return WBt.FullDuplexStream}});var $Bt=iG();Object.defineProperty(Dh,"MultiplexingStream",{enumerable:!0,get:function(){return $Bt.MultiplexingStream}});var z6e=gk();Object.defineProperty(Dh,"writeSubstream",{enumerable:!0,get:function(){return z6e.writeSubstream}});Object.defineProperty(Dh,"readSubstream",{enumerable:!0,get:function(){return z6e.readSubstream}});var U6e=Iq();Object.defineProperty(Dh,"QualifiedChannelId",{enumerable:!0,get:function(){return U6e.QualifiedChannelId}});Object.defineProperty(Dh,"ChannelSource",{enumerable:!0,get:function(){return U6e.ChannelSource}})});var H6e=C(Lk=>{"use strict";Object.defineProperty(Lk,"__esModule",{value:!0});Lk.NodeStreamMessageWriter=Lk.NodeStreamMessageReader=void 0;var EC=tR(),qpe=class extends EC.ReadableStreamMessageReader{constructor(e,t){super(new zpe(e),t)}};Lk.NodeStreamMessageReader=qpe;var jpe=class extends EC.WriteableStreamMessageWriter{constructor(e,t){super(new Upe(e),t)}};Lk.NodeStreamMessageWriter=jpe;var zpe=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),EC.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),EC.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),EC.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),EC.Disposable.create(()=>this.stream.off("data",e))}},Upe=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),EC.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),EC.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),EC.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}}});var $pe=C(ay=>{"use strict";var VBt=ay&&ay.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),GBt=ay&&ay.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),KBt=ay&&ay.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&VBt(e,r,t);return GBt(e,r),e};Object.defineProperty(ay,"__esModule",{value:!0});ay.JsonRpcConnection=ay.ServiceJsonRpcDescriptor=void 0;var Hpe=jVe(),Nq=ID(),YBt=vq(),Bpe=Fhe(),fG=Whe(),B6e=e4e(),W6e=KBt(Rpe()),JBt=Lq(),XBt=require("stream"),$6e=H6e(),V6e=Hhe(),Wpe=class r extends Bpe.ServiceRpcDescriptor{formatter;messageDelimiter;protocol="json-rpc";multiplexingStreamOptions;connectionFactory;constructor(e,t,n,i){super(e),this.formatter=t,this.messageDelimiter=n;let o,s;switch(t){case Nq.Formatters.Utf8:o=a=>Promise.resolve(Buffer.from(JSON.stringify(a))),s=a=>JSON.parse(a.toString());break;case Nq.Formatters.MessagePack:o=a=>Promise.resolve(W6e.encode(a)),s=a=>W6e.decode(a);break;default:throw new Error(`Unsupported formatter: ${t}.`)}if(this.multiplexingStreamOptions=i===void 0?void 0:Object.freeze(i),n===Nq.MessageDelimiters.HttpLikeHeaders){if(t!==Nq.Formatters.Utf8)throw new Error("Utf8 is the only formatter supported while using HttpLikeHeaders.");this.connectionFactory=a=>(0,Hpe.createMessageConnection)(new $6e.NodeStreamMessageReader(a),new $6e.NodeStreamMessageWriter(a))}else if(n===Nq.MessageDelimiters.BigEndianInt32LengthHeader)this.connectionFactory=a=>(0,Hpe.createMessageConnection)(new B6e.BE32MessageReader(a,s),new B6e.BE32MessageWriter(a,o));else throw new Error(`Unsupported message delimiter: ${n}.`)}constructRpcConnection(e){if(this.multiplexingStreamOptions){let t=this.createSeedChannels(),n=(0,fG.isChannel)(e)?e.stream:e,i=JBt.MultiplexingStream.Create(n,t),o=i.acceptChannel(0);return o.completion.finally(()=>i.dispose()),new Mq((0,fG.constructMessageConnection)(o,this.connectionFactory))}return new Mq((0,fG.constructMessageConnection)(e,this.connectionFactory))}equals(e){return!e||!(e instanceof r)||!YBt.ServiceMoniker.equals(e.moniker,this.moniker)?!1:this.formatter===e.formatter&&this.messageDelimiter===e.messageDelimiter}createSeedChannels(){if(this.multiplexingStreamOptions===void 0)throw new Error("multiplexingStreamOptions unset.");if(this.multiplexingStreamOptions.seededChannels===void 0||this.multiplexingStreamOptions.seededChannels.length===0){let e=(0,fG.clone)(this.multiplexingStreamOptions);return e.seededChannels=[{}],e.protocolMajorVersion=3,e}else return this.multiplexingStreamOptions}};ay.ServiceJsonRpcDescriptor=Wpe;var QBt={get:(r,e)=>{switch(e.toString()){case"dispose":return function(){r.messageConnection.dispose()};case"_jsonRpc":return r.messageConnection;case"then":return;case"on":return function(t,n){return r.eventEmitter.on(t,n),r};case"once":return function(t,n){return r.eventEmitter.once(t,n),r};case"prependListener":return function(t,n){return r.eventEmitter.prependListener(t,n),r};case"prependOnceListener":return function(t,n){return r.eventEmitter.prependOnceListener(t,n),r};case"addListener":return function(t,n){return r.eventEmitter.addListener(t,n),r};case"rawListeners":return r.eventEmitter.rawListeners;case"removeAllListeners":return function(t){return r.eventEmitter.removeAllListeners(t),r};case"removeListener":return function(t,n){return r.eventEmitter.removeListener(t,n),r};case"off":return function(t,n){return r.eventEmitter.off(t,n),r};case"listenerCount":return r.eventEmitter.listenerCount;case"getMaxListeners":return r.eventEmitter.getMaxListeners;case"setMaxListeners":return function(t){return r.eventEmitter.setMaxListeners(t),r};case"eventNames":return function(){return r.eventEmitter.eventNames(),r};case"emit":return function(t,n){return r.eventEmitter.emit(t,n),r};default:return function(){let t=e.toString();return(0,V6e.invokeRpc)(e.toString(),arguments,r.messageConnection)}}}},Mq=class extends Bpe.RpcConnection{messageConnection;constructor(e){super(),this.messageConnection=e}addLocalRpcTarget(e){if((0,V6e.registerInstanceMethodsAsRpcTargets)(e,this.messageConnection),Bpe.RpcConnection.IsRpcEventServer(e))for(let t of e.rpcEventNames)e.on(t,(...n)=>{this.messageConnection.sendNotification(t,Hpe.ParameterStructures.byPosition,...n)});typeof e.dispose=="function"&&this.messageConnection.onDispose(()=>e.dispose())}constructRpcClient(){let e={messageConnection:this.messageConnection,eventEmitter:new XBt.EventEmitter};return this.messageConnection.onNotification((t,n)=>Array.isArray(n)?e.eventEmitter.emit(t,...n):e.eventEmitter.emit(t,n)),new Proxy(e,QBt)}startListening(){this.messageConnection?.listen()}dispose(){}};ay.JsonRpcConnection=Mq});var mG=C(pG=>{"use strict";Object.defineProperty(pG,"__esModule",{value:!0});pG.FrameworkServices=void 0;var hG=ID(),G6e=$pe(),K6e=vq(),Vpe=class{static remoteServiceBroker=Object.freeze(new G6e.ServiceJsonRpcDescriptor(K6e.ServiceMoniker.create("RemoteServiceBroker"),hG.Formatters.Utf8,hG.MessageDelimiters.HttpLikeHeaders));static authorization=Object.freeze(new G6e.ServiceJsonRpcDescriptor(K6e.ServiceMoniker.create("Microsoft.ServiceHub.Framework.AuthorizationService"),hG.Formatters.Utf8,hG.MessageDelimiters.HttpLikeHeaders))};pG.FrameworkServices=Vpe});var Kpe=C(Nk=>{"use strict";var X6e=Nk&&Nk.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nk,"__esModule",{value:!0});Nk.AuthorizationServiceClient=void 0;var Y6e=X6e(require("assert")),J6e=X6e(LD()),Gpe=class{authService;ownsAuthService;isDisposed=!1;constructor(e,t=!0){this.authService=e,this.ownsAuthService=t,(0,Y6e.default)(e),this.authService=e}async getCredentials(e=J6e.default.CONTINUE){if(this.isDisposed)throw new Error("Object is disposed");return await this.authService.getCredentials(e)}async checkAuthorization(e,t=J6e.default.CONTINUE){if((0,Y6e.default)(e),this.isDisposed)throw new Error("Object is disposed");return await this.authService.checkAuthorization(e,t)}dispose(){this.isDisposed=!0,this.ownsAuthService&&this.authService.dispose()}};Nk.AuthorizationServiceClient=Gpe});var Q6e=C(Fq=>{"use strict";Object.defineProperty(Fq,"__esModule",{value:!0});Fq.IDisposable=void 0;var ZBt;(function(r){function e(t){return typeof t.dispose=="function"}r.is=e})(ZBt=Fq.IDisposable||(Fq.IDisposable={}))});var Xpe=C(gG=>{"use strict";Object.defineProperty(gG,"__esModule",{value:!0});gG.IpcRelayServiceBroker=void 0;var Ype=ID(),eWt=require("events"),Z6e=(qI(),GC(Z4)),tWt=require("net"),rWt=require("path"),Jpe=class r extends eWt{serviceBroker;static _rpcEventNames=Object.freeze(["availabilityChanged"]);rpcEventNames=r._rpcEventNames;completion;channelsOfferedToClient={};disposed;constructor(e){super(),this.serviceBroker=e,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(t=>this.disposed=t)}handshake(e,t){if(!Ype.RemoteServiceConnections.contains(e.supportedConnections,Ype.RemoteServiceConnections.IpcPipe))throw new Error("The client must support IpcPipe to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=await this.serviceBroker.getPipe(e,t,n);if(!i)return{};let o=(0,Z6e.v4)(),s=rWt.join(Ype.PIPE_NAME_PREFIX,(0,Z6e.v4)()),a=(0,tWt.createServer)(c=>{delete this.channelsOfferedToClient[o],c.pipe(i),i.pipe(c)});return a.listen(s),this.channelsOfferedToClient[o]=a,{requestId:o,pipeName:s}}cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(delete this.channelsOfferedToClient[e],n.close(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this));for(let e in this.channelsOfferedToClient)this.channelsOfferedToClient[e].close(),delete this.channelsOfferedToClient[e];this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};gG.IpcRelayServiceBroker=Jpe});var t5e=C(Mk=>{"use strict";var nWt=Mk&&Mk.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mk,"__esModule",{value:!0});Mk.MultiplexingRelayServiceBroker=void 0;var e5e=ID(),iWt=require("events"),oWt=Lq(),sWt=mG(),aWt=nWt(oG()),cWt=(qI(),GC(Z4)),Qpe=class r extends iWt{serviceBroker;multiplexingStreamWithClient;multiplexingStreamWithRemoteClientOwned;static _rpcEventNames=Object.freeze(["availabilityChanged"]);channelsOfferedToClient={};completion;rpcEventNames=r._rpcEventNames;disposed;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStreamWithClient=t,this.multiplexingStreamWithRemoteClientOwned=n,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(i=>this.disposed=i)}static async connectToServer(e,t,n){try{let i=await oWt.MultiplexingStream.CreateAsync(t,void 0,n),o=await i.offerChannelAsync("",void 0,n),s=new r(e,i,!0);return sWt.FrameworkServices.remoteServiceBroker.constructRpc(s,o),s}catch(i){throw t.end(),i}}handshake(e,t){if(!e5e.RemoteServiceConnections.contains(e.supportedConnections,e5e.RemoteServiceConnections.Multiplexing))throw new Error("The client must support multiplexing to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=(0,cWt.v4)();t=t?{...t}:{},t.multiplexingStream=this.multiplexingStreamWithClient;let o=await this.serviceBroker.getPipe(e,t,n);if(!o)return{};let s=this.multiplexingStreamWithClient.createChannel();return s.stream.pipe(o),o.pipe(s.stream),this.channelsOfferedToClient[i]=s,(0,aWt.default)(s.acceptance.finally(()=>delete this.channelsOfferedToClient[i])),{requestId:i,multiplexingChannelId:s.qualifiedId.id}}async cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(n.dispose(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.multiplexingStreamWithRemoteClientOwned&&this.multiplexingStreamWithClient.dispose(),this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};Mk.MultiplexingRelayServiceBroker=Qpe});var n5e=C(cR=>{"use strict";var uWt=cR&&cR.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cR,"__esModule",{value:!0});cR.ProtectedOperation=void 0;var r5e=uWt(require("assert")),lWt;(function(r){function e(i,o){return Object.freeze({operationMoniker:i,requiredTrustLevel:o})}r.create=e;function t(i,o){return(0,r5e.default)(i),(0,r5e.default)(o),i.operationMoniker===o.operationMoniker&&(i.requiredTrustLevel===o.requiredTrustLevel||!!i.requiredTrustLevel&&!!o.requiredTrustLevel&&i.requiredTrustLevel>o.requiredTrustLevel)}r.isSupersetOf=t;function n(i,o){return i===o?!0:!i||!o?!1:i.operationMoniker===o.operationMoniker&&i.requiredTrustLevel===o.requiredTrustLevel}r.equals=n})(lWt=cR.ProtectedOperation||(cR.ProtectedOperation={}))});var Zpe=C(qq=>{"use strict";Object.defineProperty(qq,"__esModule",{value:!0});qq.RemoteServiceConnectionInfo=void 0;var dWt;(function(r){function e(n){return!n.multiplexingChannelId&&!n.requestId&&!n.pipeName}r.isEmpty=e;function t(n,i){return n.multiplexingChannelId?i.indexOf("multiplexing")>-1:!1}r.isOneOf=t})(dWt=qq.RemoteServiceConnectionInfo||(qq.RemoteServiceConnectionInfo={}))});var tme=C(Fk=>{"use strict";var a5e=Fk&&Fk.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fk,"__esModule",{value:!0});Fk.RemoteServiceBroker=void 0;var D_=a5e(require("assert")),uR=a5e(LD()),fWt=require("events"),hWt=Lq(),pWt=Kpe(),zD=ID(),i5e=Zpe(),o5e=Whe(),mWt=require("net"),s5e=mG(),eme=class r extends fWt.EventEmitter{serviceBroker;multiplexingStream;static fullConnectionSupport=zD.RemoteServiceConnections.Multiplexing|zD.RemoteServiceConnections.IpcPipe;static async connectToDuplex(e,t=uR.default.CONTINUE){(0,D_.default)(e);let n=s5e.FrameworkServices.remoteServiceBroker.constructRpc(e);return await r.initializeBrokerConnection(n,t)}static async connectToRemoteServiceBroker(e,t=uR.default.CONTINUE){return(0,D_.default)(e),await r.initializeBrokerConnection(e,t)}static async connectToMultiplexingDuplex(e,t,n=uR.default.CONTINUE){(0,D_.default)(e);let i=await hWt.MultiplexingStream.CreateAsync(e,t,n),o=await i.acceptChannelAsync("",void 0,n),s=s5e.FrameworkServices.remoteServiceBroker.constructRpc(o.stream),a=await this.connectToMultiplexingRemoteServiceBroker(s,i,n);return a.ownsMxStream=!0,a}static async connectToMultiplexingRemoteServiceBroker(e,t,n=uR.default.CONTINUE){(0,D_.default)(e),(0,D_.default)(t);let i={supportedConnections:r.fullConnectionSupport},o=await r.initializeBrokerConnection(e,n,i,t);return o.ownsMxStream=!1,o}static async initializeBrokerConnection(e,t=uR.default.CONTINUE,n,i){if(!n){let o=this.fullConnectionSupport;i||(o&=~zD.RemoteServiceConnections.Multiplexing),n={supportedConnections:o}}try{await e.handshake(n,t)}catch(o){let s=e;throw typeof s.dispose=="function"&&s.dispose(),o}return new r(e,n,i)}isDisposed=!1;ownsMxStream=!1;defaultClientCulture="en-US";defaultClientUICulture="en-US";authorizationClient;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStream=n,(0,D_.default)(e),(0,D_.default)(t),zD.RemoteServiceConnections.contains(t.supportedConnections,zD.RemoteServiceConnections.Multiplexing)&&(0,D_.default)(n),this.serviceBroker.on("availabilityChanged",i=>{this.emit("availabilityChanged",i)})}setAuthorizationService(e){(0,D_.default)(e),this.authorizationClient?.dispose(),this.authorizationClient=new pWt.AuthorizationServiceClient(e)}async getProxy(e,t,n=uR.default.CONTINUE){(0,D_.default)(e),t=t||{clientCulture:this.defaultClientCulture,clientUICulture:this.defaultClientUICulture},t=await this.applyAuthorization(t,n);let i,o={};try{if(o=await this.serviceBroker.requestServiceChannel(e.moniker,t,n),!o||i5e.RemoteServiceConnectionInfo.isEmpty(o))return null;if(o.multiplexingChannelId&&this.multiplexingStream)i=await this.multiplexingStream.acceptChannel(o.multiplexingChannelId);else if(o.pipeName){let a=process.platform==="win32"&&!o.pipeName.startsWith(zD.PIPE_NAME_PREFIX)?zD.PIPE_NAME_PREFIX+o.pipeName:o.pipeName;i=(0,mWt.createConnection)(a)}else throw new Error("Unsupported connection type")}catch(a){throw(0,o5e.isReadWriteStream)(i)?i.end():(0,o5e.isChannel)(i)&&i.dispose(),o?.requestId&&await this.serviceBroker.cancelServiceRequest(o.requestId,n),a}return e.constructRpc(t?.clientRpcTarget,i)}async getPipe(e,t,n=uR.default.CONTINUE){if((0,D_.default)(e),t=t||{clientCulture:"en-US",clientUICulture:"en-US"},t=await this.applyAuthorization(t,n),t.clientRpcTarget)throw new Error("Cannot connect pipe to service with client RPC target");let i={},o=null,s=null;try{if(i=await this.serviceBroker.requestServiceChannel(e,t,n),!i||i5e.RemoteServiceConnectionInfo.isEmpty(i))return null;if(i.multiplexingChannelId&&this.multiplexingStream)s=await this.multiplexingStream.acceptChannelAsync("",void 0,n),o=s.stream;else throw i.pipeName?new Error("Cannot connect to named pipe"):new Error("Unsupported connection type");return o}catch(a){throw s?.dispose(),o?.end(),!o&&i?.requestId&&await this.serviceBroker.cancelServiceRequest(i.requestId,n),a}}dispose(){this.isDisposed=!0,this.serviceBroker.removeAllListeners(zD.availabilityChangedEvent);let e=this.serviceBroker;typeof e.dispose=="function"&&e.dispose(),this.authorizationClient?.dispose(),this.multiplexingStream&&this.ownsMxStream&&this.multiplexingStream.dispose()}async applyAuthorization(e,t){return this.authorizationClient&&!e.clientCredentials&&(e.clientCredentials=await this.authorizationClient.getCredentials(t)),e}};Fk.RemoteServiceBroker=eme});var c5e=C(vG=>{"use strict";Object.defineProperty(vG,"__esModule",{value:!0});vG.Observer=void 0;var rme=class{next;completion;_jsonRpcMarshalableLifetime="explicit";error;get completed(){return this.error!==void 0}constructor(e,t){this.next=e,this.completion=t}onNext(e){this.next(e)}onCompleted(){this.error=null,this.completion&&this.completion(null)}onError(e){this.error=e,this.completion&&this.completion(e)}};vG.Observer=rme});var l5e=C((yG,u5e)=>{(function(r,e){typeof yG=="object"&&typeof u5e<"u"?e(yG):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.Immutable={}))})(yG,function(r){"use strict";var e="delete",t=5,n=1<<t,i=n-1,o={};function s(){return{value:!1}}function a(g){g&&(g.value=!0)}function c(){}function u(g){return g.size===void 0&&(g.size=g.__iterate(d)),g.size}function l(g,v){if(typeof v!="number"){var R=v>>>0;if(""+R!==v||R===4294967295)return NaN;v=R}return v<0?u(g)+v:v}function d(){return!0}function f(g,v,R){return(g===0&&!x(g)||R!==void 0&&g<=-R)&&(v===void 0||R!==void 0&&v>=R)}function p(g,v){return D(g,v,0)}function _(g,v){return D(g,v,v)}function D(g,v,R){return g===void 0?R:x(g)?v===1/0?v:Math.max(0,v+g)|0:v===void 0||v===g?g:Math.min(v,g)|0}function x(g){return g<0||g===0&&1/g===-1/0}var N="@@__IMMUTABLE_ITERABLE__@@";function A(g){return!!(g&&g[N])}var U="@@__IMMUTABLE_KEYED__@@";function ee(g){return!!(g&&g[U])}var he="@@__IMMUTABLE_INDEXED__@@";function we(g){return!!(g&&g[he])}function V(g){return ee(g)||we(g)}var W=function(v){return A(v)?v:Or(v)},te=function(g){function v(R){return ee(R)?R:Hn(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}(W),De=function(g){function v(R){return we(R)?R:$r(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}(W),ae=function(g){function v(R){return A(R)&&!V(R)?R:dn(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}(W);W.Keyed=te,W.Indexed=De,W.Set=ae;var ue="@@__IMMUTABLE_SEQ__@@";function qe(g){return!!(g&&g[ue])}var Me="@@__IMMUTABLE_RECORD__@@";function ce(g){return!!(g&&g[Me])}function Ce(g){return A(g)||ce(g)}var be="@@__IMMUTABLE_ORDERED__@@";function xe(g){return!!(g&&g[be])}var Ne=0,$e=1,Ct=2,ze=typeof Symbol=="function"&&Symbol.iterator,st="@@iterator",at=ze||st,tt=function(v){this.next=v};tt.prototype.toString=function(){return"[Iterator]"},tt.KEYS=Ne,tt.VALUES=$e,tt.ENTRIES=Ct,tt.prototype.inspect=tt.prototype.toSource=function(){return this.toString()},tt.prototype[at]=function(){return this};function fr(g,v,R,O){var F=g===0?v:g===1?R:[v,R];return O?O.value=F:O={value:F,done:!1},O}function Lr(){return{value:void 0,done:!0}}function zr(g){return Array.isArray(g)?!0:!!hr(g)}function cr(g){return g&&typeof g.next=="function"}function xt(g){var v=hr(g);return v&&v.call(g)}function hr(g){var v=g&&(ze&&g[ze]||g[st]);if(typeof v=="function")return v}function Nt(g){var v=hr(g);return v&&v===g.entries}function on(g){var v=hr(g);return v&&v===g.keys}var ln=Object.prototype.hasOwnProperty;function On(g){return Array.isArray(g)||typeof g=="string"?!0:g&&typeof g=="object"&&Number.isInteger(g.length)&&g.length>=0&&(g.length===0?Object.keys(g).length===1:g.hasOwnProperty(g.length-1))}var Or=function(g){function v(R){return R==null?Gr():Ce(R)?R.toSeq():fn(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toSeq=function(){return this},v.prototype.toString=function(){return this.__toString("Seq {","}")},v.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},v.prototype.__iterate=function(O,F){var J=this._cache;if(J){for(var Z=J.length,pe=0;pe!==Z;){var ke=J[F?Z-++pe:pe++];if(O(ke[1],ke[0],this)===!1)break}return pe}return this.__iterateUncached(O,F)},v.prototype.__iterator=function(O,F){var J=this._cache;if(J){var Z=J.length,pe=0;return new tt(function(){if(pe===Z)return Lr();var ke=J[F?Z-++pe:pe++];return fr(O,ke[0],ke[1])})}return this.__iteratorUncached(O,F)},v}(W),Hn=function(g){function v(R){return R==null?Gr().toKeyedSeq():A(R)?ee(R)?R.toSeq():R.fromEntrySeq():ce(R)?R.toSeq():Ji(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toKeyedSeq=function(){return this},v}(Or),$r=function(g){function v(R){return R==null?Gr():A(R)?ee(R)?R.entrySeq():R.toIndexedSeq():ce(R)?R.toSeq().entrySeq():oi(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return v(arguments)},v.prototype.toIndexedSeq=function(){return this},v.prototype.toString=function(){return this.__toString("Seq [","]")},v}(Or),dn=function(g){function v(R){return(A(R)&&!V(R)?R:$r(R)).toSetSeq()}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return v(arguments)},v.prototype.toSetSeq=function(){return this},v}(Or);Or.isSeq=qe,Or.Keyed=Hn,Or.Set=dn,Or.Indexed=$r,Or.prototype[ue]=!0;var ii=function(g){function v(R){this._array=R,this.size=R.length}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(O,F){return this.has(O)?this._array[l(this,O)]:F},v.prototype.__iterate=function(O,F){for(var J=this._array,Z=J.length,pe=0;pe!==Z;){var ke=F?Z-++pe:pe++;if(O(J[ke],ke,this)===!1)break}return pe},v.prototype.__iterator=function(O,F){var J=this._array,Z=J.length,pe=0;return new tt(function(){if(pe===Z)return Lr();var ke=F?Z-++pe:pe++;return fr(O,ke,J[ke])})},v}($r),Vr=function(g){function v(R){var O=Object.keys(R).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(R):[]);this._object=R,this._keys=O,this.size=O.length}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(O,F){return F!==void 0&&!this.has(O)?F:this._object[O]},v.prototype.has=function(O){return ln.call(this._object,O)},v.prototype.__iterate=function(O,F){for(var J=this._object,Z=this._keys,pe=Z.length,ke=0;ke!==pe;){var Qe=Z[F?pe-++ke:ke++];if(O(J[Qe],Qe,this)===!1)break}return ke},v.prototype.__iterator=function(O,F){var J=this._object,Z=this._keys,pe=Z.length,ke=0;return new tt(function(){if(ke===pe)return Lr();var Qe=Z[F?pe-++ke:ke++];return fr(O,Qe,J[Qe])})},v}(Hn);Vr.prototype[be]=!0;var An=function(g){function v(R){this._collection=R,this.size=R.length||R.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.__iterateUncached=function(O,F){if(F)return this.cacheResult().__iterate(O,F);var J=this._collection,Z=xt(J),pe=0;if(cr(Z))for(var ke;!(ke=Z.next()).done&&O(ke.value,pe++,this)!==!1;);return pe},v.prototype.__iteratorUncached=function(O,F){if(F)return this.cacheResult().__iterator(O,F);var J=this._collection,Z=xt(J);if(!cr(Z))return new tt(Lr);var pe=0;return new tt(function(){var ke=Z.next();return ke.done?ke:fr(O,pe++,ke.value)})},v}($r),Pi;function Gr(){return Pi||(Pi=new ii([]))}function Ji(g){var v=Oe(g);if(v)return v.fromEntrySeq();if(typeof g=="object")return new Vr(g);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+g)}function oi(g){var v=Oe(g);if(v)return v;throw new TypeError("Expected Array or collection object of values: "+g)}function fn(g){var v=Oe(g);if(v)return Nt(g)?v.fromEntrySeq():on(g)?v.toSetSeq():v;if(typeof g=="object")return new Vr(g);throw new TypeError("Expected Array or collection object of values, or keyed object: "+g)}function Oe(g){return On(g)?new ii(g):zr(g)?new An(g):void 0}var oe="@@__IMMUTABLE_MAP__@@";function Q(g){return!!(g&&g[oe])}function _e(g){return Q(g)&&xe(g)}function Je(g){return!!(g&&typeof g.equals=="function"&&typeof g.hashCode=="function")}function ft(g,v){if(g===v||g!==g&&v!==v)return!0;if(!g||!v)return!1;if(typeof g.valueOf=="function"&&typeof v.valueOf=="function"){if(g=g.valueOf(),v=v.valueOf(),g===v||g!==g&&v!==v)return!0;if(!g||!v)return!1}return!!(Je(g)&&Je(v)&&g.equals(v))}var Yt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(v,R){v|=0,R|=0;var O=v&65535,F=R&65535;return O*F+((v>>>16)*F+O*(R>>>16)<<16>>>0)|0};function rr(g){return g>>>1&1073741824|g&3221225471}var Jt=Object.prototype.valueOf;function $t(g){if(g==null)return kt(g);if(typeof g.hashCode=="function")return rr(g.hashCode(g));var v=fe(g);if(v==null)return kt(v);switch(typeof v){case"boolean":return v?1108378657:1108378656;case"number":return K(v);case"string":return v.length>qn?Fe(v):Ht(v);case"object":case"function":return He(v);case"symbol":return Dr(v);default:if(typeof v.toString=="function")return Ht(v.toString());throw new Error("Value type "+typeof v+" cannot be hashed.")}}function kt(g){return g===null?1108378658:1108378659}function K(g){if(g!==g||g===1/0)return 0;var v=g|0;for(v!==g&&(v^=g*4294967295);g>4294967295;)g/=4294967295,v^=g;return rr(v)}function Fe(g){var v=Sn[g];return v===void 0&&(v=Ht(g),As===xi&&(As=0,Sn={}),As++,Sn[g]=v),v}function Ht(g){for(var v=0,R=0;R<g.length;R++)v=31*v+g.charCodeAt(R)|0;return rr(v)}function Dr(g){var v=Tr[g];return v!==void 0||(v=S(),Tr[g]=v),v}function He(g){var v;if(de&&(v=Ye.get(g),v!==void 0)||(v=g[Xr],v!==void 0)||!Pe&&(v=g.propertyIsEnumerable&&g.propertyIsEnumerable[Xr],v!==void 0||(v=je(g),v!==void 0)))return v;if(v=S(),de)Ye.set(g,v);else{if(ne!==void 0&&ne(g)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Pe)Object.defineProperty(g,Xr,{enumerable:!1,configurable:!1,writable:!1,value:v});else if(g.propertyIsEnumerable!==void 0&&g.propertyIsEnumerable===g.constructor.prototype.propertyIsEnumerable)g.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},g.propertyIsEnumerable[Xr]=v;else if(g.nodeType!==void 0)g[Xr]=v;else throw new Error("Unable to set a non-enumerable property on object.")}return v}var ne=Object.isExtensible,Pe=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function je(g){if(g&&g.nodeType>0)switch(g.nodeType){case 1:return g.uniqueID;case 9:return g.documentElement&&g.documentElement.uniqueID}}function fe(g){return g.valueOf!==Jt&&typeof g.valueOf=="function"?g.valueOf(g):g}function S(){var g=++Wr;return Wr&1073741824&&(Wr=0),g}var de=typeof WeakMap=="function",Ye;de&&(Ye=new WeakMap);var Tr=Object.create(null),Wr=0,Xr="__immutablehash__";typeof Symbol=="function"&&(Xr=Symbol(Xr));var qn=16,xi=255,As=0,Sn={},es=function(g){function v(R,O){this._iter=R,this._useKeys=O,this.size=R.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(O,F){return this._iter.get(O,F)},v.prototype.has=function(O){return this._iter.has(O)},v.prototype.valueSeq=function(){return this._iter.valueSeq()},v.prototype.reverse=function(){var O=this,F=Ue(this,!0);return this._useKeys||(F.valueSeq=function(){return O._iter.toSeq().reverse()}),F},v.prototype.map=function(O,F){var J=this,Z=H(this,O,F);return this._useKeys||(Z.valueSeq=function(){return J._iter.toSeq().map(O,F)}),Z},v.prototype.__iterate=function(O,F){var J=this;return this._iter.__iterate(function(Z,pe){return O(Z,pe,J)},F)},v.prototype.__iterator=function(O,F){return this._iter.__iterator(O,F)},v}(Hn);es.prototype[be]=!0;var Ws=function(g){function v(R){this._iter=R,this.size=R.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.includes=function(O){return this._iter.includes(O)},v.prototype.__iterate=function(O,F){var J=this,Z=0;return F&&u(this),this._iter.__iterate(function(pe){return O(pe,F?J.size-++Z:Z++,J)},F)},v.prototype.__iterator=function(O,F){var J=this,Z=this._iter.__iterator($e,F),pe=0;return F&&u(this),new tt(function(){var ke=Z.next();return ke.done?ke:fr(O,F?J.size-++pe:pe++,ke.value,ke)})},v}($r),na=function(g){function v(R){this._iter=R,this.size=R.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.has=function(O){return this._iter.includes(O)},v.prototype.__iterate=function(O,F){var J=this;return this._iter.__iterate(function(Z){return O(Z,Z,J)},F)},v.prototype.__iterator=function(O,F){var J=this._iter.__iterator($e,F);return new tt(function(){var Z=J.next();return Z.done?Z:fr(O,Z.value,Z.value,Z)})},v}(dn),Fo=function(g){function v(R){this._iter=R,this.size=R.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.entrySeq=function(){return this._iter.toSeq()},v.prototype.__iterate=function(O,F){var J=this;return this._iter.__iterate(function(Z){if(Z){_u(Z);var pe=A(Z);return O(pe?Z.get(1):Z[1],pe?Z.get(0):Z[0],J)}},F)},v.prototype.__iterator=function(O,F){var J=this._iter.__iterator($e,F);return new tt(function(){for(;;){var Z=J.next();if(Z.done)return Z;var pe=Z.value;if(pe){_u(pe);var ke=A(pe);return fr(O,ke?pe.get(0):pe[0],ke?pe.get(1):pe[1],Z)}}})},v}(Hn);Ws.prototype.cacheResult=es.prototype.cacheResult=na.prototype.cacheResult=Fo.prototype.cacheResult=pl;function Eo(g){var v=yo(g);return v._iter=g,v.size=g.size,v.flip=function(){return g},v.reverse=function(){var R=g.reverse.apply(this);return R.flip=function(){return g.reverse()},R},v.has=function(R){return g.includes(R)},v.includes=function(R){return g.has(R)},v.cacheResult=pl,v.__iterateUncached=function(R,O){var F=this;return g.__iterate(function(J,Z){return R(Z,J,F)!==!1},O)},v.__iteratorUncached=function(R,O){if(R===Ct){var F=g.__iterator(R,O);return new tt(function(){var J=F.next();if(!J.done){var Z=J.value[0];J.value[0]=J.value[1],J.value[1]=Z}return J})}return g.__iterator(R===$e?Ne:$e,O)},v}function H(g,v,R){var O=yo(g);return O.size=g.size,O.has=function(F){return g.has(F)},O.get=function(F,J){var Z=g.get(F,o);return Z===o?J:v.call(R,Z,F,g)},O.__iterateUncached=function(F,J){var Z=this;return g.__iterate(function(pe,ke,Qe){return F(v.call(R,pe,ke,Qe),ke,Z)!==!1},J)},O.__iteratorUncached=function(F,J){var Z=g.__iterator(Ct,J);return new tt(function(){var pe=Z.next();if(pe.done)return pe;var ke=pe.value,Qe=ke[0];return fr(F,Qe,v.call(R,ke[1],Qe,g),pe)})},O}function Ue(g,v){var R=this,O=yo(g);return O._iter=g,O.size=g.size,O.reverse=function(){return g},g.flip&&(O.flip=function(){var F=Eo(g);return F.reverse=function(){return g.flip()},F}),O.get=function(F,J){return g.get(v?F:-1-F,J)},O.has=function(F){return g.has(v?F:-1-F)},O.includes=function(F){return g.includes(F)},O.cacheResult=pl,O.__iterate=function(F,J){var Z=this,pe=0;return J&&u(g),g.__iterate(function(ke,Qe){return F(ke,v?Qe:J?Z.size-++pe:pe++,Z)},!J)},O.__iterator=function(F,J){var Z=0;J&&u(g);var pe=g.__iterator(Ct,!J);return new tt(function(){var ke=pe.next();if(ke.done)return ke;var Qe=ke.value;return fr(F,v?Qe[0]:J?R.size-++Z:Z++,Qe[1],ke)})},O}function vt(g,v,R,O){var F=yo(g);return O&&(F.has=function(J){var Z=g.get(J,o);return Z!==o&&!!v.call(R,Z,J,g)},F.get=function(J,Z){var pe=g.get(J,o);return pe!==o&&v.call(R,pe,J,g)?pe:Z}),F.__iterateUncached=function(J,Z){var pe=this,ke=0;return g.__iterate(function(Qe,ht,Ut){if(v.call(R,Qe,ht,Ut))return ke++,J(Qe,O?ht:ke-1,pe)},Z),ke},F.__iteratorUncached=function(J,Z){var pe=g.__iterator(Ct,Z),ke=0;return new tt(function(){for(;;){var Qe=pe.next();if(Qe.done)return Qe;var ht=Qe.value,Ut=ht[0],Sr=ht[1];if(v.call(R,Sr,Ut,g))return fr(J,O?Ut:ke++,Sr,Qe)}})},F}function Fr(g,v,R){var O=Pc().asMutable();return g.__iterate(function(F,J){O.update(v.call(R,F,J,g),0,function(Z){return Z+1})}),O.asImmutable()}function so(g,v,R){var O=ee(g),F=(xe(g)?Ts():Pc()).asMutable();g.__iterate(function(Z,pe){F.update(v.call(R,Z,pe,g),function(ke){return ke=ke||[],ke.push(O?[pe,Z]:Z),ke})});var J=ts(g);return F.map(function(Z){return Jn(g,J(Z))}).asImmutable()}function Bi(g,v,R){var O=ee(g),F=[[],[]];g.__iterate(function(Z,pe){F[v.call(R,Z,pe,g)?1:0].push(O?[pe,Z]:Z)});var J=ts(g);return F.map(function(Z){return Jn(g,J(Z))})}function M(g,v,R,O){var F=g.size;if(f(v,R,F))return g;var J=p(v,F),Z=_(R,F);if(J!==J||Z!==Z)return M(g.toSeq().cacheResult(),v,R,O);var pe=Z-J,ke;pe===pe&&(ke=pe<0?0:pe);var Qe=yo(g);return Qe.size=ke===0?ke:g.size&&ke||void 0,!O&&qe(g)&&ke>=0&&(Qe.get=function(ht,Ut){return ht=l(this,ht),ht>=0&&ht<ke?g.get(ht+J,Ut):Ut}),Qe.__iterateUncached=function(ht,Ut){var Sr=this;if(ke===0)return 0;if(Ut)return this.cacheResult().__iterate(ht,Ut);var sn=0,jr=!0,Wn=0;return g.__iterate(function(Xs,ac){if(!(jr&&(jr=sn++<J)))return Wn++,ht(Xs,O?ac:Wn-1,Sr)!==!1&&Wn!==ke}),Wn},Qe.__iteratorUncached=function(ht,Ut){if(ke!==0&&Ut)return this.cacheResult().__iterator(ht,Ut);if(ke===0)return new tt(Lr);var Sr=g.__iterator(ht,Ut),sn=0,jr=0;return new tt(function(){for(;sn++<J;)Sr.next();if(++jr>ke)return Lr();var Wn=Sr.next();return O||ht===$e||Wn.done?Wn:ht===Ne?fr(ht,jr-1,void 0,Wn):fr(ht,jr-1,Wn.value[1],Wn)})},Qe}function Le(g,v,R){var O=yo(g);return O.__iterateUncached=function(F,J){var Z=this;if(J)return this.cacheResult().__iterate(F,J);var pe=0;return g.__iterate(function(ke,Qe,ht){return v.call(R,ke,Qe,ht)&&++pe&&F(ke,Qe,Z)}),pe},O.__iteratorUncached=function(F,J){var Z=this;if(J)return this.cacheResult().__iterator(F,J);var pe=g.__iterator(Ct,J),ke=!0;return new tt(function(){if(!ke)return Lr();var Qe=pe.next();if(Qe.done)return Qe;var ht=Qe.value,Ut=ht[0],Sr=ht[1];return v.call(R,Sr,Ut,Z)?F===Ct?Qe:fr(F,Ut,Sr,Qe):(ke=!1,Lr())})},O}function rt(g,v,R,O){var F=yo(g);return F.__iterateUncached=function(J,Z){var pe=this;if(Z)return this.cacheResult().__iterate(J,Z);var ke=!0,Qe=0;return g.__iterate(function(ht,Ut,Sr){if(!(ke&&(ke=v.call(R,ht,Ut,Sr))))return Qe++,J(ht,O?Ut:Qe-1,pe)}),Qe},F.__iteratorUncached=function(J,Z){var pe=this;if(Z)return this.cacheResult().__iterator(J,Z);var ke=g.__iterator(Ct,Z),Qe=!0,ht=0;return new tt(function(){var Ut,Sr,sn;do{if(Ut=ke.next(),Ut.done)return O||J===$e?Ut:J===Ne?fr(J,ht++,void 0,Ut):fr(J,ht++,Ut.value[1],Ut);var jr=Ut.value;Sr=jr[0],sn=jr[1],Qe&&(Qe=v.call(R,sn,Sr,pe))}while(Qe);return J===Ct?Ut:fr(J,Sr,sn,Ut)})},F}function zt(g,v){var R=ee(g),O=[g].concat(v).map(function(Z){return A(Z)?R&&(Z=te(Z)):Z=R?Ji(Z):oi(Array.isArray(Z)?Z:[Z]),Z}).filter(function(Z){return Z.size!==0});if(O.length===0)return g;if(O.length===1){var F=O[0];if(F===g||R&&ee(F)||we(g)&&we(F))return F}var J=new ii(O);return R?J=J.toKeyedSeq():we(g)||(J=J.toSetSeq()),J=J.flatten(!0),J.size=O.reduce(function(Z,pe){if(Z!==void 0){var ke=pe.size;if(ke!==void 0)return Z+ke}},0),J}function Ln(g,v,R){var O=yo(g);return O.__iterateUncached=function(F,J){if(J)return this.cacheResult().__iterate(F,J);var Z=0,pe=!1;function ke(Qe,ht){Qe.__iterate(function(Ut,Sr){return(!v||ht<v)&&A(Ut)?ke(Ut,ht+1):(Z++,F(Ut,R?Sr:Z-1,O)===!1&&(pe=!0)),!pe},J)}return ke(g,0),Z},O.__iteratorUncached=function(F,J){if(J)return this.cacheResult().__iterator(F,J);var Z=g.__iterator(F,J),pe=[],ke=0;return new tt(function(){for(;Z;){var Qe=Z.next();if(Qe.done!==!1){Z=pe.pop();continue}var ht=Qe.value;if(F===Ct&&(ht=ht[1]),(!v||pe.length<v)&&A(ht))pe.push(Z),Z=ht.__iterator(F,J);else return R?Qe:fr(F,ke++,ht,Qe)}return Lr()})},O}function Cn(g,v,R){var O=ts(g);return g.toSeq().map(function(F,J){return O(v.call(R,F,J,g))}).flatten(!0)}function Mn(g,v){var R=yo(g);return R.size=g.size&&g.size*2-1,R.__iterateUncached=function(O,F){var J=this,Z=0;return g.__iterate(function(pe){return(!Z||O(v,Z++,J)!==!1)&&O(pe,Z++,J)!==!1},F),Z},R.__iteratorUncached=function(O,F){var J=g.__iterator($e,F),Z=0,pe;return new tt(function(){return(!pe||Z%2)&&(pe=J.next(),pe.done)?pe:Z%2?fr(O,Z++,v):fr(O,Z++,pe.value,pe)})},R}function ao(g,v,R){v||(v=Ni);var O=ee(g),F=0,J=g.toSeq().map(function(Z,pe){return[pe,Z,F++,R?R(Z,pe,g):Z]}).valueSeq().toArray();return J.sort(function(Z,pe){return v(Z[3],pe[3])||Z[2]-pe[2]}).forEach(O?function(Z,pe){J[pe].length=2}:function(Z,pe){J[pe]=Z[1]}),O?Hn(J):we(g)?$r(J):dn(J)}function ji(g,v,R){if(v||(v=Ni),R){var O=g.toSeq().map(function(F,J){return[F,R(F,J,g)]}).reduce(function(F,J){return Ro(v,F[1],J[1])?J:F});return O&&O[0]}return g.reduce(function(F,J){return Ro(v,F,J)?J:F})}function Ro(g,v,R){var O=g(R,v);return O===0&&R!==v&&(R==null||R!==R)||O>0}function $i(g,v,R,O){var F=yo(g),J=new ii(R).map(function(Z){return Z.size});return F.size=O?J.max():J.min(),F.__iterate=function(Z,pe){for(var ke=this.__iterator($e,pe),Qe,ht=0;!(Qe=ke.next()).done&&Z(Qe.value,ht++,this)!==!1;);return ht},F.__iteratorUncached=function(Z,pe){var ke=R.map(function(Ut){return Ut=W(Ut),xt(pe?Ut.reverse():Ut)}),Qe=0,ht=!1;return new tt(function(){var Ut;return ht||(Ut=ke.map(function(Sr){return Sr.next()}),ht=O?Ut.every(function(Sr){return Sr.done}):Ut.some(function(Sr){return Sr.done})),ht?Lr():fr(Z,Qe++,v.apply(null,Ut.map(function(Sr){return Sr.value})))})},F}function Jn(g,v){return g===v?g:qe(g)?v:g.constructor(v)}function _u(g){if(g!==Object(g))throw new TypeError("Expected [K, V] tuple: "+g)}function ts(g){return ee(g)?te:we(g)?De:ae}function yo(g){return Object.create((ee(g)?Hn:we(g)?$r:dn).prototype)}function pl(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Or.prototype.cacheResult.call(this)}function Ni(g,v){return g===void 0&&v===void 0?0:g===void 0?1:v===void 0?-1:g>v?1:g<v?-1:0}function ec(g,v){v=v||0;for(var R=Math.max(0,g.length-v),O=new Array(R),F=0;F<R;F++)O[F]=g[F+v];return O}function tc(g,v){if(!g)throw new Error(v)}function ma(g){tc(g!==1/0,"Cannot perform this action with an infinite size.")}function ml(g){if(On(g)&&typeof g!="string")return g;if(xe(g))return g.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+g)}var Rh=Object.prototype.toString;function Rc(g){if(!g||typeof g!="object"||Rh.call(g)!=="[object Object]")return!1;var v=Object.getPrototypeOf(g);if(v===null)return!0;for(var R=v,O=Object.getPrototypeOf(v);O!==null;)R=O,O=Object.getPrototypeOf(R);return R===v}function ia(g){return typeof g=="object"&&(Ce(g)||Array.isArray(g)||Rc(g))}function bu(g){try{return typeof g=="string"?JSON.stringify(g):String(g)}catch{return JSON.stringify(g)}}function Ph(g,v){return Ce(g)?g.has(v):ia(g)&&ln.call(g,v)}function Uo(g,v,R){return Ce(g)?g.get(v,R):Ph(g,v)?typeof g.get=="function"?g.get(v):g[v]:R}function $s(g){if(Array.isArray(g))return ec(g);var v={};for(var R in g)ln.call(g,R)&&(v[R]=g[R]);return v}function Dn(g,v){if(!ia(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(Ce(g)){if(!g.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+g);return g.remove(v)}if(!ln.call(g,v))return g;var R=$s(g);return Array.isArray(R)?R.splice(v,1):delete R[v],R}function Vs(g,v,R){if(!ia(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(Ce(g)){if(!g.set)throw new TypeError("Cannot update immutable value without .set() method: "+g);return g.set(v,R)}if(ln.call(g,v)&&R===g[v])return g;var O=$s(g);return O[v]=R,O}function wu(g,v,R,O){O||(O=R,R=void 0);var F=si(Ce(g),g,ml(v),0,R,O);return F===o?R:F}function si(g,v,R,O,F,J){var Z=v===o;if(O===R.length){var pe=Z?F:v,ke=J(pe);return ke===pe?v:ke}if(!Z&&!ia(v))throw new TypeError("Cannot update within non-data-structure value in path ["+R.slice(0,O).map(bu)+"]: "+v);var Qe=R[O],ht=Z?o:Uo(v,Qe,o),Ut=si(ht===o?g:Ce(ht),ht,R,O+1,F,J);return Ut===ht?v:Ut===o?Dn(v,Qe):Vs(Z?g?Ho():{}:v,Qe,Ut)}function Pa(g,v,R){return wu(g,v,o,function(){return R})}function ru(g,v){return Pa(this,g,v)}function xh(g,v){return wu(g,v,function(){return o})}function _f(g){return xh(this,g)}function Cp(g,v,R,O){return wu(g,[v],R,O)}function bf(g,v,R){return arguments.length===1?g(this):Cp(this,g,v,R)}function Tp(g,v,R){return wu(this,g,v,R)}function wf(){for(var g=[],v=arguments.length;v--;)g[v]=arguments[v];return Xn(this,g)}function zl(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];if(typeof g!="function")throw new TypeError("Invalid merger function: "+g);return Xn(this,v,g)}function Xn(g,v,R){for(var O=[],F=0;F<v.length;F++){var J=te(v[F]);J.size!==0&&O.push(J)}return O.length===0?g:g.toSeq().size===0&&!g.__ownerID&&O.length===1?g.constructor(O[0]):g.withMutations(function(Z){for(var pe=R?function(Qe,ht){Cp(Z,ht,o,function(Ut){return Ut===o?Qe:R(Ut,Qe,ht)})}:function(Qe,ht){Z.set(ht,Qe)},ke=0;ke<O.length;ke++)O[ke].forEach(pe)})}function Gs(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];return Ks(g,v)}function Ul(g,v){for(var R=[],O=arguments.length-2;O-- >0;)R[O]=arguments[O+2];return Ks(v,R,g)}function co(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];return Ih(g,v)}function Oh(g,v){for(var R=[],O=arguments.length-2;O-- >0;)R[O]=arguments[O+2];return Ih(v,R,g)}function Ih(g,v,R){return Ks(g,v,Su(R))}function Ks(g,v,R){if(!ia(g))throw new TypeError("Cannot merge into non-data-structure value: "+g);if(Ce(g))return typeof R=="function"&&g.mergeWith?g.mergeWith.apply(g,[R].concat(v)):g.merge?g.merge.apply(g,v):g.concat.apply(g,v);for(var O=Array.isArray(g),F=g,J=O?De:te,Z=O?function(ke){F===g&&(F=$s(F)),F.push(ke)}:function(ke,Qe){var ht=ln.call(F,Qe),Ut=ht&&R?R(F[Qe],ke,Qe):ke;(!ht||Ut!==F[Qe])&&(F===g&&(F=$s(F)),F[Qe]=Ut)},pe=0;pe<v.length;pe++)J(v[pe]).forEach(Z);return F}function Su(g){function v(R,O,F){return ia(R)&&ia(O)&&kh(R,O)?Ks(R,[O],v):g?g(R,O,F):O}return v}function kh(g,v){var R=Or(g),O=Or(v);return we(R)===we(O)&&ee(R)===ee(O)}function Od(){for(var g=[],v=arguments.length;v--;)g[v]=arguments[v];return Ih(this,g)}function Cs(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];return Ih(this,v,g)}function Hl(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];return wu(this,g,Ho(),function(O){return Ks(O,v)})}function nu(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];return wu(this,g,Ho(),function(O){return Ih(O,v)})}function Lm(g){var v=this.asMutable();return g(v),v.wasAltered()?v.__ensureOwner(this.__ownerID):this}function Id(){return this.__ownerID?this:this.__ensureOwner(new c)}function Sf(){return this.__ensureOwner()}function Cf(){return this.__altered}var Pc=function(g){function v(R){return R==null?Ho():Q(R)&&!xe(R)?R:Ho().withMutations(function(O){var F=g(R);ma(F.size),F.forEach(function(J,Z){return O.set(Z,J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return Ho().withMutations(function(J){for(var Z=0;Z<O.length;Z+=2){if(Z+1>=O.length)throw new Error("Missing value for key: "+O[Z]);J.set(O[Z],O[Z+1])}})},v.prototype.toString=function(){return this.__toString("Map {","}")},v.prototype.get=function(O,F){return this._root?this._root.get(0,void 0,O,F):F},v.prototype.set=function(O,F){return Bl(this,O,F)},v.prototype.remove=function(O){return Bl(this,O,o)},v.prototype.deleteAll=function(O){var F=W(O);return F.size===0?this:this.withMutations(function(J){F.forEach(function(Z){return J.remove(Z)})})},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ho()},v.prototype.sort=function(O){return Ts(ao(this,O))},v.prototype.sortBy=function(O,F){return Ts(ao(this,F,O))},v.prototype.map=function(O,F){var J=this;return this.withMutations(function(Z){Z.forEach(function(pe,ke){Z.set(ke,O.call(F,pe,ke,J))})})},v.prototype.__iterator=function(O,F){return new dy(this,O,F)},v.prototype.__iterate=function(O,F){var J=this,Z=0;return this._root&&this._root.iterate(function(pe){return Z++,O(pe[1],pe[0],J)},F),Z},v.prototype.__ensureOwner=function(O){return O===this.__ownerID?this:O?Wu(this.size,this._root,O,this.__hash):this.size===0?Ho():(this.__ownerID=O,this.__altered=!1,this)},v}(te);Pc.isMap=Q;var _o=Pc.prototype;_o[oe]=!0,_o[e]=_o.remove,_o.removeAll=_o.deleteAll,_o.setIn=ru,_o.removeIn=_o.deleteIn=_f,_o.update=bf,_o.updateIn=Tp,_o.merge=_o.concat=wf,_o.mergeWith=zl,_o.mergeDeep=Od,_o.mergeDeepWith=Cs,_o.mergeIn=Hl,_o.mergeDeepIn=nu,_o.withMutations=Lm,_o.wasAltered=Cf,_o.asImmutable=Sf,_o["@@transducer/init"]=_o.asMutable=Id,_o["@@transducer/step"]=function(g,v){return g.set(v[0],v[1])},_o["@@transducer/result"]=function(g){return g.asImmutable()};var Dp=function(v,R){this.ownerID=v,this.entries=R};Dp.prototype.get=function(v,R,O,F){for(var J=this.entries,Z=0,pe=J.length;Z<pe;Z++)if(ft(O,J[Z][0]))return J[Z][1];return F},Dp.prototype.update=function(v,R,O,F,J,Z,pe){for(var ke=J===o,Qe=this.entries,ht=0,Ut=Qe.length;ht<Ut&&!ft(F,Qe[ht][0]);ht++);var Sr=ht<Ut;if(Sr?Qe[ht][1]===J:ke)return this;if(a(pe),(ke||!Sr)&&a(Z),!(ke&&Qe.length===1)){if(!Sr&&!ke&&Qe.length>=Df)return Lh(v,Qe,F,J);var sn=v&&v===this.ownerID,jr=sn?Qe:ec(Qe);return Sr?ke?ht===Ut-1?jr.pop():jr[ht]=jr.pop():jr[ht]=[F,J]:jr.push([F,J]),sn?(this.entries=jr,this):new Dp(v,jr)}};var Tf=function(v,R,O){this.ownerID=v,this.bitmap=R,this.nodes=O};Tf.prototype.get=function(v,R,O,F){R===void 0&&(R=$t(O));var J=1<<((v===0?R:R>>>v)&i),Z=this.bitmap;return(Z&J)===0?F:this.nodes[Rp(Z&J-1)].get(v+t,R,O,F)},Tf.prototype.update=function(v,R,O,F,J,Z,pe){O===void 0&&(O=$t(F));var ke=(R===0?O:O>>>R)&i,Qe=1<<ke,ht=this.bitmap,Ut=(ht&Qe)!==0;if(!Ut&&J===o)return this;var Sr=Rp(ht&Qe-1),sn=this.nodes,jr=Ut?sn[Sr]:void 0,Wn=Ah(jr,v,R+t,O,F,J,Z,pe);if(Wn===jr)return this;if(!Ut&&Wn&&sn.length>=Ld)return Wl(v,sn,ht,ke,Wn);if(Ut&&!Wn&&sn.length===2&&Vg(sn[Sr^1]))return sn[Sr^1];if(Ut&&Wn&&sn.length===1&&Vg(Wn))return Wn;var Xs=v&&v===this.ownerID,ac=Ut?Wn?ht:ht^Qe:ht|Qe,Pu=Ut?Wn?$u(sn,Sr,Wn,Xs):Tu(sn,Sr,Xs):Nh(sn,Sr,Wn,Xs);return Xs?(this.bitmap=ac,this.nodes=Pu,this):new Tf(v,ac,Pu)};var oa=function(v,R,O){this.ownerID=v,this.count=R,this.nodes=O};oa.prototype.get=function(v,R,O,F){R===void 0&&(R=$t(O));var J=(v===0?R:R>>>v)&i,Z=this.nodes[J];return Z?Z.get(v+t,R,O,F):F},oa.prototype.update=function(v,R,O,F,J,Z,pe){O===void 0&&(O=$t(F));var ke=(R===0?O:O>>>R)&i,Qe=J===o,ht=this.nodes,Ut=ht[ke];if(Qe&&!Ut)return this;var Sr=Ah(Ut,v,R+t,O,F,J,Z,pe);if(Sr===Ut)return this;var sn=this.count;if(!Ut)sn++;else if(!Sr&&(sn--,sn<Ef))return Ep(v,ht,sn,ke);var jr=v&&v===this.ownerID,Wn=$u(ht,ke,Sr,jr);return jr?(this.count=sn,this.nodes=Wn,this):new oa(v,sn,Wn)};var gl=function(v,R,O){this.ownerID=v,this.keyHash=R,this.entries=O};gl.prototype.get=function(v,R,O,F){for(var J=this.entries,Z=0,pe=J.length;Z<pe;Z++)if(ft(O,J[Z][0]))return J[Z][1];return F},gl.prototype.update=function(v,R,O,F,J,Z,pe){O===void 0&&(O=$t(F));var ke=J===o;if(O!==this.keyHash)return ke?this:(a(pe),a(Z),Ad(this,v,R,O,[F,J]));for(var Qe=this.entries,ht=0,Ut=Qe.length;ht<Ut&&!ft(F,Qe[ht][0]);ht++);var Sr=ht<Ut;if(Sr?Qe[ht][1]===J:ke)return this;if(a(pe),(ke||!Sr)&&a(Z),ke&&Ut===2)return new Cu(v,this.keyHash,Qe[ht^1]);var sn=v&&v===this.ownerID,jr=sn?Qe:ec(Qe);return Sr?ke?ht===Ut-1?jr.pop():jr[ht]=jr.pop():jr[ht]=[F,J]:jr.push([F,J]),sn?(this.entries=jr,this):new gl(v,this.keyHash,jr)};var Cu=function(v,R,O){this.ownerID=v,this.keyHash=R,this.entry=O};Cu.prototype.get=function(v,R,O,F){return ft(O,this.entry[0])?this.entry[1]:F},Cu.prototype.update=function(v,R,O,F,J,Z,pe){var ke=J===o,Qe=ft(F,this.entry[0]);if(Qe?J===this.entry[1]:ke)return this;if(a(pe),ke){a(Z);return}return Qe?v&&v===this.ownerID?(this.entry[1]=J,this):new Cu(v,this.keyHash,[F,J]):(a(Z),Ad(this,v,R,$t(F),[F,J]))},Dp.prototype.iterate=gl.prototype.iterate=function(g,v){for(var R=this.entries,O=0,F=R.length-1;O<=F;O++)if(g(R[v?F-O:O])===!1)return!1},Tf.prototype.iterate=oa.prototype.iterate=function(g,v){for(var R=this.nodes,O=0,F=R.length-1;O<=F;O++){var J=R[v?F-O:O];if(J&&J.iterate(g,v)===!1)return!1}},Cu.prototype.iterate=function(g,v){return g(this.entry)};var dy=function(g){function v(R,O,F){this._type=O,this._reverse=F,this._stack=R._root&&P_(R._root)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.next=function(){for(var O=this._type,F=this._stack;F;){var J=F.node,Z=F.index++,pe=void 0;if(J.entry){if(Z===0)return sa(O,J.entry)}else if(J.entries){if(pe=J.entries.length-1,Z<=pe)return sa(O,J.entries[this._reverse?pe-Z:Z])}else if(pe=J.nodes.length-1,Z<=pe){var ke=J.nodes[this._reverse?pe-Z:Z];if(ke){if(ke.entry)return sa(O,ke.entry);F=this._stack=P_(ke,F)}continue}F=this._stack=this._stack.__prev}return Lr()},v}(tt);function sa(g,v){return fr(g,v[0],v[1])}function P_(g,v){return{node:g,index:0,__prev:v}}function Wu(g,v,R,O){var F=Object.create(_o);return F.size=g,F._root=v,F.__ownerID=R,F.__hash=O,F.__altered=!1,F}var kd;function Ho(){return kd||(kd=Wu(0))}function Bl(g,v,R){var O,F;if(g._root){var J=s(),Z=s();if(O=Ah(g._root,g.__ownerID,0,void 0,v,R,J,Z),!Z.value)return g;F=g.size+(J.value?R===o?-1:1:0)}else{if(R===o)return g;F=1,O=new Dp(g.__ownerID,[[v,R]])}return g.__ownerID?(g.size=F,g._root=O,g.__hash=void 0,g.__altered=!0,g):O?Wu(F,O):Ho()}function Ah(g,v,R,O,F,J,Z,pe){return g?g.update(v,R,O,F,J,Z,pe):J===o?g:(a(pe),a(Z),new Cu(v,O,[F,J]))}function Vg(g){return g.constructor===Cu||g.constructor===gl}function Ad(g,v,R,O,F){if(g.keyHash===O)return new gl(v,O,[g.entry,F]);var J=(R===0?g.keyHash:g.keyHash>>>R)&i,Z=(R===0?O:O>>>R)&i,pe,ke=J===Z?[Ad(g,v,R+t,O,F)]:(pe=new Cu(v,O,F),J<Z?[g,pe]:[pe,g]);return new Tf(v,1<<J|1<<Z,ke)}function Lh(g,v,R,O){g||(g=new c);for(var F=new Cu(g,$t(R),[R,O]),J=0;J<v.length;J++){var Z=v[J];F=F.update(g,0,void 0,Z[0],Z[1])}return F}function Ep(g,v,R,O){for(var F=0,J=0,Z=new Array(R),pe=0,ke=1,Qe=v.length;pe<Qe;pe++,ke<<=1){var ht=v[pe];ht!==void 0&&pe!==O&&(F|=ke,Z[J++]=ht)}return new Tf(g,F,Z)}function Wl(g,v,R,O,F){for(var J=0,Z=new Array(n),pe=0;R!==0;pe++,R>>>=1)Z[pe]=R&1?v[J++]:void 0;return Z[O]=F,new oa(g,J+1,Z)}function Rp(g){return g-=g>>1&1431655765,g=(g&858993459)+(g>>2&858993459),g=g+(g>>4)&252645135,g+=g>>8,g+=g>>16,g&127}function $u(g,v,R,O){var F=O?g:ec(g);return F[v]=R,F}function Nh(g,v,R,O){var F=g.length+1;if(O&&v+1===F)return g[v]=R,g;for(var J=new Array(F),Z=0,pe=0;pe<F;pe++)pe===v?(J[pe]=R,Z=-1):J[pe]=g[pe+Z];return J}function Tu(g,v,R){var O=g.length-1;if(R&&v===O)return g.pop(),g;for(var F=new Array(O),J=0,Z=0;Z<O;Z++)Z===v&&(J=1),F[Z]=g[Z+J];return F}var Df=n/4,Ld=n/2,Ef=n/4,Nd="@@__IMMUTABLE_LIST__@@";function Ys(g){return!!(g&&g[Nd])}var xa=function(g){function v(R){var O=$l();if(R==null)return O;if(Ys(R))return R;var F=g(R),J=F.size;return J===0?O:(ma(J),J>0&&J<n?Vu(0,J,t,null,new iu(F.toArray())):O.withMutations(function(Z){Z.setSize(J),F.forEach(function(pe,ke){return Z.set(ke,pe)})}))}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("List [","]")},v.prototype.get=function(O,F){if(O=l(this,O),O>=0&&O<this.size){O+=this._origin;var J=Mh(this,O);return J&&J.array[O&i]}return F},v.prototype.set=function(O,F){return Pp(this,O,F)},v.prototype.remove=function(O){return this.has(O)?O===0?this.shift():O===this.size-1?this.pop():this.splice(O,1):this},v.prototype.insert=function(O,F){return this.splice(O,0,F)},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=t,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):$l()},v.prototype.push=function(){var O=arguments,F=this.size;return this.withMutations(function(J){xc(J,0,F+O.length);for(var Z=0;Z<O.length;Z++)J.set(F+Z,O[Z])})},v.prototype.pop=function(){return xc(this,0,-1)},v.prototype.unshift=function(){var O=arguments;return this.withMutations(function(F){xc(F,-O.length);for(var J=0;J<O.length;J++)F.set(J,O[J])})},v.prototype.shift=function(){return xc(this,1)},v.prototype.concat=function(){for(var O=arguments,F=[],J=0;J<arguments.length;J++){var Z=O[J],pe=g(typeof Z!="string"&&zr(Z)?Z:[Z]);pe.size!==0&&F.push(pe)}return F.length===0?this:this.size===0&&!this.__ownerID&&F.length===1?this.constructor(F[0]):this.withMutations(function(ke){F.forEach(function(Qe){return Qe.forEach(function(ht){return ke.push(ht)})})})},v.prototype.setSize=function(O){return xc(this,0,O)},v.prototype.map=function(O,F){var J=this;return this.withMutations(function(Z){for(var pe=0;pe<J.size;pe++)Z.set(pe,O.call(F,Z.get(pe),pe,J))})},v.prototype.slice=function(O,F){var J=this.size;return f(O,F,J)?this:xc(this,p(O,J),_(F,J))},v.prototype.__iterator=function(O,F){var J=F?this.size:0,Z=Gg(this,F);return new tt(function(){var pe=Z();return pe===rc?Lr():fr(O,F?--J:J++,pe)})},v.prototype.__iterate=function(O,F){for(var J=F?this.size:0,Z=Gg(this,F),pe;(pe=Z())!==rc&&O(pe,F?--J:J++,this)!==!1;);return J},v.prototype.__ensureOwner=function(O){return O===this.__ownerID?this:O?Vu(this._origin,this._capacity,this._level,this._root,this._tail,O,this.__hash):this.size===0?$l():(this.__ownerID=O,this.__altered=!1,this)},v}(De);xa.isList=Ys;var Po=xa.prototype;Po[Nd]=!0,Po[e]=Po.remove,Po.merge=Po.concat,Po.setIn=ru,Po.deleteIn=Po.removeIn=_f,Po.update=bf,Po.updateIn=Tp,Po.mergeIn=Hl,Po.mergeDeepIn=nu,Po.withMutations=Lm,Po.wasAltered=Cf,Po.asImmutable=Sf,Po["@@transducer/init"]=Po.asMutable=Id,Po["@@transducer/step"]=function(g,v){return g.push(v)},Po["@@transducer/result"]=function(g){return g.asImmutable()};var iu=function(v,R){this.array=v,this.ownerID=R};iu.prototype.removeBefore=function(v,R,O){if(O===R?1<<R:this.array.length===0)return this;var F=O>>>R&i;if(F>=this.array.length)return new iu([],v);var J=F===0,Z;if(R>0){var pe=this.array[F];if(Z=pe&&pe.removeBefore(v,R-t,O),Z===pe&&J)return this}if(J&&!Z)return this;var ke=vl(this,v);if(!J)for(var Qe=0;Qe<F;Qe++)ke.array[Qe]=void 0;return Z&&(ke.array[F]=Z),ke},iu.prototype.removeAfter=function(v,R,O){if(O===(R?1<<R:0)||this.array.length===0)return this;var F=O-1>>>R&i;if(F>=this.array.length)return this;var J;if(R>0){var Z=this.array[F];if(J=Z&&Z.removeAfter(v,R-t,O),J===Z&&F===this.array.length-1)return this}var pe=vl(this,v);return pe.array.splice(F+1),J&&(pe.array[F]=J),pe};var rc={};function Gg(g,v){var R=g._origin,O=g._capacity,F=Gu(O),J=g._tail;return Z(g._root,g._level,0);function Z(Qe,ht,Ut){return ht===0?pe(Qe,Ut):ke(Qe,ht,Ut)}function pe(Qe,ht){var Ut=ht===F?J&&J.array:Qe&&Qe.array,Sr=ht>R?0:R-ht,sn=O-ht;return sn>n&&(sn=n),function(){if(Sr===sn)return rc;var jr=v?--sn:Sr++;return Ut&&Ut[jr]}}function ke(Qe,ht,Ut){var Sr,sn=Qe&&Qe.array,jr=Ut>R?0:R-Ut>>ht,Wn=(O-Ut>>ht)+1;return Wn>n&&(Wn=n),function(){for(;;){if(Sr){var Xs=Sr();if(Xs!==rc)return Xs;Sr=null}if(jr===Wn)return rc;var ac=v?--Wn:jr++;Sr=Z(sn&&sn[ac],ht-t,Ut+(ac<<ht))}}}}function Vu(g,v,R,O,F,J,Z){var pe=Object.create(Po);return pe.size=v-g,pe._origin=g,pe._capacity=v,pe._level=R,pe._root=O,pe._tail=F,pe.__ownerID=J,pe.__hash=Z,pe.__altered=!1,pe}var Js;function $l(){return Js||(Js=Vu(0,0,t))}function Pp(g,v,R){if(v=l(g,v),v!==v)return g;if(v>=g.size||v<0)return g.withMutations(function(Z){v<0?xc(Z,v).set(0,R):xc(Z,0,v+1).set(v,R)});v+=g._origin;var O=g._tail,F=g._root,J=s();return v>=Gu(g._capacity)?O=Du(O,g.__ownerID,0,v,R,J):F=Du(F,g.__ownerID,g._level,v,R,J),J.value?g.__ownerID?(g._root=F,g._tail=O,g.__hash=void 0,g.__altered=!0,g):Vu(g._origin,g._capacity,g._level,F,O):g}function Du(g,v,R,O,F,J){var Z=O>>>R&i,pe=g&&Z<g.array.length;if(!pe&&F===void 0)return g;var ke;if(R>0){var Qe=g&&g.array[Z],ht=Du(Qe,v,R-t,O,F,J);return ht===Qe?g:(ke=vl(g,v),ke.array[Z]=ht,ke)}return pe&&g.array[Z]===F?g:(J&&a(J),ke=vl(g,v),F===void 0&&Z===ke.array.length-1?ke.array.pop():ke.array[Z]=F,ke)}function vl(g,v){return v&&g&&v===g.ownerID?g:new iu(g?g.array.slice():[],v)}function Mh(g,v){if(v>=Gu(g._capacity))return g._tail;if(v<1<<g._level+t){for(var R=g._root,O=g._level;R&&O>0;)R=R.array[v>>>O&i],O-=t;return R}}function xc(g,v,R){v!==void 0&&(v|=0),R!==void 0&&(R|=0);var O=g.__ownerID||new c,F=g._origin,J=g._capacity,Z=F+v,pe=R===void 0?J:R<0?J+R:F+R;if(Z===F&&pe===J)return g;if(Z>=pe)return g.clear();for(var ke=g._level,Qe=g._root,ht=0;Z+ht<0;)Qe=new iu(Qe&&Qe.array.length?[void 0,Qe]:[],O),ke+=t,ht+=1<<ke;ht&&(Z+=ht,F+=ht,pe+=ht,J+=ht);for(var Ut=Gu(J),Sr=Gu(pe);Sr>=1<<ke+t;)Qe=new iu(Qe&&Qe.array.length?[Qe]:[],O),ke+=t;var sn=g._tail,jr=Sr<Ut?Mh(g,pe-1):Sr>Ut?new iu([],O):sn;if(sn&&Sr>Ut&&Z<J&&sn.array.length){Qe=vl(Qe,O);for(var Wn=Qe,Xs=ke;Xs>t;Xs-=t){var ac=Ut>>>Xs&i;Wn=Wn.array[ac]=vl(Wn.array[ac],O)}Wn.array[Ut>>>t&i]=sn}if(pe<J&&(jr=jr&&jr.removeAfter(O,0,pe)),Z>=Sr)Z-=Sr,pe-=Sr,ke=t,Qe=null,jr=jr&&jr.removeBefore(O,0,Z);else if(Z>F||Sr<Ut){for(ht=0;Qe;){var Pu=Z>>>ke&i;if(Pu!==Sr>>>ke&i)break;Pu&&(ht+=(1<<ke)*Pu),ke-=t,Qe=Qe.array[Pu]}Qe&&Z>F&&(Qe=Qe.removeBefore(O,ke,Z-ht)),Qe&&Sr<Ut&&(Qe=Qe.removeAfter(O,ke,Sr-ht)),ht&&(Z-=ht,pe-=ht)}return g.__ownerID?(g.size=pe-Z,g._origin=Z,g._capacity=pe,g._level=ke,g._root=Qe,g._tail=jr,g.__hash=void 0,g.__altered=!0,g):Vu(Z,pe,ke,Qe,jr)}function Gu(g){return g<n?0:g-1>>>t<<t}var Ts=function(g){function v(R){return R==null?Yu():_e(R)?R:Yu().withMutations(function(O){var F=te(R);ma(F.size),F.forEach(function(J,Z){return O.set(Z,J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("OrderedMap {","}")},v.prototype.get=function(O,F){var J=this._map.get(O);return J!==void 0?this._list.get(J)[1]:F},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Yu()},v.prototype.set=function(O,F){return aa(this,O,F)},v.prototype.remove=function(O){return aa(this,O,o)},v.prototype.__iterate=function(O,F){var J=this;return this._list.__iterate(function(Z){return Z&&O(Z[1],Z[0],J)},F)},v.prototype.__iterator=function(O,F){return this._list.fromEntrySeq().__iterator(O,F)},v.prototype.__ensureOwner=function(O){if(O===this.__ownerID)return this;var F=this._map.__ensureOwner(O),J=this._list.__ensureOwner(O);return O?ou(F,J,O,this.__hash):this.size===0?Yu():(this.__ownerID=O,this.__altered=!1,this._map=F,this._list=J,this)},v}(Pc);Ts.isOrderedMap=_e,Ts.prototype[be]=!0,Ts.prototype[e]=Ts.prototype.remove;function ou(g,v,R,O){var F=Object.create(Ts.prototype);return F.size=g?g.size:0,F._map=g,F._list=v,F.__ownerID=R,F.__hash=O,F.__altered=!1,F}var Ku;function Yu(){return Ku||(Ku=ou(Ho(),$l()))}function aa(g,v,R){var O=g._map,F=g._list,J=O.get(v),Z=J!==void 0,pe,ke;if(R===o){if(!Z)return g;F.size>=n&&F.size>=O.size*2?(ke=F.filter(function(Qe,ht){return Qe!==void 0&&J!==ht}),pe=ke.toKeyedSeq().map(function(Qe){return Qe[0]}).flip().toMap(),g.__ownerID&&(pe.__ownerID=ke.__ownerID=g.__ownerID)):(pe=O.remove(v),ke=J===F.size-1?F.pop():F.set(J,void 0))}else if(Z){if(R===F.get(J)[1])return g;pe=O,ke=F.set(J,[v,R])}else pe=O.set(v,F.size),ke=F.set(F.size,[v,R]);return g.__ownerID?(g.size=pe.size,g._map=pe,g._list=ke,g.__hash=void 0,g.__altered=!0,g):ou(pe,ke)}var Kg="@@__IMMUTABLE_STACK__@@";function nc(g){return!!(g&&g[Kg])}var yl=function(g){function v(R){return R==null?Ju():nc(R)?R:Ju().pushAll(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("Stack [","]")},v.prototype.get=function(O,F){var J=this._head;for(O=l(this,O);J&&O--;)J=J.next;return J?J.value:F},v.prototype.peek=function(){return this._head&&this._head.value},v.prototype.push=function(){var O=arguments;if(arguments.length===0)return this;for(var F=this.size+arguments.length,J=this._head,Z=arguments.length-1;Z>=0;Z--)J={value:O[Z],next:J};return this.__ownerID?(this.size=F,this._head=J,this.__hash=void 0,this.__altered=!0,this):Wo(F,J)},v.prototype.pushAll=function(O){if(O=g(O),O.size===0)return this;if(this.size===0&&nc(O))return O;ma(O.size);var F=this.size,J=this._head;return O.__iterate(function(Z){F++,J={value:Z,next:J}},!0),this.__ownerID?(this.size=F,this._head=J,this.__hash=void 0,this.__altered=!0,this):Wo(F,J)},v.prototype.pop=function(){return this.slice(1)},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ju()},v.prototype.slice=function(O,F){if(f(O,F,this.size))return this;var J=p(O,this.size),Z=_(F,this.size);if(Z!==this.size)return g.prototype.slice.call(this,O,F);for(var pe=this.size-J,ke=this._head;J--;)ke=ke.next;return this.__ownerID?(this.size=pe,this._head=ke,this.__hash=void 0,this.__altered=!0,this):Wo(pe,ke)},v.prototype.__ensureOwner=function(O){return O===this.__ownerID?this:O?Wo(this.size,this._head,O,this.__hash):this.size===0?Ju():(this.__ownerID=O,this.__altered=!1,this)},v.prototype.__iterate=function(O,F){var J=this;if(F)return new ii(this.toArray()).__iterate(function(ke,Qe){return O(ke,Qe,J)},F);for(var Z=0,pe=this._head;pe&&O(pe.value,Z++,this)!==!1;)pe=pe.next;return Z},v.prototype.__iterator=function(O,F){if(F)return new ii(this.toArray()).__iterator(O,F);var J=0,Z=this._head;return new tt(function(){if(Z){var pe=Z.value;return Z=Z.next,fr(O,J++,pe)}return Lr()})},v}(De);yl.isStack=nc;var Bo=yl.prototype;Bo[Kg]=!0,Bo.shift=Bo.pop,Bo.unshift=Bo.push,Bo.unshiftAll=Bo.pushAll,Bo.withMutations=Lm,Bo.wasAltered=Cf,Bo.asImmutable=Sf,Bo["@@transducer/init"]=Bo.asMutable=Id,Bo["@@transducer/step"]=function(g,v){return g.unshift(v)},Bo["@@transducer/result"]=function(g){return g.asImmutable()};function Wo(g,v,R,O){var F=Object.create(Bo);return F.size=g,F._head=v,F.__ownerID=R,F.__hash=O,F.__altered=!1,F}var Rf;function Ju(){return Rf||(Rf=Wo(0))}var Pf="@@__IMMUTABLE_SET__@@";function qo(g){return!!(g&&g[Pf])}function Vl(g){return qo(g)&&xe(g)}function xf(g,v){if(g===v)return!0;if(!A(v)||g.size!==void 0&&v.size!==void 0&&g.size!==v.size||g.__hash!==void 0&&v.__hash!==void 0&&g.__hash!==v.__hash||ee(g)!==ee(v)||we(g)!==we(v)||xe(g)!==xe(v))return!1;if(g.size===0&&v.size===0)return!0;var R=!V(g);if(xe(g)){var O=g.entries();return v.every(function(ke,Qe){var ht=O.next().value;return ht&&ft(ht[1],ke)&&(R||ft(ht[0],Qe))})&&O.next().done}var F=!1;if(g.size===void 0)if(v.size===void 0)typeof g.cacheResult=="function"&&g.cacheResult();else{F=!0;var J=g;g=v,v=J}var Z=!0,pe=v.__iterate(function(ke,Qe){if(R?!g.has(ke):F?!ft(ke,g.get(Qe,o)):!ft(g.get(Qe,o),ke))return Z=!1,!1});return Z&&g.size===pe}function ga(g,v){var R=function(O){g.prototype[O]=v[O]};return Object.keys(v).forEach(R),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(v).forEach(R),g}function Eu(g){if(!g||typeof g!="object")return g;if(!A(g)){if(!ia(g))return g;g=Or(g)}if(ee(g)){var v={};return g.__iterate(function(O,F){v[F]=Eu(O)}),v}var R=[];return g.__iterate(function(O){R.push(Eu(O))}),R}var ca=function(g){function v(R){return R==null?su():qo(R)&&!xe(R)?R:su().withMutations(function(O){var F=g(R);ma(F.size),F.forEach(function(J){return O.add(J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.fromKeys=function(O){return this(te(O).keySeq())},v.intersect=function(O){return O=W(O).toArray(),O.length?Ls.intersect.apply(v(O.pop()),O):su()},v.union=function(O){return O=W(O).toArray(),O.length?Ls.union.apply(v(O.pop()),O):su()},v.prototype.toString=function(){return this.__toString("Set {","}")},v.prototype.has=function(O){return this._map.has(O)},v.prototype.add=function(O){return Gl(this,this._map.set(O,O))},v.prototype.remove=function(O){return Gl(this,this._map.remove(O))},v.prototype.clear=function(){return Gl(this,this._map.clear())},v.prototype.map=function(O,F){var J=this,Z=!1,pe=Gl(this,this._map.mapEntries(function(ke){var Qe=ke[1],ht=O.call(F,Qe,Qe,J);return ht!==Qe&&(Z=!0),[ht,ht]},F));return Z?pe:this},v.prototype.union=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return O=O.filter(function(J){return J.size!==0}),O.length===0?this:this.size===0&&!this.__ownerID&&O.length===1?this.constructor(O[0]):this.withMutations(function(J){for(var Z=0;Z<O.length;Z++)typeof O[Z]=="string"?J.add(O[Z]):g(O[Z]).forEach(function(pe){return J.add(pe)})})},v.prototype.intersect=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O.length===0)return this;O=O.map(function(Z){return g(Z)});var J=[];return this.forEach(function(Z){O.every(function(pe){return pe.includes(Z)})||J.push(Z)}),this.withMutations(function(Z){J.forEach(function(pe){Z.remove(pe)})})},v.prototype.subtract=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O.length===0)return this;O=O.map(function(Z){return g(Z)});var J=[];return this.forEach(function(Z){O.some(function(pe){return pe.includes(Z)})&&J.push(Z)}),this.withMutations(function(Z){J.forEach(function(pe){Z.remove(pe)})})},v.prototype.sort=function(O){return $o(ao(this,O))},v.prototype.sortBy=function(O,F){return $o(ao(this,F,O))},v.prototype.wasAltered=function(){return this._map.wasAltered()},v.prototype.__iterate=function(O,F){var J=this;return this._map.__iterate(function(Z){return O(Z,Z,J)},F)},v.prototype.__iterator=function(O,F){return this._map.__iterator(O,F)},v.prototype.__ensureOwner=function(O){if(O===this.__ownerID)return this;var F=this._map.__ensureOwner(O);return O?this.__make(F,O):this.size===0?this.__empty():(this.__ownerID=O,this._map=F,this)},v}(ae);ca.isSet=qo;var Ls=ca.prototype;Ls[Pf]=!0,Ls[e]=Ls.remove,Ls.merge=Ls.concat=Ls.union,Ls.withMutations=Lm,Ls.asImmutable=Sf,Ls["@@transducer/init"]=Ls.asMutable=Id,Ls["@@transducer/step"]=function(g,v){return g.add(v)},Ls["@@transducer/result"]=function(g){return g.asImmutable()},Ls.__empty=su,Ls.__make=fy;function Gl(g,v){return g.__ownerID?(g.size=v.size,g._map=v,g):v===g._map?g:v.size===0?g.__empty():g.__make(v)}function fy(g,v){var R=Object.create(Ls);return R.size=g?g.size:0,R._map=g,R.__ownerID=v,R}var ms;function su(){return ms||(ms=fy(Ho()))}var _l=function(g){function v(R,O,F){if(!(this instanceof v))return new v(R,O,F);if(tc(F!==0,"Cannot step a Range by 0"),R=R||0,O===void 0&&(O=1/0),F=F===void 0?1:Math.abs(F),O<R&&(F=-F),this._start=R,this._end=O,this._step=F,this.size=Math.max(0,Math.ceil((O-R)/F-1)+1),this.size===0){if(Fh)return Fh;Fh=this}}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},v.prototype.get=function(O,F){return this.has(O)?this._start+l(this,O)*this._step:F},v.prototype.includes=function(O){var F=(O-this._start)/this._step;return F>=0&&F<this.size&&F===Math.floor(F)},v.prototype.slice=function(O,F){return f(O,F,this.size)?this:(O=p(O,this.size),F=_(F,this.size),F<=O?new v(0,0):new v(this.get(O,this._end),this.get(F,this._end),this._step))},v.prototype.indexOf=function(O){var F=O-this._start;if(F%this._step===0){var J=F/this._step;if(J>=0&&J<this.size)return J}return-1},v.prototype.lastIndexOf=function(O){return this.indexOf(O)},v.prototype.__iterate=function(O,F){for(var J=this.size,Z=this._step,pe=F?this._start+(J-1)*Z:this._start,ke=0;ke!==J&&O(pe,F?J-++ke:ke++,this)!==!1;)pe+=F?-Z:Z;return ke},v.prototype.__iterator=function(O,F){var J=this.size,Z=this._step,pe=F?this._start+(J-1)*Z:this._start,ke=0;return new tt(function(){if(ke===J)return Lr();var Qe=pe;return pe+=F?-Z:Z,fr(O,F?J-++ke:ke++,Qe)})},v.prototype.equals=function(O){return O instanceof v?this._start===O._start&&this._end===O._end&&this._step===O._step:xf(this,O)},v}($r),Fh;function Md(g,v,R){for(var O=ml(v),F=0;F!==O.length;)if(g=Uo(g,O[F++],o),g===o)return R;return g}function xp(g,v){return Md(this,g,v)}function ic(g,v){return Md(g,v,o)!==o}function Nm(g){return ic(this,g)}function zi(){ma(this.size);var g={};return this.__iterate(function(v,R){g[R]=v}),g}W.isIterable=A,W.isKeyed=ee,W.isIndexed=we,W.isAssociative=V,W.isOrdered=xe,W.Iterator=tt,ga(W,{toArray:function(){ma(this.size);var v=new Array(this.size||0),R=ee(this),O=0;return this.__iterate(function(F,J){v[O++]=R?[J,F]:F}),v},toIndexedSeq:function(){return new Ws(this)},toJS:function(){return Eu(this)},toKeyedSeq:function(){return new es(this,!0)},toMap:function(){return Pc(this.toKeyedSeq())},toObject:zi,toOrderedMap:function(){return Ts(this.toKeyedSeq())},toOrderedSet:function(){return $o(ee(this)?this.valueSeq():this)},toSet:function(){return ca(ee(this)?this.valueSeq():this)},toSetSeq:function(){return new na(this)},toSeq:function(){return we(this)?this.toIndexedSeq():ee(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return yl(ee(this)?this.valueSeq():this)},toList:function(){return xa(ee(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(v,R){return this.size===0?v+R:v+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+R},concat:function(){for(var v=[],R=arguments.length;R--;)v[R]=arguments[R];return Jn(this,zt(this,v))},includes:function(v){return this.some(function(R){return ft(R,v)})},entries:function(){return this.__iterator(Ct)},every:function(v,R){ma(this.size);var O=!0;return this.__iterate(function(F,J,Z){if(!v.call(R,F,J,Z))return O=!1,!1}),O},filter:function(v,R){return Jn(this,vt(this,v,R,!0))},partition:function(v,R){return Bi(this,v,R)},find:function(v,R,O){var F=this.findEntry(v,R);return F?F[1]:O},forEach:function(v,R){return ma(this.size),this.__iterate(R?v.bind(R):v)},join:function(v){ma(this.size),v=v!==void 0?""+v:",";var R="",O=!0;return this.__iterate(function(F){O?O=!1:R+=v,R+=F!=null?F.toString():""}),R},keys:function(){return this.__iterator(Ne)},map:function(v,R){return Jn(this,H(this,v,R))},reduce:function(v,R,O){return ua(this,v,R,O,arguments.length<2,!1)},reduceRight:function(v,R,O){return ua(this,v,R,O,arguments.length<2,!0)},reverse:function(){return Jn(this,Ue(this,!0))},slice:function(v,R){return Jn(this,M(this,v,R,!0))},some:function(v,R){return!this.every(Of(v),R)},sort:function(v){return Jn(this,ao(this,v))},values:function(){return this.__iterator($e)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(v,R){return u(v?this.toSeq().filter(v,R):this)},countBy:function(v,R){return Fr(this,v,R)},equals:function(v){return xf(this,v)},entrySeq:function(){var v=this;if(v._cache)return new ii(v._cache);var R=v.toSeq().map(Vi).toIndexedSeq();return R.fromEntrySeq=function(){return v.toSeq()},R},filterNot:function(v,R){return this.filter(Of(v),R)},findEntry:function(v,R,O){var F=O;return this.__iterate(function(J,Z,pe){if(v.call(R,J,Z,pe))return F=[Z,J],!1}),F},findKey:function(v,R){var O=this.findEntry(v,R);return O&&O[0]},findLast:function(v,R,O){return this.toKeyedSeq().reverse().find(v,R,O)},findLastEntry:function(v,R,O){return this.toKeyedSeq().reverse().findEntry(v,R,O)},findLastKey:function(v,R){return this.toKeyedSeq().reverse().findKey(v,R)},first:function(v){return this.find(d,null,v)},flatMap:function(v,R){return Jn(this,Cn(this,v,R))},flatten:function(v){return Jn(this,Ln(this,v,!0))},fromEntrySeq:function(){return new Fo(this)},get:function(v,R){return this.find(function(O,F){return ft(F,v)},void 0,R)},getIn:xp,groupBy:function(v,R){return so(this,v,R)},has:function(v){return this.get(v,o)!==o},hasIn:Nm,isSubset:function(v){return v=typeof v.includes=="function"?v:W(v),this.every(function(R){return v.includes(R)})},isSuperset:function(v){return v=typeof v.isSubset=="function"?v:W(v),v.isSubset(this)},keyOf:function(v){return this.findKey(function(R){return ft(R,v)})},keySeq:function(){return this.toSeq().map(bl).toIndexedSeq()},last:function(v){return this.toSeq().reverse().first(v)},lastKeyOf:function(v){return this.toKeyedSeq().reverse().keyOf(v)},max:function(v){return ji(this,v)},maxBy:function(v,R){return ji(this,R,v)},min:function(v){return ji(this,v?wi(v):Bn)},minBy:function(v,R){return ji(this,R?wi(R):Bn,v)},rest:function(){return this.slice(1)},skip:function(v){return v===0?this:this.slice(Math.max(0,v))},skipLast:function(v){return v===0?this:this.slice(0,-Math.max(0,v))},skipWhile:function(v,R){return Jn(this,rt(this,v,R,!0))},skipUntil:function(v,R){return this.skipWhile(Of(v),R)},sortBy:function(v,R){return Jn(this,ao(this,R,v))},take:function(v){return this.slice(0,Math.max(0,v))},takeLast:function(v){return this.slice(-Math.max(0,v))},takeWhile:function(v,R){return Jn(this,Le(this,v,R))},takeUntil:function(v,R){return this.takeWhile(Of(v),R)},update:function(v){return v(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Fd(this))}});var rs=W.prototype;rs[N]=!0,rs[at]=rs.values,rs.toJSON=rs.toArray,rs.__toStringMapper=bu,rs.inspect=rs.toSource=function(){return this.toString()},rs.chain=rs.flatMap,rs.contains=rs.includes,ga(te,{flip:function(){return Jn(this,Eo(this))},mapEntries:function(v,R){var O=this,F=0;return Jn(this,this.toSeq().map(function(J,Z){return v.call(R,[Z,J],F++,O)}).fromEntrySeq())},mapKeys:function(v,R){var O=this;return Jn(this,this.toSeq().flip().map(function(F,J){return v.call(R,F,J,O)}).flip())}});var Xu=te.prototype;Xu[U]=!0,Xu[at]=rs.entries,Xu.toJSON=zi,Xu.__toStringMapper=function(g,v){return bu(v)+": "+bu(g)},ga(De,{toKeyedSeq:function(){return new es(this,!1)},filter:function(v,R){return Jn(this,vt(this,v,R,!1))},findIndex:function(v,R){var O=this.findEntry(v,R);return O?O[0]:-1},indexOf:function(v){var R=this.keyOf(v);return R===void 0?-1:R},lastIndexOf:function(v){var R=this.lastKeyOf(v);return R===void 0?-1:R},reverse:function(){return Jn(this,Ue(this,!1))},slice:function(v,R){return Jn(this,M(this,v,R,!1))},splice:function(v,R){var O=arguments.length;if(R=Math.max(R||0,0),O===0||O===2&&!R)return this;v=p(v,v<0?this.count():this.size);var F=this.slice(0,v);return Jn(this,O===1?F:F.concat(ec(arguments,2),this.slice(v+R)))},findLastIndex:function(v,R){var O=this.findLastEntry(v,R);return O?O[0]:-1},first:function(v){return this.get(0,v)},flatten:function(v){return Jn(this,Ln(this,v,!1))},get:function(v,R){return v=l(this,v),v<0||this.size===1/0||this.size!==void 0&&v>this.size?R:this.find(function(O,F){return F===v},void 0,R)},has:function(v){return v=l(this,v),v>=0&&(this.size!==void 0?this.size===1/0||v<this.size:this.indexOf(v)!==-1)},interpose:function(v){return Jn(this,Mn(this,v))},interleave:function(){var v=[this].concat(ec(arguments)),R=$i(this.toSeq(),$r.of,v),O=R.flatten(!0);return R.size&&(O.size=R.size*v.length),Jn(this,O)},keySeq:function(){return _l(0,this.size)},last:function(v){return this.get(-1,v)},skipWhile:function(v,R){return Jn(this,rt(this,v,R,!1))},zip:function(){var v=[this].concat(ec(arguments));return Jn(this,$i(this,Oa,v))},zipAll:function(){var v=[this].concat(ec(arguments));return Jn(this,$i(this,Oa,v,!0))},zipWith:function(v){var R=ec(arguments);return R[0]=this,Jn(this,$i(this,v,R))}});var Oc=De.prototype;Oc[he]=!0,Oc[be]=!0,ga(ae,{get:function(v,R){return this.has(v)?v:R},includes:function(v){return this.has(v)},keySeq:function(){return this.valueSeq()}});var Ic=ae.prototype;Ic.has=rs.includes,Ic.contains=Ic.includes,Ic.keys=Ic.values,ga(Hn,Xu),ga($r,Oc),ga(dn,Ic);function ua(g,v,R,O,F,J){return ma(g.size),g.__iterate(function(Z,pe,ke){F?(F=!1,R=Z):R=v.call(O,R,Z,pe,ke)},J),R}function bl(g,v){return v}function Vi(g,v){return[v,g]}function Of(g){return function(){return!g.apply(this,arguments)}}function wi(g){return function(){return-g.apply(this,arguments)}}function Oa(){return ec(arguments)}function Bn(g,v){return g<v?1:g>v?-1:0}function Fd(g){if(g.size===1/0)return 0;var v=xe(g),R=ee(g),O=v?1:0,F=g.__iterate(R?v?function(J,Z){O=31*O+kc($t(J),$t(Z))|0}:function(J,Z){O=O+kc($t(J),$t(Z))|0}:v?function(J){O=31*O+$t(J)|0}:function(J){O=O+$t(J)|0});return Kl(F,O)}function Kl(g,v){return v=Yt(v,3432918353),v=Yt(v<<15|v>>>-15,461845907),v=Yt(v<<13|v>>>-13,5),v=(v+3864292196|0)^g,v=Yt(v^v>>>16,2246822507),v=Yt(v^v>>>13,3266489909),v=rr(v^v>>>16),v}function kc(g,v){return g^v+2654435769+(g<<6)+(g>>2)|0}var $o=function(g){function v(R){return R==null?Ru():Vl(R)?R:Ru().withMutations(function(O){var F=ae(R);ma(F.size),F.forEach(function(J){return O.add(J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.fromKeys=function(O){return this(te(O).keySeq())},v.prototype.toString=function(){return this.__toString("OrderedSet {","}")},v}(ca);$o.isOrderedSet=Vl;var oc=$o.prototype;oc[be]=!0,oc.zip=Oc.zip,oc.zipWith=Oc.zipWith,oc.zipAll=Oc.zipAll,oc.__empty=Ru,oc.__make=la;function la(g,v){var R=Object.create(oc);return R.size=g?g.size:0,R._map=g,R.__ownerID=v,R}var uo;function Ru(){return uo||(uo=la(Yu()))}var Fn={LeftThenRight:-1,RightThenLeft:1};function au(g){if(ce(g))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ce(g))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(g===null||typeof g!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var xo=function(v,R){var O;au(v);var F=function(pe){var ke=this;if(pe instanceof F)return pe;if(!(this instanceof F))return new F(pe);if(!O){O=!0;var Qe=Object.keys(v),ht=J._indices={};J._name=R,J._keys=Qe,J._defaultValues=v;for(var Ut=0;Ut<Qe.length;Ut++){var Sr=Qe[Ut];ht[Sr]=Ut,J[Sr]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Ia(this)+' with property "'+Sr+'" since that property name is part of the Record API.'):da(J,Sr)}}return this.__ownerID=void 0,this._values=xa().withMutations(function(sn){sn.setSize(ke._keys.length),te(pe).forEach(function(jr,Wn){sn.set(ke._indices[Wn],jr===ke._defaultValues[Wn]?void 0:jr)})}),this},J=F.prototype=Object.create(ai);return J.constructor=F,R&&(F.displayName=R),F};xo.prototype.toString=function(){for(var v=Ia(this)+" { ",R=this._keys,O,F=0,J=R.length;F!==J;F++)O=R[F],v+=(F?", ":"")+O+": "+bu(this.get(O));return v+" }"},xo.prototype.equals=function(v){return this===v||ce(v)&&va(this).equals(va(v))},xo.prototype.hashCode=function(){return va(this).hashCode()},xo.prototype.has=function(v){return this._indices.hasOwnProperty(v)},xo.prototype.get=function(v,R){if(!this.has(v))return R;var O=this._indices[v],F=this._values.get(O);return F===void 0?this._defaultValues[v]:F},xo.prototype.set=function(v,R){if(this.has(v)){var O=this._values.set(this._indices[v],R===this._defaultValues[v]?void 0:R);if(O!==this._values&&!this.__ownerID)return Yl(this,O)}return this},xo.prototype.remove=function(v){return this.set(v)},xo.prototype.clear=function(){var v=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Yl(this,v)},xo.prototype.wasAltered=function(){return this._values.wasAltered()},xo.prototype.toSeq=function(){return va(this)},xo.prototype.toJS=function(){return Eu(this)},xo.prototype.entries=function(){return this.__iterator(Ct)},xo.prototype.__iterator=function(v,R){return va(this).__iterator(v,R)},xo.prototype.__iterate=function(v,R){return va(this).__iterate(v,R)},xo.prototype.__ensureOwner=function(v){if(v===this.__ownerID)return this;var R=this._values.__ensureOwner(v);return v?Yl(this,R,v):(this.__ownerID=v,this._values=R,this)},xo.isRecord=ce,xo.getDescriptiveName=Ia;var ai=xo.prototype;ai[Me]=!0,ai[e]=ai.remove,ai.deleteIn=ai.removeIn=_f,ai.getIn=xp,ai.hasIn=rs.hasIn,ai.merge=wf,ai.mergeWith=zl,ai.mergeIn=Hl,ai.mergeDeep=Od,ai.mergeDeepWith=Cs,ai.mergeDeepIn=nu,ai.setIn=ru,ai.update=bf,ai.updateIn=Tp,ai.withMutations=Lm,ai.asMutable=Id,ai.asImmutable=Sf,ai[at]=ai.entries,ai.toJSON=ai.toObject=rs.toObject,ai.inspect=ai.toSource=function(){return this.toString()};function Yl(g,v,R){var O=Object.create(Object.getPrototypeOf(g));return O._values=v,O.__ownerID=R,O}function Ia(g){return g.constructor.displayName||g.constructor.name||"Record"}function va(g){return Ji(g._keys.map(function(v){return[v,g.get(v)]}))}function da(g,v){try{Object.defineProperty(g,v,{get:function(){return this.get(v)},set:function(R){tc(this.__ownerID,"Cannot set on an immutable record."),this.set(v,R)}})}catch{}}var Jl=function(g){function v(R,O){if(!(this instanceof v))return new v(R,O);if(this._value=R,this.size=O===void 0?1/0:Math.max(0,O),this.size===0){if(sc)return sc;sc=this}}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},v.prototype.get=function(O,F){return this.has(O)?this._value:F},v.prototype.includes=function(O){return ft(this._value,O)},v.prototype.slice=function(O,F){var J=this.size;return f(O,F,J)?this:new v(this._value,_(F,J)-p(O,J))},v.prototype.reverse=function(){return this},v.prototype.indexOf=function(O){return ft(this._value,O)?0:-1},v.prototype.lastIndexOf=function(O){return ft(this._value,O)?this.size:-1},v.prototype.__iterate=function(O,F){for(var J=this.size,Z=0;Z!==J&&O(this._value,F?J-++Z:Z++,this)!==!1;);return Z},v.prototype.__iterator=function(O,F){var J=this,Z=this.size,pe=0;return new tt(function(){return pe===Z?Lr():fr(O,F?Z-++pe:pe++,J._value)})},v.prototype.equals=function(O){return O instanceof v?ft(this._value,O._value):xf(O)},v}($r),sc;function qd(g,v){return Ds([],v||cu,g,"",v&&v.length>2?[]:void 0,{"":g})}function Ds(g,v,R,O,F,J){if(typeof R!="string"&&!Ce(R)&&(On(R)||zr(R)||Rc(R))){if(~g.indexOf(R))throw new TypeError("Cannot convert circular structure to Immutable");g.push(R),F&&O!==""&&F.push(O);var Z=v.call(J,O,Or(R).map(function(pe,ke){return Ds(g,v,pe,ke,F,R)}),F&&F.slice());return g.pop(),F&&F.pop(),Z}return R}function cu(g,v){return we(v)?v.toList():ee(v)?v.toMap():v.toSet()}var wl="4.3.0",Xl={version:wl,Collection:W,Iterable:W,Seq:Or,Map:Pc,OrderedMap:Ts,List:xa,Stack:yl,Set:ca,OrderedSet:$o,PairSorting:Fn,Record:xo,Range:_l,Repeat:Jl,is:ft,fromJS:qd,hash:$t,isImmutable:Ce,isCollection:A,isKeyed:ee,isIndexed:we,isAssociative:V,isOrdered:xe,isValueObject:Je,isPlainObject:Rc,isSeq:qe,isList:Ys,isMap:Q,isOrderedMap:_e,isStack:nc,isSet:qo,isOrderedSet:Vl,isRecord:ce,get:Uo,getIn:Md,has:Ph,hasIn:ic,merge:Gs,mergeDeep:co,mergeWith:Ul,mergeDeepWith:Oh,remove:Dn,removeIn:xh,set:Vs,setIn:Pa,update:Cp,updateIn:wu},jd=W;r.Collection=W,r.Iterable=jd,r.List=xa,r.Map=Pc,r.OrderedMap=Ts,r.OrderedSet=$o,r.PairSorting=Fn,r.Range=_l,r.Record=xo,r.Repeat=Jl,r.Seq=Or,r.Set=ca,r.Stack=yl,r.default=Xl,r.fromJS=qd,r.get=Uo,r.getIn=Md,r.has=Ph,r.hasIn=ic,r.hash=$t,r.is=ft,r.isAssociative=V,r.isCollection=A,r.isImmutable=Ce,r.isIndexed=we,r.isKeyed=ee,r.isList=Ys,r.isMap=Q,r.isOrdered=xe,r.isOrderedMap=_e,r.isOrderedSet=Vl,r.isPlainObject=Rc,r.isRecord=ce,r.isSeq=qe,r.isSet=qo,r.isStack=nc,r.isValueObject=Je,r.merge=Gs,r.mergeDeep=co,r.mergeDeepWith=Oh,r.mergeWith=Ul,r.remove=Dn,r.removeIn=xh,r.set=Vs,r.setIn=Pa,r.update=Cp,r.updateIn=wu,r.version=wl,Object.defineProperty(r,"__esModule",{value:!0})})});var _G=C(jq=>{"use strict";Object.defineProperty(jq,"__esModule",{value:!0});jq.ServiceSource=void 0;var gWt;(function(r){r[r.sameProcess=0]="sameProcess",r[r.otherProcessOnSameMachine=1]="otherProcessOnSameMachine",r[r.trustedServer=2]="trustedServer",r[r.untrustedServer=3]="untrustedServer"})(gWt=jq.ServiceSource||(jq.ServiceSource={}))});var bG=C(zq=>{"use strict";Object.defineProperty(zq,"__esModule",{value:!0});zq.ClientCredentialsPolicy=void 0;var vWt;(function(r){r[r.requestOverridesDefault=0]="requestOverridesDefault",r[r.filterOverridesRequest=1]="filterOverridesRequest"})(vWt=zq.ClientCredentialsPolicy||(zq.ClientCredentialsPolicy={}))});var f5e=C(wG=>{"use strict";Object.defineProperty(wG,"__esModule",{value:!0});wG.View=void 0;var yWt=require("events"),d5e=ID(),_Wt=bG(),nme=class extends yWt.EventEmitter{container;audience;clientCredentials;clientCredentialsPolicy;clientCulture;clientUICulture;constructor(e,t,n,i,o,s){super(),this.container=e,this.audience=t,this.clientCredentials=n,this.clientCredentialsPolicy=i,this.clientCulture=o,this.clientUICulture=s}async getProxy(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e.moniker,this.audience);return i?.proffered?await i.proffered.getProxy(e,t,n):null}async getPipe(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?await i.proffered.getPipe(e,t,n):null}handshake(e,t){if(!d5e.RemoteServiceConnections.contains(e.supportedConnections,d5e.RemoteServiceConnections.IpcPipe))throw new Error("We only support pipes.");return Promise.resolve()}async requestServiceChannel(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?i.proffered.requestServiceChannel(e,t,n):Promise.resolve({})}cancelServiceRequest(e,t){throw new Error("Not yet implemented.")}applyOptionsFilter(e){let{...t}=e??{};return(this.clientCredentialsPolicy===_Wt.ClientCredentialsPolicy.filterOverridesRequest||(t.clientCredentials?.length??0)===0)&&(t.clientCredentials=this.clientCredentials.toObject()),t.clientCulture=this.clientCulture,t.clientUICulture=this.clientUICulture,t}};wG.View=nme});var ome=C(SG=>{"use strict";Object.defineProperty(SG,"__esModule",{value:!0});SG.RemoteServiceBrokerWrapper=void 0;var bWt=Xpe(),ime=class extends bWt.IpcRelayServiceBroker{};SG.RemoteServiceBrokerWrapper=ime});var p5e=C((Jvr,h5e)=>{"use strict";function wWt(r){for(var e=5381,t=r.length;t;)e=e*33^r.charCodeAt(--t);return e>>>0}h5e.exports=wWt});var Uq=C(qk=>{"use strict";var SWt=qk&&qk.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qk,"__esModule",{value:!0});qk.ServiceMonikerValue=void 0;var m5e=SWt(p5e()),sme=class r{name;version;hash;constructor(e,t){typeof e=="string"?(this.name=e,this.version=t):(this.name=e.name,this.version=e.version)}equals(e){return e&&e.name===this.name&&e.version===this.version}hashCode(){return this.hash??=(0,m5e.default)(this.name)+(0,m5e.default)(this.version??""),this.hash}static from(e){return e instanceof r?e:new r(e)}};qk.ServiceMonikerValue=sme});var y5e=C(jk=>{"use strict";var CWt=jk&&jk.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jk,"__esModule",{value:!0});jk.ProfferedServiceFactory=void 0;var g5e=CWt(LD()),TWt=require("events"),DWt=Lq(),EWt=ome(),v5e=Uq(),RWt=_G(),ame=class extends TWt.EventEmitter{container;descriptor;factory;source=RWt.ServiceSource.sameProcess;monikers;remoteServiceBrokerWrapper;constructor(e,t,n){super(),this.container=e,this.descriptor=t,this.factory=n,this.monikers=Object.freeze([new v5e.ServiceMonikerValue(t.moniker)]),this.remoteServiceBrokerWrapper=new EWt.RemoteServiceBrokerWrapper(this)}async getProxy(e,t,n){n?.throwIfCancelled();let i=this.container.getSecureServiceBroker(t),o=await this.invokeFactory(i,e.moniker,t??{},n??g5e.default.CONTINUE);if(!o)return null;switch(typeof o.dispose){case"undefined":o.dispose=function(){};break;case"function":break;default:throw new Error(`Service has a dispose property of type ${typeof o.dispose} instead of a function.`)}return o}async getPipe(e,t,n){n?.throwIfCancelled();let i=DWt.FullDuplexStream.CreatePair(),o=this.container.getSecureServiceBroker(t),s=this.descriptor.constructRpcConnection(i.first),a=await this.invokeFactory(o,e,t??{},n??g5e.default.CONTINUE);try{return a?(s.addLocalRpcTarget(a),s.startListening(),i.second):(s.dispose(),null)}catch(c){throw typeof a?.dispose=="function"&&a.dispose(),c}}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.container.removeRegistrations(this)}invokeFactory(e,t,n,i){let o=this.container.getServiceRegistration(v5e.ServiceMonikerValue.from(t))?.registration.allowGuestClients===!0;return this.factory(t,n,e,i)}};jk.ProfferedServiceFactory=ame});var CG=C(Hq=>{"use strict";Object.defineProperty(Hq,"__esModule",{value:!0});Hq.ServiceAudience=void 0;var PWt;(function(r){r[r.none=0]="none",r[r.process=1]="process",r[r.local=3]="local",r[r.liveShareGuest=1024]="liveShareGuest",r[r.allClientsIncludingGuests=1027]="allClientsIncludingGuests"})(PWt=Hq.ServiceAudience||(Hq.ServiceAudience={}))});var _5e=C(Bq=>{"use strict";Object.defineProperty(Bq,"__esModule",{value:!0});Bq.MissingBrokeredServiceErrorCode=void 0;var xWt;(function(r){r[r.noExplanation=0]="noExplanation",r[r.notLocallyRegistered=1]="notLocallyRegistered",r[r.chaosConfigurationDeniedRequest=2]="chaosConfigurationDeniedRequest",r[r.serviceAudienceMismatch=3]="serviceAudienceMismatch",r[r.serviceFactoryNotProffered=4]="serviceFactoryNotProffered",r[r.serviceFactoryReturnedNull=5]="serviceFactoryReturnedNull",r[r.serviceFactoryFault=6]="serviceFactoryFault",r[r.localServiceHiddenOnRemoteClient=7]="localServiceHiddenOnRemoteClient"})(xWt=Bq.MissingBrokeredServiceErrorCode||(Bq.MissingBrokeredServiceErrorCode={}))});var w5e=C(TG=>{"use strict";Object.defineProperty(TG,"__esModule",{value:!0});TG.ProfferedRemoteServiceBroker=void 0;var OWt=require("events"),b5e=tme(),IWt=Uq(),cme=class extends OWt.EventEmitter{container;remoteServiceBroker;multiplexingStream;source;serviceBroker;monikers;constructor(e,t,n,i,o){super(),this.container=e,this.remoteServiceBroker=t,this.multiplexingStream=n,this.source=i,this.monikers=o.map(IWt.ServiceMonikerValue.from),this.serviceBroker=new Promise(async(s,a)=>{try{let c=n?await b5e.RemoteServiceBroker.connectToMultiplexingRemoteServiceBroker(t,n):await b5e.RemoteServiceBroker.connectToRemoteServiceBroker(t);s(c)}catch(c){a(c)}}),this.remoteServiceBroker.on("availabilityChanged",this.onAvailabilityChanged)}async getProxy(e,t,n){return await(await this.serviceBroker).getProxy(e,t,n)}async getPipe(e,t,n){return await(await this.serviceBroker).getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBroker.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBroker.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBroker.cancelServiceRequest(e,t)}dispose(){this.remoteServiceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};TG.ProfferedRemoteServiceBroker=cme});var S5e=C(DG=>{"use strict";Object.defineProperty(DG,"__esModule",{value:!0});DG.ProfferedServiceBroker=void 0;var kWt=require("events"),AWt=ome(),LWt=Uq(),ume=class extends kWt.EventEmitter{container;serviceBroker;source;monikers;remoteServiceBrokerWrapper;constructor(e,t,n,i){super(),this.container=e,this.serviceBroker=t,this.source=n,this.monikers=i.map(LWt.ServiceMonikerValue.from),this.serviceBroker.on("availabilityChanged",this.onAvailabilityChanged),this.remoteServiceBrokerWrapper=new AWt.RemoteServiceBrokerWrapper(this)}getProxy(e,t,n){return this.serviceBroker.getProxy(e,t,n)}getPipe(e,t,n){return this.serviceBroker.getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};DG.ProfferedServiceBroker=ume});var T5e=C(aw=>{"use strict";var NWt=aw&&aw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),MWt=aw&&aw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),FWt=aw&&aw.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&NWt(e,r,t);return MWt(e,r),e};Object.defineProperty(aw,"__esModule",{value:!0});aw.GlobalBrokeredServiceContainer=void 0;var lR=FWt(l5e()),km=_G(),lme=f5e(),qWt=y5e(),dR=CG(),EG=_5e(),C5e=bG(),jWt=w5e(),zWt=S5e(),RG=Uq(),dme=vq(),fme=class r{static preferredSourceOrderForRemoteServices=[km.ServiceSource.trustedServer,km.ServiceSource.untrustedServer];static preferredSourceOrderForLocalServices=[km.ServiceSource.sameProcess,km.ServiceSource.otherProcessOnSameMachine];remoteSources=lR.Map();profferedServiceIndex=lR.Map();registeredServices=lR.Map();localUserCredentials=lR.Map();constructor(){}register(e){let t=this.registeredServices,n=e.map(o=>({moniker:RG.ServiceMonikerValue.from(o.moniker),registration:o.registration}));n.forEach(o=>{if(this.registeredServices.has(o.moniker))throw new Error(`${dme.ServiceMoniker.toString(o.moniker)} is already registered.`);t=t.set(o.moniker,o.registration)}),this.registeredServices=t;let i=!1;return{dispose:()=>{i||(n.forEach(o=>this.registeredServices=this.registeredServices.delete(o.moniker)),i=!0)}}}profferServiceFactory(e,t){return this.profferInternal(new qWt.ProfferedServiceFactory(this,e,t))}profferServiceBroker(e,t){return this.profferInternal(new zWt.ProfferedServiceBroker(this,e,km.ServiceSource.sameProcess,t))}profferRemoteServiceBroker(e,t,n,i){if(n===km.ServiceSource.sameProcess)throw new Error("Use the proffer method for local services when they are in the same process.");return this.profferInternal(new jWt.ProfferedRemoteServiceBroker(this,e,t,n,this.getAllowedMonikers(n,i?.map(RG.ServiceMonikerValue.from)??null)))}getFullAccessServiceBroker(){return new lme.View(this,dR.ServiceAudience.process,this.localUserCredentials,C5e.ClientCredentialsPolicy.requestOverridesDefault)}getLimitedAccessServiceBroker(e,t,n){return new lme.View(this,e,t,n)}static isLocalConsumer(e){return(e&~dR.ServiceAudience.local)===dR.ServiceAudience.none}getSecureServiceBroker(e){return new lme.View(this,dR.ServiceAudience.process,e?.clientCredentials?lR.Map(e.clientCredentials):lR.Map(),C5e.ClientCredentialsPolicy.requestOverridesDefault)}getServiceRegistration(e){let t=this.registeredServices.get(e);if(t)return{registration:t,matchingMoniker:e};if(e.version){let n=new RG.ServiceMonikerValue(e.name);return this.getServiceRegistration(n)}return null}async getProfferingSource(e,t){let n=RG.ServiceMonikerValue.from(e),{registration:i,matchingMoniker:o}=this.getServiceRegistration(n)||{};if(!i||!o)return{errorCode:EG.MissingBrokeredServiceErrorCode.notLocallyRegistered};let s=!1;if(r.isLocalConsumer(t),!i.isExposedTo(t))return{errorCode:EG.MissingBrokeredServiceErrorCode.serviceAudienceMismatch};if(i.profferCallback){let a=i.profferCallback;i.profferCallback=void 0,await a(this,e)}for(let a of r.preferredSourceOrderForLocalServices){let c=this.profferedServiceIndex.get(a);if(c){let u=c.get(o);if(u)return{proffered:u,errorCode:EG.MissingBrokeredServiceErrorCode.noExplanation}}}return{errorCode:EG.MissingBrokeredServiceErrorCode.serviceFactoryNotProffered}}removeRegistrations(e){let t=this.profferedServiceIndex;switch(e.source){case km.ServiceSource.sameProcess:case km.ServiceSource.otherProcessOnSameMachine:let n=this.profferedServiceIndex.get(e.source);n&&(n=n.removeAll(e.monikers),this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n));break;default:this.profferedServiceIndex=this.profferedServiceIndex.remove(e.source),this.remoteSources=this.remoteSources.remove(e.source);break}this.onAvailabilityChanged(t,e)}onAvailabilityChanged(e,t,n){}getAllowedMonikers(e,t){let n=r.convertRemoteSourceToLocalAudience(e),i=[];if(t===null)for(let[o,s]of this.registeredServices)((s.audience&n)===n||e===km.ServiceSource.otherProcessOnSameMachine)&&i.push(o);else for(let o of t){let s=this.registeredServices.get(o);s&&((s.audience&n)===n||e===km.ServiceSource.otherProcessOnSameMachine)&&i.push(o)}return i}static convertRemoteSourceToLocalAudience(e){switch(e){case km.ServiceSource.otherProcessOnSameMachine:return dR.ServiceAudience.local;case km.ServiceSource.trustedServer:return dR.ServiceAudience.liveShareGuest;case km.ServiceSource.untrustedServer:return dR.ServiceAudience.liveShareGuest;default:throw new Error(`Source not recognized: ${e}`)}}profferInternal(e){let t=this.profferedServiceIndex;e.source>km.ServiceSource.otherProcessOnSameMachine&&this.remoteSources.set(e.source,e);let n=this.profferedServiceIndex.get(e.source)??lR.Map(),i=[];if(e.monikers.forEach(o=>{if(this.registeredServices.has(o)||i.push(o),n.has(o))throw new Error(`${dme.ServiceMoniker.toString(o)} is already proffered.`);n=n.set(o,e)}),i.length>0)throw new Error(`Cannot proffer unregistered service(s): ${i.map(o=>dme.ServiceMoniker.toString(o)).join(", ")}`);return this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n),this.onAvailabilityChanged(t,e),e}};aw.GlobalBrokeredServiceContainer=fme});var D5e=C(xG=>{"use strict";Object.defineProperty(xG,"__esModule",{value:!0});xG.ServiceRegistration=void 0;var PG=CG(),hme=class{audience;allowGuestClients;profferCallback;constructor(e,t,n){this.audience=e,this.allowGuestClients=t,this.profferCallback=n}get isExposedLocally(){return(this.audience&PG.ServiceAudience.local)!==PG.ServiceAudience.none}get isExposedRemotely(){return(this.audience&PG.ServiceAudience.liveShareGuest)!==PG.ServiceAudience.none}isExposedTo(e){return(e&this.audience)===e}};xG.ServiceRegistration=hme});var E5e=C(cy=>{"use strict";Object.defineProperty(cy,"__esModule",{value:!0});cy.ClientCredentialsPolicy=cy.ServiceSource=cy.ServiceRegistration=cy.ServiceAudience=cy.GlobalBrokeredServiceContainer=void 0;var UWt=T5e();Object.defineProperty(cy,"GlobalBrokeredServiceContainer",{enumerable:!0,get:function(){return UWt.GlobalBrokeredServiceContainer}});var HWt=CG();Object.defineProperty(cy,"ServiceAudience",{enumerable:!0,get:function(){return HWt.ServiceAudience}});var BWt=D5e();Object.defineProperty(cy,"ServiceRegistration",{enumerable:!0,get:function(){return BWt.ServiceRegistration}});var WWt=_G();Object.defineProperty(cy,"ServiceSource",{enumerable:!0,get:function(){return WWt.ServiceSource}});var $Wt=bG();Object.defineProperty(cy,"ClientCredentialsPolicy",{enumerable:!0,get:function(){return $Wt.ClientCredentialsPolicy}})});var mme=C(eo=>{"use strict";var VWt=eo&&eo.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),R5e=eo&&eo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&VWt(e,r,t)};Object.defineProperty(eo,"__esModule",{value:!0});eo.Observer=eo.ServiceRpcDescriptor=eo.ServiceMoniker=eo.JsonRpcConnection=eo.ServiceJsonRpcDescriptor=eo.RemoteServiceConnectionInfo=eo.RemoteServiceBroker=eo.ProtectedOperation=eo.MultiplexingRelayServiceBroker=eo.RpcMarshalable=eo.IpcRelayServiceBroker=eo.IDisposable=eo.AuthorizationServiceClient=eo.RemoteServiceConnections=eo.MessageDelimiters=eo.Formatters=void 0;var pme=ID();Object.defineProperty(eo,"Formatters",{enumerable:!0,get:function(){return pme.Formatters}});Object.defineProperty(eo,"MessageDelimiters",{enumerable:!0,get:function(){return pme.MessageDelimiters}});Object.defineProperty(eo,"RemoteServiceConnections",{enumerable:!0,get:function(){return pme.RemoteServiceConnections}});R5e(mG(),eo);var GWt=Kpe();Object.defineProperty(eo,"AuthorizationServiceClient",{enumerable:!0,get:function(){return GWt.AuthorizationServiceClient}});var KWt=Q6e();Object.defineProperty(eo,"IDisposable",{enumerable:!0,get:function(){return KWt.IDisposable}});var YWt=Xpe();Object.defineProperty(eo,"IpcRelayServiceBroker",{enumerable:!0,get:function(){return YWt.IpcRelayServiceBroker}});var JWt=N5();Object.defineProperty(eo,"RpcMarshalable",{enumerable:!0,get:function(){return JWt.RpcMarshalable}});var XWt=t5e();Object.defineProperty(eo,"MultiplexingRelayServiceBroker",{enumerable:!0,get:function(){return XWt.MultiplexingRelayServiceBroker}});var QWt=n5e();Object.defineProperty(eo,"ProtectedOperation",{enumerable:!0,get:function(){return QWt.ProtectedOperation}});var ZWt=tme();Object.defineProperty(eo,"RemoteServiceBroker",{enumerable:!0,get:function(){return ZWt.RemoteServiceBroker}});var e$t=Zpe();Object.defineProperty(eo,"RemoteServiceConnectionInfo",{enumerable:!0,get:function(){return e$t.RemoteServiceConnectionInfo}});var P5e=$pe();Object.defineProperty(eo,"ServiceJsonRpcDescriptor",{enumerable:!0,get:function(){return P5e.ServiceJsonRpcDescriptor}});Object.defineProperty(eo,"JsonRpcConnection",{enumerable:!0,get:function(){return P5e.JsonRpcConnection}});var t$t=vq();Object.defineProperty(eo,"ServiceMoniker",{enumerable:!0,get:function(){return t$t.ServiceMoniker}});var r$t=Fhe();Object.defineProperty(eo,"ServiceRpcDescriptor",{enumerable:!0,get:function(){return r$t.ServiceRpcDescriptor}});var n$t=c5e();Object.defineProperty(eo,"Observer",{enumerable:!0,get:function(){return n$t.Observer}});R5e(E5e(),eo)});var I$t={};Qk(I$t,{activate:()=>O$t});module.exports=GC(I$t);var sA=ye(require("path")),Gi=ye(require("vscode"));var o8=ye(require("child_process")),zw=ye(require("fs")),Wme=ye(require("os")),sb=ye(require("path")),i8;function $me(r){i8=r}function KC(){if(!i8)throw new Error("Failed to set extension path");return i8}function Vme(){let r=process.env.TMPDIR;return r||"/tmp/"}function Zk(r,e){return r.reduce((t,n)=>t+e(n),0)}async function s8(r,e){return Promise.all(r.map(e))}async function Gme(r,e){let t=await s8(r,e);return r.filter((n,i)=>t[i])}function a8(r){return r?r.length:0}async function YC(r,e,t){return new Promise((n,i)=>{o8.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(o,s,a)=>{o?i(new Error(`${o}
${s}
${a}`)):a&&!a.includes("screen size is bogus")?i(new Error(a)):n(s)})})}async function Kme(r){return new Promise((e,t)=>{o8.exec("ps -A -o ppid,pid",(n,i,o)=>{if(n)return t(n);if(o&&!o.includes("screen size is bogus"))return t(new Error(o));if(!i)return e([]);let a=i.split(Wme.EOL).map(u=>u.trim().split(/\s+/)),c=[];for(let u of a)parseInt(u[0])===r&&c.push(parseInt(u[1]));e(c)})})}async function TR(r){return new Promise(e=>{zw.stat(r,(t,n)=>{n&&n.isFile()?e(!0):e(!1)})})}async function Yme(r){return TR(r).then(async e=>new Promise((t,n)=>{if(!e)return t();zw.unlink(r,i=>{if(i)return n(i);t()})}))}var e1=(t=>(t[t.Begin=0]="Begin",t[t.Lock=1]="Lock",t))(e1||{});function t1(r,e){let t="install."+e1[e];return sb.resolve(r.value,t)}async function o2(r,e){return TR(t1(r,e))}async function c8(r,e){return new Promise((t,n)=>{zw.writeFile(t1(r,e),"",i=>{if(i){n(i);return}t()})})}async function Jme(r,e){return new Promise((t,n)=>{zw.unlink(t1(r,e),i=>{if(i){n(i);return}t()})})}function Uw(r){return r.split(sb.sep).join(sb.posix.sep)}function Xme(r,e){let t=r.split(sb.sep),n=e.split(sb.sep);return n.length<=r.length&&n.every((i,o)=>t[o]===i)}function Qme(){let r=(process.env.PATH||"").replace(/"+/g,"").split(";").filter(t=>t),e=["pwsh.exe","powershell.exe"];for(let t of e){let n=r.reduce((i,o)=>[...i,sb.join(o,t)],[]);for(let i of n)try{if(zw.statSync(i).isFile())return t}catch{}}}var OR=ye(require("vscode")),I8=ye(require("path")),IR=ye(require("fs")),y2=ye(QC()),Qve=ye(require("os"));var O8=ye(QC()),Yve=require("path");var Jve=require("os");async function sm(r){let e=c7e(r),t=await u7e(e);return await l7e(t,e)}function c7e(r){let e=`dotnet${pd.getPlatformExeExtension()}`,t;for(let n of r){let i=(0,Yve.join)(n,e);if(pd.existsSync(i)){t=i;break}}return t}async function u7e(r){try{let e={...process.env,DOTNET_CLI_UI_LANGUAGE:"en-US"},t=r?`"${r}"`:"dotnet";return await YC(`${t} --info`,process.cwd(),e)}catch(e){let t=e instanceof Error?e.message:`${e}`;throw new Error(`Error running dotnet --info: ${t}`)}}async function l7e(r,e){try{let t=e,n=r,i,o,s,a=r.replace(/\r/gm,"").split(`
`);for(let d of a){let f;(f=/^\s*Version:\s*([^\s].*)$/.exec(d))?i=f[1]:(f=/^\s*RID:\s*([\w\-.]+)$/.exec(d))?o=f[1]:(f=/^\s*Architecture:\s*(.*)/.exec(d))&&(s=f[1])}let c={},u=e?`"${e}"`:"dotnet";a=(await YC(`${u} --list-runtimes`,process.cwd(),process.env)).split(/\r?\n/);for(let d of a){let f;if(f=/^([\w.]+) ([^ ]+) \[([^\]]+)\]$/.exec(d)){let p=f[1],_=f[2];p in c?c[p].push({Version:O8.parse(_),Path:f[3]}):c[p]=[{Version:O8.parse(_),Path:f[3]}]}}if(i!==void 0)return{CliPath:t,FullInfo:n,Version:i,RuntimeId:o,Architecture:s,Runtimes:c};throw new Error("Failed to parse dotnet version information")}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(`Error parsing dotnet --info: ${n}, raw info was:${Jve.EOL}${r}`)}}var Xve="1.0.0",d7e="22.0.0",Zve="macOS 13 (Ventura)",pd=class{_extensionDir="";_debugAdapterDir="";_installCompleteFilePath="";constructor(e){this._extensionDir=e,this._debugAdapterDir=I8.join(this._extensionDir,".debugger"),this._installCompleteFilePath=I8.join(this._debugAdapterDir,"install.complete")}extensionDir(){if(this._extensionDir==="")throw new Error(OR.l10n.t("Failed to set extension directory"));return this._extensionDir}debugAdapterDir(){if(this._debugAdapterDir==="")throw new Error(OR.l10n.t("Failed to set debugadpter directory"));return this._debugAdapterDir}installCompleteFilePath(){if(this._installCompleteFilePath==="")throw new Error(OR.l10n.t("Failed to set install complete file path"));return this._installCompleteFilePath}static async writeEmptyFile(e){return new Promise((t,n)=>{IR.writeFile(e,"",i=>{i?n(i.code):t()})})}async checkDotNetCli(e){try{let t=await sm(e);if(y2.lt(t.Version,Xve))throw new Error(OR.l10n.t("The .NET Core SDK located on the path is too old. .NET Core debugging will not be enabled. The minimum supported version is {0}.",Xve))}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(OR.l10n.t("The .NET Core SDK cannot be located: {0}. .NET Core debugging will not be enabled. Make sure the .NET Core SDK is installed and is on the path.",n))}}static isMacOSSupported(){return y2.gte(Qve.release(),d7e)}static existsSync(e){try{return IR.accessSync(e,IR.constants.F_OK),!0}catch(t){let n=t;if(n.code==="ENOENT"||n.code==="ENOTDIR")return!1;throw Error(n.code)}}static getPlatformExeExtension(){return process.platform==="win32"?".exe":""}};var sf=class{constructor(e){this.message=e}type=24},_2=class{type=54},h0=class extends sf{type=41},l1=class extends sf{type=67},p0=class{type=52},b2=class{type=6},ZC=class{constructor(e){this.packageInfo=e}type=7},eT=class{constructor(e){this.info=e}type=8},kR=class{constructor(e){this.packageDescription=e}type=9},tT=class{type=50},m0=class{constructor(e,t){this.stage=e;this.error=t}type=10},w2=class{constructor(e){this.packageDescription=e}type=25},S2=class{constructor(e){this.fallbackUrl=e}type=26},d1=class extends sf{type=65},AR=class extends sf{type=64},C2=class{constructor(e){this.packageSize=e}type=27},T2=class{constructor(e,t){this.downloadPercentage=e;this.packageDescription=t}type=11},D2=class{type=43},LR=class{constructor(e){this.message=e}type=28},E2=class{constructor(e,t,n){this.packageDescription=e;this.url=t;this.retry=n}type=37},R2=class{type=38};var P2=ye(require("path")),g0=class r{constructor(e){this.value=e;if(!P2.isAbsolute(e))throw new Error("The path must be absolute")}static getAbsolutePath(...e){return new r(P2.resolve(...e))}};var NR=class r{constructor(e,t,n,i,o,s,a,c,u,l,d,f){this.id=e;this.description=t;this.url=n;this.platforms=i;this.architectures=o;this.installPath=s;this.binaries=a;this.installTestPath=c;this.fallbackUrl=u;this.platformId=l;this.integrity=d;this.isFramework=f}static getAbsolutePathPackage(e,t){return new r(e.id,e.description,e.url,e.platforms,e.architectures,eye(e,t),h7e(e,t),f7e(e,t),e.fallbackUrl,e.platformId,e.integrity,e.isFramework)}};function f7e(r,e){if(r.installTestPath!==void 0)return g0.getAbsolutePath(e,r.installTestPath)}function h7e(r,e){let t=eye(r,e).value;return r.binaries?.map(n=>g0.getAbsolutePath(t,n))}function eye(r,e){return r.installPath!==void 0?g0.getAbsolutePath(e,r.installPath):new g0(e)}async function tye(r,e){let t=k8(r,e);return p7e(t)}function k8(r,e){return r.filter(t=>t.architectures.includes(e.architecture)&&t.platforms.includes(e.platform))}async function p7e(r){return Gme(r,async e=>{let t=t1(e.installPath,1);return!await TR(t)})}function rye(r,e,t,n){let o=v0(e).map(a=>NR.getAbsolutePathPackage(a,n));return k8(o,t).find(a=>a.id===r)}function v0(r){if(r.runtimeDependencies)return JSON.parse(JSON.stringify(r.runtimeDependencies));throw new Error("No runtime dependencies found")}var iK=ye(require("child_process")),Q8=ye(aT()),uT=ye(require("os")),G2=ye(require("path")),sp=ye(require("vscode"));var dbe=ye(require("crypto")),fbe=ye(require("fs")),V2=ye(require("os"));var b0="unknown",X8=class r{constructor(e,t){this.name=e;this.version=t}static async GetCurrent(){return r.FromFilePath("/etc/os-release").catch(async()=>r.FromFilePath("/usr/lib/os-release")).catch(async()=>Promise.resolve(new r(b0,b0)))}toString(){return`name=${this.name}, version=${this.version}`}toTelemetryString(){let e=["alpine","antergos","arch","centos","debian","deepin","elementary","fedora","galliumos","gentoo","kali","linuxmint","manjoro","neon","opensuse","parrot","rhel","ubuntu","zorin"];if(this.name===b0||e.indexOf(this.name)>=0)return this.toString();{let t=dbe.createHash("sha256");return t.update(this.name),`other (${t.digest("hex")})`}}static async FromFilePath(e){return new Promise((t,n)=>{fbe.readFile(e,"utf8",(i,o)=>{i?n(i):t(r.FromReleaseInfo(o))})})}static FromReleaseInfo(e,t=V2.EOL){let n=b0,i=b0,o=e.split(t);for(let s of o){s=s.trim();let a=s.indexOf("=");if(a>=0){let c=s.substring(0,a),u=s.substring(a+1);if(u.length>1&&u.startsWith('"')&&u.endsWith('"')&&(u=u.substring(1,u.length-1)),c==="ID"?n=u:c==="VERSION_ID"&&(i=u),n!==b0&&i!==b0)break}}return new r(n,i)}},HR=class r{constructor(e,t,n){this.platform=e;this.architecture=t;this.distribution=n}isWindows(){return this.platform==="win32"}isMacOS(){return this.platform==="darwin"}isLinux(){return this.platform.startsWith("linux")}toString(){let e=`${this.platform}, ${this.architecture}`;return this.distribution!==void 0&&(e+=`, ${this.distribution.toString()}`),e}static async GetCurrent(){let e=V2.platform();if(e==="win32")return new r(e,r.GetWindowsArchitecture());if(e==="darwin")return new r(e,await r.GetUnixArchitecture());if(e==="linux"){let[t,n,i]=await Promise.all([r.GetIsMusl(),r.GetUnixArchitecture(),X8.GetCurrent()]);return new r(t?"linux-musl":e,n,i)}throw new Error(`Unsupported platform: ${e}`)}static GetWindowsArchitecture(){return process.env.PROCESSOR_ARCHITECTURE==="x86"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"x86":process.env.PROCESSOR_ARCHITECTURE==="ARM64"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"arm64":"x86_64"}static async GetUnixArchitecture(){let e=(await YC("uname -m",__dirname,process.env)).trim();return e==="aarch64"?"arm64":e}static async GetIsMusl(){try{return(await YC("ldd --version",__dirname,process.env)).includes("musl")}catch(e){return e instanceof Error?e.message.includes("musl"):!1}}isValidPlatformForMono(){return this.isLinux()||this.isMacOS()}};var K2=class{constructor(e){this.attachItemsProvider=e}async ShowAttachEntries(){let e=await this.attachItemsProvider.getAttachItems();return sp.window.showQuickPick(e,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the process to attach to"})}},cT=class r{static get commColumnTitle(){return Array(C1.secondColumnCharacters).join("a")}static get linuxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args=`}static get osxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args= -c`}static get debuggerCommand(){return"${debuggerCommand}"}static get scriptShellCmd(){return"sh -s"}static _channel;static async ValidateAndFixPipeProgram(e){return HR.GetCurrent().then(t=>{if(t.isWindows()&&t.architecture==="x86_64"){let n=process.env.SystemRoot,i=G2.join(n,"System32"),o=G2.join(n,"sysnative"),s=RegExp(i.replace(/\\/g,"\\\\"),"ig"),a=e.replace(s,o);if(e.toLowerCase().startsWith(i.toLowerCase())&&!Q8.existsSync(e)&&Q8.existsSync(a))return a}return e})}static getPipeTransportOptions(e,t){let n=e.pipeProgram,i=e.pipeArgs,o=e.pipeCwd,s=e.quoteArgs!=null?e.quoteArgs:!0,a=this.getPlatformSpecificPipeTransportOptions(e,t);return a!==void 0&&(n=a.pipeProgram||n,i=a.pipeArgs||i,o=a.pipeCwd||o,s=a.quoteArgs!=null?a.quoteArgs:s),{pipeProgram:n,pipeArgs:i,pipeCwd:o,quoteArgs:s}}static getPlatformSpecificPipeTransportOptions(e,t){if(t==="darwin"&&e.osx)return e.osx;if(t==="linux"&&e.linux)return e.linux;if(t==="win32"&&e.windows)return e.windows}static async createPipeCmd(e,t,n){return this.ValidateAndFixPipeProgram(e).then(async i=>typeof t=="string"?Promise.resolve(this.createPipeCmdFromString(i,t,n)):t instanceof Array?Promise.resolve(this.createPipeCmdFromArray(i,t,n)):Promise.reject(new Error(sp.l10n.t("pipeArgs must be a string or a string array type"))))}static createPipeCmdFromString(e,t,n){let i=this.quoteArg(e);return t.indexOf(this.debuggerCommand)>=0?i=i.concat(" ",t.replace(/\$\{debuggerCommand\}/g,this.scriptShellCmd)):i=i.concat(" ",t.concat(" ",this.quoteArg(this.scriptShellCmd,n))),i}static createPipeCmdFromArray(e,t,n){let i=[];if(i.push(e),t.filter(o=>o.indexOf(this.debuggerCommand)>=0).length>0)for(let o of t){for(;o.indexOf(this.debuggerCommand)>=0;)o=o.replace(this.debuggerCommand,r.scriptShellCmd);i.push(o)}else i=i.concat(t),i.push(this.scriptShellCmd);return n?this.createArgumentList(i):i.join(" ")}static quoteArg(e,t=!0){return t&&e.includes(" ")?`"${e}"`:e}static createArgumentList(e){return e.map(t=>this.quoteArg(t)).join(" ")}static async ShowAttachEntries(e,t){r._channel===void 0?r._channel=sp.window.createOutputChannel(sp.l10n.t("remote-attach")):r._channel.clear();let n=e?e.name:null;if(!n)return Promise.reject(new Error(sp.l10n.t("Name not defined in current configuration.")));if(!e.pipeTransport||!e.pipeTransport.debuggerPath)return Promise.reject(new Error(sp.l10n.t('Configuration "{0}" in launch.json does not have a {1} argument with {2} for remote process listing.',n,"pipeTransport","debuggerPath")));{let i=this.getPipeTransportOptions(e.pipeTransport,uT.platform()),o=await r.createPipeCmd(i.pipeProgram,i.pipeArgs,i.quoteArgs),s=await r.getRemoteOSAndProcesses(o,i.pipeCwd,r._channel,t);return sp.window.showQuickPick(s,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:sp.l10n.t("Select the process to attach to")})}}static async getRemoteOSAndProcesses(e,t,n,i){let o=G2.join(KC(),"scripts","remoteProcessPickerScript");return CJe(`${e} < "${o}"`,t,n,i).then(async s=>{let a=s.split(/\r?\n/);if(a.length==0)return Promise.reject(new Error(sp.l10n.t("Pipe transport failed to get OS and processes.")));{let c=a[0].replace(/[\r\n]+/g,"");if(c!="Linux"&&c!="Darwin")return Promise.reject(new Error(sp.l10n.t('Operating system "{0}" not supported.',c)));if(a.length==1)return Promise.reject(new Error(sp.l10n.t("Transport attach could not obtain processes list.")));{let u=a.slice(1);return hbe(C1.parseProcessFromPsArray(u),c)}}})}},Y2=class{static Get(){if(uT.platform()==="win32"){let e=Qme();return e?new eK(e):new rK}else return new Z8}},S1=class{async getAttachItems(){return this.getInternalProcessEntries().then(e=>hbe(e,uT.platform()))}};function hbe(r,e){let t=e==="win32"?"dotnet.exe":"dotnet";return r=r.sort((i,o)=>i.name.toLowerCase()===t&&o.name.toLowerCase()===t?i.commandLine!==void 0&&o.commandLine!==void 0?i.commandLine.toLowerCase()<o.commandLine.toLowerCase()?-1:1:i.commandLine!==void 0?-1:1:i.name.toLowerCase()===t?-1:o.name.toLowerCase()===t?1:i.name.toLowerCase()<o.name.toLowerCase()?-1:1),r.map(i=>({label:i.name,description:i.pid,detail:i.commandLine,id:i.pid,flags:i.flags??0}))}var Z8=class extends S1{async getInternalProcessEntries(){let e=uT.platform()==="darwin"?cT.osxPsCommand:cT.linuxPsCommand;return oK(e).then(t=>C1.parseProcessFromPs(t))}},C1=class r{static get secondColumnCharacters(){return 50}static parseProcessFromPs(e){let t=e.split(uT.EOL),n=[];for(let i=1;i<t.length;i++){let o=t[i];if(!o)continue;let s=this.parseLineFromPs(o);s&&n.push(s)}return n}static parseProcessFromPsArray(e){let t=[];for(let n=1;n<e.length;n++){let i=e[n];if(!i)continue;let o=this.parseLineFromPs(i);o&&t.push(o)}return t}static parseLineFromPs(e){let n=new RegExp(`^\\s*([0-9]+)\\s+([0-9a-fA-F]+)\\s+(.{${r.secondColumnCharacters-1}})\\s+(.*)$`).exec(e);if(n?.length===5){let i=n[1].trim(),o=parseInt(n[2].trim(),16),s=n[3].trim(),a=n[4].trim();return{name:s,pid:i,commandLine:a,flags:o}}}},eK=class extends S1{constructor(t){super();this.pwsh=t}async getInternalProcessEntries(){let t=`${this.pwsh} -NoProfile -Command`,i=await oK(`${t} "Get-CimInstance Win32_Process | Select-Object Name,ProcessId,CommandLine | ConvertTo-JSON"`);return tK.ParseProcessFromCim(i)}},tK=class{static get extendedLengthPathPrefix(){return"\\\\?\\"}static get ntObjectManagerPathPrefix(){return"\\??\\"}static ParseProcessFromCim(e){return JSON.parse(e).map(n=>{let i=n.CommandLine??void 0;return i?.startsWith(this.extendedLengthPathPrefix)&&(i=i.slice(this.extendedLengthPathPrefix.length)),i?.startsWith(this.ntObjectManagerPathPrefix)&&(i=i.slice(this.ntObjectManagerPathPrefix.length)),{name:n.Name,pid:`${n.ProcessId}`,commandLine:i}})}},rK=class extends S1{async getInternalProcessEntries(){return oK("wmic process get Name,ProcessId,CommandLine /FORMAT:list").then(t=>nK.parseProcessFromWmic(t))}},nK=class r{static get wmicNameTitle(){return"Name"}static get wmicCommandLineTitle(){return"CommandLine"}static get wmicPidTitle(){return"ProcessId"}static parseProcessFromWmic(e){let t=e.split(uT.EOL),n={},i=[];for(let o=0;o<t.length;o++){let s=t[o];s&&(this.parseLineFromWmic(s,n),s.startsWith(r.wmicPidTitle)&&(i.push(n),n={}))}return i}static parseLineFromWmic(e,t){if(e.indexOf("=")>=0){let i=e.slice(0,e.indexOf("=")),o=e.slice(e.indexOf("=")+1);if(i===r.wmicNameTitle)t.name=o.trim();else if(i===r.wmicPidTitle)t.pid=o.trim();else if(i===r.wmicCommandLineTitle){let s="\\??\\";o.startsWith(s)&&(o=o.slice(s.length).trim()),t.commandLine=o.trim()}}}};async function oK(r){return new Promise((e,t)=>{iK.exec(r,{maxBuffer:500*1024},(n,i,o)=>{if(n){t(n);return}if(o&&!o.includes("screen size is bogus")){t(new Error(o));return}e(i)})})}async function SJe(r){let e=process.env;if(r.isWindows()&&r.architecture==="x86_64"){let t=process.env.WINDIR+"\\sysnative";e.Path=process.env.PATH+";"+t}return e}async function CJe(r,e,t,n){return t.appendLine(`Executing: ${r}`),new Promise((i,o)=>{SJe(n).then(s=>{iK.exec(r,{cwd:e,env:s,maxBuffer:500*1024},(a,c,u)=>{let l="";if(c&&c.length>0&&(l=l.concat(c)),u&&u.length>0&&(l=l.concat("stderr: "+u)),a&&(l=l.concat(sp.l10n.t("Error Message: ")+a.message)),a||u&&u.length>0){t.append(l),t.show(),o(new Error(sp.l10n.t("See {0} output","remote-attach")));return}i(c)})},s=>o(s))})}var oSe=ye(mT());var iSe=ye(mT()),md=class{onDispose;constructor(e){if(!e)throw new Error("onDispose cannot be null or empty.");e instanceof iSe.Subscription?this.onDispose=()=>e.unsubscribe():this.onDispose=e}dispose=()=>{this.onDispose()}};var po=class extends md{disposables=new oSe.Subscription;constructor(...e){super(()=>this.disposables.unsubscribe());for(let t of e)if(t)this.add(t);else throw new Error("null disposables are not supported")}add(e){if(!e)throw new Error("disposable cannot be null");this.disposables.add(()=>e.dispose())}};var Os=ye(require("vscode"));var sSe=ye(require("vscode")),aSe=ye(require("fs")),Cj=class r{Env;Warning;constructor(e,t){this.Env=e,this.Warning=t}static CreateFromFile(e,t){let n=aSe.readFileSync(e,"utf8");return this.CreateFromContent(n,e,t)}static CreateFromContent(e,t,n){e.charAt(0)==="\uFEFF"&&(e=e.substring(1));let i=[],o=n??{},s={...o};e.split(`
`).forEach(c=>{let u=c.match(/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/);if(u!==null){let l=u[1];if(o[l]!==void 0)return;let d=u[2]??"";d.length>0&&d.charAt(0)==='"'&&d.charAt(d.length-1)==='"'&&(d=d.replace(/\\n/gm,`
`)),d=d.replace(/(^['"]|['"]$)/g,""),s[l]=d}else new RegExp(/^\s*(#|$)/).test(c)||i.push(c)});let a;return i.length!==0&&(a=sSe.l10n.t("Ignoring non-parseable lines in envFile {0}: {1}.",t,i.join(", "))),new r(s,a)}};var V9=ye(require("vscode")),G9=class{_sessions=new Set;_onDidStartDebugSession;_onDidTerminateDebugSession;_brokeredServicePipeName;initializeDebugSessionHandlers(e){this._onDidStartDebugSession=V9.debug.onDidStartDebugSession(this.onDidStartDebugSession.bind(this)),this._onDidTerminateDebugSession=V9.debug.onDidTerminateDebugSession(t=>{this.onDidTerminateDebugSession(t)}),e.subscriptions.push(this._onDidStartDebugSession),e.subscriptions.push(this._onDidTerminateDebugSession)}onDidStartDebugSession(e){e.type==="coreclr"&&this._sessions?.add(e)}onDidTerminateDebugSession(e){this._sessions?.delete(e)}async onCsDevKitInitialized(e){this._brokeredServicePipeName=e;let t=this._sessions;t?.forEach(n=>n.customRequest("initializeBrokeredServicePipeName",e)),this.cleanup()}getBrokeredServicePipeName(){return this._brokeredServicePipeName}cleanup(){this._sessions?.clear(),this._sessions=void 0,this._onDidStartDebugSession?.dispose(),this._onDidTerminateDebugSession?.dispose()}},oA=new G9;var dSe=ye(require("child_process"));var R0=ye(require("vscode")),Tj=ye(require("path")),K9=class{get waitForDebugger(){return Jr("dotnet.server.waitForDebugger",!1,"omnisharp.waitForDebugger")}get serverPath(){return Jr("dotnet.server.path","","omnisharp.path","csharp.omnisharp")}get useOmnisharpServer(){return Jr("dotnet.server.useOmnisharp",!1)}get excludePaths(){return rnt()}get defaultSolution(){let e="",t=Jr("dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(t==="disable")e="disable";else if(R0.workspace.workspaceFolders!==void 0&&(R0.workspace.workspaceFolders.length>1&&Tj.isAbsolute(t)&&(e=t),e==""))for(let n of R0.workspace.workspaceFolders){let i=R0.workspace.getConfiguration(void 0,n.uri),o=cSe(i,"dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(o!==""&&o!=="disable"){e=Tj.join(n.uri.fsPath,o);break}}return e}get unitTestDebuggingOptions(){return Jr("dotnet.unitTestDebuggingOptions",{},"csharp.unitTestDebuggingOptions")}get runSettingsPath(){return Jr("dotnet.unitTests.runSettingsPath","","omnisharp.testRunSettings")}get organizeImportsOnFormat(){return Jr("dotnet.formatting.organizeImportsOnFormat",!1)}},Y9=class{get useModernNet(){return Jr("omnisharp.useModernNet",!0)}get monoPath(){return Jr("omnisharp.monoPath","")}get loggingLevel(){let e=Jr("omnisharp.loggingLevel","information");return e&&e.toLowerCase()==="verbose"&&(e="debug"),e}get autoStart(){return Jr("omnisharp.autoStart",!0)}get projectFilesExcludePattern(){return Jr("omnisharp.projectFilesExcludePattern","**/node_modules/**,**/.git/**,**/bower_components/**")}get projectLoadTimeout(){return Jr("omnisharp.projectLoadTimeout",60)}get maxProjectResults(){return Jr("omnisharp.maxProjectResults",250)}get useEditorFormattingSettings(){return Jr("omnisharp.useEditorFormattingSettings",!0)}get enableRoslynAnalyzers(){let e=Jr("omnisharp.enableRoslynAnalyzers",!1),n=Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",us.useOmnisharpServer?"none":"openFiles")!="none";return e||n}get enableEditorConfigSupport(){return Jr("omnisharp.enableEditorConfigSupport",!0)}get enableDecompilationSupport(){return Jr("omnisharp.enableDecompilationSupport",!1)}get enableImportCompletion(){return Jr("dotnet.completion.showCompletionItemsFromUnimportedNamespaces",!1,"omnisharp.enableImportCompletion")}get enableAsyncCompletion(){return Jr("omnisharp.enableAsyncCompletion",!1)}get analyzeOpenDocumentsOnly(){let e=Jr("omnisharp.analyzeOpenDocumentsOnly",!1),n=Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",us.useOmnisharpServer?"none":"openFiles")=="openFiles";return e||n}get disableMSBuildDiagnosticWarning(){return Jr("omnisharp.disableMSBuildDiagnosticWarning",!1)}get showOmnisharpLogOnError(){return Jr("csharp.showOmnisharpLogOnError",!0)}get minFindSymbolsFilterLength(){return Jr("omnisharp.minFindSymbolsFilterLength",0)}get maxFindSymbolsItems(){return Jr("omnisharp.maxFindSymbolsItems",1e3)}get enableMsBuildLoadProjectsOnDemand(){return Jr("omnisharp.enableMsBuildLoadProjectsOnDemand",!1)}get sdkPath(){return Jr("omnisharp.sdkPath","")}get sdkVersion(){return Jr("omnisharp.sdkVersion","")}get sdkIncludePrereleases(){return Jr("omnisharp.sdkIncludePrereleases",!0)}get dotNetCliPaths(){return Jr("omnisharp.dotNetCliPaths",[])}get useFormatting(){return Jr("csharp.format.enable",!0)}get showReferencesCodeLens(){return Jr("dotnet.codeLens.enableReferencesCodeLens",!0,"csharp.referencesCodeLens.enabled")}get showTestsCodeLens(){return Jr("dotnet.codeLens.enableTestsCodeLens",!0,"csharp.testsCodeLens.enabled")}get filteredSymbolsCodeLens(){return Jr("csharp.referencesCodeLens.filteredSymbols",[])}get disableCodeActions(){return Jr("csharp.disableCodeActions",!1)}get useSemanticHighlighting(){return Jr("csharp.semanticHighlighting.enabled",!0)}get inlayHintsEnableForParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForParameters",!1,"csharp.inlayHints.parameters.enabled")}get inlayHintsForLiteralParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForLiteralParameters",!1,"csharp.inlayHints.parameters.forLiteralParameters")}get inlayHintsForObjectCreationParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForObjectCreationParameters",!1,"csharp.inlayHints.parameters.forObjectCreationParameters")}get inlayHintsForIndexerParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForIndexerParameters",!1,"csharp.inlayHints.parameters.forIndexerParameters")}get inlayHintsForOtherParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForOtherParameters",!1,"csharp.inlayHints.parameters.forOtherParameters")}get inlayHintsSuppressForParametersThatDifferOnlyBySuffix(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix",!1,"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix")}get inlayHintsSuppressForParametersThatMatchMethodIntent(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent")}get inlayHintsSuppressForParametersThatMatchArgumentName(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName")}get inlayHintsEnableForTypes(){return Jr("csharp.inlayHints.enableInlayHintsForTypes",!1,"csharp.inlayHints.types.enabled")}get inlayHintsForImplicitVariableTypes(){return Jr("csharp.inlayHints.enableInlayHintsForImplicitVariableTypes",!1,"csharp.inlayHints.types.forImplicitVariableTypes")}get inlayHintsForLambdaParameterTypes(){return Jr("csharp.inlayHints.enableInlayHintsForLambdaParameterTypes",!1,"csharp.inlayHints.types.forLambdaParameterTypes")}get inlayHintsForImplicitObjectCreation(){return Jr("csharp.inlayHints.enableInlayHintsForImplicitObjectCreation",!1,"csharp.inlayHints.types.forImplicitObjectCreation")}get maxProjectFileCountForDiagnosticAnalysis(){return Jr("csharp.maxProjectFileCountForDiagnosticAnalysis",1e3)}get suppressDotnetRestoreNotification(){return Jr("csharp.suppressDotnetRestoreNotification",!1)}get enableLspDriver(){return Jr("omnisharp.enableLspDriver",!1)}get dotnetPath(){return Jr("omnisharp.dotnetPath","")}},J9=class{get documentSelector(){return Jr("dotnet.server.documentSelector",["csharp"])}get extensionsPaths(){return Jr("dotnet.server.extensionPaths",null)}get preferCSharpExtension(){return Jr("dotnet.preferCSharpExtension",!1)}get startTimeout(){return Jr("dotnet.server.startTimeout",3e4)}get crashDumpPath(){return Jr("dotnet.server.crashDumpPath",void 0)}get analyzerDiagnosticScope(){return Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope","openFiles")}get compilerDiagnosticScope(){return Jr("dotnet.backgroundAnalysis.compilerDiagnosticsScope","openFiles")}get componentPaths(){return Jr("dotnet.server.componentPaths",{})}get enableXamlTools(){return Jr("dotnet.enableXamlTools",!0)}get suppressLspErrorToasts(){return Jr("dotnet.server.suppressLspErrorToasts",!1)}get suppressMiscellaneousFilesToasts(){return Jr("dotnet.server.suppressMiscellaneousFilesToasts",!1)}get useServerGC(){return Jr("dotnet.server.useServerGC",!0)}get reportInformationAsHint(){return Jr("dotnet.diagnostics.reportInformationAsHint",!0)}},X9=class{get razorDevMode(){return Jr("razor.devmode",!1)}get razorPluginPath(){return Jr("razor.plugin.path","")}get razorServerPath(){return Jr("razor.languageServer.directory","")}},us=new K9,qr=new Y9,ls=new J9,$y=new X9;function rnt(){let r=R0.workspace.getConfiguration();return t(r,"files.exclude");function t(n,i){let o=n.get(i,{});return Object.entries(o).filter(([s,a])=>a).map(([s,a])=>s)}}function cSe(r,e,t,...n){let i=r.get(e);return i===void 0&&n.length>0&&(i=n.map(o=>r.get(o)).find(o=>o)),i??t}function Jr(r,e,...t){return cSe(R0.workspace.getConfiguration(),r,e,...t)}var Dj=["waitForDebugger","serverPath","useOmnisharpServer"],uSe=["dotnetPath","enableMsBuildLoadProjectsOnDemand","loggingLevel","enableEditorConfigSupport","enableDecompilationSupport","enableImportCompletion","enableAsyncCompletion","useModernNet","enableLspDriver","sdkPath","sdkVersion","sdkIncludePrereleases","analyzeOpenDocumentsOnly","enableRoslynAnalyzers","inlayHintsEnableForParameters","inlayHintsForLiteralParameters","inlayHintsForObjectCreationParameters","inlayHintsForIndexerParameters","inlayHintsForOtherParameters","inlayHintsSuppressForParametersThatDifferOnlyBySuffix","inlayHintsSuppressForParametersThatMatchMethodIntent","inlayHintsSuppressForParametersThatMatchArgumentName","inlayHintsEnableForTypes","inlayHintsForImplicitVariableTypes","inlayHintsForLambdaParameterTypes","inlayHintsForImplicitObjectCreation"],lSe=["documentSelector","preferCSharpExtension","componentPaths","enableXamlTools","useServerGC","reportInformationAsHint"];async function fSe(){return await pSe(`${mSe()} dev-certs https --check --trust`,process.cwd(),process.env)}async function hSe(){return await pSe(`${mSe()} dev-certs https --trust`,process.cwd(),process.env)}async function pSe(r,e=KC(),t={}){return new Promise(n=>{dSe.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(i,o,s)=>{n({error:i,stdout:o,stderr:s})})})}function mSe(){return us.useOmnisharpServer?qr.dotnetPath??"dotnet":"dotnet"}var gSe=ye(require("vscode"));var Gw="ms-dotnettools.csdevkit",Ej="ms-dotnettools.vscodeintellicode-csharp";function Uc(){if(!ls.preferCSharpExtension)return gSe.extensions.getExtension(Gw)}function Wi(r,e,...t){Q9(r,e,void 0,...t)}function Q9(r,e,t,...n){Z9(r,r.window.showErrorMessage,e,t,...n)}function up(r,e,...t){Z9(r,r.window.showWarningMessage,e,void 0,...t)}function ba(r,e,...t){Z9(r,r.window.showInformationMessage,e,void 0,...t)}function Z9(r,e,t,n,...i){e(t,n===void 0?{}:n,...i).then(async s=>{if(s){if(typeof s=="string")return;"action"in s&&s.action?await s.action():"command"in s&&s.command&&(s.arguments?await r.commands.executeCommand(s.command,...s.arguments):await r.commands.executeCommand(s.command))}},s=>{console.log(s)})}var P0=class{constructor(e,t){this.platformInformation=e;this.csharpOutputChannel=t}async resolveDebugConfiguration(e,t,n){return Object.keys(t).length==0?Uc()?void 0:null:(this.loadSettingDebugOptions(t),t)}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){if(!t.type)return null;let i=oA.getBrokeredServicePipeName();if(i!==void 0&&(t.brokeredServicePipeName=i),t.request==="launch"&&(!t.cwd&&!t.pipeTransport&&(t.cwd=e?.uri.fsPath),t.internalConsoleOptions||(t.internalConsoleOptions=t.console==="integratedTerminal"?"neverOpen":"openOnSessionStart"),t.envFile!==void 0&&t.envFile.length>0&&(t=this.parseEnvFile(t.envFile,t))),t.request==="attach"&&!t.processId&&!t.processName){let o;if(t.pipeTransport)o=await cT.ShowAttachEntries(t,this.platformInformation);else{let s=Y2.Get();o=await new K2(s).ShowAttachEntries()}if(o!==void 0)t.processId=o.id,t.type=="coreclr"&&this.platformInformation.isMacOS()&&this.platformInformation.architecture=="arm64"&&(o.flags&131072?t.targetArchitecture="x86_64":t.targetArchitecture="arm64");else{Q9(Os,Os.l10n.t("No process was selected."),{modal:!0});return}}if(!(!this.platformInformation.isLinux()&&!Os.env.remoteName&&Os.env.uiKind!=Os.UIKind.Web&&!t.pipeTransport&&(t.checkForDevCert===void 0&&t.serverReadyAction&&t.type==="coreclr"&&(t.checkForDevCert=!0),t.checkForDevCert&&!await this.checkForDevCerts())))return t}parseEnvFile(e,t){try{let n=Cj.CreateFromFile(e,t.env);n.Warning&&this.showFileWarning(n.Warning,e),t.env=n.Env}catch(n){throw new Error(Os.l10n.t("Can't parse envFile {0} because of {1}",e,`${n}`))}return delete t.envFile,t}showFileWarning(e,t){let n={title:Os.l10n.t("Open envFile"),action:async()=>{let i=await Os.workspace.openTextDocument(t);await Os.window.showTextDocument(i)}};up(Os,e,n)}loadSettingDebugOptions(e){let t=Os.workspace.getConfiguration("csharp").get("debug"),n=JSON.parse(JSON.stringify(t)),i=Object.keys(n);for(let o of i){if(Object.prototype.hasOwnProperty.call(e,o)||o==="console"||o=="debugConsoleVerbosity")continue;let s=n[o];this.CheckIfSettingIsEmpty(s)||(e[o]=s)}}CheckIfSettingIsEmpty(e){switch(typeof e){case"object":return Array.isArray(e)?e.length===0:Object.keys(e).length===0;case"string":return!e;case"boolean":case"number":return!1;default:throw"Unknown type to check to see if setting is empty"}}async checkForDevCerts(){let e;for(;e===void 0;){let n=(await fSe()).error?.code;if(n===7||n===6){let i=Os.l10n.t("Yes"),o=Os.l10n.t("More Information"),s=await Os.window.showWarningMessage(Os.l10n.t("Security Warning"),{modal:!0,detail:Os.l10n.t("The selected launch configuration is configured to launch a web browser but no trusted development certificate was found. Create a trusted self-signed certificate?")},i,o);if(s===i){let a=await hSe();if(a.error===null){let c=n===7?"trusted":"created";ba(Os,Os.l10n.t("Self-signed certificate successfully {0}",c)),e=!0}else{this.csharpOutputChannel.appendLine(Os.l10n.t(`Couldn't create self-signed certificate. {0}
code: {1}
stdout: {2}`,a.error.message,`${a.error.code}`,a.stdout));let c={title:Os.l10n.t("Show Output"),action:async()=>{this.csharpOutputChannel.show()}};up(Os,Os.l10n.t("Couldn't create self-signed certificate. See output for more information."),c),e=!1}}else s===o?await Os.env.openExternal(Os.Uri.parse("https://aka.ms/VSCode-CS-CheckForDevCert")):s===void 0&&(e=!0)}else e=!0}return e}};async function vSe(r,e,t,n,i,o){let s=new po,a=new pd(e.extensionPath);pd.existsSync(a.debugAdapterDir())?pd.existsSync(a.installCompleteFilePath())||await _Se(a,t,n):await ySe(t,n)&&(n.post(new h0(Gi.l10n.t("[ERROR]: C# Extension failed to install the debugger package."))),nnt(n)),s.add(Gi.commands.registerCommand("csharp.listProcess",()=>"")),s.add(Gi.commands.registerCommand("csharp.listRemoteProcess",()=>"")),s.add(Gi.commands.registerCommand("csharp.listRemoteDockerProcess",async u=>{let l=await cT.ShowAttachEntries(u,t);return l?l.id:Promise.reject(new Error(Gi.l10n.t("Could not find a process id to attach.")))})),s.add(Gi.commands.registerCommand("csharp.attachToProcess",async()=>{if(o)try{await o}catch(u){throw u&&new Error(Gi.l10n.t("Unable to launch Attach to Process dialog: ")+u.message)}await Gi.debug.startDebugging(void 0,{name:".NET Core Attach",type:"coreclr",request:"attach"},void 0)}));let c=new e7(a,t,n,r.packageJSON,r.extensionPath);e.subscriptions.push(Gi.debug.registerDebugConfigurationProvider("clr",new P0(t,i))),e.subscriptions.push(Gi.debug.registerDebugConfigurationProvider("monovsdbg",new P0(t,i))),s.add(Gi.debug.registerDebugAdapterDescriptorFactory("coreclr",c)),s.add(Gi.debug.registerDebugAdapterDescriptorFactory("clr",c)),s.add(Gi.debug.registerDebugAdapterDescriptorFactory("monovsdbg",c)),e.subscriptions.push(s)}async function ySe(r,e){if(r){if(r.isMacOS())return r.architecture!=="arm64"&&r.architecture!=="x86_64"?(e.post(new h0(Gi.l10n.t("[ERROR] The debugger cannot be installed. The debugger is not supported on '{0}'",r.architecture))),!1):pd.isMacOSSupported()?!0:(e.post(new h0(Gi.l10n.t("[ERROR] The debugger cannot be installed. The debugger requires {0} or newer.",Zve))),!1);if(r.isWindows())return r.architecture==="x86"?(e.post(new l1(Gi.l10n.t("[WARNING]: x86 Windows is not supported by the .NET debugger. Debugging will not be available."))),!1):!0;if(r.isLinux())return!0}return e.post(new h0(Gi.l10n.t("[ERROR] The debugger cannot be installed. Unknown platform."))),!1}async function _Se(r,e,t){try{return await r.checkDotNetCli(qr.dotNetCliPaths),await ySe(e,t)?(await pd.writeEmptyFile(r.installCompleteFilePath()),!0):(t.post(new p0),Wi(Gi,Gi.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below.")),!1)}catch(n){let i=n;return int(i.message),t.post(new l1(i.message)),!1}}function nnt(r){r.post(new p0),Wi(Gi,Gi.l10n.t("An error occurred during installation of the .NET Debugger. The C# extension may need to be reinstalled."))}function int(r){if(!Gi.workspace.getConfiguration("csharp").get("suppressDotnetInstallWarning",!1)){let t={title:Gi.l10n.t("Get the SDK"),action:async()=>{await Gi.env.openExternal(Gi.Uri.parse("https://dot.net/core-sdk-vscode"))}},n={title:Gi.l10n.t("Disable message in settings"),action:async()=>{await Gi.commands.executeCommand("workbench.action.openGlobalSettings")}},i={title:Gi.l10n.t("Help"),action:async()=>{await Gi.env.openExternal(Gi.Uri.parse("https://aka.ms/VSCode-CS-DotnetNotFoundHelp"))}};Wi(Gi,r,n,t,i)}}var e7=class{constructor(e,t,n,i,o){this.debugUtil=e;this.platformInfo=t;this.eventStream=n;this.packageJSON=i;this.extensionPath=o}async createDebugAdapterDescriptor(e,t){let n=new pd(KC());if(!pd.existsSync(n.debugAdapterDir())){let o=!1,s=rye("Debugger",this.packageJSON,this.platformInfo,this.extensionPath);if(s?.installPath&&(o=await o2(s.installPath,1)),o){if(!pd.existsSync(n.installCompleteFilePath())&&!await _Se(this.debugUtil,this.platformInfo,this.eventStream))throw this.eventStream.post(new p0),new Error(Gi.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below."))}else throw this.eventStream.post(new p0),new Error(Gi.l10n.t("The C# extension is still downloading packages. Please see progress in the output window below."))}let i=e.configuration.pipeTransport;if(!t||typeof i=="object"){let o=await sm(qr.dotNetCliPaths),s=process.env.DOTNET_ROOT??(o.CliPath?sA.dirname(o.CliPath):""),a={};s&&(a={env:{DOTNET_ROOT:s}});let c="",u=[];typeof i=="object"?(i.debuggerPath?c=i.debuggerPath:c=sA.join(KC(),".debugger","netcoredbg","netcoredbg"+pd.getPlatformExeExtension()),i.debuggerArgs?u=i.debuggerArgs:u.push("--interpreter=vscode","--"),i.pipeProgram&&u.push(i.pipeProgram),i.pipeArgs&&u.push(...i.pipeArgs),i.pipeCwd&&(a.cwd=i.pipeCwd)):(c=sA.join(KC(),".debugger","netcoredbg","netcoredbg"+pd.getPlatformExeExtension()),u=["--interpreter=vscode"]),t=new Gi.DebugAdapterExecutable(c,u,a)}return t}};var Xq=ye(require("vscode"));var ab=class{constructor(e){this.channel=e}showChannel(e){this.channel.show(e)}clearChannel(){this.channel.clear()}};var Rj=class extends ab{post=e=>{switch(e.type){case 6:case 37:case 10:case 52:case 41:case 48:this.showChannel(!0);break;case 82:this.showChannel(!1);break}}};var bSe;var aA=class{_writer;_prefix;_indentLevel=0;_indentSize=4;_atLineStart=!1;constructor(e,t){this._writer=e,this._prefix=t}_appendCore(e){if(this._atLineStart){if(this._indentLevel>0){let t=" ".repeat(this._indentLevel*this._indentSize);this.write(t)}this._prefix!==void 0&&this.write(`[${this._prefix}] `),this._atLineStart=!1}this.write(e)}increaseIndent(){this._indentLevel+=1}decreaseIndent(){this._indentLevel>0&&(this._indentLevel-=1)}append(e=""){this._appendCore(e)}appendLine(e=""){this._appendCore(e+`
`),this._atLineStart=!0}write(e){this._writer(e),bSe&&bSe(e)}};var Qf=class{logger;constructor(e){e instanceof aA?this.logger=e:this.logger=new aA(t=>e.append(t))}};var qu=class extends Error{constructor(t,n){super(t);this.message=t;this.err=n}};var gT=class extends qu{constructor(t,n,i){super(t,i);this.message=t;this.pkg=n;this.innerError=i}};var Pj=class extends Qf{dots=0;post=e=>{switch(e.type){case 54:this.logger.appendLine("[ERROR]: C# Extension failed to get platform information.");break;case 7:this.handlePackageInstallation(e);break;case 8:this.handlePlatformInfo(e);break;case 10:this.handleInstallationFailure(e);break;case 50:this.logger.appendLine("Finished"),this.logger.appendLine();break;case 9:this.handleInstallationStart(e);break;case 25:this.handleDownloadStart(e);break;case 11:this.handleDownloadProgress(e);break;case 65:case 64:case 41:case 67:this.handleEventWithMessage(e);break;case 26:this.handleDownloadFallback(e);break;case 27:this.handleDownloadSizeObtained(e);break;case 37:this.handleIntegrityCheckFailure(e);break;case 43:this.handleDownloadValidation();break;case 38:this.handleIntegrityCheckSuccess();break}};handleDownloadValidation(){this.logger.appendLine("Validating download...")}handleIntegrityCheckSuccess(){this.logger.appendLine("Integrity Check succeeded.")}handleIntegrityCheckFailure(e){e.retry?this.logger.appendLine(`Package ${e.packageDescription} failed integrity check. Retrying..`):this.logger.appendLine(`Package ${e.packageDescription} download from ${e.url} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download.`)}handleDownloadSizeObtained(e){this.logger.append(`(${Math.ceil(e.packageSize/1024)} KB)`)}handleDownloadFallback(e){this.logger.append(`	Retrying from '${e.fallbackUrl}' `)}handleEventWithMessage(e){this.logger.appendLine(e.message)}handlePackageInstallation(e){this.logger.append(`Installing ${e.packageInfo}...`),this.logger.appendLine()}handlePlatformInfo(e){this.logger.appendLine(`Platform: ${e.info.toString()}`),this.logger.appendLine()}handleInstallationFailure(e){this.logger.appendLine(`Failed at stage: ${e.stage}`),e.error instanceof gT?e.error.innerError?this.logger.appendLine(e.error.innerError.toString()):this.logger.appendLine(e.error.message):this.logger.appendLine(e.error.toString()),this.logger.appendLine()}handleDownloadProgress(e){let t=Math.ceil(e.downloadPercentage/5);this.logger.append(".".repeat(t-this.dots)),this.dots=t}handleDownloadStart(e){this.logger.append(`Downloading package '${e.packageDescription}' `),this.dots=0}handleInstallationStart(e){this.logger.appendLine(`Installing package '${e.packageDescription}'`),this.logger.appendLine()}};var wSe=ye(mT()),xj=class{sink;constructor(){this.sink=new wSe.Subject}post(e){this.sink.next(e)}subscribe(e){return this.sink.subscribe(e)}};var LGe=ye(qSe());var Fj=class{constructor(e,t){this.proxy=e;this.strictSSL=t}};function jSe(r){return()=>{let e=r.workspace.getConfiguration(),t=e.get("http.proxy",""),n=e.get("http.proxyStrictSSL",!0);return new Fj(t,n)}}var iDe=ye(mT()),oDe=ye(cL());function bY(r){return iDe.Observable.create(e=>{let t=r.workspace.onDidChangeConfiguration(n=>{(n.affectsConfiguration("dotnet")||n.affectsConfiguration("omnisharp")||n.affectsConfiguration("csharp"))&&e.next()});return()=>t.dispose()}).pipe((0,oDe.publishBehavior)(()=>{})).refCount()}var kDe=ye(require("https"));var ADe=require("url");var xDe=ye(SDe()),ODe=ye(PDe());function Qht(r){if(r.protocol==="http:")return process.env.HTTP_PROXY??process.env.http_proxy;if(r.protocol==="https:")return process.env.HTTPS_PROXY??process.env.https_proxy??process.env.HTTP_PROXY??process.env.http_proxy}function IDe(r,e,t){let n=e.length>0?e:Qht(r);if(n===void 0)return;let i=new URL(n);if(i.protocol===null||!/^https?:$/.test(i.protocol))return;let o={rejectUnauthorized:t};return r.protocol==="http:"?new xDe.default.HttpProxyAgent(i,o):new ODe.default.HttpsProxyAgent(i,o)}async function Zj(r,e,t,n,i,o){e.post(new w2(r));try{let s=await EY(r,n,e,t,o);return e.post(new d1(" Done!")),s}catch(s){if(i!==void 0){e.post(new S2(i));try{let a=await EY(r,i,e,t);return e.post(new d1(" Done!")),a}catch{throw s}}else throw s}}async function EY(r,e,t,n,i){let o=(0,ADe.parse)(e),s=n(),a=s.proxy,c=s.strictSSL,u={host:o.hostname,path:o.path,agent:IDe(o,a,c),port:o.port,rejectUnauthorized:c},l=[];return new Promise((d,f)=>{i?.onCancellationRequested(()=>f(new qu(`Cancelled downloading ${e}.`)));let p=kDe.request(u,_=>{if(_.statusCode===301||_.statusCode===302)return _.headers.location===void 0?(t.post(new AR(`Failed to download from ${e}. Redirected without location header`)),f(new qu("Missing location"))):d(EY(r,_.headers.location,t,n,i));if(_.statusCode!==200)return t.post(new AR(`Failed to download from ${e}. Error code '${_.statusCode}')`)),f(new qu(_.statusCode.toString()));if(_.headers["content-length"]===void 0)return t.post(new AR(`Failed to download from ${e}. No content-length header`)),f(new qu("Missing content-length"));let D=parseInt(_.headers["content-length"],10),x=0,N=0;t.post(new C2(D)),_.on("data",A=>{x+=A.length,l.push(A);let U=Math.ceil(100*(x/D));U!==N&&(N=U,t.post(new T2(N,r)))}),_.on("end",()=>{d(Buffer.concat(l))}),_.on("error",A=>{f(new qu(`Failed to download from ${e}. Error Message: ${A.message} || 'NONE'}`,A))})});p.on("error",_=>{f(new qu(`Request error: ${_.message||"NONE"}`,_))}),p.end()})}var BRe=ye(HRe()),WRe=require("stream");async function $Re(r,e,t,n){return n.post(new kR(e)),new Promise((i,o)=>{let s=new WRe.Readable;s.push(r),s.push(null),s.pipe(BRe.extract({cwd:t.value})).on("error",a=>{let c="Error extracting tar file. "+a.message;return n.post(new LR(c)),o(new qu(c))}).on("end",()=>i())})}var dxe=ye(require("fs")),rQ=ye(KPe()),OU=ye(require("path")),fxe=ye(lxe());async function hxe(r,e,t,n,i){return i.post(new kR(e)),new Promise((o,s)=>{fxe.fromBuffer(r,{lazyEntries:!0},(a,c)=>{if(a!==null){let u="C# Extension was unable to download its dependencies. Please check your internet connection. If you use a proxy server, please visit https://aka.ms/VsCodeCsharpNetworking";return i.post(new LR(u)),s(new qu(u))}c.readEntry(),c.on("entry",async u=>{let l=OU.resolve(t.value,u.fileName);if(u.fileName.endsWith("/"))try{await(0,rQ.mkdirp)(l,509),c.readEntry()}catch(d){let f=d;return s(new qu("Error creating directory for zip directory entry:"+f.code,f))}else c.openReadStream(u,async(d,f)=>{if(d)return s(new qu("Error reading zip stream",d));try{await(0,rQ.mkdirp)(OU.dirname(l),509);let _=n?.map(D=>D.value)?.includes(l)?493:436;f.pipe(dxe.createWriteStream(l,{mode:_})),f.on("end",()=>c.readEntry())}catch(p){return s(new qu("Error creating directory for zip file entry",p))}})}),c.on("end",()=>{o()}),c.on("error",u=>{s(new qu("Zip File Error:"+u.code||"",u))})})})}var pxe=ye(aT());async function HP(r,e,t,n,i){t.post(new b2);for(let o of r){let s="touchBeginFile";try{(0,pxe.mkdirpSync)(o.installPath.value),await c8(o.installPath,0);let a=1,c=()=>a<=2;for(;c();){a=a+1,s="downloadPackage";let u=await Zj(o.description,t,e,o.url,o.fallbackUrl,i);if(n(u,o.integrity,t)){s="installPackage",o.url.includes(".tar.gz")?await $Re(u,o.description,o.installPath,t):await hxe(u,o.description,o.installPath,o.binaries,t),s="touchLockFile",await c8(o.installPath,1);break}else t.post(new E2(o.description,o.url,c()))}}catch(a){if(a instanceof qu){let c=new gT(a.message,o,a.err);t.post(new m0(s,c))}else t.post(new m0(s,a));return!1}finally{try{await o2(o.installPath,0)&&await Jme(o.installPath,0)}catch{}}}return!0}async function BP(r,e,t){let n=r.map(i=>NR.getAbsolutePathPackage(i,t));return tye(n,e)}async function mxe(r,e,t,n,i,o,s){let a=v0(r),c=await BP(a,i,e),u=kyt(c,o),l=Ayt(s,u);if(l.length>0)if(n.post(new ZC("C# dependencies")),n.post(new eT(i)),await t(l))n.post(new tT);else return!1;return!0}function kyt(r,e){return r.filter(t=>t.id!=="OmniSharp"||t.isFramework===e)}function Ayt(r,e){return e.filter(t=>r.includes(t.id))}var gxe=ye(require("crypto"));function WP(r,e,t){return e!==void 0&&e.length>0?(t.post(new D2),Lyt(r)===e.toUpperCase()?(t.post(new R2),!0):!1):!0}function Lyt(r){let e=gxe.createHash("sha256");return e.update(r),e.digest("hex").toUpperCase()}var vxe=ye(require("fs")),yxe=ye(require("path")),_xe=require("util");var Tg="muhammad-sammy.csharp";var $L="dotnet.dotnetPath",IU="dotnetAcquisitionExtension.existingDotnetPath",Nyt=[{oldName:"csharp.inlayHints.parameters.enabled",newName:"dotnet.inlayHints.enableInlayHintsForParameters"},{oldName:"csharp.inlayHints.parameters.forLiteralParameters",newName:"dotnet.inlayHints.enableInlayHintsForLiteralParameters"},{oldName:"csharp.inlayHints.parameters.forIndexerParameters",newName:"dotnet.inlayHints.enableInlayHintsForIndexerParameters"},{oldName:"csharp.inlayHints.parameters.forObjectCreationParameters",newName:"dotnet.inlayHints.enableInlayHintsForObjectCreationParameters"},{oldName:"csharp.inlayHints.parameters.forOtherParameters",newName:"dotnet.inlayHints.enableInlayHintsForOtherParameters"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName"},{oldName:"csharp.inlayHints.types.enabled",newName:"csharp.inlayHints.enableInlayHintsForTypes"},{oldName:"csharp.inlayHints.types.forImplicitVariableTypes",newName:"csharp.inlayHints.enableInlayHintsForImplicitVariableTypes"},{oldName:"csharp.inlayHints.types.forLambdaParameterTypes",newName:"csharp.inlayHints.enableInlayHintsForLambdaParameterTypes"},{oldName:"csharp.inlayHints.types.forImplicitObjectCreation",newName:"csharp.inlayHints.enableInlayHintsForImplicitObjectCreation"},{oldName:"omnisharp.defaultLaunchSolution",newName:"dotnet.defaultSolution"},{oldName:"omnisharp.enableImportCompletion",newName:"dotnet.completion.showCompletionItemsFromUnimportedNamespaces"},{oldName:"csharp.referencesCodeLens.enabled",newName:"dotnet.codeLens.enableReferencesCodeLens"},{oldName:"csharp.testsCodeLens.enabled",newName:"dotnet.codeLens.enableTestsCodeLens"},{oldName:"csharp.unitTestDebuggingOptions",newName:"dotnet.unitTestDebuggingOptions"},{oldName:"omnisharp.testRunSettings",newName:"dotnet.unitTests.runSettingsPath"},{oldName:"dotnet.implementType.insertionBehavior",newName:"dotnet.typeMembers.memberInsertionLocation"},{oldName:"dotnet.implementType.propertyGenerationBehavior",newName:"dotnet.typeMembers.propertyGenerationBehavior"},{oldName:"omnisharp.organizeImportsOnFormat",newName:"dotnet.formatting.organizeImportsOnFormat"}];async function bxe(r){let e=r.workspace.getConfiguration();for(let{oldName:t,newName:n}of Nyt){if(!e.has(t))continue;let i=e.inspect(n);if(i==null)continue;let o=e.get(n);o!=null&&Fyt(o,i.defaultValue)&&await wxe(t,n,e)}await Myt(r)}async function Myt(r){let e=r.workspace.getConfiguration();if(us.useOmnisharpServer)await wxe($L,"omnisharp.dotnetPath",e);else{let t=e.inspect($L);if(!t||!t.globalValue&&!t.workspaceValue&&!t.workspaceFolderValue)return;let n=e.inspect(IU);t.globalValue&&await nQ($L,t.globalValue,IU,n?.globalValue,e,1),t.workspaceValue&&await nQ($L,t.workspaceValue,IU,n?.workspaceValue,e,2),t.workspaceFolderValue&&await nQ($L,t.workspaceFolderValue,IU,n?.workspaceFolderValue,e,3)}}async function nQ(r,e,t,n,i,o){let s=process.platform==="win32"?".exe":"",a=yxe.join(e,`dotnet${s}`);if(!vxe.existsSync(a)){i.update(r,void 0,o);return}if(n=n??[],n&&n.filter(c=>c.extensionId===Tg).length!==0){await i.update(r,void 0,o);return}n.push({extensionId:Tg,path:a}),await i.update(t,n,o),await i.update(r,void 0,o)}function Fyt(r,e){return r==e?!0:_xe.types.isProxy(r)?JSON.stringify(r)===JSON.stringify(e):!1}async function wxe(r,e,t){let n=t.inspect(r);if(n!==void 0){let{key:i,defaultValue:o,globalValue:s,workspaceValue:a,workspaceFolderValue:c}=n;s!==void 0&&(await t.update(e,s,1),await t.update(r,void 0,1)),a!==void 0&&(await t.update(e,a,2),await t.update(r,void 0,2)),c!==void 0&&(await t.update(e,c,3),await t.update(r,void 0,3))}}var Jy=ye(require("vscode")),Sxe=ye(QC()),$P="ms-dotnettools.vscode-dotnet-runtime",iQ="2.2.3";async function Cxe(r){let t=Jy.extensions.getExtension($P)?.packageJSON.version;if((0,Sxe.lt)(t,iQ)){let n=Jy.l10n.t("Update and reload"),i=Jy.l10n.t("The {0} extension requires at least {1} of the .NET Install Tool ({2}) extension. Please update to continue",r.extension.packageJSON.displayName,iQ,$P);if(await Jy.window.showErrorMessage(i,n)===n)await Jy.commands.executeCommand("workbench.extensions.installExtension",$P),await Jy.commands.executeCommand("workbench.action.reloadWindow");else throw new Error(Jy.l10n.t("Version {0} of the .NET Install Tool ({1}) was not found, {2} will not activate.",iQ,$P,r.extension.packageJSON.displayName))}}var Fv=ye(require("vscode"));function Txe(r,e){if(!qyt(e)){if(r.extension.extensionKind===Fv.ExtensionKind.Workspace){let t={title:Fv.l10n.t("How to setup Remote Debugging"),action:async()=>{await Fv.env.openExternal(Fv.Uri.parse("https://github.com/dotnet/vscode-csharp/wiki/Remote-Debugging-On-Linux-Arm"))}},n=Fv.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1} with the VS Code Remote Extensions. To see avaliable workarounds, click on '{2}'.",e.platform,e.architecture,t.title);Wi(Fv,n,t)}else{let t=Fv.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1}.",e.platform,e.architecture);Wi(Fv,t)}return!1}return!0}function qyt(r){return r.isWindows()?r.architecture==="x86_64"||r.architecture==="arm64":r.isMacOS()?!0:r.isLinux()?r.architecture==="x86_64"||r.architecture==="x86"||r.architecture==="i686"||r.architecture==="arm64":!1}var sk=ye(require("vscode"));var Ka=ye(require("vscode"));var GP=ye(require("path"));var VL=ye(aT()),kU=ye(require("path"));function Dxe(r){let e=new RegExp("^net[1-4]");return r.find(t=>e.test(t))}function VP(r){return jyt(r)??zyt(r)}function jyt(r){return r.find(e=>e.startsWith("netcoreapp"))}function zyt(r){let e=new RegExp("^net[5-9]"),t=r.find(n=>e.test(n));return t!==void 0&&t.charAt(4)!=="."&&(t=`${t.substring(0,4)}.${t.substring(4)}`),t}function Exe(r){return r.find(e=>e.startsWith("netstandard"))}function AU(r){return VL.readFileSync(r,"utf8").toLowerCase().indexOf('sdk="microsoft.net.sdk.web"')>=0}async function LU(r){let e=kU.dirname(r),t=kU.join(e,"Properties","launchSettings.json");try{if(!VL.pathExistsSync(t))return!1;let n=VL.readFileSync(t);if(!n)return!1;if(n.indexOf('"inspectUri"')>0)return!0}catch{}return!1}function NU(r,e,t,n){return!(!t||!r||!e||n)}var ki;(Ne=>(Ne.AddToProject="/addtoproject",Ne.CodeCheck="/codecheck",Ne.CodeFormat="/codeformat",Ne.ChangeBuffer="/changebuffer",Ne.FilesChanged="/filesChanged",Ne.FindSymbols="/findsymbols",Ne.FindUsages="/findusages",Ne.FormatAfterKeystroke="/formatAfterKeystroke",Ne.FormatRange="/formatRange",Ne.GetCodeActions="/getcodeactions",Ne.GoToTypeDefinition="/gototypedefinition",Ne.FindImplementations="/findimplementations",Ne.Project="/project",Ne.Projects="/projects",Ne.RemoveFromProject="/removefromproject",Ne.Rename="/rename",Ne.RunCodeAction="/runcodeaction",Ne.SignatureHelp="/signatureHelp",Ne.TypeLookup="/typelookup",Ne.UpdateBuffer="/updatebuffer",Ne.Metadata="/metadata",Ne.RunFixAll="/runfixall",Ne.GetFixAll="/getfixall",Ne.ReAnalyze="/reanalyze",Ne.QuickInfo="/quickinfo",Ne.Completion="/completion",Ne.CompletionResolve="/completion/resolve",Ne.CompletionAfterInsert="/completion/afterInsert",Ne.SourceGeneratedFile="/sourcegeneratedfile",Ne.UpdateSourceGeneratedFile="/updatesourcegeneratedfile",Ne.SourceGeneratedFileClosed="/sourcegeneratedfileclosed",Ne.InlayHint="/inlayHint",Ne.InlayHintResolve="/inlayHint/resolve",Ne.FileOpen="/open",Ne.FileClose="/close"))(ki||={});var ks;(a=>{let r;(W=>(W.GetCodeActions="/v2/getcodeactions",W.RunCodeAction="/v2/runcodeaction",W.GetTestStartInfo="/v2/getteststartinfo",W.RunTest="/v2/runtest",W.RunAllTestsInClass="/v2/runtestsinclass",W.RunTestsInContext="/v2/runtestsincontext",W.DebugTestGetStartInfo="/v2/debugtest/getstartinfo",W.DebugTestsInClassGetStartInfo="/v2/debugtestsinclass/getstartinfo",W.DebugTestsInContextGetStartInfo="/v2/debugtestsincontext/getstartinfo",W.DebugTestLaunch="/v2/debugtest/launch",W.DebugTestStop="/v2/debugtest/stop",W.DiscoverTests="/v2/discovertests",W.BlockStructure="/v2/blockstructure",W.CodeStructure="/v2/codestructure",W.Highlight="/v2/highlight",W.GoToDefinition="/v2/gotodefinition"))(r=a.Requests||={});let e;(p=>(p.None="none",p.Passed="passed",p.Failed="failed",p.Skipped="skipped",p.NotFound="notfound"))(e=a.TestOutcomes||={});let t;(te=>(te.Class="class",te.Delegate="delegate",te.Enum="enum",te.Interface="interface",te.Struct="struct",te.Constant="constant",te.Constructor="constructor",te.Destructor="destructor",te.EnumMember="enummember",te.Event="event",te.Field="field",te.Indexer="indexer",te.Method="method",te.Operator="operator",te.Property="property",te.Namespace="namespace",te.Unknown="unknown"))(t=a.SymbolKinds||={});let n;(_=>(_.Internal="internal",_.Private="private",_.PrivateProtected="private protected",_.Protected="protected",_.ProtectedInternal="protected internal",_.Public="public"))(n=a.SymbolAccessibilities||={});let i;(f=>(f.Accessibility="accessibility",f.Static="static",f.TestFramework="testFramework",f.TestMethodName="testMethodName"))(i=a.SymbolPropertyNames||={});let o;(d=>(d.Attributes="attributes",d.Full="full",d.Name="name"))(o=a.SymbolRangeNames||={});let s;(u=>{function c(l,d){function f(p,_){for(let D of p)d(D,_),D.Children&&f(D.Children,D)}f(l)}u.walkCodeElements=c})(s=a.Structure||={})})(ks||={});function Uyt(r){let e=r.TargetFrameworks.map(t=>t.ShortName);return VP(e)!==void 0||Exe(e)!==void 0||Dxe(e)!==void 0}function Rxe(r){let e=[];if(r.DotNet&&r.DotNet.Projects.length>0)for(let t of r.DotNet.Projects)e.push({Name:t.Name,Directory:t.Path,FilePath:GP.join(t.Path,"project.json")});if(r.MsBuild&&r.MsBuild.Projects.length>0)for(let t of r.MsBuild.Projects)Uyt(t)&&e.push({Name:GP.basename(t.Path),Directory:GP.dirname(t.Path),FilePath:t.Path});return e}async function oQ(r,e,t){return r.makeRequest(ki.CodeCheck,e,t)}async function Pxe(r,e,t){return r.makeRequest(ks.Requests.BlockStructure,e,t)}async function MU(r,e,t){return r.makeRequest(ks.Requests.CodeStructure,e,t)}async function xxe(r,e){return r.makeRequest(ks.Requests.DiscoverTests,e)}async function KP(r,e){return r.makeRequest(ki.FilesChanged,e)}async function Oxe(r,e,t){return r.makeRequest(ki.FindImplementations,e,t)}async function Ixe(r,e,t){return r.makeRequest(ki.FindSymbols,e,t)}async function kxe(r,e){return r.makeRequest(ki.RunFixAll,e)}async function Axe(r,e){return r.makeRequest(ki.GetFixAll,e)}async function YP(r,e,t){return r.makeRequest(ki.FindUsages,e,t)}async function Lxe(r,e,t){return r.makeRequest(ki.FormatAfterKeystroke,e,t)}async function Nxe(r,e,t){return r.makeRequest(ki.FormatRange,e,t)}async function Mxe(r,e,t){return r.makeRequest(ks.Requests.GetCodeActions,e,t)}async function Fxe(r,e,t){return r.makeRequest(ks.Requests.GoToDefinition,e,t)}async function qxe(r,e,t){return r.makeRequest(ki.GoToTypeDefinition,e,t)}async function jxe(r,e,t){return r.makeRequest(ki.SourceGeneratedFile,e,t)}async function zxe(r,e){return r.makeRequest(ki.UpdateSourceGeneratedFile,e)}async function Uxe(r,e){return r.makeRequest(ki.SourceGeneratedFileClosed,e)}async function Hxe(r,e,t){return r.makeRequest(ki.Rename,e,t)}async function GL(r,e){return r.makeRequest(ki.Project,e)}async function gS(r){let e=await r.makeRequest(ki.Projects);if(e.MsBuild&&e.MsBuild.Projects)for(let t of e.MsBuild.Projects){t.IsWebProject=AU(t.Path);let n=await LU(t.Path),i=VP(t.TargetFrameworks.map(s=>s.ShortName))!==void 0,o=NU(t.IsExe,t.IsWebProject,n,i);t.IsBlazorWebAssemblyHosted=o,t.IsBlazorWebAssemblyStandalone=n&&!t.IsBlazorWebAssemblyHosted}return e}async function Bxe(r,e){return r.makeRequest(ks.Requests.RunCodeAction,e)}async function Wxe(r,e,t){return r.makeRequest(ki.SignatureHelp,e,t)}async function JP(r,e){return r.makeRequest(ki.UpdateBuffer,e)}async function $xe(r,e){return r.makeRequest(ki.Metadata,e)}async function sQ(r,e){return r.makeRequest(ki.ReAnalyze,e)}async function Vxe(r,e){return r.makeRequest(ks.Requests.RunTest,e)}async function Gxe(r,e){return r.makeRequest(ks.Requests.RunAllTestsInClass,e)}async function Kxe(r,e){return r.makeRequest(ks.Requests.RunTestsInContext,e)}async function Yxe(r,e){return r.makeRequest(ks.Requests.DebugTestGetStartInfo,e)}async function Jxe(r,e){return r.makeRequest(ks.Requests.DebugTestsInClassGetStartInfo,e)}async function Xxe(r,e){return r.makeRequest(ks.Requests.DebugTestsInContextGetStartInfo,e)}async function Qxe(r,e){return r.makeRequest0(ks.Requests.DebugTestLaunch,e)}async function Zxe(r,e){return r.makeRequest0(ks.Requests.DebugTestStop,e)}async function eOe(r,e){return r.makeRequest(ks.Requests.Highlight,e)}async function tOe(r,e,t){return r.makeRequest(ki.QuickInfo,e,t)}async function rOe(r,e,t){return r.makeRequest(ki.Completion,e,t)}async function nOe(r,e,t){return r.makeRequest(ki.CompletionResolve,e,t)}async function iOe(r,e){return r.makeRequest(ki.CompletionAfterInsert,e)}async function oOe(r,e){return r.makeRequest(ki.FileOpen,e)}async function sOe(r,e){return r.makeRequest(ki.FileClose,e)}function aOe(r){return r.TargetFrameworks.find(e=>e.ShortName.startsWith("netcoreapp")||e.ShortName.startsWith("netstandard"))!==void 0}async function cOe(r,e,t){return r.makeRequest(ki.InlayHint,e,t)}async function uOe(r,e,t){return r.makeRequest(ki.InlayHintResolve,e,t)}var FU=class extends ab{post=e=>{switch(e.type){case 51:this.clearChannel(),this.showChannel(!0);break}}};var qU=class extends Qf{post=e=>{switch(e.type){case 42:this.logger.append(e.message);break;case 66:this.logger.appendLine(e.message);break;case 68:this.logger.appendLine(e.message);break}}};var KL=class extends Qf{post=e=>{switch(e.type){case 30:this.handleDotnetTestRunStart(e);break;case 60:this.logger.appendLine(e.message);break;case 29:this.handleReportDotnetTestResults(e);break;case 31:this.handleDotnetTestDebugStart(e);break;case 58:this.handleDotNetTestDebugWarning(e);break;case 32:this.handleDotNetTestDebugProcessStart(e);break;case 44:this.logger.appendLine(`Debugging complete.
`);break;case 34:this.handleDotnetTestsInClassDebugStart(e);break;case 33:this.handleDotnetTestsInClassRunStart(e);break;case 76:this.handleDotnetTestsRunInContextStart(e);break;case 77:this.handleDotnetTestsDebugInContextStart(e);break}};handleDotNetTestDebugWarning(e){this.logger.appendLine(`Warning: ${e.message}`)}handleDotnetTestDebugStart(e){this.logger.appendLine(`----- Debugging test method ${e.testMethod} -----`),this.logger.appendLine("")}handleDotnetTestRunStart(e){this.logger.appendLine(`----- Running test method "${e.testMethod}" -----`),this.logger.appendLine("")}handleDotnetTestsInClassDebugStart(e){this.logger.appendLine(`----- Debugging tests in class ${e.className} -----`),this.logger.appendLine("")}handleDotnetTestsInClassRunStart(e){this.logger.appendLine(`----- Running tests in class "${e.className}" -----`),this.logger.appendLine("")}handleDotnetTestsRunInContextStart(e){this.logger.appendLine(`----- Running test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotnetTestsDebugInContextStart(e){this.logger.appendLine(`----- Debugging test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotNetTestDebugProcessStart(e){this.logger.appendLine(`Started debugging process #${e.targetProcessId}.`)}handleReportDotnetTestResults(e){if(e.results){this.logger.appendLine("----- Test Execution Summary -----"),this.logger.appendLine("");let t=e.results,n=t.length,i=0,o=0,s=0;for(let a of t)switch(this.logTestResult(a),a.Outcome){case ks.TestOutcomes.Failed:o+=1;break;case ks.TestOutcomes.Passed:i+=1;break;case ks.TestOutcomes.Skipped:s+=1;break}this.logger.appendLine(`Total tests: ${n}. Passed: ${i}. Failed: ${o}. Skipped: ${s}`),this.logger.appendLine("")}}logTestResult(e){this.logger.appendLine(`${e.MethodName}:`),this.logger.increaseIndent(),this.logger.appendLine(`Outcome: ${Hyt(e.Outcome)}`),e.ErrorMessage&&(this.logger.appendLine("Error Message:"),this.logger.appendLine(e.ErrorMessage)),e.ErrorStackTrace&&(this.logger.appendLine("Stack Trace:"),this.logger.appendLine(e.ErrorStackTrace)),e.StandardOutput&&e.StandardOutput.length>0&&(this.logger.appendLine("Standard Output Messages:"),e.StandardOutput.forEach(t=>this.logger.appendLine(t))),e.StandardError&&e.StandardError.length>0&&(this.logger.appendLine("Standard Error Messages:"),e.StandardError.forEach(t=>this.logger.appendLine(t))),this.logger.appendLine(),this.logger.decreaseIndent()}};function Hyt(r){return r.charAt(0).toUpperCase()+r.slice(1)}var YL=class extends ab{post=e=>{switch(e.type){case 30:case 59:case 33:case 31:case 34:case 76:case 77:this.showChannel(!0);break}}};var jU=ye(require("os"));var zU=class extends Qf{constructor(t,n){super(t);this.platformInformation=n}post=t=>{switch(t.type){case 4:this.handleOmnisharpInitialisation(t);break;case 5:this.handleOmnisharpLaunch(t);break;case 12:this.logger.appendLine(t.message),this.logger.appendLine();break;case 62:this.logger.appendLine(t.message);break;case 21:this.handleOmnisharpServerOnServerError(t);break;case 15:this.handleOmnisharpServerOnError(t);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(t);break;case 63:this.handleOmnisharpServerOnStdErr(t);break;case 20:this.handleOmnisharpEventPacketReceived(t);break}};handleOmnisharpServerOnServerError(t){if(t.err.cmd==="dotnet --version"){this.logger.appendLine("[ERROR] A .NET 6 SDK was not found. Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.");return}else if(t.err.message?.startsWith("Found dotnet version")){this.logger.appendLine(`[ERROR] ${t.err} Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[ERROR] "+t.err)}handleOmnisharpServerOnStdErr(t){if(t.message.startsWith("System.BadImageFormatException: Could not load file or assembly")){this.logger.appendLine(`[ERROR] A .NET 6 SDK for ${this.platformInformation.architecture} was not found. Please install the latest ${this.platformInformation.architecture} SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[STDERR] "+t.message)}handleOmnisharpInitialisation(t){this.logger.appendLine(`Starting OmniSharp server at ${t.timeStamp.toLocaleString()}`),this.logger.increaseIndent(),this.logger.appendLine(`Target: ${t.solutionPath}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpLaunch(t){this.logger.append("OmniSharp server started"),t.hostVersion&&(this.logger.append(` with ${t.hostIsMono?"Mono":".NET"} ${t.hostVersion}`),t.hostPath&&t.hostPath.length>0&&this.logger.append(` (${t.hostPath})`)),this.logger.appendLine("."),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${t.command}`),this.logger.appendLine(`PID: ${t.pid}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpServerMsBuildProjectDiagnostics(t){(t.diagnostics.Errors.length>0||t.diagnostics.Warnings.length>0)&&(this.logger.appendLine(t.diagnostics.FileName),t.diagnostics.Errors.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Error: ${n.Text}`)}),t.diagnostics.Warnings.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Warning: ${n.Text}`)}),this.logger.appendLine(""))}handleOmnisharpServerOnError(t){t.errorMessage.FileName&&this.logger.appendLine(`${t.errorMessage.FileName}(${t.errorMessage.Line},${t.errorMessage.Column})`),this.logger.appendLine(t.errorMessage.Text),this.logger.appendLine("")}handleOmnisharpEventPacketReceived(t){if(!this._isFilterableOutput(t)){let n=`[${this.getLogLevelPrefix(t.logLevel)}]: ${t.name}${jU.EOL}${t.message}`,i=jU.EOL+"        ";n=n.replace(jU.EOL,i),this.logger.appendLine(n)}}_isFilterableOutput(t){let n=/^\/[/\w]+: 200 \d+ms/;return t.logLevel==="INFORMATION"&&t.name==="OmniSharp.Middleware.LoggingMiddleware"&&n.test(t.message)}getLogLevelPrefix(t){switch(t){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${t}`)}}};var UU=class extends ab{constructor(e){super(e)}post=e=>{switch(e.type){case 53:case 12:this.showChannel(!0);break;case 63:this.handleOmnisharpServerOnStdErr();break;case 69:this.clearChannel();break}};handleOmnisharpServerOnStdErr(){qr.showOmnisharpLogOnError&&this.showChannel(!0)}};var lOe=ye(cL()),dOe=ye(mT());var aQ=require("vscode");var HU=class{constructor(e,t,n){this.vscode=e;this.disableMsBuildDiagnosticWarning=t;this.warningMessageDebouncer=new dOe.Subject,this.warningMessageDebouncer.pipe((0,lOe.debounceTime)(1500,n)).subscribe(i=>{let o=aQ.l10n.t("Some projects have trouble loading. Please review the output for more details."),s={title:aQ.l10n.t("Show Output"),command:"o.showOutput"};up(this.vscode,o,s)})}warningMessageDebouncer;post=e=>{switch(e.type){case 15:this.warningMessageDebouncer.next(e);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(e);break}};handleOmnisharpServerMsBuildProjectDiagnostics(e){!this.disableMsBuildDiagnosticWarning()&&e.diagnostics.Errors.length>0&&this.warningMessageDebouncer.next(e)}};var cQ=require("vscode");var BU=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 17:this.handleOmnisharpServerUnresolvedDependencies();break}};handleOmnisharpServerUnresolvedDependencies(){if(!qr.suppressDotnetRestoreNotification){let e=cQ.l10n.t("There are unresolved dependencies. Please execute the restore command to continue."),t={title:cQ.l10n.t("Restore"),command:"dotnet.restore.all"};ba(this.vscode,e,t)}}};var WU=require("vscode");var $U=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 28:this.handleZipError(e);break;case 59:this.handleDotnetTestRunFailure(e);break;case 57:this.handleDotNetTestDebugStartFailure(e);break;case 37:this.handleIntegrityCheckFailure(e)}};handleIntegrityCheckFailure(e){e.retry||Wi(this.vscode,WU.l10n.t("Package {0} download from {1} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download",e.packageDescription,e.url))}handleZipError(e){Wi(this.vscode,e.message)}handleDotnetTestRunFailure(e){Wi(this.vscode,WU.l10n.t("Failed to run test: {0}",e.message))}handleDotNetTestDebugStartFailure(e){Wi(this.vscode,WU.l10n.t("Failed to start debugger: {0}",e.message))}};var XP=class{constructor(e){this.statusBarItem=e}get alignment(){return this.statusBarItem.alignment}get priority(){return this.statusBarItem.priority}get text(){return this.statusBarItem.text}set text(e){this.statusBarItem.text=e}get tooltip(){return this.statusBarItem.tooltip}set tooltip(e){this.statusBarItem.tooltip=e}get color(){return this.statusBarItem.color}set color(e){this.statusBarItem.color=e}get command(){return this.statusBarItem.command}set command(e){this.statusBarItem.command=e}get name(){return this.statusBarItem.name}set name(e){this.statusBarItem.name=e}show(){this.statusBarItem.show()}hide(){this.statusBarItem.hide()}dispose(){this.statusBarItem.dispose()}};var UT=class{constructor(e){this.statusBarItem=e}SetAndShowStatusBar(e,t,n,i){this.statusBarItem.text=e,this.statusBarItem.command=t,this.statusBarItem.color=n,this.statusBarItem.tooltip=i,this.statusBarItem.show()}ResetAndHideStatusBar(){this.statusBarItem.text="",this.statusBarItem.command=void 0,this.statusBarItem.color=void 0,this.statusBarItem.tooltip=void 0,this.statusBarItem.hide()}};var VU=class extends UT{post=e=>{switch(e.type){case 21:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)","Error starting OmniSharp");break;case 63:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)",`OmniSharp process errored:${e.message}`);break;case 73:this.SetAndShowStatusBar("$(flame) Installing OmniSharp...","o.showOutput");break;case 47:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,218,0)","Starting OmniSharp server");break;case 71:this.ResetAndHideStatusBar();break;case 72:this.SetAndShowStatusBar("$(flame)","o.showOutput",void 0,"OmniSharp server is running");break;case 25:this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${e.packageDescription}...' `);break;case 9:this.SetAndShowStatusBar("$(desktop-download) Installing packages...","","",`Installing package '${e.packageDescription}'`);break;case 50:this.ResetAndHideStatusBar();break;case 11:{let t=e;this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${t.packageDescription}'... ${t.downloadPercentage}%`);break}}}};var fOe=ye(require("vscode")),hOe=require("path");var GU=class extends UT{post=e=>{switch(e.type){case 22:this.SetAndShowStatusBar("$(file-submodule) "+fOe.l10n.t("Select project"),"o.pickProjectAndStart","rgb(90, 218, 90)");break;case 71:this.ResetAndHideStatusBar();break;case 23:this.handleWorkspaceInformationUpdated(e)}};handleWorkspaceInformationUpdated(e){let t,n=e.info.MsBuild;n&&n.SolutionPath?(t=(0,hOe.basename)(n.SolutionPath),this.SetAndShowStatusBar("$(file-directory) "+t,"o.pickProjectAndStart")):this.ResetAndHideStatusBar()}};var KU=class extends UT{post=e=>{if(e.type===80){let t=e;if(t.message.Status!==2){let{NumberFilesRemaining:n,NumberFilesTotal:i}=t.message,o=`Analyzing ${i} files - Remaining ${n} files`;this.SetAndShowStatusBar(`$(sync~spin) ${o}`,"o.showOutput",void 0,`${o}`)}else this.ResetAndHideStatusBar()}}};var YU=ye(require("os"));var JU=class extends Qf{post=e=>{switch(e.type){case 13:this.handleOmnisharpRequestMessage(e);break;case 18:this.handleOmnisharpServerEnqueueRequest(e);break;case 70:this.handleOmnisharpServerDequeueRequest(e);break;case 79:this.handleOmnisharpServerRequestCancelled(e);break;case 19:this.handleOmnisharpProcessRequestStart(e);break;case 49:this.logger.decreaseIndent();break;case 61:this.handleOmnisharpServerVerboseMessage(e);break;case 20:this.handleOmnisharpEventPacketReceived(e);break}};handleOmnisharpRequestMessage(e){this.logger.append(`makeRequest: ${e.request.command} (${e.id})`),e.request.data&&this.logger.append(`, data=${JSON.stringify(e.request.data)}`),this.logger.appendLine()}handleOmnisharpServerEnqueueRequest(e){this.logger.appendLine(`Enqueue to ${e.queueName} request for ${e.command}.`),this.logger.appendLine()}handleOmnisharpServerDequeueRequest(e){this.logger.appendLine(`Dequeue from ${e.queueName} with status ${e.queueStatus} request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpServerRequestCancelled(e){this.logger.appendLine(`Cancelled request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpProcessRequestStart(e){this.logger.appendLine(`Processing ${e.name} queue, available slots ${e.availableRequestSlots}`),this.logger.increaseIndent()}handleOmnisharpServerVerboseMessage(e){this.logger.appendLine(e.message)}handleOmnisharpEventPacketReceived(e){if(this._isFilterableOutput(e)){let t=`[${this.getLogLevelPrefix(e.logLevel)}]: ${e.name}${YU.EOL}${e.message}`,n=YU.EOL+"        ";t=t.replace(YU.EOL,n),this.logger.appendLine(t)}}_isFilterableOutput(e){let t=/^\/[/\w]+: 200 \d+ms/;return e.logLevel==="INFORMATION"&&e.name==="OmniSharp.Middleware.LoggingMiddleware"&&t.test(e.message)}getLogLevelPrefix(e){switch(e){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${e}`)}}};var XU=class extends Qf{post=e=>{switch(e.type){case 39:this.handleRazorPluginPathSpecifiedMessage(e);break;case 40:this.handleRazorPluginPathDoesNotExistMessage(e);break;case 56:this.handleRazorDevMode();break}};handleRazorPluginPathSpecifiedMessage(e){this.logger.appendLine("Razor Plugin Path Specified"),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${e.path}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleRazorPluginPathDoesNotExistMessage(e){this.logger.appendLine(`[error]: Razor plugin path was specified as '${e.path}' but does not exist on disk.`)}handleRazorDevMode(){this.logger.appendLine("Razor dev mode active. Suppressing built-in OmniSharp Razor support."),this.logger.appendLine()}};var QU=class{constructor(e,t,n,i,o){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o}async DownloadAndInstallRazorOmnisharp(e){let n=v0(this.packageJSON).filter(o=>o.id==="RazorOmnisharp"),i=await BP(n,this.platformInfo,this.extensionPath);return i.length>0&&(this.eventStream.post(new ZC(`Razor OmniSharp Version = ${e}`)),this.eventStream.post(new eT(this.platformInfo)),await HP(i,this.networkSettingsProvider,this.eventStream,WP))?(this.eventStream.post(new tT),!0):!1}};var pOe=ye(QC()),ZU=ye(require("path"));var QP=class{constructor(e){this.getMonoVersion=e}minimumMonoVersion="6.4.0";async getHostExecutableInfo(){let e={...process.env},t=qr.monoPath;t.length>0&&(e.PATH=ZU.join(t,"bin")+ZU.delimiter+e.PATH,e.MONO_GAC_PREFIX=t);let n=await this.getMonoVersion(e);if(n===void 0){let i=t?`Update the "omnisharp.monoPath" setting to point to the folder containing Mono's '/bin' folder.`:"Ensure that Mono's '/bin' folder is added to your environment's PATH variable.";throw new Error(`Unable to find Mono. ${i}`)}if(pOe.lt(n,this.minimumMonoVersion))throw new Error(`Found Mono version ${n}. Minimum required version is ${this.minimumMonoVersion}.`);return{version:n,path:t,env:e}}};var mOe=require("child_process"),gOe=ye(require("path")),tH=ye(QC()),vOe=require("util");var eH=class{constructor(e){this.platformInfo=e}minimumDotnetVersion="6.0.100";async getHostExecutableInfo(){let e=this.platformInfo.isWindows()?"dotnet.exe":"dotnet",t={...process.env},n=qr.dotnetPath;n.length>0&&(t.PATH=n+gOe.delimiter+t.PATH);let i=await(0,vOe.promisify)(mOe.exec)(`${e} --version`,{env:t});if(i.stderr)throw new Error(`Unable to read dotnet version information. Error ${i.stderr}`);let o=tH.parse(i.stdout.trimEnd());if(!o)throw new Error(`Unknown result output from 'dotnet --version'. Received ${i.stdout}`);if(tH.lt(o,this.minimumDotnetVersion))throw new Error(`Found dotnet version ${o}. Minimum required version is ${this.minimumDotnetVersion}.`);return{version:i.stdout,path:n,env:t}}};var yOe=ye(require("vscode")),rH=class{_middlewares;_registration;constructor(){this._middlewares=[]}dispose(){this._registration?.dispose()}register(){this._registration=yOe.commands.registerCommand("omnisharp.registerLanguageMiddleware",e=>{this._middlewares.push(e)})}getLanguageMiddlewares(){return this._middlewares}async remap(e,t,n){try{let i=this.getLanguageMiddlewares(),o=t;for(let s of i){let a=s[e];if(!a)continue;let c=await a.call(s,o,n);c&&(o=c)}return o}catch{return t}}};var roe=ye(require("fs")),iO=ye(require("path"));var nH=ye(require("path")),_Oe=ye(require("vscode"));function iH(r){let e=nH.dirname(r.fsPath),t=_Oe.workspace.asRelativePath(e);return{label:nH.basename(r.fsPath),description:e===t?"":t,target:r.fsPath,directory:e,workspaceKind:0}}var oH=class{_name;_immediateDelays=0;_nearImmediateDelays=0;_shortDelays=0;_mediumDelays=0;_idleDelays=0;_nonFocusDelays=0;_bigDelays=0;constructor(e){this._name=e}reportDelay(e){e<=25?this._immediateDelays+=1:e<=50?this._nearImmediateDelays+=1:e<=250?this._shortDelays+=1:e<=500?this._mediumDelays+=1:e<=1500?this._idleDelays+=1:e<=3e3?this._nonFocusDelays+=1:this._bigDelays+=1}name(){return this._name}clearMeasures(){this._immediateDelays=0,this._nearImmediateDelays=0,this._shortDelays=0,this._mediumDelays=0,this._idleDelays=0,this._nonFocusDelays=0,this._bigDelays=0}hasMeasures(){return this._immediateDelays>0||this._nearImmediateDelays>0||this._shortDelays>0||this._mediumDelays>0||this._idleDelays>0||this._nonFocusDelays>0||this._bigDelays>0}getMeasures(){return{immediateDelays:this._immediateDelays,nearImmediateDelays:this._nearImmediateDelays,shortDelays:this._shortDelays,mediumDelays:this._mediumDelays,idleDelays:this._idleDelays,nonFocusDelays:this._nonFocusDelays,bigDelays:this._bigDelays}}};var KFe=require("events");var HT=ye(require("path")),wOe=ye(QC());var uQ="6.0";function bOe(r,e,t,n,i){return t.filter(o=>o.platformId!==void 0&&o.isFramework===e).map(o=>Wyt(o,e,n,r,i))}function Wyt(r,e,t,n,i){let o;return e?r.platforms.includes("win32")?o="OmniSharp.exe":o="run":o="OmniSharp.dll",$yt(r,e,t,n,i,o)}function $yt(r,e,t,n,i,o){let s=e?"":`-net${uQ}`;return{...r,integrity:void 0,description:`${r.description}, Version = ${n}`,url:`${t}/releases/${n}/omnisharp-${r.platformId}${s}.zip`,installPath:`${i}/${n}${s}`,installTestPath:`./${i}/${n}${s}/${o}`}}var sH=class{constructor(e,t,n="https://roslynomnisharp.blob.core.windows.net"){this.downloader=e;this.platformInfo=t;this.serverUrl=n}latestVersionFileServerPath="releases/versioninfo.txt";installPath=".omnisharp";async GetOmniSharpLaunchPath(e,t,n,i){if(t.length===0)return this.GetLaunchPathForVersion(e,this.platformInfo,n,i);if(HT.isAbsolute(t)){if(!await TR(t))throw new Error("The system could not find the specified path");return t}else if(t==="latest")return await this.InstallLatestAndReturnLaunchInfo(n,i);return await this.InstallVersionAndReturnLaunchInfo(t,n,i)}async InstallLatestAndReturnLaunchInfo(e,t){let n=await this.downloader.GetLatestVersion(this.serverUrl,this.latestVersionFileServerPath);return await this.InstallVersionAndReturnLaunchInfo(n,e,t)}async InstallVersionAndReturnLaunchInfo(e,t,n){if(wOe.valid(e))return await this.downloader.DownloadAndInstallOmnisharp(e,t,this.serverUrl,this.installPath),this.GetLaunchPathForVersion(e,this.platformInfo,t,n);throw new Error(`Invalid OmniSharp version - ${e}`)}GetLaunchPathForVersion(e,t,n,i){let o=HT.resolve(i,this.installPath,e+(n?"":`-net${uQ}`));if(n){if(t.isWindows())return HT.join(o,"OmniSharp.exe")}else return HT.join(o,"OmniSharp.dll");return HT.join(o,"omnisharp","OmniSharp.exe")}};var aH=class{constructor(e,t){this.eventName=e;this.measures=t}type=1},cH=class extends aH{type=3},uH=class extends aH{type=0},lH=class{constructor(e,t,n){this.dotNetCliPaths=e;this.timeStamp=t;this.solutionPath=n}type=4},ZP=class{constructor(e,t,n,i,o){this.hostVersion=e;this.hostPath=t;this.hostIsMono=n;this.command=i;this.pid=o}type=5},dH=class{constructor(e,t){this.message=e;this.error=t}type=12},fH=class{constructor(e,t){this.request=e;this.id=t}type=13},hH=class{constructor(e,t){this.debugCounts=e;this.runCounts=t}type=14},pH=class{constructor(e){this.errorMessage=e}type=15},mH=class{constructor(e){this.message=e}type=80},gH=class{constructor(e){this.diagnostics=e}type=16},vH=class{constructor(e){this.unresolvedDependencies=e}type=17},yH=class{constructor(e,t){this.queueName=e;this.command=t}type=18},JL=class{constructor(e,t,n,i){this.queueName=e;this.queueStatus=t;this.command=n;this.id=i}type=70};var _H=class{constructor(e,t){this.name=e;this.availableRequestSlots=t}type=19},ex=class{constructor(e,t,n){this.logLevel=e;this.name=t;this.message=n}type=20},Z0=class{constructor(e){this.err=e}type=21},bH=class{constructor(e){this.targets=e}type=22},wH=class{constructor(e){this.projectConfiguration=e}type=74},SH=class{constructor(e){this.info=e}type=23},tx=class{constructor(e){this.results=e}type=29},CH=class{constructor(e){this.testMethod=e}type=30},TH=class{constructor(e){this.testMethod=e}type=31},DH=class{constructor(e){this.targetProcessId=e}type=32},EH=class{constructor(e){this.className=e}type=33},RH=class{constructor(e){this.className=e}type=34},PH=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=76},xH=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=77},OH=class{constructor(e,t){this.documentPath=e;this.errorMessage=t}type=35},IH=class{constructor(e){this.path=e}type=39},kH=class{constructor(e){this.path=e}type=40},XL=class extends sf{type=42},AH=class extends sf{type=66},LH=class extends sf{type=68},NH=class extends sf{type=63},vS=class extends sf{type=62},MH=class extends sf{type=61},mm=class extends sf{type=60},yS=class extends sf{type=59},QL=class extends sf{type=58},ZL=class extends sf{type=57},FH=class{type=56},qH=class{type=55},jH=class{type=53},eN=class{type=51},zH=class{type=49},UH=class{type=48},HH=class{type=47},BH=class{type=73},WH=class{type=46},$H=class{type=71},VH=class{type=72},GH=class{type=45},KH=class{type=69},YH=class{type=44};var JH=class{constructor(e,t,n,i,o){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o}async DownloadAndInstallOmnisharp(e,t,n,i){let o=v0(this.packageJSON),s=bOe(e,t,o,n,i),a=await BP(s,this.platformInfo,this.extensionPath);return a.length>0&&(this.eventStream.post(new ZC(`OmniSharp Version = ${e}`)),this.eventStream.post(new eT(this.platformInfo)),await HP(a,this.networkSettingsProvider,this.eventStream,WP))?(this.eventStream.post(new tT),!0):!1}async GetLatestVersion(e,t){let n="Latest OmniSharp Version Information",i=`${e}/${t}`;try{return this.eventStream.post(new GH),(await Zj(n,this.eventStream,this.networkSettingsProvider,i)).toString("utf8")}catch(o){throw this.eventStream.post(new m0("getLatestVersionInfoFile",o)),o}}};var YFe=ye(mT()),JFe=ye(cL());var aB=ye(PIe()),BT=ye(require("path")),bS=ye(require("vscode"));var ibt={label:"VSLS",description:"Visual Studio Live Share",directory:"",target:"",workspaceKind:6},obt="vsls",sbt=new Set([obt]);async function cB(){if(!bS.workspace.workspaceFolders)return Promise.resolve([]);let r=await bS.workspace.findFiles("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",`{${qr.projectFilesExcludePattern}}`),e=await bS.workspace.findFiles("{**/*.cs}","{**/node_modules/**,**/.git/**,**/bower_components/**}",1);return abt(r.concat(e),bS.workspace.workspaceFolders,qr.maxProjectResults)}function abt(r,e,t){if(r.length===0)return[];let n=r.filter(o=>!sbt.has(o.scheme));if(n.length===0)return[ibt];let i=new Map;for(let o of n){let s=bS.workspace.getWorkspaceFolder(o);if(s){let a;i.has(s.index)?a=i.get(s.index):(a=[],i.set(s.index,a)),a.push(o)}}return cbt(r,e,i,t)}function cbt(r,e,t,n){let i=[],o=[],s=[],a=[],c=[];t.forEach((l,d)=>{let f=!1,p=!1,_=!1,x=e[d].uri.fsPath;l.forEach(U=>{if(lbt(U))i.push(iH(U));else if(ubt(U)){let ee=BT.dirname(U.fsPath);a.push({label:BT.basename(U.fsPath),description:bS.workspace.asRelativePath(ee),target:ee,directory:ee,workspaceKind:1})}else f||=dbt(U),p||=fbt(U),_||=hbt(U)});let N=a.length>0,A=i.length>0;N&&!A&&s.push({label:BT.basename(x),description:"All contained projects",target:x,directory:x,workspaceKind:3}),f&&c.push({label:"CSX",description:BT.basename(x),target:x,directory:x,workspaceKind:4}),p&&c.push({label:"Cake",description:BT.basename(x),target:x,directory:x,workspaceKind:5}),_&&!A&&!N&&c.push({label:BT.basename(x),description:"",target:x,directory:x,workspaceKind:3})}),i=i.sort((l,d)=>l.directory.localeCompare(d.directory)),s=s.sort((l,d)=>l.directory.localeCompare(d.directory)),o=o.sort((l,d)=>l.directory.localeCompare(d.directory)),a=a.sort((l,d)=>l.directory.localeCompare(d.directory));let u=c.concat(i).concat(s).concat(o).concat(a);return n>0?u.slice(0,n):u}function ubt(r){return/\.csproj$/i.test(r.fsPath)}function lbt(r){return/\.slnf?$/i.test(r.fsPath)}function dbt(r){return/\.csx$/i.test(r.fsPath)}function fbt(r){return/\.cake$/i.test(r.fsPath)}function hbt(r){return/\.cs$/i.test(r.fsPath)}async function xIe(r,e,t,n,i,o){return new Promise((s,a)=>{pbt(r,e,t,n,i,o).then(c=>{c.process.on("error",u=>{a(u)}),c.process.on("spawn",()=>{s(c)})}).catch(c=>a(c))})}async function zQ(r,e,t,n,i,o){if(qr.useEditorFormattingSettings){let a=bS.workspace.getConfiguration("",null),c=bS.workspace.getConfiguration("[csharp]",null);e.push(`formattingOptions:useTabs=${!jQ(a,c,"editor.insertSpaces",!0)}`),e.push(`formattingOptions:tabSize=${jQ(a,c,"editor.tabSize",4)}`),e.push(`formattingOptions:indentationSize=${jQ(a,c,"editor.tabSize",4)}`)}if(qr.useModernNet){let a=e.slice(0),c;t.endsWith(".dll")?(c=n.isWindows()?"dotnet.exe":"dotnet",a.unshift(t)):c=t;let u=await o.getHostExecutableInfo();return{hostKind:".NET",hostPath:u.path,hostVersion:u.version,path:c,launchPath:t,cwd:r,args:a,env:u.env}}if(n.isWindows())return{hostKind:"Windows .NET Framework",hostPath:"",hostVersion:"",path:t,launchPath:t,cwd:r,args:e,env:process.env};let s=await i.getHostExecutableInfo();if(s!==void 0){let a=e.slice(0);return a.unshift(t),a.unshift("--assembly-loader=strict"),us.waitForDebugger&&(a.unshift("--debug"),a.unshift("--debugger-agent=transport=dt_socket,server=y,address=127.0.0.1:55555")),{hostKind:"Mono .NET Framework",hostPath:s.path,hostVersion:s.version,path:"mono",launchPath:t,cwd:r,args:a,env:s.env}}throw new Error("Unable to find Mono installation.")}async function pbt(r,e,t,n,i,o){let s=await zQ(r,e,t,n,i,o);return mbt(n,s)}function mbt(r,e){let{cwd:t,args:n,path:i,launchPath:o,env:s}=e;switch(e.hostKind){case".NET":return{process:(0,aB.spawn)(i,n,{detached:!1,cwd:t,env:s}),command:o,hostIsMono:!1,hostVersion:e.hostVersion,hostPath:e.hostPath};case"Windows .NET Framework":return gbt(i,t,n);case"Mono .NET Framework":return{command:o,process:vbt(e.hostPath,t,n,e.env),hostIsMono:!0,hostVersion:e.hostVersion,hostPath:e.hostPath}}}function jQ(r,e,t,n){return e[t]!=null?e[t]:r.get(t,n)}function gbt(r,e,t){function n(s){return/^[^"].* .*[^"]/.test(s)?`"${s}"`:s.replace("&","^&")}let i=t.slice(0);return i.unshift(`"${r}"`),i=[["/s","/c",'"'+i.map(n).join(" ")+'"'].join(" ")],{process:(0,aB.spawn)("cmd",i,{windowsVerbatimArguments:!0,detached:!1,cwd:e}),command:r,hostIsMono:!1}}function vbt(r,e,t,n){return(0,aB.spawn)("mono",t,{detached:!1,cwd:e,env:n})}var zMe=require("timers");var uD=require("vscode");var UMe=ye(an()),e$=ye(il()),HMe=ye(US()),BMe=ye(fne()),WMe=ye(Bre()),$Me=ye(Ine()),VMe=ye(cne()),GMe=ye(tne()),KMe=ye(Ene()),YMe=ye(pW()),JMe=ye(are()),XMe=ye(Tne()),QMe=ye(gne()),ZW=class{constructor(e,t,n,i,o,s,a,c,u){this.eventBus=e;this.eventStream=t;this.context=n;this.outputChannel=i;this.disposables=o;this.languageMiddlewareFeature=s;this.platformInfo=a;this.monoResolver=c;this.dotnetResolver=u}client;_initializeTask;async start(e,t,n,i){let o=await zQ(e,["-lsp","--encoding","ascii"].concat(t),i,this.platformInfo,this.monoResolver,this.dotnetResolver),s={run:{command:o.path,args:o.args,options:{cwd:o.cwd,env:o.env}},debug:{command:o.path,args:o.args,options:{cwd:e,env:o.env}}},a=this.languageMiddlewareFeature,c={diagnosticCollectionName:"csharp",progressOnInitialization:!0,outputChannel:this.outputChannel,synchronize:{configurationSection:"csharp"},middleware:{async provideDefinition(p,_,D,x){let N=await x(p,_,D);return N&&a.remap("remapLocations",Array.isArray(N)?N:[N],D)},async provideTypeDefinition(p,_,D,x){let N=await x(p,_,D);return N&&a.remap("remapLocations",Array.isArray(N)?N:[N],D)},async provideReferences(p,_,D,x,N){let A=await N(p,_,D,x);return a.remap("remapLocations",A,x)},async provideImplementation(p,_,D,x){let N=await x(p,_,D);return N&&a.remap("remapLocations",Array.isArray(N)?N:[N],D)},async provideRenameEdits(p,_,D,x,N){let A=await N(p,_,D,x);return A&&a.remap("remapWorkspaceEdit",A,x)},async provideCodeLenses(p,_,D){let x=await D(p,_);if(!x)return x;let N=x.map(U=>new uD.Location(p.uri,U.range)),A=await a.remap("remapLocations",N,_);return x.filter((U,ee)=>A[ee].uri===p.uri)},async resolveCodeLens(p,_,D){let x=await D(p,_);return!x||x.command===void 0?x:new uD.CodeLens(x.range,UMe.Command.create(x.command.title,"editor.action.findReferences",uD.Uri.parse(p.data),x.range.start))},async provideFoldingRanges(p,_,D,x){return await x(p,_,D)},async provideHover(p,_,D,x){return await x(p,_,D)},async provideSignatureHelp(p,_,D,x,N){return await N(p,_,D,x)},async provideCompletionItem(p,_,D,x,N){return await N(p,_,D,x)},async provideWorkspaceSymbols(p,_,D){return await D(p,_)},async provideDocumentSymbols(p,_,D){return await D(p,_)},async provideCodeActions(p,_,D,x,N){return await N(p,_,D,x)},async provideDocumentFormattingEdits(p,_,D,x){return await x(p,_,D)},async provideDocumentRangeFormattingEdits(p,_,D,x,N){return await N(p,_,D,x)},async provideOnTypeFormattingEdits(p,_,D,x,N,A){return await A(p,_,D,x,N)},async provideDocumentSemanticTokens(p,_,D){return await D(p,_)},async provideDocumentRangeSemanticTokens(p,_,D,x){return await x(p,_,D)},async provideDocumentHighlights(p,_,D,x){return await x(p,_,D)},async provideInlayHints(p,_,D,x){return await x(p,_,D)}}},u=new HMe.LanguageClient("Omnisharp Server",s,c);await u.setTrace(e$.Trace.Verbose);let l=u._features;function d(p){let _=l.findIndex(D=>D instanceof p);_>-1&&l.splice(_,1)}d(QMe.CallHierarchyFeature),d(WMe.ColorProviderFeature),d(VMe.DeclarationFeature),d(YMe.DiagnosticFeature),d(GMe.DocumentLinkFeature),d(KMe.InlineValueFeature),d(JMe.NotebookDocumentSyncFeature),d(BMe.SelectionRangeFeature),d(XMe.TypeHierarchyFeature),d($Me.WorkspaceFoldersFeature);let f=this.createInteropFeature(u);return u.registerFeature(f),this.client=u,this.disposables.add(u),this.context.subscriptions.push(u),this.eventStream.post(new ZP(o.hostVersion??"",o.hostPath,o.hostKind==="Mono .NET Framework",o.hostPath??o.path,-1)),this.client.start()}async registerProviders(e,t,n,i,o){return new po}async stop(){return this.client?.stop()}async waitForInitialize(){if(this.client===void 0)throw new Error("LSP Client not started.");return this._initializeTask===void 0&&(this._initializeTask=e(this.client)),this._initializeTask;async function e(t){let n=new e$.RequestType("o#/checkreadystatus");for(;!await t.sendRequest(n,{});)await new Promise(i=>(0,zMe.setTimeout)(i,100))}}dispose(){this.disposables.dispose()}async makeRequest(e,t,n){if(t?.Buffer&&delete t.Buffer,this.client===void 0)throw new Error("Request made before client was started.");await this.waitForInitialize();let i=0,o;for(;i<5;)try{return await this.client.sendRequest(`o#/${e}`.replace(/\/\//g,"/").toLowerCase(),t||{},n??new uD.CancellationTokenSource().token)}catch(s){i<5&&o?.code===-32801?i++:o=s}throw console.error(o),o}addListener(e,t){let n=`o#/${e}`.replace(/\/\//g,"/").toLowerCase();return this.eventBus.addListener(n,t),new md(()=>this.eventBus.removeListener(n,t))}createInteropFeature=e=>({getState(){return{kind:"workspace",id:"omnisharpProtocolInteropFeature",registrations:!0}},clear(){},fillClientCapabilities(t){},initialize:(t,n)=>{e.onNotification("o#/log",i=>{let o=i.Body;this.eventStream.post(new ex(o.LogLevel,o.Name,o.Message))});for(let i of Object.values(Jo)){if(typeof i!="string")continue;let o=`o#/${i}`.replace(/\/\//g,"/").toLowerCase();e.onNotification(o,s=>{this.eventBus.emit(i,s)})}}})};var PFe=require("child_process"),xFe=require("readline");var ZMe=[ki.ChangeBuffer,ki.FormatAfterKeystroke,ki.FormatRange,ki.UpdateBuffer],eFe=[ki.Completion,ki.CompletionResolve,ki.FilesChanged,ki.FindSymbols,ki.FindUsages,ki.GetCodeActions,ks.Requests.GoToDefinition,ki.RunCodeAction,ki.SignatureHelp,ki.TypeLookup,ki.GoToTypeDefinition],HRt=new Set(ZMe),BRt=new Set(eFe);var tFe=new Set;for(let r of ZMe)tFe.add(r);for(let r of eFe)tFe.add(r);function rFe(r){return HRt.has(r)}function nFe(r){return BRt.has(r)}var YN=class{constructor(e,t,n,i){this._name=e;this._maxSize=t;this.eventStream=n;this._makeRequest=i}_pending=[];_waiting=new Map;enqueue(e){this.eventStream.post(new yH(this._name,e.command)),this._pending.push(e)}dequeue(e){let t=this._waiting.get(e);return t&&(this._waiting.delete(e),this.eventStream.post(new JL(this._name,"waiting",t.command,e))),t}cancelRequest(e){let t=this._pending.indexOf(e);t!==-1&&(this._pending.splice(t,1),this.eventStream.post(new JL(this._name,"pending",e.command))),e.id&&this.dequeue(e.id)}hasPending(){return this._pending.length>0}isFull(){return this._waiting.size>=this._maxSize}processPending(){if(this._pending.length===0)return;let e=this._maxSize-this._waiting.size;this.eventStream.post(new _H(this._name,e));for(let t=0;t<e&&this._pending.length>0;t++){let n=this._pending.shift();n.startTime=Date.now();let i=this._makeRequest(n);if(this._waiting.set(i,n),this.isFull())break}this.eventStream.post(new zH)}},t$=class{_isProcessing;_priorityQueue;_normalQueue;_deferredQueue;constructor(e,t,n){this._isProcessing=!1,this._priorityQueue=new YN("Priority",1,e,n),this._normalQueue=new YN("Normal",t,e,n),this._deferredQueue=new YN("Deferred",Math.max(Math.floor(t/4),2),e,n)}getQueue(e){return rFe(e)?this._priorityQueue:nFe(e)?this._normalQueue:this._deferredQueue}isEmpty(){return!this._deferredQueue.hasPending()&&!this._normalQueue.hasPending()&&!this._priorityQueue.hasPending()}enqueue(e){this.getQueue(e.command).enqueue(e),this.drain()}dequeue(e,t){return this.getQueue(e).dequeue(t)}cancelRequest(e){this.getQueue(e.command).cancelRequest(e)}drain(){if(this._isProcessing||this._priorityQueue.isFull()||this._normalQueue.isFull()&&this._deferredQueue.isFull())return!1;if(this._isProcessing=!0,this._priorityQueue.hasPending()){this._priorityQueue.processPending(),this._isProcessing=!1;return}this._normalQueue.hasPending()&&this._normalQueue.processPending(),this._deferredQueue.hasPending()&&this._deferredQueue.processPending(),this._isProcessing=!1}};var Vie=require("timers");var uFe=ye(cFe());function Iie(r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);return r.charCodeAt(0)===65279?r.slice(1):r}function lFe(r){return(0,uFe.default)(r)}function dFe(r){return Iie(r.trim())}var JN=require("vscode"),XN=class{scheme="omnisharp-metadata";_registration;_documents;_documentClosedSubscription;constructor(){this._documents=new Map,this._documentClosedSubscription=JN.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this)}onTextDocumentClosed(e){this._documents.delete(e.uri.toString())}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._documents.clear()}addMetadataResponse(e){let t=this.createUri(e.SourceName);return this._documents.set(t.toString(),e),t}getExistingMetadataResponseUri(e){return this.createUri(e)}hasMetadataDocument(e){let t=this.createUri(e);return this._documents.has(t.toString())}register(){this._registration=JN.workspace.registerTextDocumentContentProvider(this.scheme,this)}provideTextDocumentContent(e){return this._documents.get(e.toString())?.Source}createUri(e){return JN.Uri.parse(this.scheme+"://"+e.replace(/\\/g,"/").replace(/(.*)\/(.*)/g,"$1/[metadata] $2"))}};var HS=require("vscode");var QN=class{constructor(e){this.server=e;this._documents=new Map,this._uriToDocumentInfo=new Map,this._documentClosedSubscription=HS.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this),this._visibleTextEditorsChangedSubscription=HS.window.onDidChangeVisibleTextEditors(this.onVisibleTextEditorsChanged,this),this._onDidChangeEmitter=new HS.EventEmitter,this.onDidChange=this._onDidChangeEmitter.event}scheme="omnisharp-source-generated";_registration;_documents;_uriToDocumentInfo;_documentClosedSubscription;_visibleTextEditorsChangedSubscription;_onDidChangeEmitter;onDidChange;async onTextDocumentClosed(e){let t=e.uri.toString(),n=this._uriToDocumentInfo.get(t);n!==void 0&&(this._documents.delete(n),this._uriToDocumentInfo.delete(t),await Uxe(this.server,n))}async onVisibleTextEditorsChanged(e){for(let t of e){let n=t.document.uri,i=n.toString(),o=this._uriToDocumentInfo.get(i);if(o!==void 0)try{let s=this._documents.get(o);if(s===void 0)continue;let a=await zxe(this.server,o);switch(a.UpdateType){case 1:s.Source="Document is no longer being generated.";break;case 2:s.Source=a.Source;break;case 0:continue}this._onDidChangeEmitter.fire(n)}catch{continue}}}register(){this._registration=HS.workspace.registerTextDocumentContentProvider(this.scheme,this)}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._visibleTextEditorsChangedSubscription.dispose(),this._documents.clear()}addSourceGeneratedFileWithoutInitialContent(e,t){let n=this._documents.get(e);if(n!==void 0)return this.getUriForName(n.SourceName);let i=this.getUriForName(t),o=i.toString();return this._documents.delete(e),this._uriToDocumentInfo.set(o,e),i}async provideTextDocumentContent(e,t){let n=this._uriToDocumentInfo.get(e.toString());if(n===void 0)return;let i=this._documents.get(n);return i===void 0&&(i=await jxe(this.server,n,t),this._documents.set(n,i)),i.Source}getUriForName(e){return HS.Uri.parse(this.scheme+":///"+e)}};var Va=ye(require("vscode"));var Kx=ye(require("vscode"));var fh=ye(require("vscode"));function Vx(r){let e=fh.Uri.file(r.FileName);return kie(e,r)}function kie(r,e){let t=new fh.Position(e.Line,e.Column),n=e.EndLine,i=e.EndColumn;if(n!==void 0&&i!==void 0){let o=new fh.Position(n,i);return new fh.Location(r,new fh.Range(t,o))}return new fh.Location(r,t)}function hFe(r){return new fh.Location(fh.Uri.file(r.FileName),lD(r.Range))}function Gx(r){let{Line:e,Column:t,EndLine:n,EndColumn:i}=r;return Aie(e,t,n,i)}function ZN(r){let{StartLine:e,StartColumn:t,EndLine:n,EndColumn:i}=r;return Aie(e,t,n,i)}function lD(r){return Aie(r.Start.Line,r.Start.Column,r.End.Line,r.End.Column)}function Aie(r,e,t,n){return new fh.Range(r,e,t,n)}function pFe(r){return{Start:fFe(r.start),End:fFe(r.end)}}function fFe(r){return{Line:r.line,Column:r.character}}function mFe(r){return new fh.Position(r.Line,r.Column)}function gFe(r){return new fh.TextEdit(ZN(r),r.NewText)}function Ll(r,e,t=!1){return{FileName:r.uri.scheme==="omnisharp-metadata"?`${r.uri.authority}${r.fileName.replace("[metadata] ","")}`:r.fileName,Buffer:t?r.getText():void 0,Line:e.line,Column:e.character}}var Ki=class{_server;_languageMiddlewareFeature;_disposables;constructor(e,t){this._server=e,this._languageMiddlewareFeature=t,this._disposables=new po}addDisposables(e){this._disposables.add(e)}dispose=()=>{this._disposables.dispose()}};var VRt=ks.Structure,eM=ks.SymbolKinds,vFe=ks.SymbolPropertyNames,Lie=ks.SymbolRangeNames,r$=class extends Kx.CodeLens{constructor(t,n){super(new Kx.Range(t.Start.Line,t.Start.Column,t.End.Line,t.End.Column));this.fileName=n}},n$=class extends r${constructor(e,t){super(e,t)}},i$=class extends r${constructor(t,n,i,o,s,a){super(t,n);this.displayName=i;this.isTestContainer=o;this.testFramework=s;this.testMethodNames=a}},tM=class extends i${constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},rM=class extends i${constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},nM=class extends Ki{constructor(e,t,n){super(e,n)}async provideCodeLenses(e,t){if(!qr.showReferencesCodeLens&&!qr.showTestsCodeLens)return[];try{let n=await MU(this._server,{FileName:e.fileName},t);if(n&&n.Elements)return GRt(n.Elements,e.fileName)}catch{}return[]}async resolveCodeLens(e,t){if(e instanceof n$)return this.resolveReferencesCodeLens(e,t);if(e instanceof tM)return this.resolveTestCodeLens(e,"Run Test","dotnet.test.run","Run All Tests","dotnet.classTests.run");if(e instanceof rM)return this.resolveTestCodeLens(e,"Debug Test","dotnet.test.debug","Debug All Tests","dotnet.classTests.debug")}async resolveReferencesCodeLens(e,t){let n={FileName:e.fileName,Line:e.range.start.line,Column:e.range.start.character,OnlyThisFile:!1,ExcludeDefinition:!0};try{let i=await YP(this._server,n,t);if(!i||!i.QuickFixes)return;let o=i.QuickFixes,s=o.length,a=o.map(Vx),c=await this._languageMiddlewareFeature.remap("remapLocations",a,t);return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[Kx.Uri.file(e.fileName),e.range.start,c]},e}catch{return}}async resolveTestCodeLens(e,t,n,i,o){if(!e.isTestContainer)return e.command={title:t,command:n,arguments:[e.testMethodNames[0],e.fileName,e.testFramework]},e;let s;try{s=await GL(this._server,{FileName:e.fileName})}catch{return}return s.MsBuildProject&&(e.command={title:i,command:o,arguments:[e.displayName,e.testMethodNames,e.fileName,e.testFramework]}),e}};function GRt(r,e){let t=[];return VRt.walkCodeElements(r,n=>{let i=KRt(n,e);t.push(...i)}),t}function KRt(r,e){let t=[];if(qr.showReferencesCodeLens&&JRt(r)){let n=r.Ranges[Lie.Name];n&&t.push(new n$(n,e))}if(qr.showTestsCodeLens){if(r.Kind===eM.Method){let n=yFe(r);if(n!==void 0){let i=r.Ranges[Lie.Name];i!==void 0&&(t.push(new tM(i,e,r.DisplayName,!1,n.framework,[n.methodName])),t.push(new rM(i,e,r.DisplayName,!1,n.framework,[n.methodName])))}}else if(r.Kind===eM.Class&&r.Children!==void 0){let i=r.Children.filter(s=>s.Kind===eM.Method).map(s=>yFe(s)).filter(s=>s!==void 0),o=i.length>0?i[0].framework:void 0;if(o!==void 0){let s=i.filter(c=>c.framework===o).map(c=>c.methodName),a=r.Ranges[Lie.Name];t.push(new tM(a,e,r.DisplayName,!0,o,s)),t.push(new rM(a,e,r.DisplayName,!0,o,s))}}}return t}var YRt={Equals:!0,Finalize:!0,GetHashCode:!0,ToString:!0,Dispose:!0,GetEnumerator:!0};function JRt(r){return!(r.Kind===eM.Namespace||r.Kind===eM.Method&&YRt[r.Name]||qr.filteredSymbolsCodeLens.includes(r.Name))}function yFe(r){if(r.Properties===void 0)return;let e=r.Properties[vFe.TestFramework],t=r.Properties[vFe.TestMethodName];if(!(e===void 0||t===void 0))return{framework:e,methodName:t}}var o$=require("vscode"),iM=class r extends Ki{async provideDocumentHighlights(e,t,n){let i=Ll(e,t);i.OnlyThisFile=!0,i.ExcludeDefinition=!1;try{let o=await YP(this._server,i,n);if(o&&Array.isArray(o.QuickFixes))return o.QuickFixes.map(r._asDocumentHighlight)}catch{}return[]}static _asDocumentHighlight(e){return new o$.DocumentHighlight(Gx(e),o$.DocumentHighlightKind.Read)}};var al=ye(require("vscode"));var Xo=ks.SymbolKinds,_Fe=ks.SymbolRangeNames,oM=class extends Ki{async provideDocumentSymbols(e,t){try{let n=await MU(this._server,{FileName:e.fileName},t);return n&&n.Elements?bFe(n.Elements):[]}catch{return[]}}};function bFe(r,e){let t=[];return r.forEach(n=>{let i=QRt(n,e);n.Children&&(i.children=bFe(n.Children,n)),t.push(i)}),t}function XRt(r,e){switch(r.Kind){case Xo.Class:case Xo.Delegate:case Xo.Enum:case Xo.Interface:case Xo.Struct:return r.Name;case Xo.Namespace:return typeof e<"u"&&r.DisplayName.startsWith(`${e.DisplayName}.`)?r.DisplayName.slice(e.DisplayName.length+1):r.DisplayName;case Xo.Constant:case Xo.Constructor:case Xo.Destructor:case Xo.EnumMember:case Xo.Event:case Xo.Field:case Xo.Indexer:case Xo.Method:case Xo.Operator:case Xo.Property:case Xo.Unknown:default:return r.DisplayName}}function QRt(r,e){let t=r.Ranges[_Fe.Full],n=r.Ranges[_Fe.Name],i=XRt(r,e),o=i===r.DisplayName?"":r.DisplayName;return new al.DocumentSymbol(i,o,ZRt(r.Kind),lD(t),lD(n))}var lf={};lf[Xo.Class]=al.SymbolKind.Class;lf[Xo.Delegate]=al.SymbolKind.Class;lf[Xo.Enum]=al.SymbolKind.Enum;lf[Xo.Interface]=al.SymbolKind.Interface;lf[Xo.Struct]=al.SymbolKind.Struct;lf[Xo.Constant]=al.SymbolKind.Constant;lf[Xo.Destructor]=al.SymbolKind.Method;lf[Xo.EnumMember]=al.SymbolKind.EnumMember;lf[Xo.Event]=al.SymbolKind.Event;lf[Xo.Field]=al.SymbolKind.Field;lf[Xo.Indexer]=al.SymbolKind.Property;lf[Xo.Method]=al.SymbolKind.Method;lf[Xo.Operator]=al.SymbolKind.Operator;lf[Xo.Property]=al.SymbolKind.Property;lf[Xo.Namespace]=al.SymbolKind.Namespace;lf[Xo.Unknown]=al.SymbolKind.Class;function ZRt(r){return r==="constructor"?al.SymbolKind.Constructor:lf[r]}var s$=require("vscode"),sM=class extends Ki{async provideHover(e,t,n){let i=Ll(e,t);try{let o=await tOe(this._server,i,n);if(!o||!o.Markdown)return;let s=new s$.MarkdownString;return s.appendMarkdown(o.Markdown),new s$.Hover(s)}catch{return}}};var Yx=require("vscode"),aM=class extends Ki{async provideRenameEdits(e,t,n,i){let o=Ll(e,t);o.WantsTextChanges=!0,o.RenameTo=n,o.ApplyTextChanges=!1;try{let s=await Hxe(this._server,o,i);if(!s)return;let a=new Yx.WorkspaceEdit;return s.Changes.forEach(u=>{let l=Yx.Uri.file(u.FileName);u.Changes.forEach(d=>{a.replace(l,new Yx.Range(d.StartLine,d.StartColumn,d.EndLine,d.EndColumn),d.NewText)})}),await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",a,i)}catch{return}}};var a$=require("vscode"),Jx=class r extends Ki{async provideDocumentRangeFormattingEdits(e,t,n,i){let o={FileName:e.fileName,Line:t.start.line,Column:t.start.character,EndLine:t.end.line,EndColumn:t.end.character};try{let s=await Nxe(this._server,o,i);if(s&&Array.isArray(s.Changes))return s.Changes.map(r._asEditOptionation)}catch{}return[]}async provideOnTypeFormattingEdits(e,t,n,i,o){let s={FileName:e.fileName,Line:t.line,Column:t.character,Character:n};try{let a=await Lxe(this._server,s,o);if(a&&Array.isArray(a.Changes))return a.Changes.map(r._asEditOptionation)}catch{}return[]}static _asEditOptionation(e){return new a$.TextEdit(new a$.Range(e.StartLine,e.StartColumn,e.EndLine,e.EndColumn),e.NewText)}};var df=require("vscode");var cM=class r extends Ki{constructor(t,n,i){super(t,n);this.sourceGeneratedDocumentProvider=i}async provideWorkspaceSymbols(t,n){let i=qr.minFindSymbolsFilterLength,o=qr.maxFindSymbolsItems,s=i>0?i:void 0,a=o>0?o:void 0;if(s!==void 0&&t.length<s)return[];try{let c=await Ixe(this._server,{Filter:t,MaxItemsToReturn:a},n);if(Array.isArray(c?.QuickFixes))return c.QuickFixes.map(u=>this._asSymbolInformation(u))}catch{}return[]}_asSymbolInformation(t){let n;t.GeneratedFileInfo?n=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName):n=df.Uri.file(t.FileName);let i=new df.Location(n,Gx(t));return new df.SymbolInformation(t.Text,r._toKind(t),t.ContainingSymbolName??"",i)}static _toKind(t){switch(t.Kind){case"Method":return df.SymbolKind.Method;case"Field":return df.SymbolKind.Field;case"Property":return df.SymbolKind.Property;case"Interface":return df.SymbolKind.Interface;case"Enum":return df.SymbolKind.Enum;case"Struct":return df.SymbolKind.Struct;case"Event":return df.SymbolKind.Event;case"EnumMember":return df.SymbolKind.EnumMember;case"Class":return df.SymbolKind.Class;default:return df.SymbolKind.Class}}};var Xx=require("vscode"),wFe=require("vscode"),uM=class extends Ki{async provideSignatureHelp(e,t,n){let i=Ll(e,t);try{let o=await Wxe(this._server,i,n);if(!o)return;let s=new Xx.SignatureHelp;s.activeSignature=o.ActiveSignature,s.activeParameter=o.ActiveParameter;for(let a of o.Signatures){let c=new Xx.SignatureInformation(a.Label,a.StructuredDocumentation.SummaryText);s.signatures.push(c);for(let u of a.Parameters){let l=new Xx.ParameterInformation(u.Label,this.GetParameterDocumentation(u));c.parameters.push(l)}}return s}catch{return}}GetParameterDocumentation(e){let t=e.Documentation;if(t.length>0){let n=`**${e.Name}**: ${t}`;return new wFe.MarkdownString(n)}return""}};var Cm=ye(require("vscode"));var Ig=ye(require("vscode"));async function c$(r,e,t){let n=new Ig.WorkspaceEdit,i;if(!r||!Array.isArray(r)||!r.length)return!0;for(let s of r)if(s.ModificationType==1&&(i=Ig.Uri.file(s.FileName)),s.ModificationType==0){let a=s,c=Ig.Uri.file(a.FileName),u=[];for(let l of a.Changes)u.push(Ig.TextEdit.replace(ZN(l),l.NewText));n.set(c,u)}for(let s of r)if(s.ModificationType==2){let a=s;n.renameFile(Ig.Uri.file(a.FileName),Ig.Uri.file(a.NewFileName))}n=await e.remap("remapWorkspaceEdit",n,t);let o=Ig.workspace.applyEdit(n);return i!==void 0?o.then(s=>Ig.commands.executeCommand("vscode.open",i)):o}var SFe=ye(il());var lM=class r extends Ki{constructor(t,n){super(t,n);this.server=t;let i=new po;i.add(Cm.commands.registerCommand("o.fixAll.solution",async()=>this.fixAllMenu(t,"Solution"))),i.add(Cm.commands.registerCommand("o.fixAll.project",async()=>this.fixAllMenu(t,"Project"))),i.add(Cm.commands.registerCommand("o.fixAll.document",async()=>this.fixAllMenu(t,"Document"))),this.addDisposables(i)}static fixAllCodeActionKind=Cm.CodeActionKind.SourceFixAll.append("csharp");static metadata={providedCodeActionKinds:[r.fixAllCodeActionKind]};async provideCodeActions(t,n,i,o){return console.log(i),i.only?(i.only.contains(r.fixAllCodeActionKind)&&await this.applyFixes(t.fileName,"Document",void 0),[]):[]}async fixAllMenu(t,n){let i=Cm.window.activeTextEditor?.document.fileName;if(i===void 0){up(Cm,Cm.l10n.t("Text editor must be focused to fix all issues"));return}let s=(await Axe(t,{FileName:i,Scope:n})).Items.map(l=>`${l.Id}: ${l.Message}`),a=Cm.l10n.t("Fix all issues");n==="Document"&&(s=[a,...s]);let c=await Cm.window.showQuickPick(s,{matchOnDescription:!0,placeHolder:Cm.l10n.t("Select fix all action")});if(c===void 0)return;let u;if(c!==a){let l=c.split(":");u=[{Id:l[0],Message:l[1]}]}await this.applyFixes(i,n,u)}async applyFixes(t,n,i){let o=await kxe(this.server,{FileName:t,Scope:n,FixAllFilter:i,WantsAllCodeActionOperations:!0,WantsTextChanges:!0,ApplyChanges:!1});o&&await c$(o.Changes,this._languageMiddlewareFeature,SFe.CancellationToken.None)}};var Yc=require("vscode");var DFe=ye(il()),EFe=ye(an());var Qx=require("vscode");async function rPt(r,e){for(let t=0;t<Qx.workspace.textDocuments.length;t++){let n=Qx.workspace.textDocuments[t];u$(n,r)||await CFe(n,r,e)}}function Bb(r){return!(r.languageId!=="csharp"||r.uri.scheme==="virtualCSharp-"||!r.uri.scheme.startsWith("virtualCSharp-"))}function nPt(r,e){let t=Qx.workspace.onDidOpenTextDocument(async o=>{u$(o,r)||await CFe(o,r,e)}),n=Qx.workspace.onDidChangeTextDocument(async o=>{let s=o.document;u$(s,r)||await TFe(s,r,e)}),i=Qx.workspace.onDidCloseTextDocument(async o=>{u$(o,r)||await iPt(o,r,e)});return new po(t,i,n)}function u$(r,e){return!Bb(r)||!e.isRunning()}async function CFe(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Create"};try{await KP(e,[i]),await TFe(r,e,t)}catch(o){Nie(r.uri,o,e,t)}}async function TFe(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);try{await JP(e,{Buffer:r.getText(),FileName:r.fileName})}catch(i){Nie(r.uri,i,e,t)}}async function iPt(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Delete"};try{await KP(e,[i])}catch(o){Nie(r.uri,o,e,t)}}function Nie(r,e,t,n){t.isRunning()&&n.post(new OH(r.path,e))}function Mie(r,e){return rPt(r,e).catch(n=>{throw new Error(`Failed to track current virtual documents: ${n}`)}),nPt(r,e)}var Fie="csharp.completion.afterInsert",dM=class extends Ki{#t;constructor(e,t){super(e,t)}async provideCompletionItems(e,t,n,i){let o=Ll(e,t);o.CompletionTrigger=i.triggerKind+1,o.TriggerCharacter=i.triggerCharacter;try{let s=await rOe(this._server,o,n),a=s.Items.map(u=>this._convertToVscodeCompletionItem(u,e));Bb(e)&&(a=a.filter(u=>u.label.label!=="await"||!u.additionalTextEdits));let c=new Map;for(let u=0;u<a.length;u++)c.set(a[u],s.Items[u]);return this.#t=c,{items:a}}catch{return}}async resolveCompletionItem(e,t){let n=this.#t;if(!n)return e;let i=n.get(e);if(!i)return e;let o={Item:i};try{let s=await nOe(this._server,o,t);return this._convertToVscodeCompletionItem(s.Item,e.command?.arguments?.[1])}catch{return e}}async afterInsert(e,t){try{let n=t.uri,i=await iOe(this._server,{Item:e});if(!i.Changes||!i.Column||!i.Line)return;let o=new Yc.WorkspaceEdit;if(o.set(n,i.Changes.map(u=>({newText:u.NewText,range:new Yc.Range(new Yc.Position(u.StartLine,u.StartColumn),new Yc.Position(u.EndLine,u.EndColumn))}))),o=await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",o,DFe.CancellationToken.None),!await Yc.workspace.applyEdit(o))return;let a=Yc.window.visibleTextEditors.find(u=>u.document===t);if(a===void 0)return;let c=new Yc.Position(i.Line,i.Column);a.selections=[new Yc.Selection(c,c)]}catch{return}}_convertToVscodeCompletionItem(e,t){let n=e.Documentation?new Yc.MarkdownString(e.Documentation,!1):void 0,i=function(l){let d=new Yc.Position(l.StartLine,l.StartColumn),f=new Yc.Position(l.EndLine,l.EndColumn);return new Yc.Range(d,f)},o=function(l){return new Yc.TextEdit(i(l),l.NewText)},s=e.AdditionalTextEdits?.map(o),a=e.TextEdit?.NewText??e.InsertText,c=e.InsertTextFormat===EFe.InsertTextFormat.Snippet?new Yc.SnippetString(a):a,u=e.TextEdit?i(e.TextEdit):void 0;return{label:{label:e.Label,description:e.Detail},kind:e.Kind-1,documentation:n,commitCharacters:e.CommitCharacters,preselect:e.Preselect,filterText:e.FilterText,insertText:c,range:u,tags:e.Tags,sortText:e.SortText,additionalTextEdits:s,keepWhitespace:!0,command:e.HasAfterInsertStep?{command:Fie,title:"",arguments:[e,t]}:void 0}}};var fM=class extends Ki{constructor(t,n,i){super(t,n);this.generatedDocumentProvider=i}async provideReferences(t,n,i,o){let s=Ll(t,n);s.OnlyThisFile=!1,s.ExcludeDefinition=!0;try{let a=await YP(this._server,s,o);if(a&&Array.isArray(a.QuickFixes)){let c=a.QuickFixes.map(l=>this.mapToLocationWithGeneratedInfoPopulation(l));return await this._languageMiddlewareFeature.remap("remapLocations",c,o)}}catch{}return[]}mapToLocationWithGeneratedInfoPopulation(t){if(t.GeneratedFileInfo){let n=this.generatedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName);return kie(n,t)}return Vx(t)}};var hM=class extends Ki{async provideImplementation(e,t,n){let i=Ll(e,t);try{let s=(await Oxe(this._server,i,n))?.QuickFixes?.map(c=>Vx(c))??[];return await this._languageMiddlewareFeature.remap("remapLocations",s,n)}catch{}}};var Zx=ye(require("vscode")),bc=ye(an());var pM=class extends Ki{constructor(e,t){super(e,t)}getLegend(){return new Zx.SemanticTokensLegend(zn,dD)}async provideDocumentSemanticTokens(e,t){return this._provideSemanticTokens(e,void 0,t)}async provideDocumentRangeSemanticTokens(e,t,n){let i={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}};return this._provideSemanticTokens(e,i,n)}async _provideSemanticTokens(e,t,n){if(e.uri.scheme!=="file"||!qr.useSemanticHighlighting)return null;let i=Ll(e,new Zx.Position(0,0));i.Range=t;let o=e.version,s=await eOe(this._server,i),a=e.version;if(o!==a)throw new Error("busy");let c=new Zx.SemanticTokensBuilder;for(let u of s.Spans){let l=cn[u.Type];if(l===void 0)continue;let d=u.Modifiers.reduce((p,_)=>p+RFe[_],0);u.Type===26&&(d+=2**6);let f=ZN(u);for(let p=f.start.line;p<=f.end.line;p++){let _=p===f.start.line?f.start.character:0,D=p===f.end.line?f.end.character:e.lineAt(p).text.length;c.push(p,_,D-_,l,d)}}return c.build()}},zn=[];zn[0]=bc.SemanticTokenTypes.comment;zn[1]=bc.SemanticTokenTypes.string;zn[2]=bc.SemanticTokenTypes.keyword;zn[3]=bc.SemanticTokenTypes.number;zn[4]=bc.SemanticTokenTypes.regexp;zn[5]=bc.SemanticTokenTypes.operator;zn[6]=bc.SemanticTokenTypes.namespace;zn[7]=bc.SemanticTokenTypes.type;zn[8]=bc.SemanticTokenTypes.struct;zn[9]=bc.SemanticTokenTypes.class;zn[10]=bc.SemanticTokenTypes.interface;zn[11]=bc.SemanticTokenTypes.enum;zn[12]=bc.SemanticTokenTypes.typeParameter;zn[13]=bc.SemanticTokenTypes.function;zn[14]=bc.SemanticTokenTypes.method;zn[15]=bc.SemanticTokenTypes.macro;zn[16]=bc.SemanticTokenTypes.variable;zn[17]=bc.SemanticTokenTypes.parameter;zn[18]=bc.SemanticTokenTypes.property;zn[19]=bc.SemanticTokenTypes.enumMember;zn[20]=bc.SemanticTokenTypes.event;zn[21]="label";zn[22]="controlKeyword";zn[23]="operatorOverloaded";zn[24]=bc.SemanticTokenTypes.macro;zn[25]="preprocessorText";zn[26]="excludedCode";zn[27]="punctuation";zn[28]="stringVerbatim";zn[29]="stringEscapeCharacter";zn[30]="delegate";zn[31]="module";zn[32]="extensionMethod";zn[33]="field";zn[34]=bc.SemanticTokenTypes.variable;zn[35]="xmlDocCommentAttributeName";zn[36]="xmlDocCommentAttributeQuotes";zn[37]="xmlDocCommentAttributeValue";zn[38]="xmlDocCommentCDataSection";zn[39]="xmlDocCommentComment";zn[40]="xmlDocCommentDelimiter";zn[41]="xmlDocCommentEntityReference";zn[42]="xmlDocCommentName";zn[43]="xmlDocCommentProcessingInstruction";zn[44]="xmlDocCommentText";zn[45]="regexComment";zn[46]="regexCharacterClass";zn[47]="regexAnchor";zn[48]="regexQuantifier";zn[49]="regexGrouping";zn[50]="regexAlternation";zn[51]="regexText";zn[52]="regexSelfEscapedCharacter";var dD=[];dD[0]="declaration";dD[1]="static";dD[2]="abstract";dD[3]="deprecated";dD[4]="modification";dD[5]="async";dD[6]="readonly";var cn=[];cn[0]=0;cn[1]=26;cn[2]=16;cn[3]=2;cn[4]=22;cn[5]=3;cn[6]=5;cn[7]=23;cn[8]=24;cn[9]=1;cn[10]=void 0;cn[11]=void 0;cn[12]=void 0;cn[13]=25;cn[14]=27;cn[15]=28;cn[16]=29;cn[17]=9;cn[18]=30;cn[19]=11;cn[20]=10;cn[21]=31;cn[22]=8;cn[23]=12;cn[24]=33;cn[25]=19;cn[26]=16;cn[27]=34;cn[28]=17;cn[29]=14;cn[30]=32;cn[31]=18;cn[32]=20;cn[33]=6;cn[34]=21;cn[35]=35;cn[36]=36;cn[37]=37;cn[38]=38;cn[39]=39;cn[40]=40;cn[41]=41;cn[42]=42;cn[43]=43;cn[44]=44;cn[45]=void 0;cn[46]=void 0;cn[47]=void 0;cn[48]=void 0;cn[49]=void 0;cn[50]=void 0;cn[51]=void 0;cn[52]=void 0;cn[53]=void 0;cn[54]=void 0;cn[55]=void 0;cn[56]=45;cn[57]=46;cn[58]=47;cn[59]=48;cn[60]=49;cn[61]=50;cn[62]=4;cn[63]=51;cn[64]=52;var RFe=[];RFe[0]=2**1;var eO=ye(require("vscode"));var mM=class extends Ki{_onDidChangeInlayHints=new eO.EventEmitter;onDidChangeInlayHints=this._onDidChangeInlayHints.event;_hintsMap=new Map;constructor(e,t){super(e,t),this.addDisposables(new po(this._onDidChangeInlayHints,eO.workspace.onDidChangeTextDocument(n=>{n.document.languageId==="csharp"&&this._onDidChangeInlayHints.fire()})))}async provideInlayHints(e,t,n){if(e.uri.scheme!=="file")return[];if(Bb(e))return[];let i={Location:{FileName:e.fileName,Range:pFe(t)}};try{return(await cOe(this._server,i,n)).InlayHints.map(s=>{let a=this.toVSCodeHint(s);return this._hintsMap.set(a,s),a})}catch(o){return Promise.reject(new Error(`Problem invoking 'GetInlayHints' on OmniSharpServer: ${o}`))}}async resolveInlayHint(e,t){let n=this._hintsMap.get(e);if(n===void 0)return Promise.reject(new Error("Outdated inlay hint was requested to be resolved, aborting."));let i={Hint:n};try{let o=await uOe(this._server,i,t);return this.toVSCodeHint(o)}catch(o){return Promise.reject(new Error(`Problem invoking 'ResolveInlayHints' on OmniSharpServer: ${o}`))}}toVSCodeHint(e){return{label:e.Label,position:mFe(e.Position),tooltip:new eO.MarkdownString(e.Tooltip??""),textEdits:t(e.TextEdits)};function t(n){return n?.map(gFe)??void 0}}};var fD=ye(require("vscode"));function zie(r){return new jie(r)}var jie=class{_server;_diagnostics;_disposable;constructor(e){this._server=e,this._diagnostics=fD.languages.createDiagnosticCollection("csharp"),setTimeout(async()=>{for(let t of fD.window.visibleTextEditors){let n=t.document;await this._onDocumentOpen(n)}},0),this._disposable=new po(this._diagnostics,fD.workspace.onDidOpenTextDocument(this._onDocumentOpen,this),fD.workspace.onDidCloseTextDocument(this._onDocumentClose,this),fD.window.onDidChangeActiveTextEditor(this._onActiveTextEditorChange,this))}async _onDocumentOpen(e){qie(e)||await oOe(this._server,{FileName:e.fileName})}async _onDocumentClose(e){qie(e)||await sOe(this._server,{FileName:e.fileName})}async _onActiveTextEditorChange(e){e===void 0||qie(e.document)||await JP(this._server,{FileName:e.document.fileName,Buffer:e.document.getText()})}dispose=()=>this._disposable.dispose()};function qie(r){return r.languageId!=="csharp"||r.uri.scheme!=="file"&&!Bb(r)}var Wb=ye(require("vscode"));var gM=class extends Ki{_commandId;constructor(e,t){super(e,t),this._commandId="omnisharp.runCodeAction";let n=Wb.commands.registerCommand(this._commandId,this._runCodeAction,this);this.addDisposables(new po(n))}async provideCodeActions(e,t,n,i){if(qr.disableCodeActions)return;let o=t.start.line,s=t.start.character,a={FileName:e.fileName,Line:o,Column:s};t instanceof Wb.Selection&&!t.isEmpty&&(a.Selection={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}});try{return(await Mxe(this._server,a,i)).CodeActions.map(u=>{let l={...a,Identifier:u.Identifier,WantsTextChanges:!0,WantsAllCodeActionOperations:!0,ApplyTextChanges:!1};return{title:u.Name,kind:this.mapOmniSharpCodeActionKindToVSCodeCodeActionKind(u.CodeActionKind),command:{title:u.Name,command:this._commandId,arguments:[l,i]}}})}catch(c){return Promise.reject(new Error(`Problem invoking 'GetCodeActions' on OmniSharp server: ${c}`))}}mapOmniSharpCodeActionKindToVSCodeCodeActionKind(e){switch(e){case"QuickFix":return Wb.CodeActionKind.QuickFix;case"Refactor":return Wb.CodeActionKind.Refactor;case"RefactorExtract":return Wb.CodeActionKind.RefactorExtract;case"RefactorInline":return Wb.CodeActionKind.RefactorInline;default:return Wb.CodeActionKind.Empty}}async _runCodeAction(e,t){try{let n=await Bxe(this._server,e);if(n)return c$(n.Changes,this._languageMiddlewareFeature,t)}catch(n){return Promise.reject(new Error(`Problem invoking 'RunCodeAction' on OmniSharp server: ${n}`))}}};var l$=require("vscode");function oPt(r){return l$.workspace.onDidChangeTextDocument(e=>{let{document:t,contentChanges:n}=e;t.isUntitled||t.languageId!=="csharp"||t.uri.scheme!=="file"||n.length===0||r.isRunning()&&JP(r,{Buffer:t.getText(),FileName:t.fileName}).catch(i=>(console.error(i),i))})}function sPt(r){function e(u){return function(l){if(!r.isRunning())return;let d={FileName:l.fsPath,changeType:u};KP(r,[d]).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}function t(u){return async function(l){if(r.isRunning()&&u==="Delete"){let d=[{FileName:l.fsPath,changeType:"DirectoryDelete"}];KP(r,d).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}}let n=l$.workspace.createFileSystemWatcher("**/*.*"),i=n.onDidCreate(e("Create")),o=n.onDidDelete(e("Delete")),s=n.onDidChange(e("Change")),a=l$.workspace.createFileSystemWatcher("**/"),c=a.onDidDelete(t("Delete"));return new po(n,i,o,s,a,c)}function Uie(r){return new po(oPt(r),sPt(r))}var d$=require("vscode");var vM=class extends Ki{constructor(t,n,i,o){super(t,o);this.definitionMetadataDocumentProvider=n;this.sourceGeneratedDocumentProvider=i}async provideDefinition(t,n,i){let o=Ll(t,n);o.WantMetadata=!0;try{let s=await Fxe(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async provideTypeDefinition(t,n,i){let o=Ll(t,n);o.WantMetadata=!0;try{let s=await qxe(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async GetLocationsFromResponse(t,n){let i=[];if(t&&t.Definitions)for(let o of t.Definitions)if(o.MetadataSource){let s=o.MetadataSource;if(o.Location.FileName.startsWith("$metadata$")&&this.definitionMetadataDocumentProvider.hasMetadataDocument(o.Location.FileName)){let l=this.definitionMetadataDocumentProvider.getExistingMetadataResponseUri(o.Location.FileName),d=lD(o.Location.Range);i.push(new d$.Location(l,d));continue}let a=await $xe(this._server,{Timeout:5e3,AssemblyName:s.AssemblyName,VersionNumber:s.VersionNumber,ProjectName:s.ProjectName,Language:s.Language,TypeName:s.TypeName});if(!a||!a.Source||!a.SourceName)continue;let c=this.definitionMetadataDocumentProvider.addMetadataResponse(a),u=lD(o.Location.Range);i.push(new d$.Location(c,u))}else if(o.SourceGeneratedFileInfo){let s=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(o.SourceGeneratedFileInfo,o.Location.FileName);i.push(new d$.Location(s,lD(o.Location.Range)))}else i.push(hFe(o.Location));return await this._languageMiddlewareFeature.remap("remapLocations",i,n)}};var _s=ye(require("vscode"));var Hie=ye(mT()),Bie=ye(cL());var f$=class{_disposable;_server;_packageRestoreCounter=0;_projectSourceFileCounts=Object.create(null);constructor(e){this._server=e;let t=e.onProjectChange(this._onProjectChange,this),n=e.onProjectAdded(this._onProjectAdded,this),i=e.onProjectRemoved(this._onProjectRemoved,this),o=e.onBeforePackageRestore(this._onBeforePackageRestore,this),s=e.onPackageRestore(this._onPackageRestore,this);this._disposable=new po(t,n,i,o,s)}dispose(){this._disposable.dispose()}shouldValidateFiles(){return this._isServerStarted()&&!this._isRestoringPackages()}shouldValidateAll(){return this._isServerStarted()&&!this._isRestoringPackages()&&!this._isOverFileLimit()}_updateProjectFileCount(e,t){this._projectSourceFileCounts[e]=t}_addOrUpdateProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&this._updateProjectFileCount(e.MsBuildProject.Path,e.MsBuildProject.SourceFiles.length)}_removeProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&delete this._projectSourceFileCounts[e.MsBuildProject.Path]}_onProjectAdded(e){this._addOrUpdateProjectFileCount(e)}_onProjectRemoved(e){this._removeProjectFileCount(e)}_onProjectChange(e){this._addOrUpdateProjectFileCount(e)}_onBeforePackageRestore(){this._packageRestoreCounter+=1}_onPackageRestore(){this._packageRestoreCounter-=1}_isRestoringPackages(){return this._packageRestoreCounter>0}_isServerStarted(){return this._server.isRunning()}_isOverFileLimit(){let e=qr.maxProjectFileCountForDiagnosticAnalysis;if(e>0){let t=0;for(let n in this._projectSourceFileCounts)if(t+=this._projectSourceFileCounts[n],t>e)return!0}return!1}};function $ie(r,e,t){return new Wie(r,e,t)}var Wie=class extends Ki{_validationAdvisor;_disposable;_diagnostics;_validateCurrentDocumentPipe=new Hie.Subject;_validateAllPipe=new Hie.Subject;_analyzersEnabled;_subscriptions=[];_suppressHiddenDiagnostics;constructor(e,t,n){super(e,n);let i=_s.workspace.getConfiguration("omnisharp").get("enableRoslynAnalyzers",!1),o=_s.workspace.getConfiguration("dotnet").get("server.useOmnisharp",!1),s=_s.workspace.getConfiguration("dotnet").get("backgroundAnalysis.analyzerDiagnosticsScope",o?"none":"openFiles")!="none";this._analyzersEnabled=i||s,this._validationAdvisor=t,this._diagnostics=_s.languages.createDiagnosticCollection("csharp"),this._suppressHiddenDiagnostics=_s.workspace.getConfiguration("csharp").get("suppressHiddenDiagnostics",!0),qr.enableLspDriver||this._subscriptions.push(this._validateCurrentDocumentPipe.pipe((0,Bie.debounceTime)(750)).subscribe(async a=>await this._validateDocument(a))),this._subscriptions.push(this._validateAllPipe.pipe((0,Bie.debounceTime)(3e3)).subscribe(async()=>{this._validationAdvisor.shouldValidateAll()?await this._validateEntireWorkspace():this._validationAdvisor.shouldValidateFiles()&&await this._validateOpenDocuments()})),this._disposable=new po(this._diagnostics,this._server.onPackageRestore(()=>this._validateAllPipe.next("onPackageRestore"),this),this._server.onProjectChange(()=>this._validateAllPipe.next("onProjectChanged"),this),this._server.onBackgroundDiagnosticStatus(this._onBackgroundAnalysis,this),_s.workspace.onDidOpenTextDocument(a=>this._onDocumentOpenOrChange(a),this),_s.workspace.onDidChangeTextDocument(a=>this._onDocumentOpenOrChange(a.document),this),_s.workspace.onDidCloseTextDocument(this._onDocumentClose,this),_s.window.onDidChangeActiveTextEditor(a=>this._onDidChangeActiveTextEditor(a),this),_s.window.onDidChangeWindowState(a=>this._OnDidChangeWindowState(a),this))}dispose=()=>{this._validateAllPipe.complete(),this._validateCurrentDocumentPipe.complete(),this._subscriptions.forEach(e=>e.unsubscribe()),this._disposable.dispose()};shouldIgnoreDocument(e){return e.languageId!=="csharp"||e.uri.scheme!=="file"&&!Bb(e)}_OnDidChangeWindowState(e){e.focused===!0&&this._onDidChangeActiveTextEditor(_s.window.activeTextEditor)}_onDidChangeActiveTextEditor(e){e!==void 0&&this._onDocumentOpenOrChange(e.document)}_onDocumentOpenOrChange(e){this.shouldIgnoreDocument(e)||(this._validateCurrentDocumentPipe.next(e),this._analyzersEnabled||this._validateAllPipe.next("onDocumentOpenOrChange"))}_onBackgroundAnalysis(e){e.Status==2&&e.NumberFilesRemaining===0&&this._validateAllPipe.next()}_onDocumentClose(e){this._diagnostics.has(e.uri)&&!this._validationAdvisor.shouldValidateAll()&&this._diagnostics.delete(e.uri)}async _validateDocument(e){if(!this._validationAdvisor.shouldValidateFiles()||Bb(e))return;let t=new _s.CancellationTokenSource;try{let i=(await oQ(this._server,{FileName:e.fileName},t.token)).QuickFixes;if(i.length===0){this._diagnostics.has(e.uri)&&this._diagnostics.delete(e.uri);return}if(!this._validationAdvisor.shouldValidateAll()&&_s.workspace.textDocuments.every(s=>s.uri!==e.uri))return;let o=this._mapQuickFixesAsDiagnosticsInFile(i);this._diagnostics.set(e.uri,o.map(s=>s.diagnostic))}catch{return}}async _validateOpenDocuments(){for(let e of _s.window.visibleTextEditors){let t=e.document;this.shouldIgnoreDocument(t)||await this._validateDocument(t)}}_mapQuickFixesAsDiagnosticsInFile(e){return e.map(t=>this._asDiagnosticInFileIfAny(t)).filter(t=>t!==void 0)}async _validateEntireWorkspace(){let t=(await oQ(this._server,{},new _s.CancellationTokenSource().token)).QuickFixes.sort((o,s)=>o.FileName.localeCompare(s.FileName)),n=[],i;for(let o of this._mapQuickFixesAsDiagnosticsInFile(t)){let s=_s.Uri.file(o.fileName);i!==void 0&&i[0].toString()===s.toString()?i[1].push(o.diagnostic):(n.push([s,void 0]),i=[s,[o.diagnostic]],n.push(i))}this._diagnostics.forEach(o=>{n.find(s=>s[0].toString()===o.toString())===void 0&&this._diagnostics.delete(o)}),this._diagnostics.set(n)}_asDiagnosticInFileIfAny(e){let t=this._getDiagnosticDisplay(e,this._asDiagnosticSeverity(e));if(t.severity==="hidden")return;let n=`${e.Text} [${e.Projects.map(o=>this._asProjectLabel(o)).join(", ")}]`,i=new _s.Diagnostic(Gx(e),n,t.severity);return i.source="csharp",i.code=e.Id,t.isFadeout&&(i.tags=[_s.DiagnosticTag.Unnecessary]),{diagnostic:i,fileName:e.FileName}}_getDiagnosticDisplay(e,t){let n=e.Tags?.find(i=>i.toLowerCase()==="unnecessary")!==void 0||e.Id=="CS0162"||e.Id=="CS0219"||e.Id=="CS8019";return n&&["hidden","none"].includes(e.LogLevel.toLowerCase())?{severity:_s.DiagnosticSeverity.Hint,isFadeout:n}:{severity:t,isFadeout:n}}_asDiagnosticSeverity(e){switch(e.LogLevel.toLowerCase()){case"error":return _s.DiagnosticSeverity.Error;case"warning":return _s.DiagnosticSeverity.Warning;case"info":return _s.DiagnosticSeverity.Information;case"hidden":return this._suppressHiddenDiagnostics?"hidden":_s.DiagnosticSeverity.Hint;default:return"hidden"}}_asProjectLabel(e){let t=e.indexOf("+");return e.substr(t+1)}};var tO=require("vscode");var h$=class extends Ki{async provideFoldingRanges(e,t,n){let i={FileName:e.fileName};try{let o=await Pxe(this._server,i,n),s=[];for(let a of o.Spans)s.push(new tO.FoldingRange(a.Range.Start.Line,a.Range.End.Line,this.GetType(a.Kind)));return s}catch{return[]}}GetType(e){switch(e){case"Comment":return tO.FoldingRangeKind.Comment;case"Imports":return tO.FoldingRangeKind.Imports;case"Region":return tO.FoldingRangeKind.Region;default:return}}};var p$=class r{constructor(e,t,n,i,o,s){this.eventStream=t;this.platformInfo=n;this.monoResolver=i;this.dotnetResolver=o;this._eventBus=e,this._disposables=s,this._requestQueue=new t$(this.eventStream,8,a=>this._makeRequest(a))}static _nextId=1;_readLine;_disposables;_serverProcess;_eventBus;_requestQueue;async registerProviders(e,t,n,i,o){let s={language:"csharp"},a=new po,c=new XN;c.register(),a.add(c);let u=new QN(e);u.register(),a.add(u),a.add(Va.languages.registerCodeLensProvider(s,new nM(e,o,t))),a.add(Va.languages.registerDocumentHighlightProvider(s,new iM(e,t))),a.add(Va.languages.registerDocumentSymbolProvider(s,new oM(e,t))),a.add(Va.languages.registerHoverProvider(s,new sM(e,t))),a.add(Va.languages.registerRenameProvider(s,new aM(e,t))),qr.useFormatting&&(a.add(Va.languages.registerDocumentRangeFormattingEditProvider(s,new Jx(e,t))),a.add(Va.languages.registerOnTypeFormattingEditProvider(s,new Jx(e,t),"}","/",`
`,";")));let l=new dM(e,t);a.add(Va.languages.registerCompletionItemProvider(s,l,"."," ")),a.add(Va.commands.registerCommand(Fie,async(x,N)=>l.afterInsert(x,N))),a.add(Va.languages.registerWorkspaceSymbolProvider(new cM(e,t,u))),a.add(Va.languages.registerSignatureHelpProvider(s,new uM(e,t),"(",","));let d=new lM(e,t);a.add(d),a.add(Va.languages.registerCodeActionsProvider(s,d,lM.metadata)),a.add($ie(e,i,t));let f=new vM(e,c,u,t);a.add(Va.languages.registerTypeDefinitionProvider(s,f)),a.add(Va.languages.registerTypeDefinitionProvider({scheme:c.scheme},f)),a.add(Va.languages.registerDefinitionProvider(s,f)),a.add(Va.languages.registerDefinitionProvider({scheme:c.scheme},f)),a.add(Va.languages.registerReferenceProvider(s,new fM(e,t,u))),a.add(Va.languages.registerImplementationProvider(s,new hM(e,t))),a.add(Uie(e));let p=new gM(e,t);a.add(p),a.add(Va.languages.registerCodeActionsProvider(s,p)),a.add(Mie(e,n)),a.add(Va.languages.registerFoldingRangeProvider(s,new h$(e,t))),a.add(zie(e));let _=new pM(e,t);a.add(Va.languages.registerDocumentSemanticTokensProvider(s,_,_.getLegend())),a.add(Va.languages.registerDocumentRangeSemanticTokensProvider(s,_,_.getLegend()));let D=new mM(e,t);return a.add(Va.languages.registerInlayHintsProvider(s,D)),a}async stop(){let e;this._serverProcess===void 0?e=Promise.resolve():process.platform==="win32"?e=new Promise((n,i)=>{let o=(0,PFe.exec)(`taskkill /F /T /PID ${this._serverProcess.pid}`,(s,a,c)=>{if(s)return i(s)});o.on("exit",n),o.on("error",i)}):e=Kme(this._serverProcess.pid).then(n=>{for(let i of n)process.kill(i,"SIGTERM");this._serverProcess.kill("SIGTERM")});let t=this._disposables;return this._disposables=void 0,e.then(()=>{this._serverProcess=void 0,this._eventBus.emit(Jo.ServerStop,this),t&&t.dispose()})}async waitForInitialize(){for(;!this._requestQueue.isEmpty();)await new Promise(t=>(0,Vie.setTimeout)(t,100))}addListener(e,t){return this._eventBus.addListener(e,t),new md(()=>this._eventBus.removeListener(e,t))}async start(e,t,n,i){let o=await xIe(e,t.concat("--encoding","utf-8"),i,this.platformInfo,this.monoResolver,this.dotnetResolver);if(this.eventStream.post(new ZP(o.hostVersion??"",o.hostPath??"",o.hostIsMono,o.command,o.process.pid)),this._serverProcess=o.process,this._serverProcess===void 0)throw new Error("Server launch failed.");this._serverProcess.stderr.on("data",c=>{let u=lFe(c);u.length>0&&this._fireEvent(Jo.StdErr,u.toString())}),this._readLine=(0,xFe.createInterface)({input:this._serverProcess.stdout,output:this._serverProcess.stdin,terminal:!1});let s=new Promise((c,u)=>{let l,d=qr.projectLoadTimeout*1e3,f=(0,Vie.setTimeout)(()=>{l&&l.dispose(),u(new Error("OmniSharp server load timed out. Use the 'omnisharp.projectLoadTimeout' setting to override the default delay (one minute)."))},d);l=this.addListener(Jo.Started,p=>{l&&l.dispose(),clearTimeout(f),c()})}),a=this._onLineReceived.bind(this);this._readLine.addListener("line",a),this._disposables?.add(new md(()=>{this._readLine?.removeListener("line",a)})),await s,this._requestQueue.drain()}_onLineReceived(e){if(e=dFe(e),e[0]!=="{"){this.eventStream.post(new vS(e));return}let t;try{t=JSON.parse(e)}catch{return}if(t.Type)switch(t.Type){case"response":this._handleResponsePacket(t);break;case"event":this._handleEventPacket(t);break;default:this.eventStream.post(new vS(`Unknown packet type: ${t.Type}`));break}}_handleResponsePacket(e){let t=this._requestQueue.dequeue(e.Command,e.Request_seq);if(!t){this.eventStream.post(new vS(`Received response for ${e.Command} but could not find request.`));return}this.eventStream.post(new MH(`handleResponse: ${e.Command} (${e.Request_seq})`)),e.Success?t.onSuccess(e.Body):t.onError(e.Message||e.Body),this._requestQueue.drain()}_handleEventPacket(e){if(e.Event==="log"){let t=e.Body;this.eventStream.post(new ex(t.LogLevel,t.Name,t.Message))}else this._fireEvent(e.Event,e.Body)}_fireEvent(e,t){this._eventBus.emit(e,t)}_makeRequest(e){let t=r._nextId++,n={Type:"request",Seq:t,Command:e.command,Arguments:e.data};return this.eventStream.post(new fH(e,t)),this._serverProcess?.stdin.write(JSON.stringify(n)+`
`),t}dispose(){this._disposables?.dispose()}async makeRequest(e,t,n){let i,o=new Promise((s,a)=>{i={command:e,data:t,onSuccess:c=>s(c),onError:c=>a(c)},this._requestQueue.enqueue(i)});return n&&n.onCancellationRequested(()=>{this._requestQueue.cancelRequest(i)}),o}};var jFe=ye(require("child_process")),zFe=ye(require("fs")),C$=ye(require("path"));var Tm=ye(require("vscode"));var Uu=ye(aT());function _M(r,e){e===void 0&&(e=!1);var t=r.length,n=0,i="",o=0,s=16,a=0,c=0,u=0,l=0,d=0;function f(U,ee){for(var he=0,we=0;he<U||!ee;){var V=r.charCodeAt(n);if(V>=48&&V<=57)we=we*16+V-48;else if(V>=65&&V<=70)we=we*16+V-65+10;else if(V>=97&&V<=102)we=we*16+V-97+10;else break;n++,he++}return he<U&&(we=-1),we}function p(U){n=U,i="",o=0,s=16,d=0}function _(){var U=n;if(r.charCodeAt(n)===48)n++;else for(n++;n<r.length&&rO(r.charCodeAt(n));)n++;if(n<r.length&&r.charCodeAt(n)===46)if(n++,n<r.length&&rO(r.charCodeAt(n)))for(n++;n<r.length&&rO(r.charCodeAt(n));)n++;else return d=3,r.substring(U,n);var ee=n;if(n<r.length&&(r.charCodeAt(n)===69||r.charCodeAt(n)===101))if(n++,(n<r.length&&r.charCodeAt(n)===43||r.charCodeAt(n)===45)&&n++,n<r.length&&rO(r.charCodeAt(n))){for(n++;n<r.length&&rO(r.charCodeAt(n));)n++;ee=n}else d=3;return r.substring(U,ee)}function D(){for(var U="",ee=n;;){if(n>=t){U+=r.substring(ee,n),d=2;break}var he=r.charCodeAt(n);if(he===34){U+=r.substring(ee,n),n++;break}if(he===92){if(U+=r.substring(ee,n),n++,n>=t){d=2;break}var we=r.charCodeAt(n++);switch(we){case 34:U+='"';break;case 92:U+="\\";break;case 47:U+="/";break;case 98:U+="\b";break;case 102:U+="\f";break;case 110:U+=`
`;break;case 114:U+="\r";break;case 116:U+="	";break;case 117:var V=f(4,!0);V>=0?U+=String.fromCharCode(V):d=4;break;default:d=5}ee=n;continue}if(he>=0&&he<=31)if(yM(he)){U+=r.substring(ee,n),d=2;break}else d=6;n++}return U}function x(){if(i="",d=0,o=n,c=a,l=u,n>=t)return o=t,s=17;var U=r.charCodeAt(n);if(Gie(U)){do n++,i+=String.fromCharCode(U),U=r.charCodeAt(n);while(Gie(U));return s=15}if(yM(U))return n++,i+=String.fromCharCode(U),U===13&&r.charCodeAt(n)===10&&(n++,i+=`
`),a++,u=n,s=14;switch(U){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=D(),s=10;case 47:var ee=n-1;if(r.charCodeAt(n+1)===47){for(n+=2;n<t&&!yM(r.charCodeAt(n));)n++;return i=r.substring(ee,n),s=12}if(r.charCodeAt(n+1)===42){n+=2;for(var he=t-1,we=!1;n<he;){var V=r.charCodeAt(n);if(V===42&&r.charCodeAt(n+1)===47){n+=2,we=!0;break}n++,yM(V)&&(V===13&&r.charCodeAt(n)===10&&n++,a++,u=n)}return we||(n++,d=1),i=r.substring(ee,n),s=13}return i+=String.fromCharCode(U),n++,s=16;case 45:if(i+=String.fromCharCode(U),n++,n===t||!rO(r.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=_(),s=11;default:for(;n<t&&N(U);)n++,U=r.charCodeAt(n);if(o!==n){switch(i=r.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(U),n++,s=16}}function N(U){if(Gie(U)||yM(U))return!1;switch(U){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function A(){var U;do U=x();while(U>=12&&U<=15);return U}return{setPosition:p,getPosition:function(){return n},scan:e?A:x,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-l},getTokenError:function(){return d}}}function Gie(r){return r===32||r===9||r===11||r===12||r===160||r===5760||r>=8192&&r<=8203||r===8239||r===8287||r===12288||r===65279}function yM(r){return r===10||r===13||r===8232||r===8233}function rO(r){return r>=48&&r<=57}function m$(r,e,t){var n,i,o,s,a;if(e){for(s=e.offset,a=s+e.length,o=s;o>0&&!bM(r,o-1);)o--;for(var c=a;c<r.length&&!bM(r,c);)c++;i=r.substring(o,c),n=cPt(i,t)}else i=r,n=0,o=0,s=0,a=r.length;var u=uPt(t,r),l=!1,d=0,f;t.insertSpaces?f=Kie(" ",t.tabSize||4):f="	";var p=_M(i,!1),_=!1;function D(){return u+Kie(f,n+d)}function x(){var ue=p.scan();for(l=!1;ue===15||ue===14;)l=l||ue===14,ue=p.scan();return _=ue===16||p.getTokenError()!==0,ue}var N=[];function A(ue,qe,Me){!_&&(!e||qe<a&&Me>s)&&r.substring(qe,Me)!==ue&&N.push({offset:qe,length:Me-qe,content:ue})}var U=x();if(U!==17){var ee=p.getTokenOffset()+o,he=Kie(f,n);A(he,o,ee)}for(;U!==17;){for(var we=p.getTokenOffset()+p.getTokenLength()+o,V=x(),W="",te=!1;!l&&(V===12||V===13);){var De=p.getTokenOffset()+o;A(" ",we,De),we=p.getTokenOffset()+p.getTokenLength()+o,te=V===12,W=te?D():"",V=x()}if(V===2)U!==1&&(d--,W=D());else if(V===4)U!==3&&(d--,W=D());else{switch(U){case 3:case 1:d++,W=D();break;case 5:case 12:W=D();break;case 13:l?W=D():te||(W=" ");break;case 6:te||(W=" ");break;case 10:if(V===6){te||(W="");break}case 7:case 8:case 9:case 11:case 2:case 4:V===12||V===13?te||(W=" "):V!==5&&V!==17&&(_=!0);break;case 16:_=!0;break}l&&(V===12||V===13)&&(W=D())}V===17&&(W=t.insertFinalNewline?u:"");var ae=p.getTokenOffset()+o;A(W,we,ae),U=V}return N}function Kie(r,e){for(var t="",n=0;n<e;n++)t+=r;return t}function cPt(r,e){for(var t=0,n=0,i=e.tabSize||4;t<r.length;){var o=r.charAt(t);if(o===" ")n++;else if(o==="	")n+=i;else break;t++}return Math.floor(n/i)}function uPt(r,e){for(var t=0;t<e.length;t++){var n=e.charAt(t);if(n==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return r&&r.eol||`
`}function bM(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}var wM;(function(r){r.DEFAULT={allowTrailingComma:!1}})(wM||(wM={}));function OFe(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=wM.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};return Jie(r,a,t),i[0]}function Yie(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=wM.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,u,l){n=o({type:"property",offset:u,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:u,length:l,parent:n})},onObjectEnd:function(c,u){i(c+u),n.length=c+u-n.offset,n=n.parent,i(c+u)},onArrayBegin:function(c,u){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,u){n.length=c+u-n.offset,n=n.parent,i(c+u)},onLiteralValue:function(c,u,l){o({type:dPt(c),offset:u,length:l,parent:n,value:c}),i(u+l)},onSeparator:function(c,u,l){n.type==="property"&&(c===":"?n.colonOffset=u:c===","&&i(u))},onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};Jie(r,s,t);var a=n.children[0];return a&&delete a.parent,a}function g$(r,e){if(r){for(var t=r,n=0,i=e;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;for(var s=!1,a=0,c=t.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===o){t=u.children[1],s=!0;break}}if(!s)return}else{var l=o;if(t.type!=="array"||l<0||!Array.isArray(t.children)||l>=t.children.length)return;t=t.children[l]}}return t}}function Jie(r,e,t){t===void 0&&(t=wM.DEFAULT);var n=_M(r,!1);function i(te){return te?function(){return te(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(te){return te?function(De){return te(De,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),c=i(e.onObjectEnd),u=i(e.onArrayBegin),l=i(e.onArrayEnd),d=o(e.onLiteralValue),f=o(e.onSeparator),p=i(e.onComment),_=o(e.onError),D=t&&t.disallowComments,x=t&&t.allowTrailingComma;function N(){for(;;){var te=n.scan();switch(n.getTokenError()){case 4:A(14);break;case 5:A(15);break;case 3:A(13);break;case 1:D||A(11);break;case 2:A(12);break;case 6:A(16);break}switch(te){case 12:case 13:D?A(10):p();break;case 16:A(1);break;case 15:case 14:break;default:return te}}}function A(te,De,ae){if(De===void 0&&(De=[]),ae===void 0&&(ae=[]),_(te),De.length+ae.length>0)for(var ue=n.getToken();ue!==17;){if(De.indexOf(ue)!==-1){N();break}else if(ae.indexOf(ue)!==-1)break;ue=N()}}function U(te){var De=n.getTokenValue();return te?d(De):a(De),N(),!0}function ee(){switch(n.getToken()){case 11:var te=n.getTokenValue(),De=Number(te);isNaN(De)&&(A(2),De=0),d(De);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return N(),!0}function he(){return n.getToken()!==10?(A(3,[],[2,5]),!1):(U(!1),n.getToken()===6?(f(":"),N(),W()||A(4,[],[2,5])):A(5,[],[2,5]),!0)}function we(){s(),N();for(var te=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(te||A(4,[],[]),f(","),N(),n.getToken()===2&&x)break}else te&&A(6,[],[]);he()||A(4,[],[2,5]),te=!0}return c(),n.getToken()!==2?A(7,[2],[]):N(),!0}function V(){u(),N();for(var te=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(te||A(4,[],[]),f(","),N(),n.getToken()===4&&x)break}else te&&A(6,[],[]);W()||A(4,[],[4,5]),te=!0}return l(),n.getToken()!==4?A(8,[4],[]):N(),!0}function W(){switch(n.getToken()){case 3:return V();case 1:return we();case 10:return U(!0);default:return ee()}}return N(),n.getToken()===17?t.allowEmptyContent?!0:(A(4,[],[]),!1):W()?(n.getToken()!==17&&A(9,[],[]),!0):(A(4,[],[]),!1)}function dPt(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(r){if(Array.isArray(r))return"array"}else return"null";return"object"}default:return"null"}}function IFe(r,e,t,n){for(var i,o=e.slice(),s=[],a=Yie(r,s),c=void 0,u=void 0;o.length>0&&(u=o.pop(),c=g$(a,o),c===void 0&&t!==void 0);)typeof u=="string"?t=(i={},i[u]=t,i):t=[t];if(c)if(c.type==="object"&&typeof u=="string"&&Array.isArray(c.children)){var l=g$(c,[u]);if(l!==void 0)if(t===void 0){if(!l.parent)throw new Error("Malformed AST");var d=c.children.indexOf(l.parent),f=void 0,p=l.parent.offset+l.parent.length;if(d>0){var _=c.children[d-1];f=_.offset+_.length}else if(f=c.offset+1,c.children.length>1){var D=c.children[1];p=D.offset}return yE(r,{offset:f,length:p-f,content:""},n)}else return yE(r,{offset:l.offset,length:l.length,content:JSON.stringify(t)},n);else{if(t===void 0)return[];var x=JSON.stringify(u)+": "+JSON.stringify(t),N=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(te){return te.children[0].value})):c.children.length,A=void 0;if(N>0){var _=c.children[N-1];A={offset:_.offset+_.length,length:0,content:","+x}}else c.children.length===0?A={offset:c.offset+1,length:0,content:x}:A={offset:c.offset+1,length:0,content:x+","};return yE(r,A,n)}}else if(c.type==="array"&&typeof u=="number"&&Array.isArray(c.children)){var U=u;if(U===-1){var x=""+JSON.stringify(t),A=void 0;if(c.children.length===0)A={offset:c.offset+1,length:0,content:x};else{var _=c.children[c.children.length-1];A={offset:_.offset+_.length,length:0,content:","+x}}return yE(r,A,n)}else if(t===void 0&&c.children.length>=0){var ee=u,he=c.children[ee],A=void 0;if(c.children.length===1)A={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===ee){var _=c.children[ee-1],we=_.offset+_.length,V=c.offset+c.length;A={offset:we,length:V-2-we,content:""}}else A={offset:he.offset,length:c.children[ee+1].offset-he.offset,content:""};return yE(r,A,n)}else if(t!==void 0){var A=void 0,x=""+JSON.stringify(t);if(!n.isArrayInsertion&&c.children.length>u){var W=c.children[u];A={offset:W.offset,length:W.length,content:x}}else if(c.children.length===0||u===0)A={offset:c.offset+1,length:0,content:c.children.length===0?x:x+","};else{var N=u>c.children.length?c.children.length:u,_=c.children[N-1];A={offset:_.offset+_.length,length:0,content:","+x}}return yE(r,A,n)}else throw new Error("Can not "+(t===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+U+" as length is not sufficient")}else throw new Error("Can not add "+(typeof u!="number"?"index":"property")+" to parent of type "+c.type);else{if(t===void 0)throw new Error("Can not delete in empty document");return yE(r,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(t)},n)}}function yE(r,e,t){if(!t.formattingOptions)return[e];var n=v$(r,e),i=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!bM(n,i-1);)i--;for(;o<n.length&&!bM(n,o);)o++}for(var s=m$(n,{offset:i,length:o-i},t.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=v$(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var u=r.length-(n.length-o)-i;return[{offset:i,length:u,content:n.substring(i,o)}]}function v$(r,e){return r.substring(0,e.offset)+e.content+r.substring(e.offset+e.length)}var BS=OFe;function Xie(r,e,t){return m$(r,e,t)}function kFe(r,e,t,n){return IFe(r,e,t,n)}function y$(r,e){for(var t=e.length-1;t>=0;t--)r=v$(r,e[t]);return r}var LFe=ye(require("os")),pp=ye(require("path"));var di=ye(require("vscode"));function AFe(r){return BS(r)}var hD=class r{constructor(e,t){this.workspaceFolder=t;this.vscodeFolder=pp.join(this.workspaceFolder.uri.fsPath,".vscode"),this.tasksJsonPath=pp.join(this.vscodeFolder,"tasks.json"),this.launchJsonPath=pp.join(this.vscodeFolder,"launch.json"),e!==void 0&&e.length>0&&(this.executableProjects=this.findExecutableMSBuildProjects(e),this.executableProjects.length===0&&(this.fallbackBuildProject=e[0]))}vscodeFolder;tasksJsonPath;launchJsonPath;executableProjects=[];startupProject;fallbackBuildProject;hasExecutableProjects(){return this.executableProjects.length>0}isStartupProjectSelected(){return this.startupProject!==void 0}async selectStartupProject(e){if(!this.hasExecutableProjects())throw new Error(di.l10n.t("No executable projects"));if(e!==void 0)return this.startupProject=this.executableProjects[e],!0;if(this.executableProjects.length===1)return this.startupProject=this.executableProjects[0],!0;{let t=this.executableProjects.map(i=>({label:i.projectName,project:i})),n=await di.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:di.l10n.t("Select the project to launch")});return n===void 0?!1:(this.startupProject=n.project,!0)}}setStartupProject(e){if(e>=this.executableProjects.length)throw new Error(di.l10n.t("Invalid project index"));this.startupProject=this.executableProjects[e]}hasWebServerDependency(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));return this.startupProject.isWebProject}computeProgramLaunchType(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));return this.startupProject.isBlazorWebAssemblyStandalone?3:this.startupProject.isBlazorWebAssemblyHosted?2:this.startupProject.isWebProject?1:0}computeProgramPath(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));let e=pp.relative(this.workspaceFolder.uri.fsPath,this.startupProject.outputPath);return e===this.startupProject.outputPath?this.startupProject.outputPath:pp.join("${workspaceFolder}",e)}computeWorkingDirectory(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));let e=pp.relative(this.workspaceFolder.uri.fsPath,this.startupProject.projectPath);return pp.join("${workspaceFolder}",pp.dirname(e))}static getConsoleDebugOption(){let e=di.workspace.getConfiguration("csharp").get("debug");if(e)return e.console}createLaunchJsonConfigurationsArray(e,t){let n=this.createLaunchJsonConfigurations(e),i=JSON.parse(n);return i.forEach(o=>{for(let s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&(s.startsWith("OS-COMMENT")&&delete o[s],t&&s==="stopAtEntry"&&delete o[s],t&&e===0&&s=="console")){let a=r.getConsoleDebugOption();a&&(o.console=a)}}),t&&(i=i.filter(o=>o.request=="launch")),i}createLaunchJsonConfigurations(e){switch(e){case 0:{let t=yPt(this.computeProgramPath(),this.computeWorkingDirectory()),n=_$();return`
[
    ${t},
    ${n}
]`}case 1:{let t=mPt(this.computeProgramPath(),this.computeWorkingDirectory()),n=_$();return`
[
    ${t},
    ${n}
]`}case 2:return`
[
    ${gPt(this.computeProgramPath(),this.computeWorkingDirectory())}
]`;case 3:return`
[
    ${vPt(this.computeWorkingDirectory())}
]`}}createBuildTaskDescription(){let e=["build"];return this.AddAdditionalCommandArgs(e),{label:"build",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createPublishTaskDescription(){let e=["publish"];return this.AddAdditionalCommandArgs(e),{label:"publish",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createWatchTaskDescription(){let e=["watch","run"],t=this.getBuildProjectPath();return t&&(e.push("--project"),e.push(t)),{label:"watch",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}AddAdditionalCommandArgs(e){let t=this.getBuildProjectPath();t&&e.push(t),e.push("/property:GenerateFullPaths=true"),e.push("/consoleloggerparameters:NoSummary;ForceNoAlign")}getBuildProjectPath(){let e=this.startupProject;return e||(e=this.fallbackBuildProject),e?e.solutionPath?this.getBuildPath(e.solutionPath):this.getBuildPath(e.projectPath):null}getBuildPath(e){let t=pp.join("${workspaceFolder}",pp.relative(this.workspaceFolder.uri.fsPath,e));return Uw(t)}createTasksConfiguration(){return{version:"2.0.0",tasks:[this.createBuildTaskDescription(),this.createPublishTaskDescription(),this.createWatchTaskDescription()]}}findExecutableMSBuildProjects(e){let t=[];return e.forEach(n=>{let i=n.targetsDotnetCore||n.isBlazorWebAssemblyStandalone;n.isExe&&i&&t.push(n)}),t}};function mPt(r,e){let t={"OS-COMMENT1":di.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":di.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":di.l10n.t("For further information visit {0}.","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (web)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Uw(r)}`,args:Array(0),cwd:`${Uw(e)}`,stopAtEntry:!1,"OS-COMMENT5":di.l10n.t("Enable launching a web browser when ASP.NET Core starts. For more information: {0}","https://aka.ms/VSCode-CS-LaunchJson-WebBrowser"),serverReadyAction:{action:"openExternally",pattern:"\\bNow listening on:\\s+(https?://\\S+)"},env:{ASPNETCORE_ENVIRONMENT:"Development"},sourceFileMap:{"/Views":"${workspaceFolder}/Views"}};return JSON.stringify(t)}function gPt(r,e){let t={name:"Launch and Debug Hosted Blazor WebAssembly App",type:"blazorwasm",request:"launch",hosted:!0,"OS-COMMENT1":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Uw(r)}`,cwd:`${Uw(e)}`};return JSON.stringify(t)}function vPt(r){let e={name:"Launch and Debug Standalone Blazor WebAssembly App",type:"blazorwasm",request:"launch",cwd:`${Uw(r)}`};return JSON.stringify(e)}function yPt(r,e){let t={"OS-COMMENT1":di.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":di.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":di.l10n.t("For further information visit {0}","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (console)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Uw(r)}`,args:Array(0),cwd:`${Uw(e)}`,"OS-COMMENT5":di.l10n.t("For more information about the 'console' field, see {0}","https://aka.ms/VSCode-CS-LaunchJson-Console"),console:"internalConsole",stopAtEntry:!1};return JSON.stringify(t)}function _Pt(r){let e=[],t=r.split(`
`);for(let n=0;n<t.length;n++){let i=t[n].replace(/(?![^\n]{1,80}$)([^\n]{1,80})\s/g,`$1
`);e=e.concat(i.split(`
`))}return e}function Qie(r,e){return`${r}${e.toString().padStart(2,"0")}`}function NFe(){let r=di.l10n.t("WARNING"),e=di.l10n.t(`The C# extension was unable to automatically decode projects in the current workspace to create a runnable launch.json file. A template launch.json file has been created as a placeholder.

If the server is currently unable to load your project, you can attempt to resolve this by restoring any missing project dependencies (example: run 'dotnet restore') and by fixing any reported errors from building the projects in your workspace.
If this allows the server to now load your project then --
  * Delete this file
  * Open the Visual Studio Code command palette (View->Command Palette)
  * run the command: '.NET: Generate Assets for Build and Debug'.

If your project requires a more complex launch configuration, you may wish to delete this configuration and pick a different template using the 'Add Configuration...' button at the bottom of this file.`),t=_Pt(e),n={};n.name=".NET Core Launch (console)",n.type="coreclr",n.request="launch",n[Qie(r,1)]="*********************************************************************************";for(let i=0;i<t.length;i++)n[Qie(r,i+2)]=t[i];return n[Qie(r,t.length+2)]="*********************************************************************************",n.preLaunchTask="build",n.program="${workspaceFolder}/bin/Debug/<insert-target-framework-here>/<insert-project-name-here>.dll",n.args=[],n.cwd="${workspaceFolder}",n.console="internalConsole",n.stopAtEntry=!1,n}function _$(){return JSON.stringify({name:".NET Core Attach",type:"coreclr",request:"attach"})}function bPt(r){return r.addTasksJson||r.addLaunchJson}async function wPt(r){return SM(r).then(async e=>CPt(r,e))}function SPt(r){let e=[];function t(n){let i;n!==void 0&&(i=n.find(o=>o.group==="build")),i!==void 0&&e.push(i)}return t(r.tasks),r.windows&&t(r.windows.tasks),r.osx&&t(r.osx.tasks),r.linux&&t(r.linux.tasks),e}async function SM(r){return new Promise((e,t)=>{Uu.exists(r.tasksJsonPath,n=>{n?Uu.readFile(r.tasksJsonPath,(i,o)=>{if(i)return t(i);let s=o.toString(),a;try{a=AFe(s)}catch(u){let l=u instanceof Error?u.message:`${u}`;return Wi(di,di.l10n.t("Failed to parse tasks.json file: {0}",l)),e({updateTasksJson:!1})}if(!a.version||!a.version.startsWith("2.0."))return e({updateTasksJson:!1});let c=SPt(a);e({updateTasksJson:c.length===0})}):e({addTasksJson:!0})})})}async function CPt(r,e){return r.hasExecutableProjects()?new Promise((t,n)=>Uu.exists(r.launchJsonPath,i=>{i||(e.addLaunchJson=!0),t(e)})):Promise.resolve(e)}async function TPt(r){return new Promise((e,t)=>{let n={title:di.l10n.t("Yes"),result:0},i={title:di.l10n.t("Not Now"),result:1,isCloseAffordance:!0},o={title:di.l10n.t("Don't Ask Again"),result:2},s=pp.basename(r.uri.fsPath);DPt()||di.window.showWarningMessage(di.l10n.t("Required assets to build and debug are missing from '{0}'. Add them?",s),o,i,n).then(a=>e(a?.result??1))})}function DPt(){let r="suppressBuildAssetsNotification",e=di.workspace.getConfiguration("csharp");return e.has(r)?e.get(r):e.get("supressBuildAssetsNotification")}function MFe(){let r=di.workspace.getConfiguration("editor"),e=r.get("tabSize")??4,t=r.get("insertSpaces")??!0,i=di.workspace.getConfiguration("files").get("eol");return{insertSpaces:t,tabSize:e,eol:!i||i==="auto"?LFe.EOL:`
`}}async function CM(r,e){return new Promise((t,n)=>{if(!e.addTasksJson&&!e.updateTasksJson)return t();let i=MFe(),o=r.createTasksConfiguration(),s;if(Uu.pathExistsSync(r.tasksJsonPath)){let c=o.tasks??[],u=Uu.readFileSync(r.tasksJsonPath,{encoding:"utf8"});s=qFe(u,c,"tasks","label",i)}else{let c=JSON.stringify(o);s=y$(c,Xie(c,void 0,i))}let a=Zie(s);Uu.writeFile(r.tasksJsonPath,a,c=>{if(c)return n(c);t()})})}async function EPt(r,e){return new Promise((t,n)=>{if(!e.addLaunchJson)return t();let i=r.computeProgramLaunchType(),o=r.createLaunchJsonConfigurations(i),s=MFe(),a;if(Uu.pathExistsSync(r.launchJsonPath)){let u=BS(o)??[],l=Uu.readFileSync(r.launchJsonPath,{encoding:"utf8"});a=qFe(l,u,"configurations","name",s)}else{let l=`
            {
                "version": "0.2.0",
                "configurations": ${o}
            }`;a=y$(l,Xie(l,void 0,s))}let c=Zie(a);Uu.writeFile(r.launchJsonPath,c,u=>{if(u)return n(u);t()})})}async function FFe(r,e){if(r.hasExecutableProjects()&&!r.isStartupProjectSelected()&&!await r.selectStartupProject())return;let t=[CM(r,e),EPt(r,e)];return Promise.all(t)}async function b$(r,e){if(!di.workspace.workspaceFolders||r.workspaceState.get("assetPromptDisabled"))return;let t=di.workspace.workspaceFolders.map(async i=>{let o=await e.getWorkspaceDebugInformation(i.uri);if(!o||o.length===0)return 0;let s=new hD(o,i);if(s.hasExecutableProjects()){let a=await wPt(s);if(!bPt(a))return 0;let c=await TPt(i);return c===2?2:c!==0?3:(await Uu.ensureDir(s.vscodeFolder),await FFe(s,a),1)}return 0});(await Promise.all(t)).some(i=>i===2)&&r.workspaceState.update("assetPromptDisabled",!0)}async function RPt(r){return new Promise((e,t)=>{let n=[];if(Uu.pathExistsSync(r.tasksJsonPath)){let i=Uu.readFileSync(r.tasksJsonPath).toString(),o=["build","publish","watch"],s=BS(i)?.tasks?.map(a=>a.label).filter(a=>o.includes(a));n=n.concat(s)}if(Uu.pathExistsSync(r.launchJsonPath)){let i=Uu.readFileSync(r.launchJsonPath).toString(),o=[".NET Core Launch (console)",".NET Core Launch (web)",".NET Core Attach","Launch and Debug Standalone Blazor WebAssembly App"],s=BS(i)?.configurations?.map(a=>a.name).filter(a=>o.includes(a));n=n.concat(s)}e(n)})}async function PPt(r){return new Promise((e,t)=>{RPt(r).then(n=>{if(n.length>0){let i={title:di.l10n.t("Yes")},o={title:di.l10n.t("Cancel"),isCloseAffordance:!0};di.window.showWarningMessage(di.l10n.t("Replace existing build and debug assets?"),o,i).then(s=>{e(s===i)})}else e(!0)},n=>t(n))})}async function w$(r,e){try{if(!di.workspace.workspaceFolders)return;for(let t of di.workspace.workspaceFolders){let n=await r.getWorkspaceDebugInformation(t.uri);if(n&&n.length>0){let i=n[0].projectPath,o=di.workspace.getWorkspaceFolder(di.Uri.file(i));if(o===void 0)return;let s=new hD(n,o);if(!await PPt(s))return;let c={addLaunchJson:s.hasExecutableProjects(),addTasksJson:!0};if(c.addLaunchJson&&!await s.selectStartupProject(e))return;await Uu.ensureDir(s.vscodeFolder),await FFe(s,c)}else Wi(di,di.l10n.t("Could not locate .NET Core project in '{0}'. Assets were not generated.",t.name))}}catch(t){Wi(di,di.l10n.t("Unable to generate assets to build and debug. {0}.",`${t}`))}}function Zie(r){let e=/["']OS-COMMENT\d*["']\s*:\s*["'](.*)["']\s*?,/gi;return r.replace(e,"// $1")}function qFe(r,e,t,n,i){let o={formattingOptions:i},a=BS(r)[t],c=a.map(d=>d[n]),u=r,l=0;return e.map(d=>{let f=c.indexOf(d[n]),_=f>=0?f:a.length+l++,D=kFe(u,[t,_],d,o);u=y$(u,D)}),Zie(u)}var nO=ye(require("vscode")),S$=require("path");async function TM(r,e,t,n,i){let o;try{let d=await n.getHostExecutableInfo();o=(await e([(0,S$.dirname)(d.path)])).FullInfo}catch(d){o=d instanceof Error?d.message:`${d}`}let s="";t&&i&&(s=await IPt(i));let a=APt(),c=us.useOmnisharpServer,l=`## Issue Description ##
## Steps to Reproduce ##

## Expected Behavior ##

## Actual Behavior ##

## Logs ##

${kPt(c)}

## Environment information ##

**VSCode version**: ${nO.version}
**C# Extension**: ${r}
**Using OmniSharp**: ${c}

${s}
<details><summary>Dotnet Information</summary>
${o}</details>
<details><summary>Visual Studio Code Extensions</summary>
${OPt(a)}
</details>
`;await nO.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:Tg,issueBody:l})}function xPt(r,e){return r.packageJSON.name.toLowerCase()<e.packageJSON.name.toLowerCase()?-1:r.packageJSON.name.toLowerCase()>e.packageJSON.name.toLowerCase()?1:0}function OPt(r){if(r.length<=0)return"none";let e=`|Extension|Author|Version|Folder Name|
|---|---|---|---|`,t=r.map(i=>`|${i.packageJSON.name}|${i.packageJSON.publisher}|${i.packageJSON.version}|${(0,S$.basename)(i.extensionPath)}|`).join(`
`);return`
${e}
${t};
`}async function IPt(r){let e="Unknown Mono version";try{e=`OmniSharp using mono: ${(await r.getHostExecutableInfo()).version}`}catch(t){e=t instanceof Error?t.message:`${t}`}return`<details><summary>Mono Information</summary>
    ${e}</details>`}function kPt(r){return r?`### OmniSharp log ###
<details>Post the output from Output-->OmniSharp log here</details>
        
### C# log ###
<details>Post the output from Output-->C# here</details>`:`<!--
If you can, it would be the most helpful to zip up and attach the entire extensions log folder.  The folder can be opened by running the \`workbench.action.openExtensionLogsFolder\` command.

Additionally, if you can reproduce the issue reliably, set the \`C#\` output window log level to 'Trace' re-run the scenario to get more detailed logs.
-->
        
### C# log ###
<details>Post the output from Output-->C# here</details>

### C# LSP Trace Logs ###
<details>Post the output from Output-->C# LSP Trace Logs here.  Requires the \`C#\` output window log level to be set to \`Trace\`</details>`}function APt(){return nO.extensions.all.filter(e=>e.packageJSON.isBuiltin===!1).sort(xPt)}function eoe(r,e,t,n,i,o,s){let a=new po;return a.add(Tm.commands.registerCommand("o.restart",async()=>LPt(r,e))),a.add(Tm.commands.registerCommand("o.pickProjectAndStart",async()=>NPt(e))),a.add(Tm.commands.registerCommand("o.showOutput",()=>n.post(new jH))),a.add(Tm.commands.registerCommand("dotnet.restore.project",async()=>FPt(e,n))),a.add(Tm.commands.registerCommand("dotnet.restore.all",async()=>zPt(e,n))),a.add(Tm.commands.registerCommand("o.reanalyze.allProjects",async()=>qPt(e))),a.add(Tm.commands.registerCommand("o.reanalyze.currentProject",async()=>jPt(e))),a.add(Tm.commands.registerCommand("dotnet.generateAssets",async c=>w$(s,c))),a.add(Tm.commands.registerCommand("csharp.reportIssue",async()=>TM(r.extension.packageJSON.version,sm,t.isValidPlatformForMono(),o,i))),new po(a)}async function LPt(r,e){e.isRunning()?await e.restart():await e.autoStart("")}async function NPt(r){return cB().then(async e=>{let t=r.getSolutionPathOrFolder();if(t)for(let n of e)n.target===t&&(n.label=`\u2713 ${n.label}`);return toe(r,e)})}async function toe(r,e){let t=await Tm.window.showQuickPick(e,{matchOnDescription:!0,placeHolder:`Select 1 of ${e.length} projects`});if(t!==void 0)return r.restart(t)}function MPt(r,e){return r.map(async t=>{let n=t.Directory;return new Promise((i,o)=>{zFe.lstat(n,(s,a)=>{if(s)return o(s);a.isFile()&&(n=C$.dirname(n)),i({label:`dotnet restore - (${t.Name||C$.basename(t.Directory)})`,description:n,async execute(){return HFe(n,e,t.Name)}})})})})}async function FPt(r,e){let t=await UFe(r);e.post(new eN);let n=await Promise.all(MPt(t,e)),i=await Tm.window.showQuickPick(n);if(i)return i.execute()}async function qPt(r){await sQ(r,{})}async function jPt(r){let e=Tm.window.activeTextEditor;e!==void 0&&await sQ(r,{FileName:e.document.uri.fsPath})}async function zPt(r,e){let t=await UFe(r);e.post(new eN);for(let n of t)await HFe(n.Directory,e,n.Name)}async function UFe(r){if(!r.isRunning())throw new Error("OmniSharp server is not running.");let e=await gS(r),t=Rxe(e);if(t.length===0)throw new Error("No .NET Core projects found");return t}async function HFe(r,e,t){return new Promise((n,i)=>{let o="dotnet",s=["restore"];t&&s.push(t);let a=jFe.spawn(o,s,{cwd:r,env:process.env});function c(u){u.on("data",l=>{e.post(new XL(l.toString()))}),u.on("err",l=>{e.post(new XL(`ERROR: ${l}`))})}c(a.stdout),c(a.stderr),a.on("close",u=>{e.post(new AH(`Done: ${u}.`)),n()}),a.on("error",u=>{e.post(new LH(`ERROR: ${u}`)),i(u)})})}var hh=ye(require("vscode")),VFe=ye(QC());var BFe=require("child_process"),T$=async r=>{let e=/(\d+\.\d+\.\d+)/;return new Promise((t,n)=>{let i=(0,BFe.spawn)("mono",["--version"],{env:r});i.on("error",()=>{t(void 0)});let o="";i.stdout.on("data",s=>{o+=s.toString()}),i.stdout.on("close",()=>{let s=e.exec(o);s&&s.length>1?t(s[1]):t(void 0)})})};var WFe=require("path");var D$;async function $Fe(){if(D$!==void 0)return D$;let r=(0,WFe.join)("msbuild",pd.getPlatformExeExtension());try{let e=await YC(`${r} -version -nologo`,process.cwd(),process.env),t=/^(\d+\.\d+\.\d+\.\d+)$/.exec(e);t&&(D$=t[1])}catch{}return D$}async function GFe(){let r=await UPt();if(r.needsDotNetSdk){let e=await HPt();return e===1?await hh.env.openExternal(hh.Uri.parse("https://dot.net/core-sdk-vscode")):e===2&&await hh.commands.executeCommand("workbench.action.openGlobalSettings"),!1}if(r.needsMono||r.needsMSBuildTools){let e=await BPt();return e===1?await hh.env.openExternal(hh.Uri.parse("https://www.mono-project.com/download/stable/")):e===2&&await hh.commands.executeCommand("workbench.action.openGlobalSettings"),!1}return!0}async function UPt(){if(qr.useModernNet){let r=await sm(qr.dotNetCliPaths);return{needsDotNetSdk:r.Version===void 0||VFe.lt(r.Version,"6.0.0"),needsMono:!1,needsMSBuildTools:!1}}if(process.platform==="win32")return{needsMSBuildTools:!1,needsDotNetSdk:!1,needsMono:!1};{let r=new QP(T$),e=!1;try{await r.getHostExecutableInfo()}catch{e=!0}let t=await $Fe();return{needsMono:e,needsDotNetSdk:!1,needsMSBuildTools:t===void 0}}}async function HPt(){return new Promise((r,e)=>{let t="OmniSharp requires an install of the .NET SDK to provide language services when `omnisharp.useModernNet` is enabled in Settings. Please install the latest .NET SDK and restart vscode. If you continue see this error after installing .NET and restarting vscode, you may need to log out and log back in or restart your system for changes to the PATH to take effect.",n={modal:!0},i={title:"Get the SDK",result:1},o={title:"Open settings",result:2,isCloseAffordance:!0};hh.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}async function BPt(){return new Promise((r,e)=>{let t=hh.l10n.t("OmniSharp requires a complete install of Mono (including MSBuild) to provide language services when `omnisharp.useModernNet` is disabled in Settings. Please install the latest Mono and restart."),n={modal:!0},i={title:hh.l10n.t("Download Mono"),result:1},o={title:hh.l10n.t("Open settings"),result:2,isCloseAffordance:!0};hh.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}var Jo;(he=>(he.StateChanged="stateChanged",he.StdOut="stdout",he.StdErr="stderr",he.Error="Error",he.ServerError="ServerError",he.UnresolvedDependencies="UnresolvedDependencies",he.PackageRestoreStarted="PackageRestoreStarted",he.PackageRestoreFinished="PackageRestoreFinished",he.ProjectChanged="ProjectChanged",he.ProjectAdded="ProjectAdded",he.ProjectRemoved="ProjectRemoved",he.BackgroundDiagnosticStatus="BackgroundDiagnosticStatus",he.MsBuildProjectDiagnostics="MsBuildProjectDiagnostics",he.TestMessage="TestMessage",he.BeforeServerInstall="BeforeServerInstall",he.BeforeServerStart="BeforeServerStart",he.ServerStart="ServerStart",he.ServerStop="ServerStop",he.MultipleLaunchTargets="server:MultipleLaunchTargets",he.Started="started",he.ProjectConfiguration="ProjectConfiguration"))(Jo||={});var WPt=2*60*1e3,E$=class{constructor(e,t,n,i,o,s,a,c,u,l,d){this.vscode=e;this.packageJSON=n;this.platformInfo=i;this.eventStream=o;this.extensionPath=s;this.monoResolver=a;this.dotnetResolver=c;this.context=u;this.outputChannel=l;this.languageMiddlewareFeature=d;let f=new JH(t,this.eventStream,this.packageJSON,i,s);this._omnisharpManager=new sH(f,i),this.updateProjectDebouncer.pipe((0,JFe.debounceTime)(1500)).subscribe(async p=>{await this.updateProjectInfo()}),this.firstUpdateProject=!0}_delayTrackers={};_eventBus=new KFe.EventEmitter;_state={status:2};_launchTarget;_sessionProperties={};_omnisharpManager;updateProjectDebouncer=new YFe.Subject;firstUpdateProject;get sessionProperties(){return this._sessionProperties}isRunning(){return this._state.status===1}async waitForInitialize(){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:e}=this._state;await e.waitForInitialize()}_setState(e){e.status!==this._state.status&&(this._state=e,this._fireEvent(Jo.StateChanged,this._state.status))}_recordRequestDelay(e,t){let n=this._delayTrackers[e];n||(n=new oH(e),this._delayTrackers[e]=n),n.reportDelay(t)}_reportTelemetry(){let e=this._delayTrackers;for(let t in e){let n=e[t],i="omnisharp"+t;if(n.hasMeasures()){let o=n.getMeasures();n.clearMeasures(),this.eventStream.post(new cH(i,o))}}}getSolutionPathOrFolder(){return this._launchTarget?.target}onStdout(e,t){return this._addListener(Jo.StdOut,e,t)}onStderr(e,t){return this._addListener(Jo.StdErr,e,t)}onError(e,t){return this._addListener(Jo.Error,e,t)}onServerError(e,t){return this._addListener(Jo.ServerError,e,t)}onUnresolvedDependencies(e,t){return this._addListener(Jo.UnresolvedDependencies,e,t)}onBeforePackageRestore(e,t){return this._addListener(Jo.PackageRestoreStarted,e,t)}onPackageRestore(e,t){return this._addListener(Jo.PackageRestoreFinished,e,t)}onProjectChange(e,t){return this._addListener(Jo.ProjectChanged,e,t)}onProjectAdded(e,t){return this._addListener(Jo.ProjectAdded,e,t)}onProjectRemoved(e,t){return this._addListener(Jo.ProjectRemoved,e,t)}onBackgroundDiagnosticStatus(e,t){return this._addListener(Jo.BackgroundDiagnosticStatus,e,t)}onMsBuildProjectDiagnostics(e,t){return this._addListener(Jo.MsBuildProjectDiagnostics,e,t)}onTestMessage(e,t){return this._addListener(Jo.TestMessage,e,t)}onBeforeServerInstall(e){return this._addListener(Jo.BeforeServerInstall,e)}onBeforeServerStart(e){return this._addListener(Jo.BeforeServerStart,e)}onServerStart(e){return this._addListener(Jo.ServerStart,e)}onServerStop(e){return this._addListener(Jo.ServerStop,e)}onMultipleLaunchTargets(e,t){return this._addListener(Jo.MultipleLaunchTargets,e,t)}onOmnisharpStart(e){return this._addListener(Jo.Started,e)}_addListener(e,t,n){return t=n?t.bind(n):t,this._eventBus.addListener(e,t),new md(()=>this._eventBus.removeListener(e,t))}_fireEvent(e,t){this._eventBus.emit(e,t)}async start(e){if(this._state.status!==2){this.eventStream.post(new Z0("Attempt to start OmniSharp server failed because another server instance is running."));return}if(e.workspaceKind===6){this.eventStream.post(new vS("During Live Share sessions language services are provided by the Live Share server."));return}if(!await GFe()){this.eventStream.post(new vS("OmniSharp failed to start because of missing requirements."));return}let t=new po,n;qr.enableLspDriver?n=new ZW(this._eventBus,this.eventStream,this.context,this.outputChannel,t,this.languageMiddlewareFeature,this.platformInfo,this.monoResolver,this.dotnetResolver):n=new p$(this._eventBus,this.eventStream,this.platformInfo,this.monoResolver,this.dotnetResolver,t),t.add(this.onServerError(x=>this.eventStream.post(new Z0(x)))),t.add(this.onError(x=>this.eventStream.post(new pH(x)))),t.add(this.onMsBuildProjectDiagnostics(x=>this.eventStream.post(new gH(x)))),t.add(this.onUnresolvedDependencies(x=>this.eventStream.post(new vH(x)))),t.add(this.onStderr(x=>this.eventStream.post(new NH(x)))),t.add(this.onMultipleLaunchTargets(x=>this.eventStream.post(new bH(x)))),t.add(this.onBeforeServerInstall(()=>this.eventStream.post(new BH))),t.add(this.onBeforeServerStart(()=>{this.eventStream.post(new HH)})),t.add(this.onServerStop(()=>this.eventStream.post(new $H))),t.add(this.onServerStart(()=>{this.eventStream.post(new VH)})),t.add(this.onBackgroundDiagnosticStatus(x=>this.eventStream.post(new mH(x)))),t.add(this.onProjectConfigurationReceived(x=>{this.eventStream.post(new wH(x))})),t.add(this.onProjectAdded(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectChange(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectRemoved(this.debounceUpdateProjectWithLeadingTrue)),this._setState({status:0,disposables:t}),this._launchTarget=e;let i=e.target,o=iO.dirname(i),s=["-z","-s",i,"--hostPID",process.pid.toString(),"DotNet:enablePackageRestore=false","--loglevel",qr.loggingLevel],a=$y.razorPluginPath,c=a.length>0?a:iO.join(this.extensionPath,".razoromnisharp","OmniSharpPlugin","Microsoft.AspNetCore.Razor.OmniSharpPlugin.dll");roe.existsSync(c)&&s.push("--plugin",c),us.waitForDebugger===!0&&s.push("--debug");let u=us.excludePaths;for(let x=0;x<u.length;x++)s.push(`FileOptions:SystemExcludeSearchPatterns:${x}=${u[x]}`);qr.enableMsBuildLoadProjectsOnDemand===!0&&s.push("MsBuild:LoadProjectsOnDemand=true"),qr.enableRoslynAnalyzers===!0&&s.push("RoslynExtensionsOptions:EnableAnalyzersSupport=true"),qr.enableEditorConfigSupport===!0&&s.push("FormattingOptions:EnableEditorConfigSupport=true"),us.organizeImportsOnFormat===!0&&s.push("FormattingOptions:OrganizeImports=true"),qr.enableDecompilationSupport===!0&&s.push("RoslynExtensionsOptions:EnableDecompilationSupport=true"),qr.enableImportCompletion===!0&&s.push("RoslynExtensionsOptions:EnableImportCompletion=true"),qr.enableAsyncCompletion===!0&&s.push("RoslynExtensionsOptions:EnableAsyncCompletion=true");let l=qr.sdkPath;l.length>0&&s.push(`Sdk:Path=${l}`);let d=qr.sdkVersion;d.length>0&&s.push(`Sdk:Version=${d}`),qr.sdkIncludePrereleases&&s.push("Sdk:IncludePrereleases=true");let f=qr.inlayHintsEnableForParameters;f===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForParameters=${f.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLiteralParameters=${qr.inlayHintsForLiteralParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForIndexerParameters=${qr.inlayHintsForIndexerParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForObjectCreationParameters=${qr.inlayHintsForObjectCreationParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForOtherParameters=${qr.inlayHintsForOtherParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatDifferOnlyBySuffix=${qr.inlayHintsSuppressForParametersThatDifferOnlyBySuffix.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchMethodIntent=${qr.inlayHintsSuppressForParametersThatMatchMethodIntent.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchArgumentName=${qr.inlayHintsSuppressForParametersThatMatchArgumentName.toString()}`));let p=qr.inlayHintsEnableForTypes;p===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForTypes=${p.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitVariableTypes=${qr.inlayHintsForImplicitVariableTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLambdaParameterTypes=${qr.inlayHintsForLambdaParameterTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitObjectCreation=${qr.inlayHintsForImplicitObjectCreation.toString()}`)),qr.analyzeOpenDocumentsOnly===!0&&s.push("RoslynExtensionsOptions:AnalyzeOpenDocumentsOnly=true");let _=qr.dotNetCliPaths;for(let x=0;x<_.length;x++)s.push(`DotNetCliOptions:LocationPaths:${x}=${_[x]}`);let D;try{D=await this._omnisharpManager.GetOmniSharpLaunchPath(this.packageJSON.defaults.omniSharp,us.serverPath,!qr.useModernNet,this.extensionPath)}catch(x){let N=x;this.eventStream.post(new dH(`Error occurred in loading omnisharp from omnisharp.path
Could not start the server due to ${N.toString()}`,N));return}this.eventStream.post(new lH(_,new Date,i)),this._fireEvent(Jo.BeforeServerStart,i);try{await n.start(o,s,e,D),this._setState({status:1,disposables:t,engine:n,telemetryIntervalId:setInterval(()=>this._reportTelemetry(),WPt)}),this._delayTrackers={},c!==void 0&&$y.razorPluginPath&&(roe.existsSync(c)?this.eventStream.post(new IH(c)):this.eventStream.post(new kH(c))),this._fireEvent(Jo.ServerStart,i)}catch(x){return this._fireEvent(Jo.ServerError,x),this.stop()}}async registerProviders(e,t,n){if(this._state.status!==1){this.eventStream.post(new Z0("Attempt to register providers failed because no server instance is running."));return}let{engine:i}=this._state;return await i.registerProviders(this,this.languageMiddlewareFeature,e,t,n)}onProjectConfigurationReceived(e){return this._addListener(Jo.ProjectConfiguration,e)}debounceUpdateProjectWithLeadingTrue=async()=>{this.firstUpdateProject?await this.updateProjectInfo():this.updateProjectDebouncer.next(new qH)};updateProjectInfo=async()=>{this.firstUpdateProject=!1;let e=await gS(this);this.eventStream.post(new SH(e))};async stop(){if(this._state.status!==2&&this._state.status===1){let{disposables:e,engine:t,telemetryIntervalId:n}=this._state;await t.stop(),t.dispose(),this._sessionProperties={},this._setState({status:2}),this._fireEvent(Jo.ServerStop,this),e.dispose(),clearInterval(n),this._reportTelemetry()}}async restart(e=this._launchTarget){if(this._state.status===0){this.eventStream.post(new Z0("Attempt to restart OmniSharp server failed because another server instance is starting."));return}e!==void 0&&(await this.stop(),this.eventStream.post(new KH),await this.start(e))}async autoStart(e){let t=await cB();if(t.length===0)return await new Promise(s=>{let a=this.vscode.workspace.createFileSystemWatcher("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",!1,!0,!0);a.onDidCreate(c=>{a.dispose(),s()})}),this.autoStart(e);if(t.length===1)return this.start(t[0]);let n=us.defaultSolution,i=t.find(s=>iO.basename(s.target)===n);if(i)return this.start(i);if(e.length>0){let s=t.find(a=>a.target===e);if(s)return this.start(s)}let o=t.find(s=>s.workspaceKind==3||s.workspaceKind==0);return o?this.start(o):process.env.RUNNING_INTEGRATION_TESTS==="true"?this.start(t[0]):(this._fireEvent(Jo.MultipleLaunchTargets,t),toe(this,t))}async makeRequest(e,t,n){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:i}=this._state,o=Date.now(),s=await i.makeRequest(e,t,n),c=Date.now()-o;return this._recordRequestDelay(e,c),s}async makeRequest0(e,t,n){await this.makeRequest(e,t,n)}};var tqe=ye(require("net")),noe=ye(require("os")),EM=ye(require("path"));var Ga=ye(require("vscode"));var XFe=ye(require("vscode"));var QFe="processLaunched",ZFe="debuggingStopped";function eqe(r){if(r[r.length-1]!=10)throw new Error(XFe.l10n.t("Unexpected message received from debugger."));let e=r.toString("utf-8",0,r.length-1);return JSON.parse(e)}var VPt=2*60*1e3,DM=class extends Ki{_runCounts;_debugCounts;_telemetryIntervalId=void 0;_eventStream;constructor(e,t,n){super(e,n),this._eventStream=t;let i=Ga.commands.registerCommand("dotnet.test.run",async(d,f,p)=>this.runDotnetTest(d,f,p)),o=Ga.commands.registerCommand("dotnet.test.debug",async(d,f,p)=>this.debugDotnetTest(d,f,p)),s=Ga.commands.registerCommand("dotnet.classTests.run",async(d,f,p,_)=>this.runDotnetTestsInClass(d,f,p,_)),a=Ga.commands.registerCommand("dotnet.classTests.debug",async(d,f,p,_)=>this.debugDotnetTestsInClass(d,f,p,_)),c=Ga.commands.registerTextEditorCommand("dotnet.test.runTestsInContext",async d=>this._runDotnetTestsInContext(d.document.fileName,d.selection.active,d.document.languageId)),u=Ga.commands.registerTextEditorCommand("dotnet.test.debugTestsInContext",async d=>this._debugDotnetTestsInContext(d.document.fileName,d.document.uri,d.selection.active,d.document.languageId));this._telemetryIntervalId=setInterval(()=>this._reportTelemetry(),VPt);let l=new md(()=>{this._telemetryIntervalId!==void 0&&(clearInterval(this._telemetryIntervalId),this._telemetryIntervalId=void 0,this._reportTelemetry())});this.addDisposables(new po(i,o,l,s,a,c,u))}_recordRunRequest(e){this._runCounts===void 0&&(this._runCounts={}),e===void 0&&(e="context");let t=this._runCounts[e];t?t+=1:t=1,this._runCounts[e]=t}_recordDebugRequest(e){this._debugCounts===void 0&&(this._debugCounts={}),e===void 0&&(e="context");let t=this._debugCounts[e];t?t+=1:t=1,this._debugCounts[e]=t}_reportTelemetry(){this._eventStream.post(new hH(this._debugCounts,this._runCounts)),this._runCounts=void 0,this._debugCounts=void 0}async _saveDirtyFiles(){return Promise.resolve(Ga.workspace.saveAll(!1))}async _runTest(e,t,n,i,o,s){let a={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:s};return(await Vxe(this._server,a)).Results}async _recordRunAndGetFrameworkVersion(e,t){await this._saveDirtyFiles(),this._recordRunRequest(t);let n;try{n=await GL(this._server,{FileName:e})}catch{return}let i;if(n.MsBuildProject)i=n.MsBuildProject.TargetFramework;else throw new Error("Expected .csproj project.");return i}async discoverTests(e,t,n){let i=await this._recordRunAndGetFrameworkVersion(e,t),o=this._getRunSettings(e),s={FileName:e,RunSettings:o,TestFrameworkName:t,TargetFrameworkVersion:i,NoBuild:n};try{return(await xxe(this._server,s)).Tests}catch{}}_getRunSettings(e){let t=us.runSettingsPath;if(t.length===0)return;if(EM.isAbsolute(t))return t;let n=Ga.Uri.file(e),i=Ga.workspace.getWorkspaceFolder(n);if(i!==void 0)return EM.join(i.uri.fsPath,t)}async runDotnetTest(e,t,n,i=!1){this._eventStream.post(new CH(e));let o=this._server.onTestMessage(c=>{this._eventStream.post(new mm(c.Message))}),s=await this._recordRunAndGetFrameworkVersion(t,n),a=this._getRunSettings(t);try{let c=await this._runTest(t,e,a,n,s,i);this._eventStream.post(new tx(c))}catch(c){let u=c.message;this._eventStream.post(new yS(u))}finally{o.dispose()}}async runDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new EH(e));let s=this._server.onTestMessage(u=>{this._eventStream.post(new mm(u.Message))}),a=await this._recordRunAndGetFrameworkVersion(n,i),c=this._getRunSettings(n);try{let u=await this._runTestsInClass(n,c,i,a,t,o);this._eventStream.post(new tx(u))}catch(u){let l=u.message;this._eventStream.post(new yS(l))}finally{s.dispose()}}async _runTestsInClass(e,t,n,i,o,s){let a={FileName:e,RunSettings:t,TestFrameworkName:n,TargetFrameworkVersion:i,MethodNames:o,NoBuild:s};return(await Gxe(this._server,a)).Results}async _runDotnetTestsInContext(e,t,n){if(n!=="csharp"){this._eventStream.post(new mm(`${Ga.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new PH(Ga.workspace.asRelativePath(e,!1),t.line,t.character));let i=this._server.onTestMessage(c=>{this._eventStream.post(new mm(c.Message))}),o=await this._recordRunAndGetFrameworkVersion(e),s=this._getRunSettings(e),a={FileName:e,Line:t.line,Column:t.character,RunSettings:s,TargetFrameworkVersion:o};try{let c=await Kxe(this._server,a);c.ContextHadNoTests?this._eventStream.post(new mm(c.Failure)):!c.Pass&&c.Results===null?this._eventStream.post(new yS(c.Failure)):this._eventStream.post(new tx(c.Results))}catch(c){let u=c.message;this._eventStream.post(new yS(u))}finally{i.dispose()}}_createLaunchConfiguration(e,t,n,i,o){let s=us.unitTestDebuggingOptions,a;return typeof s=="object"?a=JSON.parse(JSON.stringify(s)):a={},{...a,type:a.type||"coreclr",name:".NET Test Launch",request:"launch",debuggerEventsPipeName:o,program:e,args:t,cwd:n,env:i}}async _getLaunchConfigurationForVSTest(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new mm(l.Message))}),u={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await Yxe(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _recordDebugAndGetDebugValues(e,t){await this._saveDirtyFiles(),this._recordDebugRequest(t);let n;try{n=await GL(this._server,{FileName:e})}catch{throw new Error("Could not determine project type.")}if(!n.MsBuildProject)throw new Error("Expected .csproj project.");let i=n.MsBuildProject.TargetFramework,o=new ioe(e,this._server,this._eventStream);return await o.start(),{debugEventListener:o,targetFrameworkVersion:i}}async debugDotnetTest(e,t,n,i=!1){this._eventStream.post(new TH(e));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(t,n),a=this._getRunSettings(t);try{let c=await this._getLaunchConfigurationForVSTest(t,e,a,n,s,o,i),u=Ga.workspace.getWorkspaceFolder(Ga.Uri.file(t));return Ga.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new ZL(u)),o.close()}}async debugDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new RH(e));let{debugEventListener:s,targetFrameworkVersion:a}=await this._recordDebugAndGetDebugValues(n,i),c=this._getRunSettings(n);try{let u=await this._getLaunchConfigurationForVSTestClass(n,t,c,i,a,s,o),l=Ga.workspace.getWorkspaceFolder(Ga.Uri.file(n));return Ga.debug.startDebugging(l,u)}catch(u){let l=u.message;this._eventStream.post(new ZL(l)),s.close()}}async _debugDotnetTestsInContext(e,t,n,i){if(i!=="csharp"){this._eventStream.post(new mm(`${Ga.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new xH(Ga.workspace.asRelativePath(e,!1),n.line,n.character));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(e),a=this._getRunSettings(e);try{let c=await this._getLaunchConfigurationForVSTestInContext(e,n.line,n.character,a,s,o);if(c===null)return;let u=Ga.workspace.getWorkspaceFolder(t);return Ga.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new yS(u)),o.close()}}async _getLaunchConfigurationForVSTestClass(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new mm(l.Message))}),u={FileName:e,MethodNames:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await Jxe(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _getLaunchConfigurationForVSTestInContext(e,t,n,i,o,s){let a=this._server.onTestMessage(u=>{this._eventStream.post(new mm(u.Message))}),c={FileName:e,Line:t,Column:n,RunSettings:i,TargetFrameworkVersion:o};try{let u=await Xxe(this._server,c);return u.Succeeded?this._createLaunchConfiguration(u.FileName,u.Arguments,u.WorkingDirectory,u.EnvironmentVariables,s.pipePath()):(u.ContextHadNoTests?this._eventStream.post(new mm(u.FailureReason)):this._eventStream.post(new yS(u.FailureReason)),null)}finally{a.dispose()}}},ioe=class r{static s_activeInstance;_fileName;_server;_pipePath;_eventStream;_serverSocket;_isClosed=!1;constructor(e,t,n){if(this._fileName=e,this._server=t,this._eventStream=n,noe.platform()==="win32")this._pipePath="\\\\.\\pipe\\Microsoft.VSCode.CSharpExt.TestDebugEvents"+process.pid;else{let i=Vme();this._pipePath=EM.join(i,"muhammad-sammy.csharp-tde-"+process.pid)}}async start(){r.s_activeInstance!==void 0&&r.s_activeInstance.close(),r.s_activeInstance=this;let e=tqe.createServer(t=>{t.on("data",async n=>{let i;try{i=eqe(n)}catch{this._eventStream.post(new QL("Invalid event received from debugger"));return}switch(i.eventType){case QFe:{let o=i;this._eventStream.post(new DH(o.targetProcessId)),await this.onProcessLaunched(o.targetProcessId);break}case ZFe:this._eventStream.post(new YH),await this.onDebuggingStopped();break}}),t.on("end",async()=>{await this.onDebuggingStopped()})});return this._serverSocket=e,await this.removeSocketFileIfExists(),new Promise((t,n)=>{e.on("error",i=>{e.listening?this._eventStream.post(new QL(`Communications error on debugger event channel. ${i.message}`)):n(i.message)}),e.listen(this._pipePath,()=>{t()})})}pipePath(){return this._pipePath}close(){this===r.s_activeInstance&&(r.s_activeInstance=void 0),!this._isClosed&&(this._isClosed=!0,this._serverSocket!==void 0&&this._serverSocket.close())}async onProcessLaunched(e){let t={FileName:this._fileName,TargetProcessId:e},n=this._server.onTestMessage(i=>{this._eventStream.post(new mm(i.Message))});try{await Qxe(this._server,t)}finally{n.dispose()}}async onDebuggingStopped(){if(this._isClosed)return;let e={FileName:this._fileName};try{await Zxe(this._server,e),this.close()}catch{return}}async removeSocketFileIfExists(){return noe.platform()==="win32"?Promise.resolve():Yme(this._pipePath)}};var oO=ye(require("path"));var R$=class{constructor(e){this.server=e}async getWorkspaceDebugInformation(e){return this.server.isRunning()?(await gS(this.server)).MsBuild?.Projects.map(o=>{let s=VP(o.TargetFrameworks.map(a=>a.ShortName))!==void 0;return{projectPath:o.Path,outputPath:o.TargetPath,projectName:`${oO.basename(o.Path,".csproj")} (${o.Path})`,targetsDotnetCore:s,isExe:o.IsExe,isWebProject:o.IsWebProject,isBlazorWebAssemblyHosted:o.IsBlazorWebAssemblyHosted,isBlazorWebAssemblyStandalone:o.IsBlazorWebAssemblyStandalone,solutionPath:null}})?.filter(o=>{let s=oO.resolve(e.fsPath),a=oO.dirname(o.projectPath);return Xme(a,s)}):void 0}};var rqe=ye(aT()),pD=ye(require("vscode"));var sO=class extends P0{constructor(t,n,i){super(n,i);this.workspaceDebugInfoProvider=t}async provideDebugConfigurations(t,n){if(!t||!t.uri)return Wi(pD,pD.l10n.t("Cannot create .NET debug configurations. No workspace folder was selected.")),[];try{let i=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(t.uri);if(!i)return Wi(pD,pD.l10n.t("Cannot create .NET debug configurations. The server is still initializing or has exited unexpectedly.")),[];if(i.length===0)return Wi(pD,pD.l10n.t("Cannot create .NET debug configurations. The active C# project is not within folder '{0}'.",t.uri.fsPath)),[];let o=new hD(i,t);if(o.hasExecutableProjects()){if(!await o.selectStartupProject())return[];await rqe.ensureDir(o.vscodeFolder);let s=await SM(o);await CM(o,s);let a=o.computeProgramLaunchType();return o.createLaunchJsonConfigurationsArray(a,!1)}else throw new Error(pD.l10n.t("Does not contain .NET Core projects."))}catch{return[NFe(),BS(_$())]}}};function P$(r){let e={"platform.architecture":r.architecture,"platform.platform":r.platform};return r.distribution&&(e["platform.distribution"]=r.distribution.toTelemetryString()),e}var x$=ye(require("crypto")),iqe=ye(nqe());function O$(r,e,t,n,i){let o="";n&&(o=GPt(n));let s=P$(e);s.SolutionId=o,s.ProjectId=r.ProjectId,s.SessionId=r.SessionId,s.OutputType=r.OutputKind?.toString()??"",s.ProjectCapabilities=r.ProjectCapabilities?.join(" ")??"",s.TargetFrameworks=r.TargetFrameworks.join("|"),s.References=r.References.join("|"),s.FileExtensions=r.FileExtensions.join("|"),s.FileCounts=r.FileCounts?.join("|")??"",s.NetSdkVersion=t?.Version??"",s.sdkStyleProject=r.SdkStyleProject.toString(),i&&(s.useModernNet=i.toString())}function GPt(r){let e=x$.createHash("sha256").update(r).digest("hex"),t=(0,iqe.machineIdSync)(),n=x$.createHash("sha256").update(t).digest("hex");return x$.createHash("sha256").update(e+n).digest("hex")}var I$=class{reporter;platformInfo;solutionPath;dotnetInfo;useModernNet;constructor(e,t,n){this.platformInfo=e,this.reporter=t(),this.useModernNet=n}post=async e=>{let t=P$(this.platformInfo);switch(e.type){case 4:await this.handleOmnisharpInitialisation(e);break;case 7:this.reporter.sendTelemetryEvent("AcquisitionStart");break;case 10:this.handleInstallationFailure(e,t);break;case 50:this.handleInstallationSuccess(t);break;case 3:case 0:this.handleTelemetryEventMeasures(e);break;case 14:this.handleTestExecutionCountReport(e);break;case 1:{let n=e;this.reporter.sendTelemetryEvent(n.eventName,n.properties,n.measures);break}case 78:{let n=e;this.reporter.sendTelemetryErrorEvent(n.eventName,n.properties,n.measures,n.errorProps);break}case 74:this.handleProjectConfigurationReceived(e);break}};handleTelemetryEventMeasures(e){this.reporter.sendTelemetryEvent(e.eventName,void 0,e.measures)}async handleOmnisharpInitialisation(e){this.dotnetInfo=await sm(e.dotNetCliPaths),this.solutionPath=e.solutionPath}handleInstallationSuccess(e){e.installStage="completeSuccess",this.reporter.sendTelemetryEvent("AcquisitionSucceeded",e)}handleInstallationFailure(e,t){t.installStage=e.stage,e.error instanceof gT&&(t["error.message"]=e.error.message,t["error.packageUrl"]=e.error.pkg.url),this.reporter.sendTelemetryEvent("AcquisitionFailed",t)}handleTestExecutionCountReport(e){e.debugCounts&&this.reporter.sendTelemetryEvent("DebugTest",void 0,e.debugCounts),e.runCounts&&this.reporter.sendTelemetryEvent("RunTest",void 0,e.runCounts)}handleProjectConfigurationReceived(e){let t=e.projectConfiguration;O$(t,this.platformInfo,this.dotnetInfo,this.solutionPath??"",this.useModernNet)}};var _E=ye(require("vscode"));var k$=require("util");function A$(r,e){let t,n=r.pipe().subscribe(()=>{let i=e.getRelevantOptions(),o=KPt(i);t||(t=o);let s=i.changedCommonOptions.filter(u=>!(0,k$.isDeepStrictEqual)(t.commonOptions.get(u),o.commonOptions.get(u))),a=i.changedLanguageServerOptions.filter(u=>!(0,k$.isDeepStrictEqual)(t.languageServerOptions.get(u),o.languageServerOptions.get(u))),c=i.changedOmnisharpOptions.filter(u=>!(0,k$.isDeepStrictEqual)(t.omnisharpOptions.get(u),o.omnisharpOptions.get(u)));t=o,(s.length>0||a.length>0||c.length>0)&&e.handleOptionChanges({changedCommonOptions:s,changedLanguageServerOptions:a,changedOmnisharpOptions:c})});return new md(n)}function KPt(r){return{commonOptions:new Map(r.changedCommonOptions.map(e=>[e,us[e]])),omnisharpOptions:new Map(r.changedOmnisharpOptions.map(e=>[e,qr[e]])),languageServerOptions:new Map(r.changedLanguageServerOptions.map(e=>[e,ls[e]]))}}function oqe(r){return A$(r,{getRelevantOptions:()=>({changedCommonOptions:Dj,changedLanguageServerOptions:[],changedOmnisharpOptions:uSe}),handleOptionChanges(n){if(n.changedCommonOptions.find(s=>s==="useOmnisharpServer")){let s={title:_E.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};ba(_E,_E.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),s);return}let i=_E.l10n.t("C# configuration has changed. Would you like to relaunch the Language Server with your changes?"),o={title:_E.l10n.t("Restart Language Server"),command:"o.restart"};ba(_E,i,o)}})}var L$=class extends Qf{post=e=>{switch(e.type){case 48:this.logger.appendLine("Warning: project.json is no longer a supported project format for .NET Core applications. Update to the latest version of .NET Core (https://aka.ms/netcoredownload) and use 'dotnet migrate' to upgrade your project (see https://aka.ms/netcoremigrate for details).");break;case 35:this.handleDocumentSynchronizationFailure(e);break;case 45:this.logger.appendLine("Getting latest OmniSharp version information");break}};handleDocumentSynchronizationFailure(e){this.logger.appendLine(`Failed to synchronize document '${e.documentPath}': ${e.errorMessage}`)}};async function sqe(r,e,t,n,i,o,s,a,c){Ka.commands.executeCommand("setContext","dotnet.server.activationContext","OmniSharp");let u=qr.useModernNet,l=new I$(e,()=>c,u);i.subscribe(l.post);let d=new L$(o);i.subscribe(d.post);let f=new FU(a),p=new qU(a);i.subscribe(f.post),i.subscribe(p.post);let _=new YL(s),D=new KL(s);i.subscribe(_.post),i.subscribe(D.post);let x=Ka.window.createOutputChannel(Ka.l10n.t("OmniSharp Log")),N=new zU(x,e),A=new UU(x);i.subscribe(N.post),i.subscribe(A.post);let U=new HU(Ka,()=>qr.disableMSBuildDiagnosticWarning||!1);i.subscribe(U.post);let ee=new BU(Ka);i.subscribe(ee.post);let he=new $U(Ka);i.subscribe(he.post);let we=new XP(Ka.window.createStatusBarItem("C#-Language-Service-Status",Ka.StatusBarAlignment.Left,Number.MIN_VALUE+2));we.name="C# Language Service Status";let V=new VU(we);i.subscribe(V.post);let W=new XP(Ka.window.createStatusBarItem("C#-Project-Selector",Ka.StatusBarAlignment.Left,Number.MIN_VALUE+1));W.name="C# Project Selector";let te=new GU(W);i.subscribe(te.post);let De=new XP(Ka.window.createStatusBarItem("C#-Code-Analysis",Ka.StatusBarAlignment.Left,Number.MIN_VALUE));De.name="C# Code Analysis";let ae=new KU(De);if(i.subscribe(ae.post),!1){let Me=new JU(x);i.subscribe(Me.post)}let qe=new XU(o);return i.subscribe(qe.post),$y.razorDevMode||await new QU(n,i,r.extension.packageJSON,e,r.extension.extensionPath).DownloadAndInstallRazorOmnisharp(r.extension.packageJSON.defaults.razorOmnisharp),oqe(t),r.subscriptions.push(Ka.window.onDidChangeActiveTextEditor(()=>{i.post(new WH)})),YPt(r,r.extension.packageJSON,e,n,i,r.extension.extensionPath,x)}async function YPt(r,e,t,n,i,o,s){let a=new po,c=new QP(T$),u=new eH(t),l=new rH;l.register(),a.add(l);let d=new E$(Ka,n,e,t,i,o,c,u,r,s,l),f=new f$(d),p=new DM(d,i,l),_=new R$(d),D;return a.add(d.onServerStart(async()=>{D=await d.registerProviders(i,f,p)})),a.add(d.onServerStop(()=>{D?.dispose(),D=void 0})),a.add(eoe(r,d,t,i,c,u,_)),a.add(d.onServerStart(async()=>{await b$(r,_)})),Ka.workspace.getConfiguration("csharp").get("suppressProjectJsonWarning")||a.add(d.onServerStart(async()=>{await gS(d).then(N=>{if(N.DotNet&&N.DotNet.Projects.length>0){let A=Ka.l10n.t("project.json is no longer a supported project format for .NET Core applications."),U=Ka.l10n.t("More Detail");i.post(new UH),up(Ka,A,U)}})})),a.add(d.onServerStart(async()=>{let N={};await gS(d).then(A=>{A.DotNet&&A.DotNet.Projects.length>0&&(N["projectjson.projectcount"]=A.DotNet.Projects.length,N["projectjson.filecount"]=Zk(A.DotNet.Projects,U=>a8(U.SourceFiles))),A.MsBuild&&A.MsBuild.Projects.length>0&&(N["msbuild.projectcount"]=A.MsBuild.Projects.length,N["msbuild.filecount"]=Zk(A.MsBuild.Projects,U=>a8(U.SourceFiles)),N["msbuild.unityprojectcount"]=Zk(A.MsBuild.Projects,U=>U.IsUnityProject?1:0),N["msbuild.netcoreprojectcount"]=Zk(A.MsBuild.Projects,U=>aOe(U)?1:0)),i.post(new uH("OmniSharp.Start",N))})})),a.add(d.onBeforeServerStart(async N=>{$y.razorDevMode&&i.post(new FH),await r.workspaceState.update("lastSolutionPathOrFolder",N)})),qr.autoStart&&d.autoStart(r.workspaceState.get("lastSolutionPathOrFolder","")).catch(N=>{throw N}),a.add(new md(()=>{p.dispose(),f.dispose(),d.stop().catch(N=>console.error(N))})),a.add(Ka.debug.registerDebugConfigurationProvider("coreclr",new sO(_,t,s))),r.subscriptions.push(a),new Promise(N=>d.onServerStart(A=>N({server:d,advisor:f,testManager:p})))}var rVe=ye(require("fs")),nVe=ye(GBe()),rfe=ye(require("path")),YE=ye(require("vscode"));var Z3e=ye(require("path")),eVe=ye(require("vscode"));var oC=ye(require("vscode")),LF=ye(an());var KBe=ye(require("vscode"));var __=(s=>(s[s.added=0]="added",s[s.removed=1]="removed",s[s.opened=2]="opened",s[s.closed=3]="closed",s[s.csharpChanged=4]="csharpChanged",s[s.htmlChanged=5]="htmlChanged",s))(__||{});function io(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}var b_=class{constructor(e,t,n){this.documentManager=e;this.logger=n;e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}static scheme="virtualCSharp-razor";onDidChangeEmitter;get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.csharpDocument.getContent()}
// ${t.csharpDocument.hostDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${io(e)}' when updating the C# buffer. This typically happens when a document is removed.`),"")}ensureDocumentContent(e){this.onDidChangeEmitter.fire(e)}documentChanged(e){(e.kind===4||e.kind===2||e.kind===1)&&this.onDidChangeEmitter.fire(e.document.csharpDocument.uri)}findRazorDocument(e){let t=io(e);return this.documentManager.documents.find(n=>n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var Do=class{static serialize(e){if(e.scheme===b_.scheme){let n=e.with({scheme:"file"}).toString(!0);return e.scheme+n.slice(4)}else return e.toString(!0)}static deserialize(e){return KBe.Uri.parse(e,!0)}};var Fg=ye(require("vscode")),hs=ye(XW()),YFt="roslyn.changeRazorCSharp",JFt="roslyn.closeRazorCSharp",Vle="roslyn.pullDiagnosticRazorCSharp",Gle="roslyn.provideCodeActions",Kle="roslyn.resolveCodeAction",Yle="roslyn.provideCompletions",Jle="roslyn.resolveCompletion";var Xle="roslyn.simplifyMethod",Qle="roslyn.formatNewFile",Zle="razor.initialize",ede="roslyn.provideInlayHints",tde="roslyn.resolveInlayHint";function YBe(r,e){r.subscriptions.push(Fg.commands.registerCommand(YFt,async n=>{await e.sendNotification(hs.DidChangeTextDocumentNotification.method,n)})),r.subscriptions.push(Fg.commands.registerCommand(JFt,async n=>{await e.sendNotification(hs.DidCloseTextDocumentNotification.method,n)})),r.subscriptions.push(Fg.commands.registerCommand(Vle,async n=>{let i=new hs.RequestType(hs.DocumentDiagnosticRequest.method);return await e.sendRequest(i,n,hs.CancellationToken.None)})),r.subscriptions.push(Fg.commands.registerCommand(Xle,async n=>{let i=new hs.RequestType("roslyn/simplifyMethod");return await e.sendRequest(i,n,hs.CancellationToken.None)}));let t=new hs.RequestType("roslyn/formatNewFile");r.subscriptions.push(Fg.commands.registerCommand(Qle,async n=>await e.sendRequest(t,n,hs.CancellationToken.None))),r.subscriptions.push(Fg.commands.registerCommand(Gle,async n=>await e.sendRequest(hs.CodeActionRequest.type,n,hs.CancellationToken.None))),r.subscriptions.push(Fg.commands.registerCommand(Kle,async n=>await e.sendRequest(hs.CodeActionResolveRequest.type,n,hs.CancellationToken.None))),r.subscriptions.push(Fg.commands.registerCommand(ede,async n=>await e.sendRequest(hs.InlayHintRequest.type,n,hs.CancellationToken.None))),r.subscriptions.push(Fg.commands.registerCommand(tde,async n=>await e.sendRequest(hs.InlayHintResolveRequest.type,n,hs.CancellationToken.None))),r.subscriptions.push(Fg.commands.registerCommand(Yle,async n=>await e.sendRequest(hs.CompletionRequest.type,n,hs.CancellationToken.None))),r.subscriptions.push(Fg.commands.registerCommand(Jle,async n=>await e.sendRequest(hs.CompletionResolveRequest.type,n,hs.CancellationToken.None))),r.subscriptions.push(Fg.commands.registerCommand(Zle,async n=>{await e.sendNotification("razor/initialize",{pipeName:n})}))}var x4=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideCodeActionsEndpoint="razor/provideCodeActions";static resolveCodeActionsEndpoint="razor/resolveCodeActions";codeActionRequestType=new LF.RequestType(r.provideCodeActionsEndpoint);codeActionResolveRequestType=new LF.RequestType(r.resolveCodeActionsEndpoint);emptyCodeActionResponse=[];emptyCodeAction={};async register(){await this.serverClient.onRequestWithParams(this.codeActionRequestType,async(e,t)=>this.provideCodeActions(e,t)),await this.serverClient.onRequestWithParams(this.codeActionResolveRequestType,async(e,t)=>this.resolveCodeAction(e,t))}async provideCodeActions(e,t){try{let n=e.codeActionParams,i=oC.Uri.parse(n.textDocument.uri,!0),o=await this.documentManager.getDocument(i);if(o===void 0)return this.emptyCodeActionResponse;if(e.languageKind!==1)return this.emptyCodeActionResponse;if(!this.documentManager.roslynActivated)return this.emptyCodeActionResponse;let s=await oC.workspace.openTextDocument(i);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(s,o.csharpDocument,e.hostDocumentVersion,t))return this.emptyCodeActionResponse;let c=Do.serialize(o.csharpDocument.uri);return n.textDocument=LF.TextDocumentIdentifier.create(c),await oC.commands.executeCommand(Gle,n)}catch(n){this.logger.logWarning(`${r.provideCodeActionsEndpoint} failed with ${n}`)}return this.emptyCodeActionResponse}async resolveCodeAction(e,t){try{let n=e.codeAction,i=oC.Uri.parse(e.identifier.uri,!0),o=await this.documentManager.getDocument(i);if(o===void 0)return this.emptyCodeAction;if(e.languageKind!==1)return this.emptyCodeAction;let s=await oC.workspace.openTextDocument(o.uri);return await this.documentSynchronizer.trySynchronizeProjectedDocument(s,o.csharpDocument,e.hostDocumentVersion,t)?await oC.commands.executeCommand(Kle,n):this.emptyCodeAction}catch(n){this.logger.logWarning(`${r.resolveCodeActionsEndpoint} failed with ${n}`)}return this.emptyCodeAction}};var ty=ye(require("vscode")),w_=ye(an());var O4=class r{constructor(e,t,n,i,o){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.projectedCSharpProvider=i;this.logger=o}static completionEndpoint="razor/completion";static completionResolveEndpoint="razor/completionItem/resolve";completionRequestType=new w_.RequestType(r.completionEndpoint);completionResolveRequestType=new w_.RequestType(r.completionResolveEndpoint);static emptyCompletionList={items:new Array(0)};static emptyCompletionItem={};async register(){await this.serverClient.onRequestWithParams(this.completionRequestType,async(e,t)=>this.provideCompletions(e,t)),await this.serverClient.onRequestWithParams(this.completionResolveRequestType,async(e,t)=>this.provideResolvedCompletionItem(e,t))}async provideCompletions(e,t){try{let n=ty.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return r.emptyCompletionList;let o=await ty.workspace.openTextDocument(n),s;if(e.projectedKind===2)s=i.htmlDocument;else if(e.projectedKind===1)s=i.csharpDocument;else return this.logger.logWarning(`Unknown language kind value ${e.projectedKind}`),r.emptyCompletionList;if(!s)return this.logger.logWarning(`Null or undefined virtual document: ${s}`),r.emptyCompletionList;if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,s,e.identifier.version,t))return r.emptyCompletionList;let c=e.context.triggerCharacter==="@"?void 0:e.context.triggerCharacter,u=e.context.triggerCharacter==="@"?w_.CompletionTriggerKind.Invoked:e.context.triggerKind;return e.projectedKind===1?this.provideCSharpCompletions(u,c,s,e.projectedPosition,e.provisionalTextEdit):this.provideVscodeCompletions(s.uri,e.projectedPosition,c)}catch(n){this.logger.logWarning(`${r.completionEndpoint} failed with ${n}`)}return r.emptyCompletionList}async provideResolvedCompletionItem(e,t){let n=ty.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),o=(await this.documentManager.getDocument(n)).csharpDocument,s=o.getProvisionalDotPosition();try{if(e.originatingKind!=1||e.completionItem.data.TextDocument==null)return e.completionItem;{o.ensureResolveProvisionalDot()&&s!==void 0&&await this.ensureProvisionalDotUpdatedInCSharpDocument(o.uri,s);let a=await ty.commands.executeCommand(Jle,e.completionItem);return a||e.completionItem}}catch(a){this.logger.logWarning(`${r.completionResolveEndpoint} failed with ${a}`)}finally{o.removeResolveProvisionalDot()&&s!==void 0&&await this.ensureProvisionalDotUpdatedInCSharpDocument(o.uri,s,!0)}return r.emptyCompletionItem}async provideCSharpCompletions(e,t,n,i,o){let s=r.getIndexOfPosition(n,i);try{if(n.clearResolveCompletionRequestVariables(),o){if(s===-1)return r.emptyCompletionList;n.addProvisionalDotAt(s),n.setProvisionalDotPosition(i),await this.ensureProvisionalDotUpdatedInCSharpDocument(n.uri,i)}let a=Do.serialize(n.uri),c={context:{triggerKind:e,triggerCharacter:t},textDocument:{uri:a},position:i},u=await ty.commands.executeCommand(Yle,c);return u?(r.adjustCSharpCompletionList(u,t),u):r.emptyCompletionList}catch(a){this.logger.logWarning(`${r.completionEndpoint} failed with ${a}`)}finally{o&&n.removeProvisionalDot()&&await this.ensureProvisionalDotUpdatedInCSharpDocument(n.uri,i,!0)}return r.emptyCompletionList}async ensureProvisionalDotUpdatedInCSharpDocument(e,t,n=!1){this.projectedCSharpProvider.ensureDocumentContent(e),await this.waitForDocumentChange(e,t,n)}async waitForDocumentChange(e,t,n){return new Promise(i=>{let o=ty.workspace.onDidChangeTextDocument(s=>{let a=n?"":".";s.document.uri.toString()===e.toString()&&s.contentChanges.some(u=>u.range.start.character<=t.character&&u.range.start.line===t.line&&u.range.end.character+1>=t.character&&u.range.end.line===t.line&&u.text===a)&&(i(),o.dispose())})})}static adjustCSharpCompletionList(e,t){let n=e.itemDefaults?.data;for(let i of e.items)i.textEdit=void 0,t==="@"&&i.commitCharacters&&(i.commitCharacters=i.commitCharacters.filter(o=>o!=="{"&&o!=="("&&o!=="*")),i.label.toString().includes("\u2605")&&i.textEditText&&(i.insertText=i.textEditText),i.data||(i.data=n)}static getIndexOfPosition(e,t){let n=e.getContent(),i=0,o=0;for(;i<t.line&&o<n.length;){let a=n[o];a==="\r"?(i++,o+1<n.length&&n[o+1]===`
`&&o++):a===`
`&&i++,o++}return i!==t.line?-1:o+t.character-1}async provideVscodeCompletions(e,t,n){let i=await ty.commands.executeCommand("vscode.executeCompletionItemProvider",e,t,n),o=i instanceof Array?i:i?i.items:[],s=new Array(o.length);for(let u=0;u<o.length;u++){let l=o[u],d={command:l.command,commitCharacters:l.commitCharacters,detail:l.detail,documentation:r.toMarkupContent(l.documentation),filterText:l.filterText,insertText:r.toLspInsertText(l.insertText),insertTextFormat:r.toLspInsertTextFormat(l.insertText),insertTextMode:r.toInsertTextMode(l.keepWhitespace),kind:l.kind?l.kind+1:l.kind,label:r.toLspCompletionItemLabel(l.label),preselect:l.preselect,sortText:l.sortText,textEdit:r.toLspTextEdit(r.toLspInsertText(l.insertText),l.range)};s[u]=d}return{isIncomplete:i instanceof Array?!1:i?i.isIncomplete:!1,items:s}}static toMarkupContent(e){let t=e;return t?.value?{value:t.value,kind:"markdown"}:e}static toLspCompletionItemLabel(e){return e?.label??e}static toLspInsertText(e){return e?.value??e}static toLspInsertTextFormat(e){return e instanceof ty.SnippetString?w_.InsertTextFormat.Snippet:w_.InsertTextFormat.PlainText}static toInsertTextMode(e){return e===void 0?void 0:e?w_.InsertTextMode.asIs:w_.InsertTextMode.adjustIndentation}static toLspTextEdit(e,t){if(!t)return;e||(e="");let n=t.inserting,i=t.replacing;return n||i?!n||!i?void 0:{newText:e,insert:r.toLspRange(n),replace:r.toLspRange(i)}:{newText:e,range:this.toLspRange(t)}}static toLspRange(e){return{start:r.toLspPosition(e.start),end:r.toLspPosition(e.end)}}static toLspPosition(e){return{line:e.line,character:e.character}}};var MF=ye(require("vscode"));var sC=ye(require("vscode"));var QBe=ye(require("vscode"));var XBe=ye(require("vscode"));var JBe=ye(require("vscode"));function rde(r){return{line:r.line,character:r.character}}function nde(r){return new JBe.Position(r.line,r.character)}function NI(r){return{start:rde(r.start),end:rde(r.end)}}function I4(r){return new XBe.Range(nde(r.start),nde(r.end))}function NF(r){return{range:NI(r.range),newText:r.newText}}function ide(r){return new QBe.TextEdit(I4(r.range),r.newText)}function ode(r){let e=new sC.WorkspaceEdit;if(Array.isArray(r.documentChanges))for(let t of r.documentChanges)if(t.kind==="create"){let n=t;e.createFile(sC.Uri.parse(n.uri),n.options)}else if(t.kind==="rename"){let n=t;e.renameFile(sC.Uri.parse(n.oldUri),sC.Uri.parse(n.newUri),n.options)}else if(t.kind==="delete"){let n=t;e.deleteFile(sC.Uri.parse(n.uri),n.options)}else{let n=t,i=n.edits.map(ide);e.set(sC.Uri.parse(n.textDocument.uri),i)}if(r.changes!==void 0)for(let t in r.changes){if(!Object.prototype.hasOwnProperty.call(r.changes,t))continue;let n=r.changes[t].map(ide);e.set(sC.Uri.parse(t),n)}return e}var k4=class r{constructor(e,t){this.serverClient=e;this.logger=t}static codeActionResolveEndpoint="textDocument/codeActionResolve";static razorCodeActionRunnerCommand="razor/runCodeAction";register(){return MF.commands.registerCommand(r.razorCodeActionRunnerCommand,async e=>this.runCodeAction(e),this)}async runCodeAction(e){let t=await this.serverClient.sendRequest(r.codeActionResolveEndpoint,{data:e,title:e.action}),n,i;try{n=ode({changes:t.edit.changes}),i=ode({documentChanges:t.edit.documentChanges})}catch(o){return this.logger.logError(`Unexpected error deserializing code action for ${e.action}`,o),Promise.resolve(!1)}return MF.workspace.applyEdit(i).then(()=>MF.workspace.applyEdit(n))}};var iw=ye(require("vscode"));var Sc=class{constructor(e,t,n,i){this.documentSynchronizer=e;this.documentManager=t;this.serviceClient=n;this.logger=i}async getProjection(e,t,n){let i=await this.serviceClient.languageQuery(t,e.uri);switch(i.kind){case 1:case 2:{let o=await this.documentManager.getDocument(e.uri),s=i.kind===1?o.csharpDocument:o.htmlDocument;if(i.hostDocumentVersion===void 0)this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find a document version associated with the document '${io(e.uri)}'.`);else if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(e,s,i.hostDocumentVersion,n))return null;return{uri:s.uri,position:i.position,languageKind:i.kind,hostDocumentVersion:s.hostDocumentSyncVersion}}default:return null}}};var ZBe=ye(require("vscode")),FF=class extends ZBe.CodeLens{constructor(t,n,i,o){super(t,o);this.uri=n;this.document=i}};var MI=ye(require("vscode"));var eWe=ye(require("vscode"));var A4="__virtual.html",qF="__virtual.cs",XFt=`__bg${qF}`;function aC(r){return io(r).endsWith(qF)}function L4(r){return io(r).endsWith(A4)}function $E(r){let t=io(r).replace(XFt,"");return t=t.replace(qF,""),t=t.replace(A4,""),eWe.Uri.file(t)}var ry=class r{language="Razor";static async remapGeneratedFileWorkspaceEdit(e,t,n,i){let o=new Map;for(let a of e.entries()){let c=a[0],u=a[1];if(!aC(c)){o.set(c,u);continue}let l=$E(c);for(let d of u){let f=await r.remapGeneratedFileTextEdit(l,d,t,n,i);f&&this.addElementToDictionary(o,l,f)}}return this.mapToTextEdit(o)}static async remapGeneratedFileTextEdit(e,t,n,i,o){let s=await n.mapToDocumentRanges(1,[t.range],e);if(!s||!s.ranges||!s.ranges[0]){i.logWarning(`Unable to remap file ${e.path} at ${t.range}.`);return}else{let a=new MI.TextEdit(s.ranges[0],t.newText);return i.logVerbose(`Re-mapping text ${t.newText} at ${t.range} in ${e.path} to ${s.ranges[0]} in ${e.path}`),a}}static async remapGeneratedFileLocation(e,t,n,i){if(!aC(e.uri))return e;let o=$E(e.uri),s=await t.mapToDocumentRanges(1,[e.range],o);if(!s||!s.ranges||!s.ranges[0]){n.logWarning(`Unable to remap file ${e.uri.path} at ${e.range}.`);return}return n.logVerbose(`Re-mapping location ${e.range} in ${e.uri.path} to ${s.ranges[0]} in ${o.path}`),new MI.Location(o,s.ranges[0])}static async remapGeneratedFileLocations(e,t,n,i){let o=[];for(let s of e){let a=await this.remapGeneratedFileLocation(s,t,n,i);a!==void 0&&o.push(a)}return o}static mapToTextEdit(e){let t=new MI.WorkspaceEdit;return e.forEach((n,i)=>{t.set(i,n)}),t}static addElementToDictionary(e,t,n){let i;if(e.has(t))i=e.get(t),i&&i.push(n);else{let o=new Array;o.push(n),e.set(t,o)}}};var N4=class extends Sc{onDidChangeCodeLenses;constructor(e,t,n,i){super(e,t,n,i);let o=new iw.EventEmitter;this.onDidChangeCodeLenses=o.event,t.onChange(async s=>{if(s.kind!==0)return;iw.workspace.textDocuments.filter(c=>!c.isClosed).map(c=>c.uri).includes(s.document.uri)&&(await new Promise(c=>setTimeout(c,5e3)),o.fire())}),t.onRazorInitialized(()=>o.fire())}async provideCodeLenses(e,t){try{if(!this.documentManager.razorDocumentGenerationInitialized)return;let n=await this.documentManager.getDocument(e.uri);if(!n)return;let i=n.csharpDocument,o=await iw.commands.executeCommand("vscode.executeCodeLensProvider",i.uri);if(!o)return;let s=new Array;for(let a of o){let c=await this.serviceClient.mapToDocumentRanges(1,[a.range],n.uri);if(c&&c.ranges.length>0){let u=new FF(c.ranges[0],n.uri,e,a.command);s.push(u)}}return s}catch(n){return this.logger.logWarning(`provideCodeLens failed with ${n}`),[]}}async resolveCodeLens(e,t){if(e instanceof FF)return this.resolveRazorCodeLens(e,t)}async resolveRazorCodeLens(e,t){e.command={title:"",command:"",arguments:[]};try{let n=await this.documentManager.getDocument(e.uri);if(!n)return e;let i=await this.getProjection(e.document,e.range.start,t);if(!i||i.languageKind!==1)return e;let o=await iw.commands.executeCommand("vscode.executeReferenceProvider",i.uri,i.position),s=await ry.remapGeneratedFileLocations(o,this.serviceClient,this.logger,t),a=s.length;return e.command={title:a===1?iw.l10n.t("1 reference"):iw.l10n.t("{0} references",a),command:"editor.action.showReferences",arguments:[n.uri,e.range.start,s]},e}catch(n){return this.logger.logWarning(`resolveCodeLens failed with ${n}`),e}}};var FI=ye(require("vscode")),tWe=ye(il());var M4=class{constructor(e,t){this.uri=e;this.range=t}};var F4=class{constructor(e,t,n){this.label=e;this.textEdit=t;this.additionalTextEdits=n}};var q4=class r{constructor(e,t,n){this.documentManager=e;this.serverClient=t;this.logger=n}static provideHtmlColorPresentation="razor/provideHtmlColorPresentation";colorPresentationRequestType=new tWe.RequestType(r.provideHtmlColorPresentation);emptyColorInformationResponse=[];async register(){await this.serverClient.onRequestWithParams(this.colorPresentationRequestType,async(e,t)=>this.provideHtmlColorPresentation(e,t))}async provideHtmlColorPresentation(e,t){try{let n=FI.Uri.parse(`${e.textDocument.uri}`,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=new FI.Color(e.color.red,e.color.green,e.color.blue,e.color.alpha),s=i.htmlDocument.uri,a=await FI.commands.executeCommand("vscode.executeColorPresentationProvider",o,new M4(s,e.range));return this.SerializeColorPresentations(a)}catch(n){this.logger.logWarning(`${r.provideHtmlColorPresentation} failed with ${n}`)}return this.emptyColorInformationResponse}SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=NF(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=NF(a);o.push(c)}let s=new F4(n.label,i,o);t.push(s)}return t}};var cC=ye(require("vscode"));var pf=ye(require("vscode"));var jF=class r{constructor(e){this.documentManager=e;e.onChange(async t=>this.documentChanged(t))}static viewType="razorCSharpPreview";panel;csharpContent;async show(){this.panel?this.panel.reveal(pf.ViewColumn.Two):(this.panel=pf.window.createWebviewPanel(r.viewType,pf.l10n.t("Razor C# Preview"),pf.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}async documentChanged(e){this.panel&&(e.kind===4||e.kind===2||e.kind===3)&&await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(pf,pf.l10n.t("Unexpected error when attaching to C# preview window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copy":if(!this.csharpContent)return;await pf.env.clipboard.writeText(this.csharpContent),ba(pf,pf.l10n.t("Razor C# copied to clipboard"));return}}),this.panel.onDidDispose(()=>this.panel=void 0)}async update(){if(!this.panel)return;let e=await this.documentManager.getActiveDocument(),t="",n="";e?(this.csharpContent=e.csharpDocument.getContent(),t=io(e.uri),n=io(e.csharpDocument.uri)):this.csharpContent=void 0;let i=this.csharpContent?this.csharpContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;");let o=pf.l10n.t("Report a Razor issue"),s=pf.l10n.t("Host document file path"),a=pf.l10n.t("Virtual document file path"),c=pf.l10n.t("Copy C#");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        button:focus-visible {
            outline-color: var(--vscode-focusBorder)
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>${s}: <strong>${t}</strong></p>
    <p>${a}: <strong>${n}</strong></p
    <p><button onclick="copy()">${c}</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`}};var j4=class{projectionProvider;csharpPreviewPanel;constructor(e,t,n){this.projectionProvider=new b_(e,t,n),this.csharpPreviewPanel=new jF(e)}register(){let e=[cC.workspace.registerTextDocumentContentProvider(b_.scheme,this.projectionProvider),cC.commands.registerCommand("extension.showRazorCSharpWindow",async()=>this.csharpPreviewPanel.show())];return cC.window.registerWebviewPanelSerializer&&e.push(cC.window.registerWebviewPanelSerializer(jF.viewType,{deserializeWebviewPanel:async t=>{await this.csharpPreviewPanel.revive(t)}})),cC.Disposable.from(...e)}};var U4=ye(require("vscode"));var z4=class extends Sc{async provideDefinition(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===3)return;let o=await U4.commands.executeCommand("vscode.executeDefinitionProvider",i.uri,i.position),s=new Array;for(let a of o)if(i.languageKind===2&&L4(a.uri)){let c=$E(a.uri);s.push(new U4.Location(c,a.range))}else if(aC(a.uri)){let c=await ry.remapGeneratedFileLocation(a,this.serviceClient,this.logger,n);if(c===void 0)continue;s.push(c)}else s.push(a);return s}};var nWe=ye(require("child_process")),H4=ye(require("os")),Zo=ye(require("vscode"));var rWe="muhammad-sammy.csharp";var B4=class{constructor(e,t){this.vscodeApi=e;this.documentManager=t}async create(e){let t,n,i;if(e.document){t=await this.getRazor(e.document);let be=await this.documentManager.getDocument(e.document.uri);n=await this.getProjectedCSharp(be),i=await this.getProjectedHtml(be)}else t=Zo.l10n.t("Non Razor file as active document"),n=Zo.l10n.t("Could not determine CSharp content"),i=Zo.l10n.t("Could not determine Html content");let o=this.getExtensionVersion(),s="";try{s=await this.getDotnetInfo()}catch(be){s=Zo.l10n.t("A valid dotnet installation could not be found: {0}",be?.toString())}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s),p=Zo.l10n.t("Is this a Bug or Feature request?"),_=Zo.l10n.t("Bug"),D=Zo.l10n.t("Steps to reproduce"),x=Zo.l10n.t("Please fill in this section"),N=Zo.l10n.t("Description of the problem"),A=Zo.l10n.t("Expected behavior"),U=Zo.l10n.t("Actual behavior"),ee=Zo.l10n.t("Logs"),he=Zo.l10n.t("OmniSharp"),we=Zo.l10n.t(`To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".`),V=Zo.l10n.t("Razor"),W=Zo.l10n.t("Expand"),te=Zo.l10n.t("Workspace information"),De=Zo.l10n.t("Razor document"),ae=Zo.l10n.t("Projected CSharp document"),ue=Zo.l10n.t("Projected Html document"),qe=Zo.l10n.t("Machine information"),Me=Zo.l10n.t("Razor.VSCode version"),ce=Zo.l10n.t("VSCode version"),Ce=Zo.l10n.t("Extensions");return`## ${p}:
${_}

## ${D}:
------------------- ${x} -------------------------

## ${N}:
------------------- ${x} -------------------------

${A}:

${U}:

## ${ee}

#### ${he}
------------------- ${x} -------------------------
${we}

#### ${V}
<details><summary>${W}</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## ${te}

#### ${De}:
<details><summary>${W}</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### ${ae}:
<details><summary>${W}</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### ${ue}:
<details><summary>${W}</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## ${qe}


**${ce}**: ${this.vscodeApi.version}
**${Me}**: ${o}
#### \`dotnet --info\`

<details><summary>${W}</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### ${Ce}
<details><summary>${W}</summary>
<p>

${a}

</p>
</details>`}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}async getRazor(e){return e.getText()}async getProjectedCSharp(e){let t=Zo.l10n.t("Projected CSharp as seen by extension"),n=`////////////////////// ${t} ///////////////////////
${e.csharpDocument.getContent()}


////////////////////// ${t} ///////////////////////`,i=Zo.l10n.t("Unable to resolve VSCode's version of CSharp");try{let o=await this.vscodeApi.workspace.openTextDocument(e.csharpDocument.uri);o?n=`${n}
${o.getText()}`:n=`${n}
${i}`}catch{n=`${n}
${i}`}return n}async getProjectedHtml(e){let t=Zo.l10n.t("Projected Html as seen by extension"),n=`////////////////////// ${t} ///////////////////////
${e.htmlDocument.getContent()}


////////////////////// ${t} ///////////////////////`,i=Zo.l10n.t("Unable to resolve VSCode's version of Html");try{let o=await this.vscodeApi.workspace.openTextDocument(e.htmlDocument.uri);o?n=`${n}
${o.getText()}`:n=`${n}
${i}`}catch{n=`${n}
${i}`}return n}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(rWe);return e?e.packageJSON.version:Zo.l10n.t("Unable to find Razor extension version.")}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=Zo.l10n.t("Extension"),n=Zo.l10n.t("Author"),i=Zo.l10n.t("Version"),o=`|${t}|${n}|${i}|${H4.EOL}|---|---|---|`,s=e.map(c=>`|${c.packageJSON.name}|${c.packageJSON.publisher}|${c.packageJSON.version}|`).join(H4.EOL);return`
${o}${H4.EOL}${s};
`}async getDotnetInfo(){return new Promise((e,t)=>{try{nWe.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};var zF=ye(require("vscode"));var ps=class r{static id="aspnetcorerazor";static fileExtensions=["cshtml","razor"];static globbingPattern=`**/*.{${r.fileExtensions.join(",")}}`;static documentSelector={language:this.id,pattern:r.globbingPattern}};var iWe=ye(require("os")),W4=class{constructor(e,t){this.razorFileFocusChange=e;this.logger=t;this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}logMessages=[];logOutput="";focusRegistration;logRegistration;lastFocusedRazorDocument;stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(iWe.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};var $4=class{constructor(e){this.logger=e;this.onRazorDocumentFocusedEmitter=new zF.EventEmitter}onRazorDocumentFocusedEmitter=new zF.EventEmitter;register(){return zF.window.onDidChangeActiveTextEditor(e=>{e&&ps.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new W4(this.onRazorDocumentFocusedEmitter.event,this.logger)}};var oo=ye(require("vscode"));var UF=class r{constructor(e,t,n){this.dataCollectorFactory=e;this.reportIssueCreator=t;this.logger=n}static viewType="razorReportIssue";panel;dataCollector;issueContent;traceLevelChange;async show(){this.panel?this.panel.reveal(oo.ViewColumn.Two):(this.panel=oo.window.createWebviewPanel(r.viewType,oo.l10n.t("Report Razor Issue"),oo.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(oo,oo.l10n.t("Unexpected error when attaching to report Razor issue window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){Wi(oo,oo.l10n.t("You must first start the data collection before copying."));return}let t=this.dataCollector.collect();this.issueContent=await this.reportIssueCreator.create(t),this.dataCollector=void 0}await oo.env.clipboard.writeText(this.issueContent),ba(oo,oo.l10n.t("Razor issue copied to clipboard"));return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),ba(oo,oo.l10n.t('Razor issue data collection started. Reproduce the issue then press "Stop"'));return;case"stopIssue":if(!this.dataCollector){Wi(oo,oo.l10n.t("You must first start the data collection before stopping."));return}this.dataCollector.stop(),ba(oo,oo.l10n.t("Razor issue data collection stopped. Copying issue content..."));return}}),this.traceLevelChange=this.logger.outputChannel.onDidChangeLogLevel(async()=>this.update()),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}async update(){if(!this.panel)return;let e="";if(this.logger.logLevel<=oo.LogLevel.Debug&&this.logger.logLevel!=oo.LogLevel.Off){let i=`<button onclick="startIssue()">${oo.l10n.t("Start")}</button>`,o=oo.l10n.t("Press {0}",i),s=oo.l10n.t("Perform the actions (or no action) that resulted in your Razor issue"),c=`<button onclick="stopIssue()">${oo.l10n.t("Stop")}</button>`,u=oo.l10n.t("Click {0}. This will copy all relevant issue information.",c),d=`<a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">${oo.l10n.t("Go to GitHub")}</a>`,f=oo.l10n.t("{0}, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.",d),p=oo.env.language,_=`<a href="https://privacy.microsoft.com/${p}/privacystatement">https://privacy.microsoft.com/${p}/privacystatement</a>`,D=oo.l10n.t("Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to GitHub, please remove any personal data which should not be publicly viewable."),x=oo.l10n.t("Copy issue content again");e=`<ol>
    <li>${o}</li>
    <li>${s}</li>
    <li>${u}</li>
    <li>${f}</li>
</ol>

<p><em>${D}
${_}
</em></p>

<button onclick="copyIssue()">${x}</button>`}else{let n="<strong><em>Razor Logging Level</em></strong>",i=`<strong><em>${oo.LogLevel[this.logger.logLevel]}</em></strong>`,o=`<strong><em>${oo.LogLevel[oo.LogLevel.Debug]}</em></strong>`;e="<p>"+oo.l10n.t('Cannot start collecting Razor logs when {0} is set to {1}. Please open the output window, choose the "Razor Log", and use the gear icon to ensure the log level is set to "Debug" or "Trace".',n,i,o)+"</p>"}let t=oo.l10n.t("Report a Razor issue");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>${t}</h3>
${e}
</body>
</html>`}};var V4=class{constructor(e,t,n){this.vscodeApi=e;this.dataCollectorFactory=new $4(n),this.issueCreator=new B4(this.vscodeApi,t),this.issuePanel=new UF(this.dataCollectorFactory,this.issueCreator,n)}issuePanel;issueCreator;dataCollectorFactory;register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",async()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer(UF.viewType,{deserializeWebviewPanel:async t=>{await this.issuePanel.revive(t)}})),this.vscodeApi.Disposable.from(...e)}};var yu=ye(require("vscode"));var ade=ye(require("vscode"));var G4=class{constructor(e){this.uri=e;this.path=io(e)}path;content="";preProvisionalContent;preResolveProvisionalContent;provisionalEditAt;resolveProvisionalEditAt;ProvisionalDotPosition;hostDocumentVersion=null;updates=null;_checksum="";_checksumAlgorithm=1;_encodingCodePage=null;get hostDocumentSyncVersion(){return this.hostDocumentVersion}get length(){return this.content.length}clear(){this.setContent("")}get checksum(){return this._checksum}get checksumAlgorithm(){return this._checksumAlgorithm}get encodingCodePage(){return this._encodingCodePage}update(e,t,n,i,o,s){if(e){if(this.removeProvisionalDot(),this.updates){for(let a of this.updates)this.updateContent(a.changes);this.updates=null}this.updateContent(t),this._checksum=i,this._checksumAlgorithm=o,this._encodingCodePage=s}else{let a=new sde(t,i,o,s);this.updates?this.updates=this.updates.concat(a):this.updates=[a]}this.hostDocumentVersion=n}applyEdits(){let e=this.updates;this.updates=null;let t=this._checksum,n=this._checksumAlgorithm,i=this._encodingCodePage;if(e)for(let o of e)this.updateContent(o.changes),this._checksum=o.checksum,this._checksumAlgorithm=o.checksumAlgorithm,this._encodingCodePage=o.encodingCodePage;return{edits:e,originalChecksum:t,originalChecksumAlgorithm:n,originalEncodingCodePage:i}}getContent(){return this.content}addProvisionalDotAt(e){if(this.provisionalEditAt===e)return;this.removeProvisionalDot(),this.resolveProvisionalEditAt=void 0,this.ProvisionalDotPosition=void 0;let t=this.getEditedContent(".",e,e,this.content);this.preProvisionalContent=this.content,this.provisionalEditAt=e,this.setContent(t)}removeProvisionalDot(){return this.provisionalEditAt&&this.preProvisionalContent?(this.setContent(this.preProvisionalContent),this.resolveProvisionalEditAt=this.provisionalEditAt,this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,!0):!1}ensureResolveProvisionalDot(){if(this.removeResolveProvisionalDot(),this.resolveProvisionalEditAt){let e=this.getEditedContent(".",this.resolveProvisionalEditAt,this.resolveProvisionalEditAt,this.content);return this.preResolveProvisionalContent=this.content,this.setContent(e),!0}return!1}removeResolveProvisionalDot(){return this.resolveProvisionalEditAt&&this.preResolveProvisionalContent?(this.setContent(this.preResolveProvisionalContent),this.provisionalEditAt=void 0,this.preResolveProvisionalContent=void 0,!0):!1}setProvisionalDotPosition(e){this.ProvisionalDotPosition=e}getProvisionalDotPosition(){return this.ProvisionalDotPosition}clearResolveCompletionRequestVariables(){this.resolveProvisionalEditAt=void 0,this.ProvisionalDotPosition=void 0}getEditedContent(e,t,n,i){let o=i.substring(0,t),s=i.substring(n);return i=`${o}${e}${s}`,i}setContent(e){this.content=e}updateContent(e){if(e.length===0)return;let t=this.content;for(let n of e.reverse())t=this.getEditedContent(n.newText,n.span.start,n.span.start+n.span.length,t);this.setContent(t)}},sde=class{constructor(e,t,n,i){this.changes=e;this.checksum=t;this.checksumAlgorithm=n;this.encodingCodePage=i}};var K4=class{constructor(e){this.uri=e;this.path=io(e)}path;content="";hostDocumentVersion=null;get hostDocumentSyncVersion(){return this.hostDocumentVersion}get length(){return this.content.length}clear(){this.setContent("")}update(e,t){if(this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}getContent(){return this.content}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.content=e}};var uC=class{constructor(e,t,n){this.documentManager=e;this.logger=n;e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}static scheme="razor-html";onDidChangeEmitter;get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.htmlDocument.getContent()}
// ${t.htmlDocument.hostDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${io(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}documentChanged(e){(e.kind===5||e.kind===2||e.kind===1)&&this.onDidChangeEmitter.fire(e.document.htmlDocument.uri)}findRazorDocument(e){let t=io(e);return this.documentManager.documents.find(n=>n.htmlDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var oWe=ye(require("vscode"));var Y4=class{constructor(e,t,n){this.uri=e;this.csharpDocument=t;this.htmlDocument=n;this.path=io(e)}path;get isOpen(){for(let e of oWe.workspace.textDocuments)if(e.uri.fsPath==this.uri.fsPath)return!0;return!1}};function sWe(r){let e=ZFt(r),t=QFt(r);return new Y4(r,e,t)}function QFt(r){let t=`${io(r)}${A4}`,n=ade.Uri.file(t);return n=n.with({scheme:uC.scheme}),new K4(n)}function ZFt(r){let t=`${io(r)}${qF}`,n=ade.Uri.file(t);return n=n.with({scheme:b_.scheme}),new G4(n)}qI();var e6=class{constructor(e,t,n,i){this.serverClient=e;this.logger=t;this.telemetryReporter=n;this.platformInfo=i}roslynActivated=!1;razorDocuments={};openRazorDocuments=new Set;onChangeEmitter=new yu.EventEmitter;onRazorInitializedEmitter=new yu.EventEmitter;razorDocumentGenerationInitialized=!1;get onChange(){return this.onChangeEmitter.event}get onRazorInitialized(){return this.onRazorInitializedEmitter.event}get documents(){return Object.values(this.razorDocuments)}async getDocument(e){return this._getDocument(e)}async getActiveDocument(){return!yu.window.activeTextEditor||yu.window.activeTextEditor.document.languageId!==ps.id?null:await this.getDocument(yu.window.activeTextEditor.document.uri)}isRazorDocumentOpenInCSharpWorkspace(e){let t=io(e);return this.openRazorDocuments.has(t)}didOpenRazorCSharpDocument(e){let t=io(e);this.openRazorDocuments.add(t)}didCloseRazorCSharpDocument(e){let t=io(e);this.openRazorDocuments.delete(t)}async initialize(){let e=await yu.workspace.findFiles(ps.globbingPattern);for(let t of e)this.addDocument(t);for(let t of yu.workspace.textDocuments)t.languageId===ps.id&&(t.isClosed||await this.openDocument(t.uri))}register(){let e=yu.workspace.createFileSystemWatcher(ps.globbingPattern),t=e.onDidCreate(async o=>this.addDocument(o)),n=yu.workspace.onDidOpenTextDocument(async o=>{o.languageId===ps.id&&await this.openDocument(o.uri)}),i=yu.workspace.onDidCloseTextDocument(o=>{o.languageId===ps.id&&this.closeDocument(o.uri)});return this.serverClient.onNotification("razor/updateCSharpBuffer",async o=>this.updateCSharpBuffer(o)),this.serverClient.onNotification("razor/updateHtmlBuffer",async o=>this.updateHtmlBuffer(o)),yu.Disposable.from(e,t,n,i)}_getDocument(e){let t=io(e),n=this.findDocument(t);return n||(this.logger.logMessage(`File '${t}' didn't exist in the Razor document list. This is likely because it's from outside the workspace.`),n=this.addDocument(e)),n}async openDocument(e){await this.ensureRazorInitialized();let t=this._getDocument(e);this.notifyDocumentChange(t,2)}async ensureRazorInitialized(){if(this.roslynActivated&&!this.razorDocumentGenerationInitialized){this.razorDocumentGenerationInitialized=!0;let e=ED();await yu.commands.executeCommand(Zle,e),await this.serverClient.connectNamedPipe(e),this.onRazorInitializedEmitter.fire()}}closeDocument(e){let t=this._getDocument(e);e.scheme==="file"&&(yu.workspace.getWorkspaceFolder(e)||this.removeDocument(e)),this.notifyDocumentChange(t,3)}addDocument(e){let t=io(e),n=this.findDocument(t);return n?(this.logger.logMessage(`Skipping document creation for '${t}' because it already exists.`),n):(n=sWe(e),this.razorDocuments[n.path]=n,this.notifyDocumentChange(n,0),n)}removeDocument(e){let t=this._getDocument(e);delete this.razorDocuments[t.path],this.notifyDocumentChange(t,1)}findDocument(e){return this.platformInfo.isLinux()?this.razorDocuments[e]:Object.values(this.razorDocuments).find(t=>t.path.localeCompare(e,void 0,{sensitivity:"base"})===0)}async updateCSharpBuffer(e){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the C# document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=yu.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.csharpDocument;if(e.previousWasEmpty||!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion){let o=i;e.previousWasEmpty&&i.length!==0&&(this.telemetryReporter.reportBuffersOutOfSync(),o.clear()),o.update(n.isOpen,e.changes,e.hostDocumentVersion,e.checksum,e.checksumAlgorithm,e.encodingCodePage),this.notifyDocumentChange(n,4)}else this.logger.logWarning("Failed to update the C# document buffer. This is unexpected and may result in incorrect C# interactions.")}async updateHtmlBuffer(e){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the HTML document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=yu.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.htmlDocument;if(e.previousWasEmpty||!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion){await yu.workspace.openTextDocument(n.htmlDocument.uri);let o=i;e.previousWasEmpty&&i.length!==0&&(this.telemetryReporter.reportBuffersOutOfSync(),o.clear()),o.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,5)}else this.logger.logWarning("Failed to update the HTML document buffer. This is unexpected and may result in incorrect HTML interactions.")}notifyDocumentChange(e,t){this.logger.verboseEnabled&&this.logger.logVerbose(`Notifying document '${io(e.uri)}' changed '${__[t]}'`);let n={document:e,kind:t};this.onChangeEmitter.fire(n)}};var RD=ye(require("vscode"));var t6=class{constructor(e,t){this.documentManager=e;this.logger=t}synchronizations={};synchronizationIdentifier=0;register(){let e=this.documentManager.onChange(n=>this.documentChanged(n)),t=RD.workspace.onDidChangeTextDocument(n=>this.textDocumentChanged(n));return RD.Disposable.from(e,t)}async trySynchronizeProjectedDocument(e,t,n,i){let o=++this.synchronizationIdentifier,s=io(t.uri);if(this.logger.verboseEnabled){let c=n;this.logger.logVerbose(`${o} - Synchronizing '${s}':
    Currently at ${t.hostDocumentSyncVersion}, synchronizing to version '${c}'.'`)}let a=this.createSynchronizationContext(s,t,n,e,i);try{t.hostDocumentSyncVersion!==n&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document not in sync with host document, waiting for update...
    Current host document sync version: ${t.hostDocumentSyncVersion}`),await a.onProjectedDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document in sync with host document`);let c=await RD.workspace.openTextDocument(t.uri),u=this.getProjectedTextDocumentVersion(c);t.hostDocumentSyncVersion!==u&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document not in sync with data type, waiting for update...
    Current projected text document sync version: ${u}`),await a.onProjectedTextDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document in sync with data type`)}catch(c){return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization failed: ${c}`),!1}return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization successful!`),!0}removeSynchronization(e){e.dispose();let t=io(e.projectedDocument.uri),n=this.synchronizations[t];if(n.length===1){delete this.synchronizations[t];return}this.synchronizations[t]=n.filter(i=>i!==e)}createSynchronizationContext(e,t,n,i,o){let s=[],a=Function,c=new Promise((_,D)=>{a=_,s.push(D)}),u=Function,l=new Promise((_,D)=>{u=_,s.push(D)});o.onCancellationRequested(_=>{f.cancel(RD.l10n.t("Token cancellation requested: {0}",_))});let d=setTimeout(()=>{f.cancel(RD.l10n.t("Synchronization timed out"))},2e3),f={projectedDocument:t,logIdentifier:this.synchronizationIdentifier,timeoutId:d,toHostDocumentVersion:n,cancel:_=>{for(let D of s)D(_)},dispose:()=>{s.length=0,clearTimeout(f.timeoutId)},projectedDocumentSynchronized:a,onProjectedDocumentSynchronized:c,projectedTextDocumentSynchronized:u,onProjectedTextDocumentSynchronized:l},p=this.synchronizations[e];return p||(p=[],this.synchronizations[e]=p),p.push(f),f}textDocumentChanged(e){if(e.document.uri.scheme!==b_.scheme&&e.document.uri.scheme!==uC.scheme)return;let t=this.getProjectedTextDocumentVersion(e.document);if(t===null)return;let n=io(e.document.uri),i=this.synchronizations[n];if(i){for(let o of i)if(o.projectedDocument.hostDocumentSyncVersion===t){if(this.logger.verboseEnabled){let s=o.logIdentifier,a=t;this.logger.logVerbose(`${s} - Projected text document synchronized to ${a}.`)}o.projectedTextDocumentSynchronized()}}}documentChanged(e){let t;if(e.kind===4)t=e.document.csharpDocument;else if(e.kind===5)t=e.document.htmlDocument;else return;if(t.hostDocumentSyncVersion===null)return;let i=io(t.uri),o=this.synchronizations[i];if(o)for(let s of o)s.toHostDocumentVersion===t.hostDocumentSyncVersion&&s.projectedDocumentSynchronized()}getProjectedTextDocumentVersion(e){if(e.lineCount<=0)return null;let n=e.lineAt(e.lineCount-1).text.substring(3);return parseInt(n,10)}};var jI=ye(require("vscode")),IWe=ye(il());var r6=class{constructor(e,t){this.range=e;this.color=t}};var n6=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideHtmlDocumentColorEndpoint="razor/provideHtmlDocumentColor";documentColorRequestType=new IWe.RequestType(r.provideHtmlDocumentColorEndpoint);emptyColorInformationResponse=[];async register(){await this.serverClient.onRequestWithParams(this.documentColorRequestType,async(e,t)=>this.provideHtmlDocumentColors(e,t))}async provideHtmlDocumentColors(e,t){try{let n=jI.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=await jI.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.htmlDocument,e._razor_hostDocumentVersion,t))return this.emptyColorInformationResponse;let a=i.htmlDocument.uri,c=await jI.commands.executeCommand("vscode.executeDocumentColorProvider",a),u=new Array;for(let l of c){let d=NI(l.range),f=new r6(d,l.color);u.push(f)}return u}catch(n){this.logger.logWarning(`${r.provideHtmlDocumentColorEndpoint} failed with ${n}`)}return this.emptyColorInformationResponse}};var o6=ye(require("vscode"));var i6=class extends Sc{async provideDocumentHighlights(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===3)return;let o=await o6.commands.executeCommand("vscode.executeDocumentHighlights",i.uri,i.position);if(!o||o.length===0)return;let s=new Array;for(let a of o){let c=await this.serviceClient.mapToDocumentRanges(i.languageKind,[a.range],e.uri);if(!c||!c.ranges||!c.ranges[0]||i.hostDocumentVersion!==c.hostDocumentVersion)continue;let u=new o6.DocumentHighlight(c.ranges[0],a.kind);s.push(u)}return s}};function kWe(r,e){r.onChange(t=>{switch(t.kind){case 0:e.reportWorkspaceContainsRazor();break}})}var zI=ye(require("vscode"));var VF=class{constructor(e,t,n,i,o){this.csharpDocument=e;this.edits=t;this.checksum=n;this.checksumAlgorithm=i;this.encodingCodePage=o}};var s6=class{constructor(e){this.razorDocument=e}};var AWe=ye(an());var GF=class{constructor(e,t){this.newText=e;this.span=t}};var KF=class{constructor(e,t){this.start=e;this.length=t}};var PD=class r{constructor(e,t){this.documentManager=e;this.logger=t}static provideDynamicFileInfoCommand="razor.provideDynamicFileInfo";static removeDynamicFileInfoCommand="razor.removeDynamicFileInfo";static dynamicFileUpdatedCommand="razor.dynamicFileUpdated";register(){zI.commands.registerCommand(r.provideDynamicFileInfoCommand,async e=>this.provideDynamicFileInfo(e)),zI.commands.registerCommand(r.removeDynamicFileInfoCommand,async e=>{await this.removeDynamicFileInfo(e)}),this.documentManager.onChange(async e=>{if(e.kind==4&&!e.document.isOpen){let t=Do.serialize(e.document.uri),n=AWe.TextDocumentIdentifier.create(t);await zI.commands.executeCommand(r.dynamicFileUpdatedCommand,new s6(n))}})}async provideDynamicFileInfo(e){this.documentManager.roslynActivated=!0;let t=zI.Uri.parse(e.razorDocument.uri,!0);await this.documentManager.ensureRazorInitialized();let n=await this.documentManager.getDocument(t);try{if(n===void 0)return this.logger.logWarning(`Could not find Razor document ${t.fsPath}; adding null as a placeholder in URI array.`),null;let i=n.csharpDocument;if(e.fullText){let s=new GF(n.csharpDocument.getContent(),new KF(0,0));return new VF(e.razorDocument,[s],i.checksum,i.checksumAlgorithm,i.encodingCodePage)}let o=Do.serialize(n.csharpDocument.uri);if(this.documentManager.isRazorDocumentOpenInCSharpWorkspace(t))return null;{let s=i.applyEdits(),a=s.edits?.flatMap(c=>c.changes.map(u=>new GF(u.newText,new KF(u.span.start,u.span.length))));return new VF({uri:o},a??[],s.originalChecksum,s.originalChecksumAlgorithm,s.originalEncodingCodePage)}}catch(i){this.logger.logWarning(`${r.provideDynamicFileInfoCommand} failed with ${i}`)}return null}async removeDynamicFileInfo(e){try{let t=Do.deserialize(e.csharpDocument.uri);this.documentManager.isRazorDocumentOpenInCSharpWorkspace(t)&&this.documentManager.didCloseRazorCSharpDocument(t)}catch(t){this.logger.logWarning(`${r.removeDynamicFileInfoCommand} failed with ${t}`)}}};var lC=ye(require("vscode")),UI=ye(an());var YF=class{constructor(e,t){this.htmlRanges=e;this.csharpRanges=t}};var a6=class r{constructor(e,t,n){this.serverClient=e;this.documentManager=t;this.logger=n}static provideFoldingRange="razor/foldingRange";foldingRangeRequestType=new UI.RequestType(r.provideFoldingRange);emptyFoldingRangeReponse=new YF(new Array,new Array);async register(){await this.serverClient.onRequestWithParams(this.foldingRangeRequestType,async(e,t)=>this.provideFoldingRanges(e,t))}async provideFoldingRanges(e,t){try{let n=lC.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyFoldingRangeReponse;let o=i.htmlDocument.uri,s=i.csharpDocument.uri,a=await lC.commands.executeCommand("vscode.executeFoldingRangeProvider",o),c=await lC.commands.executeCommand("vscode.executeFoldingRangeProvider",s),u=a===void 0?new Array:this.convertFoldingRanges(a),l=c===void 0?new Array:this.convertFoldingRanges(c);return new YF(u,l)}catch(n){this.logger.logWarning(`${r.provideFoldingRange} failed with ${n}`)}return this.emptyFoldingRangeReponse}convertFoldingRanges(e){let t=new Array;return e.forEach(n=>{let i={startLine:n.start,startCharacter:0,endLine:n.end,endCharacter:0,kind:n.kind===void 0?void 0:this.convertFoldingRangeKind(n.kind)};t.push(i)}),t}convertFoldingRangeKind(e){if(e===lC.FoldingRangeKind.Comment)return UI.FoldingRangeKind.Comment;if(e===lC.FoldingRangeKind.Imports)return UI.FoldingRangeKind.Imports;if(e===lC.FoldingRangeKind.Region)return UI.FoldingRangeKind.Region;this.logger.logWarning(`Unexpected FoldingRangeKind ${e}`)}};var Pd=ye(require("vscode")),mde=ye(il());var HI=class{constructor(e){this.edits=e}};var c6=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideFormattingEndpoint="razor/htmlFormatting";static provideOnTypeFormattingEndpoint="razor/htmlOnTypeFormatting";formattingRequestType=new mde.RequestType(r.provideFormattingEndpoint);onTypeFormattingRequestType=new mde.RequestType(r.provideOnTypeFormattingEndpoint);emptyFormattingResponse=new HI;async register(){await this.serverClient.onRequestWithParams(this.formattingRequestType,async(e,t)=>this.provideFormatting(e,t)),await this.serverClient.onRequestWithParams(this.onTypeFormattingRequestType,async(e,t)=>this.provideOnTypeFormatting(e,t))}async provideFormatting(e,t){try{let n=Pd.Uri.parse(e.textDocument.uri),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=await Pd.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.htmlDocument,e.hostDocumentVersion,t))return this.emptyFormattingResponse;let a=i.htmlDocument.uri,c=i.htmlDocument.getContent(),u=this.countLines(c),l=this.getLastLineLength(c),d=new Pd.Range(new Pd.Position(0,0),new Pd.Position(u,l)),f=await Pd.commands.executeCommand("vscode.executeFormatRangeProvider",a,d,e.options);if(f===void 0)return this.emptyFormattingResponse;let p=this.sanitizeTextEdits(i,f);return new HI(p)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse}async provideOnTypeFormatting(e,t){try{let n=Pd.Uri.parse(e.textDocument.uri),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=await Pd.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.hostDocumentVersion,t))return this.emptyFormattingResponse;let a=i.htmlDocument.uri,c=await Pd.commands.executeCommand("vscode.executeFormatOnTypeProvider",a,e.position,e.ch,e.options);if(c===void 0)return this.emptyFormattingResponse;let u=this.sanitizeTextEdits(i,c);return new HI(u)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse}sanitizeTextEdits(e,t){let n=e.htmlDocument.getContent(),i=this.countLines(n),o=Array();for(let s of t){if(s.range.end.line>i||s.range.start.line>i){let c=this.getLastLineLength(n),u=new Pd.Position(i,c),l=s.range.start,d=s.range.end;s.range.start.line>i&&(l=u),s.range.end.line>i&&(d=u);let f=new Pd.Range(l,d);s=new Pd.TextEdit(f,s.newText)}let a=NF(s);o.push(a)}return o}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};var xD=ye(require("vscode"));var u6=class extends Sc{async provideHover(e,t,n){let i=await this.getProjection(e,t,n);if(!i)return;let o=await xD.commands.executeCommand("vscode.executeHoverProvider",i.uri,i.position);if(!o||o.length===0)return;let s=o.filter(l=>l.range)[0];if(!s)return;let a=await this.serviceClient.mapToDocumentRanges(i.languageKind,[s.range],e.uri);if(!a||!a.ranges||!a.ranges[0]||i.hostDocumentVersion!==a.hostDocumentVersion)return;let c=new Array;for(let l of s.contents)if(typeof l=="string"){let d=new xD.MarkdownString(l);c.push(d)}else if(l.language){let d=l,f=new xD.MarkdownString;f.appendCodeblock(d.value,d.language),c.push(f)}else{let d=l.value,f=new xD.MarkdownString(d);c.push(f)}return new xD.Hover(c,a.ranges[0])}};var dC=ye(require("vscode"));var gf=ye(require("vscode"));var JF=class r{constructor(e){this.documentManager=e;e.onChange(async t=>this.documentChanged(t))}static viewType="razorHtmlPreview";panel;htmlContent;async show(){this.panel?this.panel.reveal(gf.ViewColumn.Two):(this.panel=gf.window.createWebviewPanel(r.viewType,gf.l10n.t("Razor HTML Preview"),gf.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}async documentChanged(e){this.panel&&(e.kind===5||e.kind===2||e.kind===3)&&await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(gf,gf.l10n.t("Unexpected error when attaching to HTML preview window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copy":if(!this.htmlContent)return;await gf.env.clipboard.writeText(this.htmlContent),ba(gf,gf.l10n.t("Razor HTML copied to clipboard"));return}}),this.panel.onDidDispose(()=>this.panel=void 0)}async update(){if(!this.panel)return;let e=await this.documentManager.getActiveDocument(),t="",n="";e?(this.htmlContent=e.htmlDocument.getContent(),t=io(e.uri),n=io(e.htmlDocument.uri)):this.htmlContent=void 0;let i=this.htmlContent?this.htmlContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;");let o=gf.l10n.t("Report a Razor issue"),s=gf.l10n.t("Host document file path"),a=gf.l10n.t("Virtual document file path"),c=gf.l10n.t("Copy Html");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        button:focus-visible {
            outline-color: var(--vscode-focusBorder)
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>${s}: <strong>${t}</strong></p>
    <p>${a}: <strong>${n}</strong></p>
    <p><button onclick="copy()">${c}</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`}};var _h=ye(require("vscode"));wle();QV();var l6=class{constructor(e,t){this.documentManager=e;this.serviceClient=t}timeout=void 0;enabled=!1;htmlLanguageService;register(){this.htmlLanguageService=ble();let e=_h.workspace.onDidChangeTextDocument(async n=>this.onDidChangeTextDocument(n.document,n.contentChanges)),t=_h.window.onDidChangeActiveTextEditor(()=>this.checkIfEnabled());return this.checkIfEnabled(),_h.Disposable.from(e,t)}checkIfEnabled(){this.enabled=!1;let e=_h.window.activeTextEditor;if(!e)return;let t=e.document;t.languageId===ps.id&&_h.workspace.getConfiguration(void 0,t.uri).get("html.autoClosingTags")&&(this.enabled=!0)}async onDidChangeTextDocument(e,t){if(!this.enabled||t.length===0||!_h.window.activeTextEditor||_h.window.activeTextEditor.document!==e)return;this.timeout!==void 0&&clearTimeout(this.timeout);let n=t[t.length-1];if(n.rangeLength>0||n.text[n.text.length-1]!==">")return;let o=n.range.start;if(o.character<2)return;let s=e.offsetAt(n.range.start),a=e.getText(),c=a.charAt(s-1);if(c==="/"||c===">")return;if(!this.atMarkupTransition(a,s)){if((await this.serviceClient.languageQuery(n.range.start,e.uri)).kind!==2)return}let u=e.version;this.timeout=setTimeout(async()=>{if(!this.enabled)return;let l=_h.window.activeTextEditor;if(!l)return;let d=l.document;if(e!==d||d.version!==u)return;let f=new _h.Position(o.line,o.character+n.text.length);if(!this.htmlLanguageService)return;let p=await this.documentManager.getActiveDocument();p&&(a=p.htmlDocument.getContent());let _=HE.create(e.uri.fsPath,e.languageId,e.version,a),D=this.htmlLanguageService.parseHTMLDocument(_),x=this.htmlLanguageService.doTagComplete(_,f,D);if(!x)return;let N=l.selections;N.length&&N.some(A=>A.active.isEqual(f))?await l.insertSnippet(new _h.SnippetString(x),N.map(A=>A.active)):await l.insertSnippet(new _h.SnippetString(x),f)},75)}atMarkupTransition(e,t){return e.substring(t-5,t)==="<text"}};var d6=class{projectionProvider;htmlTagCompletionProvider;htmlPreviewPanel;constructor(e,t,n,i){this.projectionProvider=new uC(e,n,i),this.htmlTagCompletionProvider=new l6(e,t),this.htmlPreviewPanel=new JF(e)}register(){let e=[dC.workspace.registerTextDocumentContentProvider(uC.scheme,this.projectionProvider),dC.commands.registerCommand("extension.showRazorHtmlWindow",async()=>this.htmlPreviewPanel.show()),this.htmlTagCompletionProvider.register()];return dC.window.registerWebviewPanelSerializer&&e.push(dC.window.registerWebviewPanelSerializer(JF.viewType,{deserializeWebviewPanel:async t=>{await this.htmlPreviewPanel.revive(t)}})),dC.Disposable.from(...e)}};var LWe=ye(require("vscode"));var f6=class extends Sc{async provideImplementation(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===2||i.languageKind===3)return;let o=await LWe.commands.executeCommand("vscode.executeImplementationProvider",i.uri,i.position),s=new Array;for(let a of o)if(aC(a.uri)){let c=await ry.remapGeneratedFileLocation(a,this.serviceClient,this.logger,n);if(c===void 0)continue;s.push(c)}else s.push(a);return s}};var h6=class{async register(e){e.env.appName.endsWith("Insiders")}};var XF=ye(require("vscode"));var NWe=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],p6=class{register(){return XF.languages.setLanguageConfiguration(ps.id,{wordPattern:/(-?\d*\.\d\w*)|([^`~!@$^&*()\-=+[{\]}\\|;:'",.<>/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${NWe.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:XF.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${NWe.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:XF.IndentAction.Indent}}]})}};var wde=ye(require("child_process")),zWe=require("events"),qg=ye(require("vscode")),_6=ye(XW());var gde=ye(require("fs")),yde=ye(require("os")),vde=ye(require("path")),MWe=ye(require("vscode"));function m6(r,e,t){let n=hqt(e),i=r.workspace.getConfiguration("razor.languageServer"),o=i.get("debug"),s=!Uc()&&r.workspace.getConfiguration().get("dotnet.server.useOmnisharp"),a=r.workspace.getConfiguration("csharp.experimental.debug").get("hotReload"),c=i.get("forceRuntimeCodeGeneration");c===null&&a&&(t.logMessage('Hot Reload is enabled so treating "razor.languageServer.forceRuntimeCodeGeneration" as true. To override this set "razor.languageServer.forceRuntimeCodeGeneration" to true or false.'),c=a);let u=i.get("suppressLspErrorToasts"),l=i.get("useNewFormattingEngine");return{serverPath:n,debug:o,outputChannel:t.outputChannel,usingOmniSharp:s,forceRuntimeCodeGeneration:c,suppressErrorToasts:u,useNewFormattingEngine:l}}function hqt(r){let e="rzls",t="";pqt()&&(t=".exe"),mqt()&&(t=".dll");let n=`${e}${t}`,i=vde.join(r,n);if(gde.existsSync(i)||(n=`${e}.dll`,i=vde.join(r,n)),!gde.existsSync(i))throw new Error(MWe.l10n.t("Could not find Razor Language Server executable '{0}' within directory",i));return i}function pqt(){return!!yde.platform().match(/^win/)}function mqt(){return yde.platform()==="darwin"}var FWe=ye(US()),g6=class extends FWe.LanguageClient{razorOptions;constructor(e,t,n,i,o,s){super(e,t,n,i,s),this.razorOptions=o}handleFailedRequest(e,t,n,i,o){return this.razorOptions.suppressErrorToasts?super.handleFailedRequest(e,t,n,i,!1):super.handleFailedRequest(e,t,n,i,o)}};var _de=ye(require("vscode")),qWe=ye(US());async function v6(r,e,t,n){let i=await n(r,e,t);return jWe(i),i}async function y6(r,e,t,n){return await n(r,e,o=>{o?.items.forEach(jWe),t(o)})}function jWe(r){r?.kind===qWe.vsdiag.DocumentDiagnosticReportKind.full&&ls.reportInformationAsHint&&r.items.forEach(e=>{e.severity===_de.DiagnosticSeverity.Information&&(e.severity=_de.DiagnosticSeverity.Hint)})}var bde={ServerStop:"ServerStop"},b6=class{constructor(e,t,n,i,o,s){this.vscodeType=e;this.languageServerDir=t;this.razorTelemetryReporter=n;this.env=i;this.dotnetExecutablePath=o;this.logger=s;this.isStarted=!1,this.setupLanguageServer(),this.eventBus=new zWe.EventEmitter}clientOptions;serverOptions;client;onStartListeners=[];onStartedListeners=[];eventBus;isStarted;startHandle;stopHandle;get initializeResult(){return this.client.initializeResult}onStarted(e){this.onStartedListeners.push(e)}onStart(e){this.onStartListeners.push(e)}onStop(e){return this.eventBus.addListener(bde.ServerStop,e),new qg.Disposable(()=>this.eventBus.removeListener(bde.ServerStop,e))}async start(){if(this.startHandle)return this.startHandle;let e=Function,t=Function;this.startHandle=new Promise((o,s)=>{e=o,t=s});let n=0,i=this.client.onDidChangeState(o=>{o.oldState===_6.State.Starting&&o.newState===_6.State.Stopped?(n++,n===5&&t(qg.l10n.t("Server failed to start after retrying 5 times."))):o.newState===_6.State.Running&&(n=0)});try{this.logger.logMessage("Starting Razor Language Server..."),await this.client.start(),this.logger.logMessage("Server started, waiting for client to be ready..."),this.isStarted=!0,this.logger.languageServerClient=this;for(let o of this.onStartListeners)await o();e(),this.logger.logMessage("Server ready!");for(let o of this.onStartedListeners)await o();i.dispose()}catch(o){Wi(qg,qg.l10n.t("Razor Language Server failed to start unexpectedly, please check the 'Razor Log' and report an issue.")),this.razorTelemetryReporter.reportErrorOnServerStart(o),t(o)}return this.startHandle}async sendRequest(e,t){if(!this.isStarted)throw new Error(qg.l10n.t("Tried to send requests while server is not started."));return this.client.sendRequest(e,t)}async sendNotification(e,t){if(!this.isStarted)throw new Error(qg.l10n.t("Tried to send requests while server is not started."));return this.client.sendNotification(e,t)}async onRequestWithParams(e,t){if(!this.isStarted)throw new Error(qg.l10n.t("Tried to bind on request logic while server is not started."));this.client.onRequest(e,t)}onNotification(e,t){if(!this.isStarted)throw new Error(qg.l10n.t("Tried to bind on notification logic while server is not started."));this.client.onNotification(e,t)}dispose(){this.logger.logMessage("Disposing Razor Language Server."),this.isStarted=!1,this.startHandle=void 0,this.eventBus.emit(bde.ServerStop)}async stop(){let e=Function,t=Function;this.stopHandle=new Promise((n,i)=>{e=n,t=i}),this.startHandle||t(new Error(qg.l10n.t("Cannot stop Razor Language Server as it is already stopped."))),this.logger.logMessage("Stopping Razor Language Server.");try{this.client&&await this.client.stop(),this.dispose(),e()}catch(n){Wi(qg,qg.l10n.t("Razor Language Server failed to stop correctly, please check the 'Razor Log' and report an issue.")),t(n)}return this.stopHandle}async connectNamedPipe(e){await this.start(),await this.sendNotification("razor/namedPipeConnect",{pipeName:e})}setupLanguageServer(){let e=m6(this.vscodeType,this.languageServerDir,this.logger);this.clientOptions={outputChannel:e.outputChannel,documentSelector:[{language:ps.id,pattern:ps.globbingPattern}],middleware:{provideDiagnostics:v6,provideWorkspaceDiagnostics:y6}};let t=[];this.logger.logMessage(`Razor language server path: ${e.serverPath}`),t.push("--logLevel"),t.push(this.logger.logLevelForRZLS.toString()),this.razorTelemetryReporter.reportTraceLevel(this.logger.logLevel),e.debug&&(this.razorTelemetryReporter.reportDebugLanguageServer(),this.logger.logMessage("Debug flag set for Razor Language Server."),t.push("--debug")),e.usingOmniSharp||(t.push("--DelegateToCSharpOnDiagnosticPublish"),t.push("true"),t.push("--UpdateBuffersForClosedDocuments"),t.push("true"),t.push("--SingleServerCompletionSupport"),t.push("true"),t.push("--ForceRuntimeCodeGeneration"),t.push(e.forceRuntimeCodeGeneration?"true":"false"),e.useNewFormattingEngine&&(t.push("--UseNewFormattingEngine"),t.push("true")));let n,i={detached:!0,windowsHide:!0,env:this.env};if(e.serverPath.endsWith(".dll")){let o=[e.serverPath].concat(t);this.logger.logMessage(`Server arguments ${o.join(" ")}`),n=async()=>wde.spawn(this.dotnetExecutablePath,o,i)}else this.logger.logMessage(`Server arguments ${t.join(" ")}`),n=async()=>wde.spawn(e.serverPath,t,i);this.serverOptions=n,this.client=new g6("razorLanguageServer","Razor Language Server",this.serverOptions,this.clientOptions,e)}};var UWe=ye(require("vscode"));var w6=class{constructor(e,t){this.position=e;this.uri=t.toString()}uri};var S6=class{constructor(e,t,n){this.kind=e;this.projectedRanges=t;this.razorDocumentUri=n.toString()}razorDocumentUri};var C6=class{constructor(e){this.serverClient=e}async languageQuery(e,t){await this.ensureStarted();let n=new w6(e,t),i=await this.serverClient.sendRequest("razor/languageQuery",n);return i.position=new UWe.Position(i.position.line,i.position.character),i}async mapToDocumentRanges(e,t,n){await this.ensureStarted();let i=[];for(let c of t){let u=NI(c);i.push(u)}let o=new S6(e,i,n),s=await this.serverClient.sendRequest("razor/mapToDocumentRanges",o),a=[];for(let c of s.ranges)if(c.start.line>=0){let u=I4(s.ranges[0]);a.push(u)}return s.ranges=a,s}async ensureStarted(){await this.serverClient.start()}};var D6=ye(require("fs")),E6=ye(require("path")),Fl=ye(require("vscode")),T6=class{static logName="Razor Log";verboseEnabled;messageEnabled;outputChannel;languageServerClient;onLogEmitter;constructor(e){this.outputChannel=Fl.window.createOutputChannel(Fl.l10n.t("Razor Log"),{log:!0}),this.onLogEmitter=e.create(),this.processTraceLevel(),this.outputChannel.onDidChangeLogLevel(async()=>{await this.updateLogLevelAsync()}),this.logRazorInformation(),this.setupToStringOverrides()}get logLevel(){return this.outputChannel.logLevel}get logLevelForRZLS(){switch(this.logLevel){case Fl.LogLevel.Off:return 0;case Fl.LogLevel.Trace:return 1;case Fl.LogLevel.Debug:return 2;case Fl.LogLevel.Info:return 3;case Fl.LogLevel.Warning:return 4;case Fl.LogLevel.Error:return 5;default:throw new Error("Unexpected log level value. Do not know how to convert")}}get onLog(){return this.onLogEmitter.event}logAlways(e){this.outputChannel.info(e),this.onLogEmitter.fire(e)}logWarning(e){this.outputChannel.warn(e),this.onLogEmitter.fire(e)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logMessage(e){this.messageEnabled&&(this.outputChannel.info(e),this.onLogEmitter.fire(e))}logVerbose(e){this.verboseEnabled&&(this.outputChannel.trace(e),this.onLogEmitter.fire(e))}dispose(){this.outputChannel.dispose()}async updateLogLevelAsync(){this.processTraceLevel(),this.languageServerClient&&await this.languageServerClient.sendNotification("razor/updateLogLevel",{logLevel:this.logLevelForRZLS})}logErrorInternal(e,t){let n=`${e}
${t.message}
Stack Trace:
${t.stack}`;this.outputChannel.error(n),this.onLogEmitter.fire(e)}logRazorInformation(){let e=gqt();this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor.VSCode version ${e.defaults.razor}`),this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor's log level is currently set to '${Fl.LogLevel[this.logLevel]}'`),this.logAlways(" - To change Razor's log level use the gear icon on the output window"),this.logAlways(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.logAlways("-----------------------------------------------------------------------------------------------------------------------------"),this.logAlways("")}setupToStringOverrides(){Fl.Range.prototype.toString=function(){return`[${this.start}, ${this.end}]`},Fl.Position.prototype.toString=function(){return`${this.line}:${this.character}`}}processTraceLevel(){this.verboseEnabled=this.outputChannel.logLevel>=Fl.LogLevel.Trace,this.messageEnabled=this.outputChannel.logLevel>=Fl.LogLevel.Info}};function gqt(){let r=vqt(__dirname,"package.json");return JSON.parse(D6.readFileSync(r).toString())}function vqt(r,e){let t=r;for(;t;){let n=E6.join(t,e);if(D6.existsSync(n))return n;let i=E6.dirname(t);t=i===r?void 0:i}throw new Error(Fl.l10n.t("Could not find '{0}' in or above '{1}'.",e,r))}var P6=ye(require("vscode"));var R6=class extends Sc{async provideReferences(e,t,n,i){let o=await this.getProjection(e,t,i);if(!o||o.languageKind===3)return;let s=await P6.commands.executeCommand("vscode.executeReferenceProvider",o.uri,o.position),a=new Array;for(let c of s)if(o.languageKind===2&&L4(c.uri)){let u=$E(c.uri);a.push(new P6.Location(u,c.range))}else if(aC(c.uri)){let u=await ry.remapGeneratedFileLocation(c,this.serviceClient,this.logger,i);if(u===void 0)continue;a.push(u)}else a.push(c);return a}};var HWe=ye(require("vscode"));var x6=class extends Sc{constructor(e,t,n,i){super(e,t,n,i)}async prepareRename(e,t,n){let i=await this.getProjection(e,t,n);return!i||i.languageKind!==1?null:e.getWordRangeAtPosition(t)}async provideRenameEdits(e,t,n,i){let o=await this.getProjection(e,t,i);if(!o||o.languageKind!==1)return;let s=await HWe.commands.executeCommand("vscode.executeDocumentRenameProvider",o.uri,o.position,n);return await ry.remapGeneratedFileWorkspaceEdit(s,this.serviceClient,this.logger,i)}};var BI=ye(require("vscode")),BWe=ye(il());var OD=class{constructor(e,t){this.tokens=e;this.hostDocumentSyncVersion=t}};var O6=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static getSemanticTokensRangeEndpoint="razor/provideSemanticTokensRange";semanticTokensRequestType=new BWe.RequestType(r.getSemanticTokensRangeEndpoint);emptyTokensResponse=new Array;async register(){await this.serverClient.onRequestWithParams(this.semanticTokensRequestType,async(e,t)=>this.getSemanticTokens(e,t))}async getSemanticTokens(e,t){try{let n=BI.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning semantic tokens information.`),new OD(this.emptyTokensResponse,e.requiredHostDocumentVersion);let o=await BI.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.requiredHostDocumentVersion,t))return new OD(this.emptyTokensResponse,e.requiredHostDocumentVersion);if(e.requiredHostDocumentVersion==1){let c=e.ranges[0].end.line;if(this.countLines(i.csharpDocument.getContent())<c)return new OD(this.emptyTokensResponse,-1)}let a=await BI.commands.executeCommand("vscode.provideDocumentRangeSemanticTokens",i.csharpDocument.uri,e.ranges[0]);return new OD(Array.from(a.data),e.requiredHostDocumentVersion)}catch(n){this.logger.logWarning(`${r.getSemanticTokensRangeEndpoint} failed with ${n}`)}return new OD(this.emptyTokensResponse,e.requiredHostDocumentVersion)}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}};var WWe=ye(require("vscode"));var I6=class extends Sc{async provideSignatureHelp(e,t,n){let i=await this.getProjection(e,t,n);if(i)return await WWe.commands.executeCommand("vscode.executeSignatureHelpProvider",i.uri,i.position)}};function WI(r,e,t){return{type:1,eventName:r,properties:e,measures:t}}function $We(r,e,t,n){return{type:78,eventName:r,properties:e,measures:t,errorProps:n}}var VWe=ye(require("vscode")),k6=class{constructor(e){this.eventStream=e;this.eventStream.post(this.razorExtensionActivated)}razorExtensionActivated=WI("VSCode.Razor.RazorExtensionActivated");debugLanguageServerEvent=WI("VSCode.Razor.DebugLanguageServer");workspaceContainsRazorEvent=WI("VSCode.Razor.WorkspaceContainsRazor");buffersOutOfSyncEvent=WI("VSCode.Razor.BuffersOutOfSync");reportedWorkspaceContainsRazor=!1;reportTraceLevel(e){let t=WI("VSCode.Razor.TraceLevel",{trace:VWe.LogLevel[e]});this.eventStream.post(t)}reportBuffersOutOfSync(){this.eventStream.post(this.buffersOutOfSyncEvent)}reportErrorOnServerStart(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnServerStart",t)}reportErrorOnActivation(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnActivation",t)}reportDebugLanguageServer(){this.eventStream.post(this.debugLanguageServerEvent)}reportWorkspaceContainsRazor(){this.reportedWorkspaceContainsRazor||(this.reportedWorkspaceContainsRazor=!0,this.eventStream.post(this.workspaceContainsRazorEvent))}reportError(e,t){let n=$We(e,{error:JSON.stringify(t)},void 0,["error"]);this.eventStream.post(n)}};var $I=ye(require("vscode")),GWe=ye(an());var A6=class r extends Sc{constructor(t,n,i,o,s){super(t,o,i,s);this.documentSynchronizer=t;this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorPullDiagnosticsCommand="razor/csharpPullDiagnostics";diagnosticRequestType=new GWe.RequestType(r.razorPullDiagnosticsCommand);async register(){await this.serverClient.onRequestWithParams(this.diagnosticRequestType,async(t,n)=>this.getDiagnostic(t,n))}async getDiagnostic(t,n){if(!this.documentManager.roslynActivated)return;let i=$I.Uri.parse(t.identifier.textDocumentIdentifier.uri,!0),o=await $I.workspace.openTextDocument(i),s=await this.documentManager.getDocument(i);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,s.csharpDocument,t.identifier.version,n))return;let c=s.csharpDocument.uri,u={textDocument:{uri:Do.serialize(c)}};return await $I.commands.executeCommand(Vle,u)}};var N6=ye(require("vscode")),M6=ye(an());var QF=class{constructor(e,t){this.textDocument=e;this.textEdit=t}};var L6=class r extends Sc{constructor(t,n,i,o,s){super(t,o,i,s);this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorSimplifyMethodCommand="razor/simplifyMethod";simplifyMethodRequestType=new M6.RequestType(r.razorSimplifyMethodCommand);async register(){await this.serverClient.onRequestWithParams(this.simplifyMethodRequestType,async(t,n)=>this.getSimplifiedMethod(t,n))}async getSimplifiedMethod(t,n){if(!this.documentManager.roslynActivated)return;let i=t.identifier.textDocumentIdentifier;if(t.requiresVirtualDocument){let a=N6.Uri.parse(t.identifier.textDocumentIdentifier.uri,!0),u=(await this.documentManager.getDocument(a)).csharpDocument.uri;i=M6.TextDocumentIdentifier.create(Do.serialize(u))}let o=new QF(i,t.textEdit);return await N6.commands.executeCommand(Xle,o)}};var ZF=ye(require("path")),VI=ye(require("vscode"));var KWe=require("fs");var YWe=require("fs/promises");var JWe="9",XWe="0",yqt="1",Sde=`${JWe}.${XWe}.${yqt}`,GI=class{constructor(e,t,n,i){this.platformInfo=e;this.getServerPath=t;this.channel=n;this.extensionPath=i}hostInfo;async getHostExecutableInfo(){if(this.hostInfo)return this.hostInfo;this.channel.appendLine(`Locating .NET runtime version ${Sde}`);let e=await this.getArchitectureFromTargetPlatform()??process.arch,t={acquireContext:{version:Sde,requestingExtensionId:Tg,architecture:e,mode:"runtime"},versionSpecRequirement:"greater_than_or_equal",rejectPreviews:!0},n=await VI.commands.executeCommand("dotnet.findPath",t);n===void 0&&(this.channel.appendLine(`Did not find .NET ${Sde} on path, falling back to acquire runtime via ${$P}`),n=await this.acquireDotNetProcessDependencies());let i=n.dotnetPath,o={version:"",path:i,env:this.getEnvironmentVariables(i)};return this.hostInfo=o,o}getEnvironmentVariables(e){let t={...process.env};return t.DOTNET_ROOT=ZF.dirname(e),t.DOTNET_MULTILEVEL_LOOKUP="0",t.DOTNET_ROOT_USER=process.env.DOTNET_ROOT??"EMPTY",ls.crashDumpPath&&(t.DOTNET_DbgEnableMiniDump="1",t.DOTNET_DbgMiniDumpType="2",t.DOTNET_EnableCrashReport="1",t.DOTNET_DbgMiniDumpName=ZF.join(ls.crashDumpPath,"%e.%p.dmp")),t}async acquireRuntime(){let e=`${JWe}.${XWe}`,t=await VI.commands.executeCommand("dotnet.acquireStatus",{version:e,requestingExtensionId:Tg});if(t===void 0&&(await VI.commands.executeCommand("dotnet.showAcquisitionLog"),t=await VI.commands.executeCommand("dotnet.acquire",{version:e,requestingExtensionId:Tg}),!t))throw new Error("Could not resolve the dotnet path!");return t}async acquireDotNetProcessDependencies(){let e=await this.acquireRuntime(),t=[this.getServerPath(this.platformInfo)];return await VI.commands.executeCommand("dotnet.ensureDotnetDependencies",{command:e.dotnetPath,arguments:t}),e}async getArchitectureFromTargetPlatform(){let e=ZF.join(this.extensionPath,".vsixmanifest");if(!(0,KWe.existsSync)(e)){this.channel.appendLine(`Unable to find extension target platform - no vsix manifest file exists at ${e}`);return}let t=await(0,YWe.readFile)(e,"utf-8"),n=/TargetPlatform="(.*)"/.exec(t);if(!n)return;let i=n[1];switch(i){case"win32-x64":case"linux-x64":case"alpine-x64":case"darwin-x64":return"x64";case"win32-ia32":return"x86";case"win32-arm64":case"linux-arm64":case"alpine-arm64":case"darwin-arm64":return"arm64";case"linux-armhf":case"web":return;default:throw new Error(`Unknown extension target platform: ${i}`)}}};var QWe=ye(require("vscode")),ZWe=ye(il());var F6=class r extends Sc{constructor(t,n,i,o,s){super(t,o,i,s);this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorFormatNewFileCommand="razor/formatNewFile";formatNewFileRequestType=new ZWe.RequestType(r.razorFormatNewFileCommand);async register(){await this.serverClient.onRequestWithParams(this.formatNewFileRequestType,async(t,n)=>this.getFormatNewFile(t,n))}async getFormatNewFile(t,n){return this.documentManager.roslynActivated?await QWe.commands.executeCommand(Qle,t):void 0}};var KI=ye(require("vscode")),j6=ye(an());var q6=class r{constructor(e,t,n,i){this.serverClient=e;this.documentManager=t;this.documentSynchronizer=n;this.logger=i}static provideInlayHint="razor/inlayHint";InlayHintRequestType=new j6.RequestType(r.provideInlayHint);emptyInlayHintResponse=new Array;async register(){await this.serverClient.onRequestWithParams(this.InlayHintRequestType,async(e,t)=>this.provideInlayHints(e,t))}async provideInlayHints(e,t){try{let n=KI.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyInlayHintResponse;if(!this.documentManager.roslynActivated)return this.emptyInlayHintResponse;let o=await KI.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.identifier.version,t))return this.emptyInlayHintResponse;let a=Do.serialize(i.csharpDocument.uri),c={textDocument:j6.TextDocumentIdentifier.create(a),range:e.projectedRange};return await KI.commands.executeCommand(ede,c)}catch(n){this.logger.logWarning(`${r.provideInlayHint} failed with ${n}`)}return this.emptyInlayHintResponse}};var U6=ye(require("vscode")),e$e=ye(an());var z6=class r{constructor(e,t,n){this.serverClient=e;this.documentManager=t;this.logger=n}static resolveInlayHint="razor/inlayHintResolve";InlayHintResolveRequestType=new e$e.RequestType(r.resolveInlayHint);async register(){await this.serverClient.onRequestWithParams(this.InlayHintResolveRequestType,async(e,t)=>this.resolveInlayHint(e,t))}async resolveInlayHint(e,t){try{let n=U6.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0);return await this.documentManager.getDocument(n)===void 0?null:await U6.commands.executeCommand(tde,e.inlayHint)}catch(n){this.logger.logWarning(`${r.resolveInlayHint} failed with ${n}`)}return null}};var efe=ye(A3e()),aq=require("fs"),Q3e=require("path"),tfe=require("url"),hC=ye(require("vscode")),m5=ye(G3e());var sq=".NET Application Server",p5="Debug Blazor Web Assembly in Browser";var K3e=ye(coe());var Y3e=r=>r.startsWith(p5)||r===sq,J3e=(r,e)=>{if(r)try{e.logVerbose(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};async function X3e(r,e,t){t&&(typeof t=="number"?Vjt(r,e,t):await Gjt(r,e,t))}function Vjt(r,e,t){Y3e(r.name)&&J3e(t,e)}async function Gjt(r,e,t){if(!Y3e(r.name))return;let n=[];try{n=await(0,K3e.default)()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&J3e(i.pid,e)}var ok=class r{constructor(e,t){this.logger=e;this.vscodeType=t}static autoDetectUserNotice=hC.l10n.t("Run and Debug: auto-detection found {0} for a launch browser");static edgeBrowserType="msedge";static chromeBrowserType="chrome";async resolveDebugConfiguration(e,t){t.request==="launch"&&await this.launchApp(e,t);let n="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",i="https://localhost:5001";try{if(e!==void 0){let o=t.cwd?t.cwd:(0,tfe.fileURLToPath)(e.uri.toString());o=o.replace("${workspaceFolder}",(0,tfe.fileURLToPath)(e.uri.toString()));let s=JSON.parse((0,aq.readFileSync)((0,Q3e.join)(o,"Properties","launchSettings.json"),"utf8"));s?.profiles&&s?.profiles[Object.keys(s.profiles)[0]]?.inspectUri&&(n=s.profiles[Object.keys(s.profiles)[0]].inspectUri,i=s.profiles[Object.keys(s.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(o){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",o)}await this.launchBrowser(e,t,n,i)}async launchApp(e,t){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s={name:sq,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:{ASPNETCORE_ENVIRONMENT:"Development",...t.env},launchBrowser:{enabled:!1},...t.dotNetConfig};try{if(await this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(async c=>{let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;await X3e(c,this.logger,f),a.dispose()})}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}}async launchBrowser(e,t,n,i){let o=t.browser,s=o==="edge"?r.edgeBrowserType:o==="chrome"?r.chromeBrowserType:await r.determineBrowserType();if(!s)return;let a={name:p5,type:s,request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1,...t.browserConfig,cascadeTerminateToConfigurations:[sq]};try{await this.vscodeType.debug.startDebugging(e,a)}catch(c){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",c);let u=hC.l10n.t("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info."),l={title:hC.l10n.t("View Debug Docs"),action:async()=>{await this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug")}},d=hC.l10n.t("Ignore");Wi(this.vscodeType,u,l,d)}}static async determineBrowserType(){if((await new m5.EdgeBrowserFinder(process.env,aq.promises,efe.default).findAll()).length>0)return ba(hC,r.autoDetectUserNotice.replace("{0}","'Edge'")),r.edgeBrowserType;if((await new m5.ChromeBrowserFinder(process.env,aq.promises,efe.default).findAll()).length>0)return ba(hC,r.autoDetectUserNotice.replace("{0}","'Chrome'")),r.chromeBrowserType;Wi(hC,hC.l10n.t("Run and Debug: A valid browser is not installed. Please install Edge or Chrome."))}};async function tVe(r,e,t,n,i,o,s=!1){let a=new k6(n),c={create:()=>new eVe.EventEmitter},u=new T6(c);try{let l=m6(r,t,u),f=await new GI(o,()=>l.serverPath,u.outputChannel,e.extensionPath).getHostExecutableInfo(),p=Z3e.dirname(f.path),_={...process.env};_.DOTNET_ROOT=p,_.DOTNET_MULTILEVEL_LOOKUP="0",_.DOTNET_ROOT_USER=process.env.DOTNET_ROOT??"EMPTY",i&&await Yjt(f.env,i,u);let D=new b6(r,t,a,f.env,f.path,u),x=new C6(D),N=new e6(D,u,a,o),A=new t6(N,u);kWe(N,a);let U=new p6,ee=new j4(N,c,u),he=new d6(N,x,c,u),we=[],V=new V4(r,N,u),W=new k4(D,u),te=new x4(N,A,D,u),De=new O4(N,A,D,ee.projectionProvider,u);new PD(N,u).register(),D.onStart(async()=>{let Me=new O6(N,A,D,u),ce=new q4(N,D,u),Ce=new n6(N,A,D,u),be=new a6(D,N,u),xe=new q6(D,N,A,u),Ne=new z6(D,N,u),$e=new c6(N,A,D,u),Ct=new I6(A,N,x,u),ze=new z4(A,N,x,u),st=new f6(A,N,x,u),at=new u6(A,N,x,u),tt=new N4(A,N,x,u),fr=new x6(A,N,x,u),Lr=new R6(A,N,x,u),zr=new i6(A,N,x,u),cr=new A6(A,D,x,N,u),xt=new L6(A,D,x,N,u),hr=new F6(A,D,x,N,u);we.push(U.register(),r.languages.registerSignatureHelpProvider(ps.id,Ct,"(",","),r.languages.registerDefinitionProvider(ps.id,ze),r.languages.registerImplementationProvider(ps.id,st),r.languages.registerHoverProvider(ps.documentSelector,at),r.languages.registerReferenceProvider(ps.id,Lr),r.languages.registerCodeLensProvider(ps.id,tt),r.languages.registerRenameProvider(ps.id,fr),r.languages.registerDocumentHighlightProvider(ps.id,zr),N.register(),ee.register(),he.register(),A.register(),V.register(),W.register()),s&&await new h6().register(r),await Promise.all([ce.register(),Ce.register(),be.register(),xe.register(),Ne.register(),$e.register(),Me.register(),cr.register(),te.register(),De.register(),xt.register(),hr.register()])});let ue=D.onStop(()=>{we.forEach(Me=>Me.dispose()),we.length=0}),qe=new ok(u,r);e.subscriptions.push(r.debug.registerDebugConfigurationProvider("blazorwasm",qe)),D.onStarted(async()=>{await N.initialize()}),await Kjt(r,D,u,e),e.subscriptions.push(D,ue,u)}catch(l){u.logError("Failed when activating Razor VSCode.",l),a.reportErrorOnActivation(l)}}async function Kjt(r,e,t,n){if((await r.workspace.findFiles(ps.globbingPattern)).length===0){t.logAlways("No Razor files detected in workspace, delaying language server start.");let o=r.workspace.createFileSystemWatcher(ps.globbingPattern),s=async()=>{a.dispose(),c.dispose(),await e.start()},a=o.onDidCreate(async()=>s()),c=r.workspace.onDidOpenTextDocument(async u=>{u.languageId===ps.id&&await s()});n.subscriptions.push(a,c)}else await e.start()}async function Yjt(r,e,t){try{let n=await e.activate();if(!n.setupTelemetryEnvironmentAsync)return;await n.setupTelemetryEnvironmentAsync(r)}catch(n){t.logError("Failed to setup DevKit environment for telemetry.",n)}}async function g5(r,e,t,n,i,o){let a=YE.workspace.getConfiguration("razor").get("languageServer.directory",""),c=a.length>0?a:o?rfe.join(e,".razoromnisharp"):rfe.join(e,".razor");rVe.existsSync(c)?o?await nVe.activate(YE,r,c,t,!1):await tVe(YE,r,c,t,n,i,!1):up(YE,YE.l10n.t("Cannot load Razor language server because the directory was not found: '{0}'",c))}function iVe(r,e,t,n,i,o,s,a){let c=sk.window.createOutputChannel(sk.l10n.t(".NET Test Log")),u=sk.window.createOutputChannel(sk.l10n.t(".NET NuGet Restore")),l=sqe(r,e,t,n,i,o,c,u,s),d;$y.razorDevMode||(d=g5(r,r.extension.extensionPath,i,void 0,e,!0));let f=a(l);return{initializationFinished:async()=>{await(await l).server.waitForInitialize(),await f,d&&await d},getAdvisor:async()=>(await l).advisor,getTestManager:async()=>(await l).testManager,eventStream:i,logDirectory:r.logUri.fsPath}}var kGe=ye(require("vscode"));var oVe=ye(require("vscode"));var v5=class{onServerStateChangeEmitter=new oVe.EventEmitter;get onServerStateChange(){return this.onServerStateChangeEmitter.event}dispose(){this.onServerStateChangeEmitter.dispose()}};var $k=ye(require("vscode")),xme=ye(require("fs")),Ome=ye(require("path"));var ife=ye(require("vscode"));var pC=ye(require("vscode"));function sVe(r,e){Uc()||r.subscriptions.push(pC.commands.registerCommand("dotnet.openSolution",async()=>Xjt(e)))}async function Xjt(r){if(!pC.workspace.workspaceFolders)return;let t=(await pC.workspace.findFiles("**/*.{sln,slnf}")).map(iH),n=await pC.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:"Select solution file"});if(n){let i=pC.Uri.file(n.target);return await r.openSolution(i),i}}var Tc=ye(require("vscode"));function aVe(r,e,t){r.subscriptions.push(Tc.commands.registerCommand("roslyn.client.peekReferences",Qjt)),r.subscriptions.push(Tc.commands.registerCommand("roslyn.client.completionComplexEdit",async(n,i,o,s)=>Zjt(n,i,o,s,t))),r.subscriptions.push(Tc.commands.registerCommand("dotnet.restartServer",async()=>ezt(e)))}async function Qjt(r,e){let t=Do.deserialize(r),n=new Tc.Position(e.line,e.character),i=await Tc.commands.executeCommand("vscode.executeReferenceProvider",t,n);i&&Array.isArray(i)&&await Tc.commands.executeCommand("editor.action.showReferences",t,n,i)}async function Zjt(r,e,t,n,i){let o="[roslyn.client.completionComplexEdit]",s=Do.deserialize(r.uri),a=await Tc.workspace.openTextDocument(s);a===void 0&&nfe(i,`${o} Can't open document with path: '${r.uri}'`);let c;(t||n>=0)&&(c=await Tc.window.showTextDocument(a),c===void 0&&nfe(i,`${o} Editor unavailable for document with path: '${r.uri}'`));let u=a.validateRange(new Tc.Range(e.range.start.line,e.range.start.character,e.range.end.line,e.range.end.character)),l=!1;for(let d=0;d<3;d++){if(t)c.selection=new Tc.Selection(u.start,u.end),l=await c.insertSnippet(new Tc.SnippetString(e.newText));else{let f=new Tc.WorkspaceEdit,p=Tc.TextEdit.replace(u,e.newText);if(f.set(a.uri,[p]),l=await Tc.workspace.applyEdit(f),l&&n>=0){let _=a.positionAt(n);c.selections=[new Tc.Selection(_,_)]}}if(l)return}l||nfe(i,`${o} ${t?"TextEditor.insertSnippet":"workspace.applyEdit"} failed.`)}function nfe(r,e){throw r.show(),r.error(e),new Error(e)}async function ezt(r){await r.restart()}function cVe(r,e,t,n){tzt(r,e,t,n),sVe(r,e),aVe(r,e,n)}function tzt(r,e,t,n){r.subscriptions.push(ife.commands.registerCommand("csharp.reportIssue",async()=>TM(r.extension.packageJSON.version,sm,!1,t))),r.subscriptions.push(ife.commands.registerCommand("csharp.showOutputWindow",async()=>n.show()))}var $q=ye(require("vscode"));var uVe=ye(require("vscode"));var Dc=ye(an()),ql=ye(il()),ofe;(n=>(n.method="workspace/debugConfiguration",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new ql.RequestType(n.method)))(ofe||={});var cq;(n=>(n.method="textDocument/_vs_onAutoInsert",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new ql.RequestType(n.method)))(cq||={});var sfe;(n=>(n.method="workspace/_vs_registerSolutionSnapshot",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new ql.RequestType0(n.method)))(sfe||={});var afe;(n=>(n.method="textDocument/_vs_getProjectContexts",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new ql.RequestType(n.method)))(afe||={});var cfe;(n=>(n.method="workspace/projectInitializationComplete",n.messageDirection=Dc.MessageDirection.serverToClient,n.type=new ql.NotificationType(n.method)))(cfe||={});var ufe;(n=>(n.method="workspace/projectConfigurationTelemetry",n.messageDirection=Dc.MessageDirection.serverToClient,n.type=new ql.NotificationType(n.method)))(ufe||={});var lfe;(n=>(n.method="window/_roslyn_showToast",n.messageDirection=Dc.MessageDirection.serverToClient,n.type=new ql.NotificationType(n.method)))(lfe||={});var dfe;(n=>(n.method="textDocument/runTests",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new Dc.ProtocolRequestType(n.method)))(dfe||={});var ffe;(n=>(n.method="workspace/attachDebugger",n.messageDirection=Dc.MessageDirection.serverToClient,n.type=new ql.RequestType(n.method)))(ffe||={});var hfe;(n=>(n.method="solution/open",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new ql.NotificationType(n.method)))(hfe||={});var pfe;(n=>(n.method="project/open",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new ql.NotificationType(n.method)))(pfe||={});var mfe;(n=>(n.method="workspace/buildOnlyDiagnosticIds",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new ql.RequestType0(n.method)))(mfe||={});var gfe;(n=>(n.method="codeAction/resolveFixAll",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new ql.RequestType(n.method)))(gfe||={});var vfe;(n=>(n.method="workspace/_roslyn_restore",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new Dc.ProtocolRequestType(n.method)))(vfe||={});var yfe;(n=>(n.method="workspace/_roslyn_restorableProjects",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new ql.RequestType0(n.method)))(yfe||={});var _fe;(n=>(n.method="workspace/_roslyn_projectNeedsRestore",n.messageDirection=Dc.MessageDirection.serverToClient,n.type=new ql.RequestType(n.method)))(_fe||={});var bfe;(n=>(n.method="copilot/_related_documents",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new Dc.ProtocolRequestType(n.method)))(bfe||={});var wfe;(n=>(n.method="sourceGeneratedDocument/_roslyn_getText",n.messageDirection=Dc.MessageDirection.clientToServer,n.type=new ql.RequestType(n.method)))(wfe||={});var Sfe;(n=>(n.method="workspace/refreshSourceGeneratedDocument",n.messageDirection=Dc.MessageDirection.serverToClient,n.type=new ql.NotificationType(n.method)))(Sfe||={});var y5=class{constructor(e,t){this.server=e;this.outputChannel=t}async getWorkspaceDebugInformation(e){if(!this.server.isRunning())return;let t={workspacePath:Do.serialize(e)},n;try{n=await this.server.sendRequest(ofe.type,t,new uVe.CancellationTokenSource().token)}catch(o){this.outputChannel.error("Failed to get debug configuration",o);return}return await s8(n,async o=>{let s=AU(o.projectPath),a=await LU(o.projectPath);return{projectPath:o.projectPath,outputPath:o.outputPath,projectName:o.projectName,targetsDotnetCore:o.targetsDotnetCore,isExe:o.isExe,isWebProject:s,isBlazorWebAssemblyHosted:NU(o.isExe,s,a,o.targetsDotnetCore),isBlazorWebAssemblyStandalone:a,solutionPath:o.solutionPath}})}};var I5e=ye(aT()),Am=ye(require("vscode"));var zk=ye(mme());var Eh=ye(mme()),E_=class{static solutionSnapshotProviderRegistration=Object.freeze(new Eh.ServiceJsonRpcDescriptor(Eh.ServiceMoniker.create("Microsoft.CodeAnalysis.LanguageClient.SolutionSnapshotProvider","0.1"),Eh.Formatters.MessagePack,Eh.MessageDelimiters.BigEndianInt32LengthHeader));static dotnetDebugConfigurationService=new Eh.ServiceJsonRpcDescriptor(Eh.ServiceMoniker.create("Microsoft.VisualStudio.Debugger.DotnetDebugConfigurationService","0.1"),Eh.Formatters.MessagePack,Eh.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3});static csharpExtensionBuildResultService=new Eh.ServiceJsonRpcDescriptor(Eh.ServiceMoniker.create("Microsoft.VisualStudio.CSharpExtension.BuildResultService","0.1"),Eh.Formatters.MessagePack,Eh.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3})};var gme=class extends zk.GlobalBrokeredServiceContainer{registerExternalServices(...e){let t=new zk.ServiceRegistration(zk.ServiceAudience.local,!1);this.register(e.map(n=>({moniker:n,registration:t})))}},OG;function vme(){return OG||(OG=new gme,OG.registerExternalServices(E_.dotnetDebugConfigurationService.moniker)),OG}function x5e(){return vme().getFullAccessServiceBroker()}var Uk=class extends Error{},IG=class extends Error{constructor(){super()}},Wq=class extends Error{},kG=class extends Error{},O5e="${workspaceFolder}";function i$t(r,e){if(r.startsWith(O5e)){let t=r.substring(O5e.length);t.startsWith("/")?e=e.replace(/[\\/]+/g,"/"):e=e.replace(/[\\/]+/g,"\\"),r=e+t}return r}var AG=class r{constructor(e,t){this.workspaceDebugInfoProvider=e;this.dotnetWorkspaceConfigurationProvider=t}static dotnetType="dotnet";async resolveDebugConfiguration(e,t,n){if(t.type===void 0)return t;if(t.request!=="launch")throw t.request?new Error(Am.l10n.t("'{0}' request is not supported for the '{1}' configuration.",t.request,r.dotnetType)):new Error(Am.l10n.t("'{0}' was not set in the debug configuration.","request"));let i=t.projectPath;if(e){i&&(i=i$t(i,e.uri.fsPath));let o=await x5e()?.getProxy(E_.dotnetDebugConfigurationService);try{if(o){let s=await o.resolveDebugConfigurationWithLaunchConfigurationService(i,t,n);return this.resolveDotnetDebugConfigurationServiceResult(i,s)}else throw new kG}catch(s){if(s instanceof kG){if(!i)throw new Uk(Am.l10n.t("'{0}' was not provided in the debug configuration.","projectPath"));return await this.resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,i)}else{if(s instanceof IG)return;throw s}}finally{o?.dispose()}}else throw new Error(Am.l10n.t("Can not find an opened workspace folder. Please open a folder before starting to debug with a '{0}' configuration'.",r.dotnetType))}resolveDotnetDebugConfigurationServiceResult(e,t){if(t.error){let i=t.error;switch(i.kind){case"launchCancelled":throw new IG;case"internalError":case"userError":throw new Uk(i.message);default:throw new Wq(`Unexpected error kind: '${i.kind}'`)}}let n=t.configurations;if(n.length==0)throw e?new Uk(Am.l10n.t("No launchable target found for '{0}'",e)):new Uk(Am.l10n.t("No launchable target found."));if(n.length==1)return n[0];if(n.length===2){let i=Am.debug.onDidStartDebugSession(async o=>{o.name===n[0].name&&(i.dispose(),await Am.debug.startDebugging(o.workspaceFolder,n[1],o))});return n[0]}else throw n.length>2?new Wq("Multiple launch targets (>2) is not yet supported."):new Wq("Unexpected configuration array from IDotnetDebugConfigurationServiceResult.")}async resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,t){let n=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(e.uri);if(!n)throw new Error(Am.l10n.t("Cannot resolve .NET debug configurations. The server is still initializing or has exited unexpectedly."));for(let i=0;i<n.length;i++){let o=n[i].projectPath.replace(/[\\/]+/g,"/");if(t.replace(/[\\/]+/g,"/")==o){let a=new hD(n,e);if(a.hasExecutableProjects()){await a.selectStartupProject(i),await I5e.ensureDir(a.vscodeFolder);let c=await SM(a);await CM(a,c);let u=a.computeProgramLaunchType(),l=a.createLaunchJsonConfigurationsArray(u,!0);if(l.length===1)return l[0];throw new Error(Am.l10n.t("Unable to determine a configuration for '{0}'. Please generate C# debug assets instead.",t))}else throw new Error(Am.l10n.t("'{0}' is not an executable project.",t))}}throw new Error(Am.l10n.t("Unable to determine debug settings for project '{0}'",t))}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){return this.dotnetWorkspaceConfigurationProvider.resolveDebugConfigurationWithSubstitutedVariables(e,t,n)}};function k5e(r,e,t,n,i){let o=new y5(e,i),s=t.onServerStateChange(async c=>{c.state===3&&(Uc()||await b$(r,o))});r.subscriptions.push(s);let a=new sO(o,n,i);r.subscriptions.push($q.debug.registerDebugConfigurationProvider("dotnet",new AG(o,a))),r.subscriptions.push($q.debug.registerDebugConfigurationProvider("coreclr",a)),r.subscriptions.push($q.commands.registerCommand("dotnet.generateAssets",async c=>w$(o,c)))}var L5e=ye(require("fs")),NG=ye(require("path")),jl=ye(require("vscode")),N5e=ye(US());function M5e(r,e){if(Uc())return;let t=jl.window.createOutputChannel(jl.l10n.t(".NET Test Log"));r.subscriptions.push(jl.commands.registerCommand("dotnet.test.run",async n=>F5e(n,e,t))),r.subscriptions.push(jl.commands.registerCommand("dotnet.test.runTestsInContext",async()=>A5e(!1,e,t))),r.subscriptions.push(jl.commands.registerCommand("dotnet.test.debugTestsInContext",async()=>A5e(!0,e,t)))}async function A5e(r,e,t){let n=jl.window.activeTextEditor;if(!n)throw new Error("No active editor");let i={start:n.selection.active,end:n.selection.active},s={textDocument:N5e.TextDocumentIdentifier.create(Do.serialize(n.document.uri)),range:i,attachDebugger:r};return F5e(s,e,t)}var LG=!1;async function F5e(r,e,t){if(LG){Wi(jl,jl.l10n.t("Test run already in progress"));return}r.runSettingsPath=o$t(r.textDocument.uri,t),LG=!0,t.show(!0);let n;return await jl.window.withProgress({location:jl.ProgressLocation.Notification,title:"Dotnet Test",cancellable:!0},async(i,o)=>{let s=0,a=u=>{if(u.message&&t.appendLine(u.message),u.progress){let l=u.progress.totalTests,d=u.progress.testsPassed+u.progress.testsFailed+u.progress.testsSkipped,f=(d-s)/l*100;i.report({message:u.stage,increment:f}),s=d,n=u.progress}else i.report({message:u.stage})};i.report({message:"Saving files..."}),await jl.workspace.saveAll(!1),i.report({message:"Requesting server..."}),await e.sendRequestWithProgress(dfe.type,r,async u=>{a(u)},o).then(u=>{u.forEach(l=>{a(l)})},u=>{t.appendLine(u)})}).then(()=>{LG=!1},()=>{LG=!1}),n}function o$t(r,e){let t=us.runSettingsPath;if(t.length===0)return;let n=t;if(!NG.isAbsolute(t)){let i=jl.workspace.getWorkspaceFolder(jl.Uri.parse(r));if(i===void 0){e.appendLine(`Warning: Unable to find workspace folder for ${r}, cannot resolve run settings path ${t}.`);return}n=NG.join(i.uri.fsPath,t)}if(!L5e.existsSync(n)){e.appendLine(`Warning: Unable to find run settings file at ${n}.`);return}return n}var Bk=ye(require("vscode"));function q5e(r){return A$(r,{getRelevantOptions:()=>({changedCommonOptions:Dj,changedLanguageServerOptions:lSe,changedOmnisharpOptions:[]}),handleOptionChanges(n){s$t(n)}})}function s$t(r){if(r.changedCommonOptions.length==0&&r.changedLanguageServerOptions.length==0)return;let e={title:Bk.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};if(r.changedCommonOptions.find(n=>n==="useOmnisharpServer")){ba(Bk,Bk.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),e);return}let t=Bk.l10n.t("C# configuration has changed. Would you like to reload the window to apply your changes?");ba(Bk,t,e)}var uy=ye(require("vscode"));var j5e=ye(nW());function z5e(r,e,t){r.subscriptions.push(uy.commands.registerCommand("roslyn.client.fixAllCodeAction",async n=>a$t(e,n,t)))}async function yme(r,e,t){if(!r.FixAllFlavors)throw new Error(`FixAllFlavors is missing from data ${JSON.stringify(r)}`);let n=await uy.window.showQuickPick(r.FixAllFlavors,{placeHolder:uy.l10n.t("Pick a fix all scope")});await uy.window.withProgress({location:uy.ProgressLocation.Notification,title:uy.l10n.t("Fix All Code Action"),cancellable:!0},async(i,o)=>{if(n){let s={title:r.UniqueIdentifier,data:r,scope:n},a=await e.sendRequest(gfe.type,s,o);if(a.edit){let l=await(0,j5e.createConverter)(d=>Do.deserialize(d),!0,!0,!0).asWorkspaceEdit(a.edit);if(!await uy.workspace.applyEdit(l)){let d="[roslyn.client.fixAllCodeAction]",f="Failed to make a fix all edit for completion.";throw t.show(),t.error(`${d} ${f}`),new Error("Tried to insert multiple code action edits, but an error occurred.")}}}})}async function a$t(r,e,t){e&&await yme(e,r,t)}var $g=ye(require("vscode")),U5e=ye(an()),H5e=ye(nW());function B5e(r,e,t){r.subscriptions.push($g.commands.registerCommand("roslyn.client.nestedCodeAction",async n=>c$t(e,n,t)))}async function c$t(r,e,t){if(e){let n=e,i=n.NestedCodeActions;if(i.length>0){let o=u$t(i),s=await $g.window.showQuickPick(o,{placeHolder:$g.l10n.t(n.UniqueIdentifier),ignoreFocusOut:!0});if(s){let a=s.codeAction;if(!a)return;if(a.data.FixAllFlavors){await yme(a.data,r,t);return}await $g.window.withProgress({location:$g.ProgressLocation.Notification,title:$g.l10n.t("Nested Code Action"),cancellable:!0},async(c,u)=>{let l={title:a.title,data:a.data},d=await r.sendRequest(U5e.CodeActionResolveRequest.type,l,u);if(!d.edit)throw t.show(),t.error("Failed to make an edit for completion."),new Error("Tried to retrieve a code action edit, but an error occurred.");let _=await(0,H5e.createConverter)(D=>Do.deserialize(D),!0,!0,!0).asWorkspaceEdit(d.edit);if(!await $g.workspace.applyEdit(_)){let D="[roslyn.client.nestedCodeAction]",x="Failed to make am edit for completion.";throw t.show(),t.error(`${D} ${x}`),new Error("Tried to insert code action edit, but an error occurred.")}})}}}}function u$t(r){return r.map(e=>{let t=e.data.CodeActionPath,n=e.data.FixAllFlavors;if(t.length===1)return t;let i=t.slice(1).join(" -> "),o=$g.l10n.t("Fix All: ");return{label:n?`${o}${i}`:i,codeAction:e}})}var hl=ye(require("vscode"));var W5e=ye(require("path"));var MG=!1;function $5e(r,e){if(Uc())return;let t=hl.window.createOutputChannel(hl.l10n.t(".NET NuGet Restore"));r.subscriptions.push(hl.commands.registerCommand("dotnet.restore.project",async n=>l$t(e,t))),r.subscriptions.push(hl.commands.registerCommand("dotnet.restore.all",async()=>_me(e,t,[],!0))),e.registerOnRequest(_fe.type,async n=>{await _me(e,t,n.projectFilePaths,!1)})}async function l$t(r,e){let t;try{t=await r.sendRequest0(yfe.type,new hl.CancellationTokenSource().token)}catch(o){if(o instanceof hl.CancellationError)return;throw o}let n=t.map(o=>{let s=W5e.default.basename(o);return{label:hl.l10n.t("Restore {0}",s),description:o}}),i=await hl.window.showQuickPick(n);i&&await _me(r,e,[i.description],!0)}async function _me(r,e,t,n){if(MG){Wi(hl,hl.l10n.t("Restore already in progress"));return}MG=!0,n&&e.show(!0);let i={projectFilePaths:t};await hl.window.withProgress({location:hl.ProgressLocation.Notification,title:hl.l10n.t("Restore"),cancellable:!0},async(o,s)=>{let a=u=>{u.message&&e.appendLine(u.message),o.report({message:u.stage})};o.report({message:hl.l10n.t("Sending request")}),await r.sendRequestWithProgress(vfe.type,i,async u=>a(u),s).then(u=>u.forEach(l=>a(l)),u=>e.appendLine(u))}).then(()=>{MG=!1},()=>{MG=!1})}var RC=ye(require("vscode"));var V5e=ye(an());function G5e(r,e){r.subscriptions.push(RC.workspace.registerTextDocumentContentProvider("roslyn-source-generated",new bme(e)))}var bme=class{constructor(e){this.languageServer=e;e.registerOnNotification(Sfe.method,async()=>{this._openedDocuments.forEach(async(t,n)=>{await this.enqueueDocumentUpdateAsync(n,this._cancellationSource.token),this._onDidChangeEmitter.fire(n)})}),RC.workspace.onDidCloseTextDocument(t=>{this._openedDocuments.get(t.uri)!==void 0&&this._openedDocuments.delete(t.uri)})}_onDidChangeEmitter=new RC.EventEmitter;_openedDocuments=new Map;_updateQueue;_cancellationSource=new RC.CancellationTokenSource;onDidChange=this._onDidChangeEmitter.event;async provideTextDocumentContent(e,t){let n=this._openedDocuments.get(e);return n||(n=await this.enqueueDocumentUpdateAsync(e,t)),n.text??RC.l10n.t("Generated document not found")}async enqueueDocumentUpdateAsync(e,t){return this._updateQueue?this._updateQueue=this._updateQueue.then(async()=>await this.updateDocumentAsync(e,t)):this._updateQueue=this.updateDocumentAsync(e,t),await this._updateQueue}async updateDocumentAsync(e,t){let n=this._openedDocuments.get(e),i=await this.languageServer.sendRequest(wfe.type,{textDocument:V5e.TextDocumentIdentifier.create(Do.serialize(e)),resultId:n?.resultId},t);return!n||i.resultId!==n?.resultId?(this._openedDocuments.set(e,i),i):n}dispose(){this._cancellationSource.cancel()}};var Vq=ye(require("vscode")),J5e=ye(require("crypto"));var K5e="dotnet.server.suppressMiscellaneousFilesToasts",Y5e=new Set;function X5e(r,e){e._projectContextService.onActiveFileContextChanged(t=>{if(t.languageId!=="csharp"||!t.isVerified||!t.context._vs_is_miscellaneous||e.state!==3||ls.suppressMiscellaneousFilesToasts||r.workspaceState.get(K5e,!1))return;let n=d$t(t.uri.toString(!0));if(Y5e.has(n))return;Y5e.add(n);let i=Vq.l10n.t("The active document is not part of the open workspace. Not all language features will be available."),o=Vq.l10n.t("Dismiss"),s={title:Vq.l10n.t("Do not show for this workspace"),action:async()=>{r.workspaceState.update(K5e,!0)}};up(Vq,i,o,s)})}function d$t(r){return J5e.createHash("sha256").update(r).digest("hex")}var cw=ye(require("vscode"));function FG(...r){return r.reduce((e,t)=>e.concat(t),[])}var qG=class{static createStatusItem(e,t){let n=FG(ls.documentSelector),i={command:"dotnet.openSolution",title:cw.l10n.t("Open solution")},o={command:"dotnet.restartServer",title:cw.l10n.t("Restart server")},s=cw.languages.createLanguageStatusItem("csharp.workspaceStatus",n);s.name=cw.l10n.t("C# Workspace Status"),s.severity=cw.LanguageStatusSeverity.Error,s.command=i,e.subscriptions.push(s),t.onServerStateChange(a=>{s.text=a.workspaceLabel,s.busy=a.state===2,s.severity=a.state===0?cw.LanguageStatusSeverity.Error:cw.LanguageStatusSeverity.Information,s.command=a.state===0?o:i})}};var R_=ye(require("vscode"));var jG=class{static createStatusItem(e,t){let n=FG(ls.documentSelector,ps.documentSelector),i=t._projectContextService,o=R_.languages.createLanguageStatusItem("csharp.projectContextStatus",n);o.name=R_.l10n.t("C# Project Context Status"),o.detail=R_.l10n.t("Active File Context"),e.subscriptions.push(o),i.onActiveFileContextChanged(s=>{o.text=s.context._vs_label,t.state===3?o.severity=s.context._vs_is_miscellaneous&&s.isVerified?R_.LanguageStatusSeverity.Warning:R_.LanguageStatusSeverity.Information:o.severity=R_.LanguageStatusSeverity.Information,o.detail=s.context._vs_is_miscellaneous?R_.l10n.t("The active document is not part of the open workspace. Not all language features will be available."):R_.l10n.t("Active File Context")}),i.refresh().catch(s=>{throw new Error(`Error refreshing project context status ${s}`)})}};var vn=ye(require("vscode")),fR=ye(require("path")),Eme=ye(require("child_process"));qI();var TGe=ye(require("net")),Za=ye(US());var iGe=ye(require("vscode"));var Q5e=ye(require("node:assert"));function Z5e(r){let e=r.indexOf("|");if(e==-1||r.substring(0,e)=="csharp"){let t=r.lastIndexOf(".");(0,Q5e.default)(t!==-1,`There is no . in ${r}.`);let n=r.substring(t+1),i=e==-1?0:e+1,o=r.substring(i,t),a=f$t(n,["dotnet","csharp"]),c=a==""?n:n.substring(a.length+1),u=wme(o,"_"),l=wme(c,"_");return a==""?u.concat(".",l):wme(a,"_").concat(".",u,".",l)}return null}function f$t(r,e){let t="";for(let n of e)if(r.startsWith(n)){t=n;break}return t}function wme(r,e){let t=r.split(e).map(o=>o.toLowerCase());if(t.length<=1)return r.toLowerCase();let n=t[0],i=t.slice(1).map(h$t);return n.concat(...i)}function h$t(r){return r.charAt(0).toUpperCase()+r.substring(1)}var tGe=require("vscode"),eGe=new Map([["codeStyle.formatting.indentationAndSpacing.tabWidth",nGe],["codeStyle.formatting.indentationAndSpacing.indentSize",p$t],["codeStyle.formatting.indentationAndSpacing.indentStyle",m$t],["codeStyle.formatting.newLine.endOfLine",g$t],["codeStyle.formatting.newLine.insertFinalNewline",v$t]]);function rGe(r){if(!eGe.has(r))return;let e=eGe.get(r),t=tGe.workspace.getConfiguration("",{languageId:"csharp"});return e(t)}function nGe(r){return Gq(r,"editor.tabSize")}function p$t(r){let e=Gq(r,"editor.indentSize");return e=="tabSize"?nGe(r):e}function m$t(r){return Gq(r,"editor.insertSpaces")?"space":"tab"}function g$t(r){let e=Gq(r,"files.eol");return e===`
`?"lf":e==`\r
`?"crlf":e}function v$t(r){return Gq(r,"files.insertFinalNewline")}function Gq(r,e){let t=r.get(e);if(t===void 0)throw new Error(`Can't read ${e} from the client.`);return t}function oGe(r){let e=[],t=iGe.workspace.getConfiguration();for(let n of r.items){let i=n.section;if(i===void 0||n.scopeUri!==void 0){e.push(null);continue}let o=Z5e(i);if(o==null){e.push(null);continue}let s=t.get(o);if(s!==void 0){e.push(s);continue}if(s=rGe(o),s!==void 0){e.push(s);continue}e.push(null)}return e}var zG=class{constructor(e){this.Id=e}};var Rme=require("crypto");var sGe=ye(US());var UG=class extends sGe.LanguageClient{_disposables;constructor(e,t,n,i,o){super(e,t,n,i,o),this._disposables=new po}async dispose(e){return this._disposables.dispose(),super.dispose(e)}handleFailedRequest(e,t,n,i,o){return ls.suppressLspErrorToasts?super.handleFailedRequest(e,t,n,i,!1):super.handleFailedRequest(e,t,n,i,o)}addDisposable(e){this._disposables.add(e)}};var Sme=ye(require("vscode")),Cme=ye(an());function aGe(r){r.onNotification(lfe.type,async e=>{let t=e.commands.map(n=>({title:n.title,command:n.command,arguments:n.arguments}));switch(e.messageType){case Cme.MessageType.Error:{Wi(Sme,e.message,...t);break}case Cme.MessageType.Warning:{up(Sme,e.message,...t);break}default:{ba(Sme,e.message,...t);break}}})}var Bu=ye(require("vscode")),cGe=ye(US());function uGe(r,e){let t=new Bu.CancellationTokenSource;e.getFeature("textDocument/didChange").onNotificationSent(async n=>{let i=n.params;if(i.contentChanges.length>1||i.contentChanges.length===0)return;let o=i.contentChanges[0];if(!("range"in o))return;let s=e.protocol2CodeConverter.asRange(o.range);if(!s.isEmpty||!s.isSingleLine)return;let a=e.protocol2CodeConverter.asUri(i.textDocument.uri),c=await Bu.workspace.openTextDocument(a),d=r.getOnAutoInsertFeature()?.getOptions(c)?._vs_triggerCharacters;if(d===void 0)return;let f=o.text.replace(/[^\S\n]+/g,"");if(!d.includes(f))return;let p=s.end.character-s.start.character,_=s.start.translate(0,o.text.length-p);t.cancel(),t=new Bu.CancellationTokenSource;try{await y$t(_,f,i.textDocument,a,r,t.token)}catch(D){if(D instanceof Bu.CancellationError)return;throw D}})}async function y$t(r,e,t,n,i,o){let s=_$t(),a={_vs_textDocument:t,_vs_position:r,_vs_ch:e,_vs_options:s},c=await i.sendRequest(cq.type,a,o);if(c){let u=c._vs_textEdit,l=new Bu.Position(u.range.start.line,u.range.start.character),d=new Bu.Position(u.range.end.line,u.range.end.character),f=new Bu.SnippetString(u.newText),p=Bu,_=[new p.SnippetTextEdit(new Bu.Range(l,d),f)],D=new Bu.WorkspaceEdit;if(D.set(n,_),!Bu.workspace.applyEdit(D))throw new Error("Tried to apply an edit but an error occurred.");c.command!==void 0&&await Bu.commands.executeCommand(c.command.command,c.command.arguments)}}function _$t(){let r=Bu.workspace.getConfiguration("editor"),e=r.get("tabSize")??4,t=r.get("insertSpaces")??!0;return cGe.FormattingOptions.create(e,t)}var BG=ye(require("vscode"));var HG=class r{_allBuildDiagnostics={};_diagnosticsReportedByBuild;constructor(e){this._diagnosticsReportedByBuild=e}clearDiagnostics(){this._diagnosticsReportedByBuild.clear()}async setBuildDiagnostics(e,t){this._allBuildDiagnostics=e;let n=new Array,i=BG.workspace.textDocuments;for(let[o,s]of Object.entries(this._allBuildDiagnostics)){let a=BG.Uri.file(o),c=i.find(l=>this.compareUri(l.uri,a)),u=c!==void 0?!c.isClosed:!1;n.push([a,r.filterDiagnosticsFromBuild(s,t,u)])}this._diagnosticsReportedByBuild.set(n)}compareUri(e,t){return e.fsPath.localeCompare(t.fsPath)===0}async _onFileOpened(e,t){let n=e.uri,i=this._allBuildDiagnostics[n.fsPath];if(i){let o=r.filterDiagnosticsFromBuild(i,t,!0);this._diagnosticsReportedByBuild.set(n,o)}}static filterDiagnosticsFromBuild(e,t,n){let i=ls.analyzerDiagnosticScope,o=ls.compilerDiagnosticScope;if(i==="none"&&o==="none")return e;let s=[],a=e.filter(u=>r.isProjectSystemDiagnostic(u));s.push(...a);let c=e.filter(u=>r.isBuildOnlyDiagnostic(t,u));if(s.push(...c),i==="none"||i==="openFiles"&&!n){let u=e.filter(l=>r.isAnalyzerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}if(o==="none"||o==="openFiles"&&!n){let u=e.filter(l=>r.isCompilerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}return s}static isBuildOnlyDiagnostic(e,t){return e.find(n=>n===t.code)!==void 0}static isCompilerDiagnostic(e){return e.code?e.code.toString().match("[cC][sS][0-9]{4}")!==null:!1}static isAnalyzerDiagnostic(e){return e.code?!this.isCompilerDiagnostic(e):!1}static isProjectSystemDiagnostic(e){return e.code?e.code.toString().startsWith("NETSDK"):!1}};var lGe=ye(require("fs")),Tme=ye(require("path")),dGe={roslynDevKit:{defaultFolderName:".roslynDevKit",optionName:"roslynDevKit",componentDllPaths:["Microsoft.VisualStudio.LanguageServices.DevKit.dll"]},xamlTools:{defaultFolderName:".xamlTools",optionName:"xamlTools",componentDllPaths:["Microsoft.VisualStudio.DesignTools.CodeAnalysis.dll","Microsoft.VisualStudio.DesignTools.CodeAnalysis.Diagnostics.dll"]},razorDevKit:{defaultFolderName:".razorDevKit",optionName:"razorDevKit",componentDllPaths:["Microsoft.VisualStudio.DevKit.Razor.dll"]},razorExtension:{defaultFolderName:".razorExtension",optionName:"razorExtension",componentDllPaths:["Microsoft.VisualStudioCode.RazorExtension.dll"]}};function WG(r,e){let t=dGe[r],n=hGe(t,e),i=t.componentDllPaths.map(o=>Tme.join(n,o));for(let o of i)if(!lGe.existsSync(o))throw new Error(`Component DLL not found: ${o}`);return i}function fGe(r,e){let t=dGe[r];return hGe(t,e)}function hGe(r,e){if(e?.componentPaths){let t=e.componentPaths[r.optionName];if(t)return t}return Tme.join(__dirname,"..",r.defaultFolderName)}var Kq=require("vscode"),pGe=ye(US()),mGe=ye(an());qI();var $G=class{_client;_registrations;constructor(e){this._client=e,this._registrations=new Map,this.registrationType=new mGe.ProtocolRequestType(cq.method)}fillInitializeParams;preInitialize;registrationType;register(e){e.registerOptions.documentSelector&&this._registrations.set(e.id,e)}unregister(e){this._registrations.get(e)!==void 0&&this._registrations.delete(e)}clear(){this._registrations.clear()}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of Kq.workspace.textDocuments)if(Kq.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}fillClientCapabilities(e){let t=(0,pGe.ensure)(e,"textDocument");t._vs_onAutoInsert===void 0&&(t._vs_onAutoInsert={});let n=t._vs_onAutoInsert;n.dynamicRegistration=!0}initialize(e,t){let n=e,i=this.getRegistrationOptions(t,n._vs_onAutoInsertProvider);i&&this.register({id:ED(),registerOptions:i})}getOptions(e){for(let t of this._registrations.values()){let n=t.registerOptions.documentSelector;if(n!==null&&Kq.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.registerOptions}}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}getRegistrationOptions(e,t){if(!(!e||!t))return Object.assign({},t,{documentSelector:e})}};var uw=ye(require("vscode"));var gGe=ye(an());var b$t=2*1e3,Yq,VG,GG=class{constructor(e,t){this._languageServer=e;t.onServerStateChange(async n=>{(n.state===0||n.state===3)&&await this.refresh()}),uw.window.onDidChangeActiveTextEditor(async n=>this.refresh())}_contextChangeEmitter=new uw.EventEmitter;_source=new uw.CancellationTokenSource;_emptyProjectContext={_vs_id:"",_vs_kind:"",_vs_label:"",_vs_is_miscellaneous:!1};get onActiveFileContextChanged(){return this._contextChangeEmitter.event}async refresh(){let e=uw.window.activeTextEditor,t=e?.document?.languageId;if(t!=="csharp")return;this._source.cancel(),this._source=new uw.CancellationTokenSource;let n=e.document.uri,i=!1;if(Yq&&(clearTimeout(Yq),Yq=void 0),VG&&(n.toString()===VG.toString()&&(i=!0),VG=void 0),!this._languageServer.isRunning()){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let o=await this.getProjectContexts(n,this._source.token);if(!o){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let s=o._vs_projectContexts[o._vs_defaultIndex],a=!s._vs_is_miscellaneous||i;if(this._contextChangeEmitter.fire({languageId:t,uri:n,context:s,isVerified:a}),s._vs_is_miscellaneous&&!i){Yq=setTimeout(()=>{Yq=void 0,VG=n,this.refresh().catch(c=>{throw new Error(`Error refreshing project context status ${c}`)})},b$t);return}}async getProjectContexts(e,t){let n=Do.serialize(e),i=gGe.TextDocumentIdentifier.create(n);try{return await this._languageServer.sendRequest(afe.type,{_vs_textDocument:i},t)}catch(o){if(o instanceof uw.CancellationError)return;throw o}}};var vGe=require("os");function yGe(r){let e={};return process.env.ROSLYN_DOTNET_EventPipeOutputPath&&(e={DOTNET_EnableEventPipe:1,DOTNET_EventPipeConfig:"Microsoft-Windows-DotNETRuntime:0x1F000080018:5",DOTNET_EventPipeOutputPath:process.env.ROSLYN_DOTNET_EventPipeOutputPath,DOTNET_ReadyToRun:0,DOTNET_TieredCompilation:1,DOTNET_TC_CallCounting:0,DOTNET_TC_QuickJitForLoops:1,DOTNET_JitCollect64BitCounts:1},r.trace(`Profiling enabled with:${vGe.EOL}${JSON.stringify(e)}`)),e}function KG(r){return typeof r=="string"||r instanceof String}var PC=ye(require("vscode")),Wk=ye(an());var _Ge=ye(require("path")),bGe=ye(aT()),Dme="@microsoft/visualstudio.copilot.roslyn.languageserver",wGe="Microsoft.VisualStudio.Copilot.Roslyn.LanguageServer.dll",w$t="capabilities.json",SGe="roslyn/resolveContext",S$t="1",C$t=new Wk.RequestType(SGe,Wk.ParameterStructures.auto);function T$t(r){let e;if(PC.window.activeTextEditor?.document.uri.toString()===r.documentContext.uri?e=PC.window.activeTextEditor.document:e=PC.workspace.textDocuments.find(s=>s.uri.toString()===r.documentContext.uri),e===void 0)return;let t=e.positionAt(r.documentContext.offset),n=PC.Uri.parse(r.documentContext.uri);return{documentContext:{textDocument:Wk.TextDocumentIdentifier.create(n.fsPath),position:t},completionId:r.completionId,timeBudget:r.timeBudget}}function CGe(r,e,t){let n=Uc();n&&n.activate().then(async i=>{try{let o=!1,s=i.components[Dme];if(s){let l=_Ge.default.join(s,w$t);(await(0,bGe.readJsonSync)(l))?.capabilities?.find(f=>f?.method===SGe&&f?.version===S$t)&&(o=!0)}if(!o){t.debug(`Failed to find compatible version of context provider from installed version of ${Gw}.`);return}let a=PC.extensions.getExtension("github.copilot");if(!a){t.debug("Failed to find compatible version of GitHub Copilot extension installed. Skip registeration of Copilot context provider.");return}let u=await(await a.activate()).getContextProviderAPI("v1");if(!u){t.debug("Incompatible GitHub Copilot extension installed. Skip registeration of C# context providers.");return}r.subscriptions.push(u.registerContextProvider({id:Tg,selector:[{language:"csharp"}],resolver:{resolve:async(l,d)=>{let f=T$t(l);if(!f)return[];let p=await e.sendRequest(C$t,f,d);return t.trace(`Copilot context provider resolved ${p.length} items`),p}}})),t.debug("Registration of C# context provider for GitHub Copilot extension succeeded.")}catch(o){t.error("Failed to register Copilot context providers",o)}})}var Jq,YG=class r{constructor(e,t,n,i,o){this._languageClient=e;this._platformInfo=t;this._context=n;this._languageServerEvents=i;this._channel=o;this.registerSetTrace(),this.registerSendOpenSolution(),this.registerProjectInitialization(),this.registerServerStateChanged(),this.registerServerStateTracking(),this.registerReportProjectConfiguration(),this.registerExtensionsChanged(),this.registerTelemetryChanged();let s=vn.languages.createDiagnosticCollection("csharp-build");this._buildDiagnosticService=new HG(s),this.registerDocumentOpenForDiagnostics(),this._projectContextService=new GG(this,this._languageServerEvents),this.registerDynamicFileInfo(),this.registerDebuggerAttach(),aGe(this._languageClient),uGe(this,this._languageClient),this._onAutoInsertFeature=new $G(this._languageClient)}static provideRazorDynamicFileInfoMethodName="razor/provideDynamicFileInfo";static removeRazorDynamicFileInfoMethodName="razor/removeDynamicFileInfo";static encoding="utf-8";static namedPipeKeyRegex=/{"pipeName":"[^"]+"}/;static _stopTimeout=1e4;_solutionFile;_projectFiles=new Array;_onAutoInsertFeature;_buildDiagnosticService;_projectContextService;_state=0;get state(){return this._state}registerSetTrace(){this._languageClient.onDidChangeState(async e=>{e.newState===Za.State.Running&&await this.updateLogLevel()}),this._channel.onDidChangeLogLevel(async()=>{await this.updateLogLevel()})}async updateLogLevel(){if(this._languageClient.state===Za.State.Running){let e=r.GetTraceLevel(this._channel.logLevel);await this.sendNotification("roslyn/updateLogLevel",{logLevel:r.GetServerLogLevel(this._channel.logLevel)}),await this._languageClient.setTrace(e)}}registerServerStateChanged(){this._languageClient.onDidChangeState(async e=>{e.newState===Za.State.Running?this._languageServerEvents.onServerStateChangeEmitter.fire({state:1,workspaceLabel:this.workspaceDisplayName()}):e.newState===Za.State.Stopped&&this._languageServerEvents.onServerStateChangeEmitter.fire({state:0,workspaceLabel:vn.l10n.t("Server stopped")})})}registerServerStateTracking(){this._languageServerEvents.onServerStateChange(e=>{this._state=e.state})}registerSendOpenSolution(){this._languageClient.onDidChangeState(async e=>{e.newState===Za.State.Running&&(this._solutionFile||this._projectFiles.length>0?await this.sendOpenSolutionAndProjectsNotifications():await this.openDefaultSolutionOrProjects(),await this.sendOrSubscribeForServiceBrokerConnection())})}registerProjectInitialization(){this._languageClient.onNotification(cfe.type,()=>{this._languageServerEvents.onServerStateChangeEmitter.fire({state:3,workspaceLabel:this.workspaceDisplayName()})})}registerReportProjectConfiguration(){let e;this._languageClient.onNotification(ufe.type,async t=>{e||(e=await sm([])),O$(t,this._platformInfo,e,this._solutionFile?.fsPath,!0)})}static async initializeAsync(e,t,n,i,o,s,a){let c=Uc();c&&await c.activate();let u=async()=>await this.startServer(e,t,n,i,s),d={documentSelector:ls.documentSelector,synchronize:{fileEvents:[]},traceOutputChannel:a,outputChannel:s,uriConverters:{code2Protocol:Do.serialize,protocol2Code:Do.deserialize},middleware:{provideDiagnostics:v6,provideWorkspaceDiagnostics:y6,workspace:{configuration:_=>oGe(_)}}},f=new UG("microsoft-codeanalysis-languageserver","Microsoft.CodeAnalysis.LanguageServer",u,d);f.registerProposedFeatures();let p=new r(f,e,n,o,s);return f.registerFeature(p._onAutoInsertFeature),await f.start(),p}async stop(){await this._languageClient.stop(r._stopTimeout)}async restart(){await this._languageClient.restart()}workspaceDisplayName(){return this._solutionFile!==void 0?fR.basename(this._solutionFile.fsPath):this._projectFiles?.length>0?vn.l10n.t("Workspace projects"):""}isRunning(){return this._languageClient.isRunning()}async sendRequest(e,t,n){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t,n)}catch(i){throw this.convertServerError(e.method,i)}}async sendRequest0(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t)}catch(n){throw this.convertServerError(e.method,n)}}async sendRequestWithProgress(e,t,n,i){let o=ED();t.partialResultToken=o;let s=this._languageClient.onProgress(e,o,async a=>{await n(a)});try{return await this._languageClient.sendRequest(e,t,i)}catch(a){throw this.convertServerError(e.method,a)}finally{s.dispose()}}async sendNotification(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");return await this._languageClient.sendNotification(e,t)}registerOnRequest(e,t){this._languageClient.addDisposable(this._languageClient.onRequest(e,t))}registerOnNotification(e,t){this._languageClient.addDisposable(this._languageClient.onNotification(e,t))}async registerSolutionSnapshot(e){let t=await this.sendRequest0(sfe.type,e);if(t)return new zG(t.id);throw new Error("Unable to retrieve current solution.")}async openSolution(e){this._solutionFile=e,this._projectFiles=[],await this.sendOpenSolutionAndProjectsNotifications()}async openProjects(e){this._solutionFile=void 0,this._projectFiles=e,await this.sendOpenSolutionAndProjectsNotifications()}async sendOpenSolutionAndProjectsNotifications(){if(this._languageClient.isRunning()){if(this._solutionFile!==void 0){let e=this._languageClient.clientOptions.uriConverters.code2Protocol(this._solutionFile);await this._languageClient.sendNotification(hfe.type,{solution:e})}else if(this._projectFiles.length>0){let e=this._projectFiles.map(t=>this._languageClient.clientOptions.uriConverters.code2Protocol(t));await this._languageClient.sendNotification(pfe.type,{projects:e})}else return;this._languageServerEvents.onServerStateChangeEmitter.fire({state:2,workspaceLabel:this.workspaceDisplayName()})}}convertServerError(e,t){let n;return t instanceof Za.ResponseError&&t.code===-32800?n=new vn.CancellationError:t instanceof Error?n=t:typeof t=="string"?n=new Error(t):n=new Error(`Unknown error: ${t.toString()}`),n instanceof vn.CancellationError||this._channel.error(`Error making ${e} request`,n),n}async openDefaultSolutionOrProjects(){let e=us.defaultSolution;if(!Jq&&e!=="disable"&&this._solutionFile===void 0)if(e!=="")await this.openSolution(vn.Uri.file(e));else{let t=await vn.workspace.findFiles("**/*.sln","**/node_modules/**",2);if(t){if(t.length===1)await this.openSolution(t[0]);else if(t.length>1){let n=await vn.window.showInformationMessage(vn.l10n.t("Your workspace has multiple Visual Studio Solution files; please select one to get full IntelliSense."),{title:vn.l10n.t("Choose"),action:"open"},{title:vn.l10n.t("Choose and set default"),action:"openAndSetDefault"},{title:vn.l10n.t("Do not load any"),action:"disable"});if(n)if(n.action==="disable")await vn.workspace.getConfiguration().update("dotnet.defaultSolution","disable",!1);else{let i=await vn.commands.executeCommand("dotnet.openSolution");if(n.action==="openAndSetDefault"&&i){let o=vn.workspace.asRelativePath(i);await vn.workspace.getConfiguration().update("dotnet.defaultSolution",o,!1)}}}else if(t.length===0){let n=await vn.workspace.findFiles("**/*.csproj","**/node_modules/**",qr.maxProjectResults);await this.openProjects(n)}}}}async sendOrSubscribeForServiceBrokerConnection(){let e=Uc();if(e){let t=await e.activate();if(t.hasServerProcessLoaded()){let n=await t.getBrokeredServiceServerPipeName();await this._languageClient.sendNotification("serviceBroker/connect",{pipeName:n})}else this._context.subscriptions.push(t.serverProcessLoaded(async()=>this.sendOrSubscribeForServiceBrokerConnection()))}}getOnAutoInsertFeature(){return this._onAutoInsertFeature}static async startServer(e,t,n,i,o){let s=Pme(e),a=await t.getHostExecutableInfo(),c=a.path;o.info("Dotnet path: "+c);let u=[];us.waitForDebugger&&u.push("--debug");let l=this.GetServerLogLevel(o.logLevel);l&&u.push("--logLevel",l);let d=$y.razorServerPath===""?fR.join(n.extension.extensionPath,".razor"):$y.razorServerPath;u.push("--razorSourceGenerator",fR.join(d,"Microsoft.CodeAnalysis.Razor.Compiler.dll")),u.push("--razorDesignTimePath",fR.join(d,"Targets","Microsoft.NET.Sdk.Razor.DesignTime.targets")),WG("razorExtension",ls).forEach(ee=>i.push(ee));let f=Uc();if(f){Jq=!0;let ee=vn.extensions.getExtension(Ej);if(ee){o.info("Activating C# + C# Dev Kit + C# IntelliCode...");let we=await this.getCSharpDevkitIntelliCodeExportArgs(ee,n,o);u=u.concat(we)}else o.info("Activating C# + C# Dev Kit...");await vn.commands.executeCommand("setContext","dotnet.server.activationContext","RoslynDevKit");let he=this.getCSharpDevKitExportArgs(i);u=u.concat(he),await this.setupDevKitEnvironment(a.env,f,i,o)}else o.info("Activating C# standalone..."),await vn.commands.executeCommand("setContext","dotnet.server.activationContext","Roslyn"),Jq=!1;for(let ee of i)u.push("--extension",ee);o.debug(`Starting server at ${s}`),u.push("--extensionLogDirectory",n.logUri.fsPath);let p=a.env;ls.useServerGC||(p.DOTNET_gcServer="0",o.debug("ServerGC disabled"));let _=yGe(o);p={...p,..._},o.trace(`Profiling environment variables: ${JSON.stringify(_)}`);let D,x={detached:!0,windowsHide:!0,env:p};if(s.endsWith(".dll")){let ee=[s].concat(u);o.debug(`Server arguments ${ee.join(" ")}`),D=Eme.spawn(c,ee,x)}else o.debug(`Server arguments ${u.join(" ")}`),D=Eme.spawn(s,u,x);D.stdout.on("data",ee=>{let he=KG(ee)?ee:ee.toString(r.encoding);o.info("[stdout] "+he)}),D.stderr.on("data",ee=>{let he=KG(ee)?ee:ee.toString(r.encoding);o.error("[stderr] "+he)}),D.on("exit",ee=>{o.info(`Language server process exited with ${ee}`)});let N=new Promise(ee=>{(0,Za.RAL)().timer.setTimeout(ee,ls.startTimeout)}),A=new Promise((ee,he)=>{D.on("exit",W=>{W&&W!==0&&he(new Error("Language server process exited unexpectedly"))}),new Promise(W=>{o.debug("waiting for named pipe information from server..."),D.stdout.on("data",te=>{let ae=(KG(te)?te:te.toString(r.encoding)).match(r.namedPipeKeyRegex);if(ae){let ue=JSON.parse(ae[0]);o.info("received named pipe information from server"),W(ue)}})}).then(async W=>new Promise((te,De)=>{o.debug("attempting to connect client to server...");let ae=TGe.createConnection(W.pipeName,()=>{o.info("client has connected to server"),te(ae)});ae.on("error",ue=>De(ue))})).then(ee,he)}),U;if(us.waitForDebugger?U=await A:U=await Promise.race([A,N]),U===void 0)throw new Error("Timeout. Client cound not connect to server via named pipe");return{reader:new Za.SocketMessageReader(U,r.encoding),writer:new Za.SocketMessageWriter(U,r.encoding)}}ProvideDyanmicFileInfoType=new Za.RequestType(r.provideRazorDynamicFileInfoMethodName);registerDynamicFileInfo(){this._languageClient.onRequest(this.ProvideDyanmicFileInfoType,async e=>vn.commands.executeCommand(PD.provideDynamicFileInfoCommand,e)),this._languageClient.onNotification(r.removeRazorDynamicFileInfoMethodName,async e=>vn.commands.executeCommand(PD.removeDynamicFileInfoCommand,e)),vn.commands.registerCommand(PD.dynamicFileUpdatedCommand,async e=>{this.isRunning()?await this.sendNotification("razor/dynamicFileInfoChanged",e):this._channel.warn("Tried to send razor/dynamicFileInfoChanged while server is not running")})}WaitForAttachCompleteAsync(e){return new Promise(t=>{let n=null,i=null,o=!1,s=a=>{o===!1&&(o=!0,n?.dispose(),i?.dispose(),t(a))};n=vn.debug.onDidTerminateDebugSession(a=>{a.configuration.attachRequestId===e&&s(!1)}),i=vn.debug.onDidReceiveDebugSessionCustomEvent(a=>{a.session.configuration.attachRequestId===e&&a.event==="attachComplete"&&s(!0)})})}registerDebuggerAttach(){this._languageClient.onRequest(ffe.type,async e=>{let n={...us.unitTestDebuggingOptions,name:".NET Debug Unit test",type:"coreclr",request:"attach",processId:e.processId,attachRequestId:(0,Rme.randomUUID)()},i=this.WaitForAttachCompleteAsync(n.attachRequestId),o=await vn.debug.startDebugging(void 0,n,void 0);return o?(o=await i,{didAttach:o}):{didAttach:!1}})}registerDocumentOpenForDiagnostics(){this._languageClient.addDisposable(vn.workspace.onDidOpenTextDocument(async e=>{try{let t=await this.getBuildOnlyDiagnosticIds(Za.CancellationToken.None);await this._buildDiagnosticService._onFileOpened(e,t)}catch(t){if(t instanceof vn.CancellationError)return;throw t}}))}registerExtensionsChanged(){this._languageClient.addDisposable(vn.extensions.onDidChange(async()=>{let e=Uc();if(Jq===void 0)return;let t={title:vn.l10n.t("Restart Language Server"),command:"dotnet.restartServer"};if(e&&!Jq){this._channel.info(`Detected new installation of ${Gw}`);let n=`Detected installation of ${Gw}. Would you like to relaunch the language server for added features?`;ba(vn,n,t)}}))}registerTelemetryChanged(){this._languageClient.addDisposable(vn.env.onDidChangeTelemetryEnabled(e=>{let t={title:vn.l10n.t("Restart Language Server"),command:"dotnet.restartServer"},n=vn.l10n.t("Detected change in telemetry settings. These will not take effect until the language server is restarted, would you like to restart?");ba(vn,n,t)}))}static getCSharpDevKitExportArgs(e){let t=[],n=WG("roslynDevKit",ls);if(n.length>1)throw new Error("Expected only one devkit deps path");return t.push("--devKitDependencyPath",n[0]),t.push("--sessionId",D$t()),ls.enableXamlTools&&WG("xamlTools",ls).forEach(i=>e.push(i)),t}static async getCSharpDevkitIntelliCodeExportArgs(e,t,n){try{return["--starredCompletionComponentPath",(await e.activate()).components["@vsintellicode/starred-suggestions-csharp"]]}catch(i){n.error(`Activation of ${Ej} failed`,i),i instanceof Error&&i.stack&&n.info(i.stack);let o="disableIntellicodeFailedPopup";if(t.globalState.get(o)===!0)return[];let s=vn.l10n.t("IntelliCode features will not be available, {0} failed to activate.",Ej),a={title:vn.l10n.t("Go to output"),action:async()=>{n.show()}},c={title:vn.l10n.t("Suppress notification"),action:async()=>{await t.globalState.update(o,!0)}};return Wi(vn,s,a,c),[]}}static async setupDevKitEnvironment(e,t,n,i){let o=await t.activate();o.setupTelemetryEnvironmentAsync&&await o.setupTelemetryEnvironmentAsync(e);let s=o.components[Dme];if(s){let a=fR.join(s,wGe);n.push(a),i.trace(`CSharp DevKit contributes Copilot langauge server extension: ${a}`)}}static GetServerLogLevel(e){switch(e){case vn.LogLevel.Trace:return"Trace";case vn.LogLevel.Debug:return"Debug";case vn.LogLevel.Info:return"Information";case vn.LogLevel.Warning:return"Warning";case vn.LogLevel.Error:return"Error";case vn.LogLevel.Off:return"None";default:throw new Error(`Invalid log level ${e}`)}}static GetTraceLevel(e){switch(e){case vn.LogLevel.Trace:return Za.Trace.Verbose;case vn.LogLevel.Debug:return Za.Trace.Messages;case vn.LogLevel.Info:return Za.Trace.Off;case vn.LogLevel.Warning:return Za.Trace.Off;case vn.LogLevel.Error:return Za.Trace.Off;case vn.LogLevel.Off:return Za.Trace.Off;default:throw new Error(`Invalid log level ${e}`)}}async getBuildOnlyDiagnosticIds(e){if(!this.isRunning())return[];let t=await this.sendRequest0(mfe.type,e);if(t)return t.ids;throw new Error("Unable to retrieve build-only diagnostic ids for current solution.")}};function D$t(){let r=vn.env.sessionId;return r.toLowerCase()==="somevalue.sessionid"?(0,Rme.randomUUID)():r}var JG=ye(require("vscode"));var DGe=ye(an());function EGe(r,e,t){let n=JG.extensions.getExtension("github.copilot");if(!n){t.debug("Failed to find comnpatible version of GitHub Copilot extension installed. Skip registeration of Copilot related files provider.");return}n.activate().then(async i=>{try{let o={extensionId:Tg,languageId:"csharp"};r.subscriptions.push(i.registerRelatedFilesProvider(o,async(s,a,c)=>{let u=(p,_,D)=>{if(_){for(let x of _)if(x._vs_file_paths)for(let N of x._vs_file_paths){let A=JG.Uri.file(N);A.fsPath!==p.fsPath&&D.push(A)}}},l=[],d=Do.serialize(s),f=DGe.TextDocumentIdentifier.create(d);try{await e.sendRequestWithProgress(bfe.type,{_vs_textDocument:f,position:{line:0,character:0}},async p=>u(s,p,l),c)}catch(p){p instanceof Error&&t.appendLine(p.message)}return t.trace(`Copilot related files provider returned ${l.length} items`),{entries:l}})),t.debug("Registration of C# related files provider for GitHub Copilot extension succeeded.")}catch(o){t.error("Failed to register Copilot related files providers",o)}})}var ly,RGe;async function PGe(r,e,t,n,i,o){ly=n,RGe=$k.window.createOutputChannel($k.l10n.t("C# LSP Trace Logs")),i.sendTelemetryEvent("roslyn/clientInitialize");let s=new GI(e,Pme,n,r.extensionPath),a=u(),c=await YG.initializeAsync(e,s,r,a,o,ly,RGe);return E$t(r,c,o),X5e(r,c),EGe(r,c,ly),CGe(r,c,ly),cVe(r,c,s,ly),B5e(r,c,ly),z5e(r,c,ly),YBe(r,c),M5e(r,c),k5e(r,c,o,e,ly),$5e(r,c),G5e(r,c),r.subscriptions.push(q5e(t)),c;function u(){let l=$k.extensions.all.flatMap(f=>{let p=f.packageJSON.contributes?.csharpExtensionLoadPaths;return p==null?(ly.debug(`Extension ${f.id} does not contribute csharpExtensionLoadPaths`),[]):!Array.isArray(p)||p.some(_=>typeof _!="string")?(ly.warn(`Extension ${f.id} has invalid csharpExtensionLoadPaths. Expected string array, found ${p}`),[]):(p=p.map(_=>Ome.join(f.extensionPath,_)),ly.trace(`Extension ${f.id} contributes csharpExtensionLoadPaths: ${p}`),p)}),d=ls.extensionsPaths??[];return l.concat(d)}}function E$t(r,e,t){Uc()||qG.createStatusItem(r,t),jG.createStatusItem(r,e)}function Pme(r){let e=process.env.DOTNET_ROSLYN_SERVER_PATH;if(e?ly.appendLine(`Using server path override from DOTNET_ROSLYN_SERVER_PATH: ${e}`):(e=us.serverPath,e||(e=R$t(r))),!xme.existsSync(e))throw new Error(`Cannot find language server in path '${e}'`);return e}function R$t(r){let e=__dirname,t=Ome.join(e,"..",".roslyn","Microsoft.CodeAnalysis.LanguageServer"),n="";r.isWindows()?n=".exe":r.isMacOS()&&(n=".dll");let i=`${t}${n}`;return xme.existsSync(i)||(i=`${t}.dll`),i}var xGe=ye(il()),OGe=ye(an()),XG=class{constructor(e){this._serverInitialized=e}async sendRequest(e,t,n){let i=await this._serverInitialized,o=new xGe.RequestType(e.method);return await i.sendRequest(o,t,n)}async sendRequestWithProgress(e,t,n,i){let o=await this._serverInitialized,s=new OGe.ProtocolRequestType(e.method);return await o.sendRequestWithProgress(s,t,n,i)}};var QG=class{constructor(e){this._languageServerPromise=e}async registerSolutionSnapshot(e){return(await this._languageServerPromise).registerSolutionSnapshot(e)}};var IGe=ye(il()),ZG=class{constructor(e){this._languageServerPromise=e}async buildStarted(){(await this._languageServerPromise)._buildDiagnosticService.clearDiagnostics()}async reportBuildResult(e){let t=await this._languageServerPromise,n=await t.getBuildOnlyDiagnosticIds(IGe.CancellationToken.None);await t._buildDiagnosticService.setBuildDiagnostics(e,n)}};function AGe(r,e,t,n,i,o,s,a){let c=new v5;r.subscriptions.push(c);let u=g5(r,r.extension.extensionPath,n,s,e,!1),l=new Promise((D,x)=>{c.onServerStateChange(async N=>{N.state===3&&D()})}),d=PGe(r,e,t,i,o,c);oA.initializeDebugSessionHandlers(r),P$t(s,i);let f=a(d),p=new XG(d);return{initializationFinished:async()=>{await f,await u,await d,await l},profferBrokeredServices:D=>x$t(r,D,d),logDirectory:r.logUri.fsPath,determineBrowserType:ok.determineBrowserType,experimental:{sendServerRequest:async(D,x,N)=>await p.sendRequest(D,x,N),sendServerRequestWithProgress:async(D,x,N,A)=>await p.sendRequestWithProgress(D,x,N,A),languageServerEvents:c},getComponentFolder:D=>fGe(D,ls)}}function P$t(r,e){r?.activate().then(async t=>{t&&t.serviceBroker?(vme().profferServiceBroker(t.serviceBroker,[E_.dotnetDebugConfigurationService.moniker]),t.serverProcessLoaded(async()=>{await oA.onCsDevKitInitialized(await t.getBrokeredServiceServerPipeName())}),await kGe.commands.executeCommand("setContext","dotnet.debug.serviceBrokerAvailable",!0)):e.error(`'${Gw}' activated but did not return expected Exports.`)},()=>{e.error(`Failed to activate '${Gw}'`)})}function x$t(r,e,t){r.subscriptions.push(e.profferServiceFactory(E_.solutionSnapshotProviderRegistration,(n,i,o)=>new QG(t)),e.profferServiceFactory(E_.csharpExtensionBuildResultService,(n,i,o)=>new ZG(t)))}async function O$t(r){let e=process.hrtime(),t=Xq.window.createOutputChannel("C#",{log:!0});t.trace("Activating C# Extension"),$me(r.extension.extensionPath);let n=r.extension.packageJSON.contributes.debuggers[0].aiKey,i=new LGe.default(n);r.subscriptions.push(i);let o=new xj,s=new Rj(t),a=new Pj(t);o.subscribe(s.post),o.subscribe(a.post);let c;try{c=await HR.GetCurrent()}catch(he){throw o.post(new _2),he}if(!Txe(r,c))return null;await Cxe(r),await bxe(Xq);let u=bY(Xq),l=["Debugger","Razor"],d=Uc(),f=!d&&us.useOmnisharpServer;f&&l.push("OmniSharp");let p=jSe(Xq),_=f&&qr.useModernNet!==!0,D=async he=>HP(he,p,o,WP),x=await mxe(r.extension.packageJSON,r.extension.extensionPath,D,o,c,_,l),N=async he=>{let we=Promise.resolve();return x&&(we=vSe(r.extension,r,c,o,t,he)),we},A;f?A=iVe(r,c,u,p,o,t,i,N):A=AGe(r,c,u,o,t,i,d,N);let U=process.hrtime(e),ee=(U[0]*1e3+U[1]/1e6).toFixed(3);return t.trace("C# Extension activated in "+ee+"ms."),A}0&&(module.exports={activate});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

event-lite/event-lite.js:
  (**
   * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
   *
   * @copyright Yusuke Kawasaki
   * @license MIT
   * @constructor
   * @see https://github.com/kawanet/event-lite
   * @see http://kawanet.github.io/event-lite/EventLite.html
   * @example
   * var EventLite = require("event-lite");
   *
   * function MyClass() {...}             // your class
   *
   * EventLite.mixin(MyClass.prototype);  // import event methods
   *
   * var obj = new MyClass();
   * obj.on("foo", function() {...});     // add event listener
   * obj.once("bar", function() {...});   // add one-time event listener
   * obj.emit("foo");                     // dispatch event
   * obj.emit("bar");                     // dispatch another event
   * obj.off("foo");                      // remove event listener
   *)
*/
